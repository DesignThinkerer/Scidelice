<!doctype html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)https://tiddlywiki.com -->
<html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<!--~~ Raw markup for the top of the head section ~~-->

<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<meta name="application-name" content="TiddlyWiki" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.2.4" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no" />
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright (c) 2004-2007, Jeremy Ruston
Copyright (c) 2007-2022, UnaMesa Association
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the copyright holder nor the names of its
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE." />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>Learning Angular — My notes on learning the Angular Framework</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--><!--~~ Raw markup ~~-->
<link rel="alternate" type="application/rss+xml" title="Libro" href="https://Telumire.github.io/Libro/files/xml.rss"/>

</head>
<body class="tc-body">
<!--~~ Raw markup for the top of the body section ~~-->
<div class="tc-remove-when-wiki-loaded tc-splash-container">
<style scoped>
.tc-splash-container{
display:grid;
place-content:center;
position:absolute;
inset:0;
}.tc-splash-text {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 16px;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
	margin: 20px auto 0;
	width: 200px;
	text-align: center;
	color: #333333;
	fill: #333333;
}.tc-splash-text img {
	width: 150px;
	
  -webkit-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
     -moz-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
          box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);

}html body.tc-body {
	background: #ffffff;
}/*
Spinner from https://github.com/tobiasahlin/SpinKit/ by Tobias AhlinThe MIT License (MIT)Copyright (c) 2015 Tobias AhlinPermission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/.tc-splash-spinner {
	margin: 20px auto 0;
	width: 70px;
	text-align: center;
}.tc-splash-spinner > div {
	width: 18px;
	height: 18px;
	border-radius: 100%;
	display: inline-block;
	-webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
	animation: sk-bouncedelay 1.4s infinite ease-in-out both;
	background-color: #f88;
}.tc-splash-spinner .tc-splash-bounce-1 {
	-webkit-animation-delay: -0.32s;
	animation-delay: -0.32s;
	background-color: #8f8;
}.tc-splash-spinner .tc-splash-bounce-2 {
	-webkit-animation-delay: -0.16s;
	animation-delay: -0.16s;
	background-color: #88f;
}@-webkit-keyframes sk-bouncedelay {
	0%, 80%, 100% { -webkit-transform: scale(0) }
	40% { -webkit-transform: scale(1.0) }
}@keyframes sk-bouncedelay {
	0%, 80%, 100% { 
	-webkit-transform: scale(0);
	transform: scale(0);
	} 40% { 
	-webkit-transform: scale(1.0);
	transform: scale(1.0);
	}
}
</style><div class="tc-splash-spinner">
  <div class="tc-splash-bounce-1"></div>
  <div class="tc-splash-bounce-2"></div>
  <div class="tc-splash-bounce-3"></div>
</div><div class="tc-splash-text">
Learning Angular is loading
</div>
</div>
<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tc-error-form {
	font-family: sans-serif;
	color: #fff;
	z-index: 20000;
	position: fixed;
	background-color: rgb(255, 75, 75);
	border: 8px solid rgb(255, 0, 0);
	border-radius: 8px;
	width: 50%;
	margin-left: 25%;
	margin-top: 4em;
	padding: 0 2em 1em 2em;
}

.tc-error-form h1 {
	text-align: center;
}

.tc-error-prompt {
	text-align: center;
	color: #000;
}

.tc-error-message {
	overflow: auto;
	max-height: 40em;
	padding-right: 1em;
	margin: 1em 0;
	white-space: pre-line;
}

.tc-password-wrapper {
    font-family: sans-serif;
	z-index: 20000;
	position: fixed;
	text-align: center;
	width: 200px;
	top: 4em;
	left: 50%;
	margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
	padding: 16px 16px 16px 16px;
	border-radius: 8px;
}

.tc-password-wrapper {
	color: #000;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	background-color: rgb(197, 235, 183);
	border: 8px solid rgb(164, 197, 152);
}

.tc-password-wrapper form {
	text-align: left;
}

.tc-password-wrapper h1 {
	font-size: 16px;
	line-height: 20px;
	padding-bottom: 16px;
}

.tc-password-wrapper input {
	width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">


<p>This <a class="tc-tiddlylink-external" href="https://tiddlywiki.com" rel="noopener noreferrer" target="_blank">TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>$:/AltLinkTemplate</li>

<li>$:/AltLinkTemplate/EditTemplate</li>

<li>$:/AltLinkTemplate/StoryTiddlerTemplateFilter</li>

<li>$:/AltLinkTemplate/Style</li>

<li>$:/build</li>

<li>$:/Commander</li>

<li>$:/config/AutoSave</li>

<li>$:/config/breakzplatform/github-comments/filter</li>

<li>$:/config/breakzplatform/github-comments/label-hide</li>

<li>$:/config/breakzplatform/github-comments/label-show</li>

<li>$:/config/breakzplatform/github-comments/repo</li>

<li>$:/config/breakzplatform/github-comments/theme</li>

<li>$:/config/breakzplatform/github-comments/url</li>

<li>$:/config/codemirror/theme</li>

<li>$:/config/ExternalJS/EnableExternalPlugins</li>

<li>$:/config/ExternalJS/Prefix/Core</li>

<li>$:/config/ExternalJS/Prefix/Plugins</li>

<li>$:/config/fileUploader</li>

<li>$:/config/KookmaPluginLibrary</li>

<li>$:/config/Navigation/UpdateAddressBar</li>

<li>$:/config/Navigation/UpdateHistory</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/control-panel</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-tiddler</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/save-wiki</li>

<li>$:/config/PageControlButtons/Visibility/$:/Feed/Settings/SendFeed</li>

<li>$:/config/PageControlButtons/Visibility/$:/libro/FileUpload/DropDown/Button</li>

<li>$:/config/PageControlButtons/Visibility/$:/Libro/Settings/Feed/SendFeed</li>

<li>$:/config/PageControlButtons/Visibility/$:/plugins/kookma/commander/buttons/pagecontrol</li>

<li>$:/config/PageControlButtons/Visibility/$:/SaveToGitHub/Button</li>

<li>$:/config/PageControlButtons/Visibility/$:/SaveToGitHub/FileUpload/SendImages</li>

<li>$:/config/PageControlButtons/Visibility/$:/themes/nico/notebook/ui/Buttons/SwitchPalette</li>

<li>$:/config/PageControlButtons/Visibility/$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher</li>

<li>$:/config/PageControlButtons/Visibility/$:/ToggleEdit</li>

<li>$:/config/Plugins/Disabled/$:/plugins/sq/editor-autolist</li>

<li>$:/config/Plugins/Disabled/$:/plugins/tiddlywiki/highlight</li>

<li>$:/config/RelinkOnRename</li>

<li>$:/config/SaveWikiButton/Template</li>

<li>$:/config/Tiddlers/TitleLinks</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/plugins/breakzplatform/github-comments/viewtoolbar/github-comments-open</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/GitHubPermalink</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/GitHubPermaView</li>

<li>$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/Private</li>

<li>$:/config/WikiParserRules/Inline/wikilink</li>

<li>$:/core/icon</li>

<li>$:/core/images/file</li>

<li>$:/core/images/folder</li>

<li>$:/core/images/github</li>

<li>$:/core/images/locked-padlock</li>

<li>$:/core/images/open-window</li>

<li>$:/core/images/twitter</li>

<li>$:/core/images/video</li>

<li>$:/core/ui/ControlPanel/Saving/GitHub</li>

<li>$:/core/ui/EditorToolbar/file-import</li>

<li>$:/DefaultTiddlers</li>

<li>$:/diagram/schemaappcomponent.png</li>

<li>$:/diagram/screenshotmainbundle.png</li>

<li>$:/diagram/screenshotreviewcomponent</li>

<li>$:/discoverfeed</li>

<li>$:/Donate</li>

<li>$:/Editor/Macro</li>

<li>$:/Editor/Style</li>

<li>$:/EditTemplate/Description</li>

<li>$:/EditTemplate/Sources</li>

<li>$:/EvidentlyCube/Trigger/2</li>

<li>$:/EvidentlyCube/Trigger/Snippet</li>

<li>$:/EvidentlyCube/Trigger/System</li>

<li>$:/favicon.ico</li>

<li>$:/Feed</li>

<li>$:/Feed/Categories</li>

<li>$:/Feed/Settings</li>

<li>$:/Feed/Settings/SendFeed</li>

<li>$:/Feed/Style</li>

<li>$:/GitHub/Branch</li>

<li>$:/GitHub/Filename</li>

<li>$:/GitHub/Path</li>

<li>$:/GitHub/Repo</li>

<li>$:/GitHub/Username</li>

<li>$:/Help</li>

<li>$:/images/github-comments</li>

<li>$:/Import</li>

<li>$:/isEncrypted</li>

<li>$:/kofi</li>

<li>$:/language</li>

<li>$:/language/ControlPanel/Saving/GitService/CommitMessage</li>

<li>$:/Libro/Acknowledgments</li>

<li>$:/libro/Bienvenue</li>

<li>$:/libro/Download/Empty</li>

<li>$:/Libro/edit-search-field</li>

<li>$:/Libro/edit-search-field/style</li>

<li>$:/Libro/ExternalLinksIcon/Settings</li>

<li>$:/Libro/ExternalLinksIcon/Settings/HowTo</li>

<li>$:/Libro/ExternalLinksIcon/Style</li>

<li>$:/Libro/FieldsEditor</li>

<li>$:/libro/FileUpload/DropDown/Button</li>

<li>$:/Libro/github-comments-toggle/Style</li>

<li>$:/Libro/Icons</li>

<li>$:/libro/Reset</li>

<li>$:/Libro/Settings/Favicon</li>

<li>$:/Libro/Settings/Feed</li>

<li>$:/Libro/Settings/Feed/SendFeed</li>

<li>$:/Libro/Snippet/OpacityTransition</li>

<li>$:/Libro/Snippet/Transition</li>

<li>$:/Libro/Style/InvisibleCheckBox</li>

<li>$:/libro/Style/ScrollingIndicator</li>

<li>$:/libro/Style/warning</li>

<li>$:/libro/task/Add a button to download a empty Libro edition</li>

<li>$:/libro/task/Add a wizard to help configuring the upload to GitHub</li>

<li>$:/libro/task/Add RSS feed generation</li>

<li>$:/libro/task/Add support for multiple RSS feed category</li>

<li>$:/libro/task/Add the tweaks to the setting pannel</li>

<li>$:/libro/task/Bundle the system tiddlers into a plugin using Gatha</li>

<li>$:/libro/task/Create a custom theme inspired from wikiwand instead of "Notebook" by Nicolas Petton</li>

<li>$:/libro/task/Improve the detail macro</li>

<li>$:/libro/task/Improve the save wiki to GitHuv</li>

<li>$:/libro/task/Standardise the name of the custom system tiddlers in this wiki</li>

<li>$:/Libro/Translation</li>

<li>$:/Libro/Translation/icon</li>

<li>$:/Libro/Translation/ViewTemplate</li>

<li>$:/Libro/Translation/ViewTemplate/Style</li>

<li>$:/libro/Welcome</li>

<li>$:/libro/Welcome/Features</li>

<li>$:/libro/Welcome/Features/fr</li>

<li>$:/Macro/Categories</li>

<li>$:/Macro/Export</li>

<li>$:/palette</li>

<li>$:/plugin-library/EvidentlyCube</li>

<li>$:/plugins/adithyab/cmplus</li>

<li>$:/plugins/breakzplatform/github-comments/template</li>

<li>$:/plugins/breakzplatform/github-comments/viewtoolbar/github-comments-open</li>

<li>$:/plugins/commons/file-uploads/Buttons/toggle-uploads</li>

<li>$:/plugins/commons/file-uploads/images/upload</li>

<li>$:/plugins/commons/file-uploads/images/upload-off</li>

<li>$:/plugins/felixhayashi/hotzone</li>

<li>$:/plugins/Gk0Wk/CPL-Repo</li>

<li>$:/plugins/Gk0Wk/echarts</li>

<li>$:/plugins/kookma/commander/buttons/pagecontrol</li>

<li>$:/plugins/tiddlywiki/codemirror</li>

<li>$:/plugins/tiddlywiki/codemirror/styles</li>

<li>$:/SaveToGitHub</li>

<li>$:/SaveToGitHub/Button</li>

<li>$:/SaveToGitHub/Button/GitHubPermalink</li>

<li>$:/SaveToGitHub/Button/GitHubPermaView</li>

<li>$:/SaveToGitHub/Button/Private</li>

<li>$:/SaveToGitHub/CommitMessage/Modal</li>

<li>$:/SaveToGitHub/FileUpload/SendImages</li>

<li>$:/SaveToGitHub/GithubPageUrlFilter</li>

<li>$:/SaveToGitHub/private/state</li>

<li>$:/SaveToGitHub/private/username</li>

<li>$:/SaveToGitHub/publish</li>

<li>$:/SaveToGitHub/PublishFilter</li>

<li>$:/SaveToGitHub/Settings</li>

<li>$:/SaveToGitHub/Settings/Style</li>

<li>$:/showInfo/code/Stylesheet/ViewTemplate</li>

<li>$:/showInfo/macro/copy-code</li>

<li>$:/showInfo/macro/copy-code/examples</li>

<li>$:/showInfo/macro/copy-code/shortcuts/full</li>

<li>$:/showInfo/macro/copy-code/shortcuts/short</li>

<li>$:/showInfo/macro/copy-code/style</li>

<li>$:/showInfo/Stylesheet/Style</li>

<li>$:/SiteSubtitle</li>

<li>$:/SiteTitle</li>

<li>$:/Snippet/Insert new here</li>

<li>$:/SplashScreen</li>

<li>$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddly-gittly.github.io/TiddlyWiki-CPL/library/index.html/$:/temp/RemoteAssetInfo/https://tiddly-gittly.github.io/TiddlyWiki-CPL/library/index.html/$:/plugins/Gk0Wk/echarts</li>

<li>$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddlywiki.com/library/v5.2.4/index.html/$:/temp/RemoteAssetInfo/https://tiddlywiki.com/library/v5.2.4/index.html/$:/plugins/tiddlywiki/codemirror</li>

<li>$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddlywiki.com/library/v5.2.4/index.html/$:/temp/RemoteAssetInfo/https://tiddlywiki.com/library/v5.2.4/index.html/$:/plugins/tiddlywiki/railroad</li>

<li>$:/state/addplugins/tab-1342078386</li>

<li>$:/state/advancedsearch/currentTab</li>

<li>$:/state/breakzplatform/github-comments</li>

<li>$:/state/commander/log-tiddler</li>

<li>$:/state/commander/snr/select-tiddler</li>

<li>$:/state/compInspect/temp/commander/selectState-tiddler</li>

<li>$:/state/folded/Become a Ninja with Angular</li>

<li>$:/state/folded/Tasks: Learning</li>

<li>$:/state/folded/TypeScript: Overview</li>

<li>$:/state/importpreviewtype</li>

<li>$:/state/Link/-643049427/search</li>

<li>$:/state/notebook-sidebar</li>

<li>$:/state/notebook-sidebar-section</li>

<li>$:/state/plugin-info-1025023944-$:/plugins/Gk0Wk/codemirror-mode-tiddlywiki5--1122715730</li>

<li>$:/state/plugin-info-1108689160-$:/plugins/cdr/external-js---960882608</li>

<li>$:/state/plugin-info-1723325576-$:/plugins/smilyorg/monaco---1386083083</li>

<li>$:/state/plugin-info-208292166-$:/plugins/EvidentlyCube/AutoComplete--1467470539</li>

<li>$:/state/showeditpreview</li>

<li>$:/state/tab--1498284803</li>

<li>$:/state/tab--1963855381</li>

<li>$:/state/tab--697582678</li>

<li>$:/state/tab-1749438307</li>

<li>$:/state/tab-668442618</li>

<li>$:/state/tabs/controlpanel/toolbars-1345989671</li>

<li>$:/status/RequireReloadDueToPluginChange</li>

<li>$:/status/UserName</li>

<li>$:/StoryList</li>

<li>$:/Style</li>

<li>$:/tags/Image</li>

<li>$:/tags/PageControls</li>

<li>$:/tags/SideBar</li>

<li>$:/tags/Stylesheet</li>

<li>$:/tags/ViewToolbar</li>

<li>$:/Télécharger</li>

<li>$:/template/Table</li>

<li>$:/theme</li>

<li>$:/themes/nico/notebook/base</li>

<li>$:/themes/nico/notebook/metrics/story-width</li>

<li>$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover</li>

<li>$:/themes/nico/notebook/options/stickytitles</li>

<li>$:/themes/nico/notebook/themetweaks</li>

<li>$:/themes/nico/notebook/ui/Buttons/SwitchPalette</li>

<li>$:/ThemeTweaks/style/fold_banner</li>

<li>$:/ThemeTweaks/svg/discord</li>

<li>$:/ThemeTweaks/svg/feed</li>

<li>$:/ThemeTweaks/svg/flathub</li>

<li>$:/ThemeTweaks/svg/reddit/full</li>

<li>$:/ThemeTweaks/svg/wikipedia</li>

<li>$:/TiddlyTweaks/CountList</li>

<li>$:/TiddlyTweaks/Details</li>

<li>$:/TiddlyTweaks/Details/Macro</li>

<li>$:/TiddlyTweaks/Details/Style</li>

<li>$:/TiddlyTweaks/images/backtick</li>

<li>$:/TiddlyTweaks/images/ThemeSwitcher</li>

<li>$:/TiddlyTweaks/images/tilde</li>

<li>$:/TiddlyTweaks/Shortcut/Backtick</li>

<li>$:/TiddlyTweaks/Shortcut/Comment</li>

<li>$:/TiddlyTweaks/Shortcut/Key</li>

<li>$:/TiddlyTweaks/Shortcut/SubTiddler</li>

<li>$:/TiddlyTweaks/Shortcut/Tilde</li>

<li>$:/TiddlyTweaks/Shortcuts</li>

<li>$:/TiddlyTweaks/ThemeSwitcher</li>

<li>$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher</li>

<li>$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher/Style</li>

<li>$:/UploadURL</li>

<li>$:/UploadWithUrlOnly</li>

<li>$:/ViewTemplate/Description</li>

<li>$:/ViewTemplate/Sources</li>

<li>$:/ViewTemplate/Sources/Style</li>

<li>116. Navigating via Toolbar Buttons</li>

<li>117. A Bug with Ionic</li>

<li>118. Extracting the ID of Loaded Places</li>

<li>120. Adding a SideDrawer</li>

<li>121. Opening + Closing the SideDrawer</li>

<li>122. Adding Links &amp; Switching Pages</li>

<li>123. Adding the Auth Service</li>

<li>124. Adding an Auth Guard</li>

<li>125. Opening a Modal</li>

<li>126. Closing the Modal &amp; Passing Data</li>

<li>127. Wrap Up</li>

<li>128. Useful Resources &amp; Links</li>

<li>Add a dropdown button to group the various file upload tools</li>

<li>Added a simple way to support en/fr translation on a tiddler basis</li>

<li>Added GitHub comments plugin</li>

<li>Added loading screen</li>

<li>Advanced components and directives: Conditional and contextual content projection: ng-template and ngTemplateOutlet</li>

<li>Advanced components and directives: Content</li>

<li>Advanced components and directives: Content queries</li>

<li>Advanced components and directives: Host binding</li>

<li>Advanced components and directives: Host listener</li>

<li>Advanced components and directives: View queries</li>

<li>Advanced observables: Custom Observable</li>

<li>Advanced observables: Managing state with stores (NgRx, NGXS, Akita ..)</li>

<li>Advanced observables: Operators</li>

<li>Advanced observables: Overview</li>

<li>Advanced observables: Subscribe, unsubscribe and async pipe</li>

<li>All the notes for the book "Become a Ninja with Angular"</li>

<li>Angular - The Complete Guide (2023 Edition)</li>

<li>Angular: components and directives - components</li>

<li>Angular: components and directives - directives</li>

<li>Angular: components and directives - Overview</li>

<li>Angular: Dependency injection - Configuration</li>

<li>Angular: Dependency injection - DI without types</li>

<li>Angular: Dependency injection - Hierarchical injector</li>

<li>Angular: Dependency injection - Other types of provider</li>

<li>Angular: Dependency injection - Overview</li>

<li>Angular: Dependency injection - Requirements</li>

<li>Angular: Intro - Angular CLI</li>

<li>Angular: Intro - Application structure</li>

<li>Angular: Intro - Bootstrapping the app</li>

<li>Angular: Intro - First component</li>

<li>Angular: Intro - First module</li>

<li>Angular: Intro - Node.js and NPM</li>

<li>Angular: Intro - philosophy</li>

<li>Angular: Pipes - async</li>

<li>Angular: Pipes - creating pipes</li>

<li>Angular: Pipes - currency</li>

<li>Angular: Pipes - date</li>

<li>Angular: Pipes - injecting pipe</li>

<li>Angular: Pipes - json</li>

<li>Angular: Pipes - keyvalue</li>

<li>Angular: Pipes - lowercase</li>

<li>Angular: Pipes - number</li>

<li>Angular: Pipes - Overview</li>

<li>Angular: Pipes - percent</li>

<li>Angular: Pipes - slice</li>

<li>Angular: Pipes - titlecase</li>

<li>Angular: Pipes - uppercase</li>

<li>Angular: Services - Creating a service</li>

<li>Angular: Services - Meta service</li>

<li>Angular: Services - Overview</li>

<li>Angular: Services - Title service</li>

<li>Angular: Styling components and encapsulation - Emulated strategy</li>

<li>Angular: Styling components and encapsulation - None strategy</li>

<li>Angular: Styling components and encapsulation - Overview</li>

<li>Angular: Styling components and encapsulation - Shadow DOM strategy</li>

<li>Angular: Styling components and encapsulation - Styling the host</li>

<li>Angular: Templates - Events</li>

<li>Angular: Templates - Expressions vs statements</li>

<li>Angular: Templates - Interpolation</li>

<li>Angular: Templates - Local variables</li>

<li>Angular: Templates - Overview</li>

<li>Angular: Templates - Property binding</li>

<li>Angular: Templates - Standard directives</li>

<li>Angular: Templates - Structural directives</li>

<li>Angular: Templates - Summary</li>

<li>Angular: Templates - Using other components in a template</li>

<li>angular.io</li>

<li>Approx pages of notes count</li>

<li>Arrow functions</li>

<li>Async/await</li>

<li>Become a Ninja with Angular</li>

<li>books</li>

<li>ChatGPT</li>

<li>Classes</li>

<li>classes are both hoisted and not hoisted</li>

<li>const</li>

<li>Creating a custom layout</li>

<li>Curated Videos</li>

<li>Default parameters and values on function call</li>

<li>Dynamic, static and optional types</li>

<li>Eloquent JavaScript</li>

<li>Encryption</li>

<li>ex:OptimisationCSS/AvecOptimisation</li>

<li>ex:OptimisationCSS/SansOptimisation</li>

<li>Exploring JS: JavaScript books for programmers</li>

<li>External plugins and core</li>

<li>Fix github comment</li>

<li>Forms: Code-driven</li>

<li>Forms: Creating a custom validator</li>

<li>Forms: Custom form inputs with ControlValueAccessor</li>

<li>Forms: Errors and submission</li>

<li>Forms: FormArray and FormRecord</li>

<li>Forms: Grouping fields</li>

<li>Forms: Overview</li>

<li>Forms: Reacting to changes</li>

<li>Forms: Simple validation error messages with ngx-valdemort</li>

<li>Forms: Strictly typed forms</li>

<li>Forms: Style</li>

<li>Forms: Summary</li>

<li>Forms: Template-driven</li>

<li>Forms: Two-way data-binding</li>

<li>Forms: Updating on blur or on submit only</li>

<li>Forms: Validation</li>

<li>Going to production: Conclusion</li>

<li>Going to production: enableProdMode</li>

<li>Going to production: Environments and configurations</li>

<li>Going to production: Overview</li>

<li>Going to production: Package your application</li>

<li>Going to production: Server configuration</li>

<li>Going to production: strictTemplates</li>

<li>How to get food data with Angular</li>

<li>Icon/Angular</li>

<li>IIFE</li>

<li>Improving typescript compilation time</li>

<li>Index</li>

<li>internal link</li>

<li>Internationalization: Best practices</li>

<li>Internationalization: Currency</li>

<li>Internationalization: Locale</li>

<li>Internationalization: Overview</li>

<li>Internationalization: Pluralization</li>

<li>Internationalization: Process and tooling</li>

<li>Internationalization: Translating</li>

<li>Internationalization: Translating messages in the code</li>

<li>Ionic - Build iOS, Android &amp; Web Apps with Ionic &amp; Angular</li>

<li>JavaScript Patterns</li>

<li>JavaScript: The Definitive Guide</li>

<li>JavaScript: The Good Parts</li>

<li>Just in Time vs Ahead of Time: Ahead of Time compilation</li>

<li>Just in Time vs Ahead of Time: Code generation</li>

<li>Le Guide Angular par Marmicode</li>

<li>Learning Angular</li>

<li>Learning CSS</li>

<li>Learning JavaScript Design Patterns</li>

<li>Learning math</li>

<li>Les bases de l'optimisation CSS</li>

<li>let</li>

<li>Libro now support RSS feed generation</li>

<li>Link book macro snippet</li>

<li>Link to github file</li>

<li>LinkedIn icon</li>

<li>Macro link to book</li>

<li>Macro task btn</li>

<li>Macro task btn Style</li>

<li>Modules</li>

<li>My wikis</li>

<li>Optimisations javascript</li>

<li>Performances: First load</li>

<li>Performances: NgZone</li>

<li>Performances: Overview</li>

<li>Performances: Profiling</li>

<li>Performances: Reload</li>

<li>Performances: Runtime performances</li>

<li>Promises</li>

<li>Reactive Programming: Angular</li>

<li>Reactive Programming: Overview</li>

<li>Reactive Programming: Principles</li>

<li>Reactive Programming: RxJS</li>

<li>Removed styling for tags and enabled icons for internal links</li>

<li>Rest operator</li>

<li>Router: Guards</li>

<li>Router: Hierarchical and empty-path routes</li>

<li>Router: Lazy loading</li>

<li>Router: Matching strategy</li>

<li>Router: Navigation</li>

<li>Router: Parameters and data</li>

<li>Router: Redirects</li>

<li>Router: Resolvers</li>

<li>Router: Route</li>

<li>Router: Router events</li>

<li>Search a database with an API in Angular</li>

<li>Section 10: Handling User Input</li>

<li>Section 11: Managing State</li>

<li>Section 12: Sending Http Requests</li>

<li>Section 13: Adding Google Maps</li>

<li>Section 14: Using Native Device Features (Camera &amp; Location)</li>

<li>Section 15: Adding Authentication</li>

<li>Section 16: Publishing the Apps</li>

<li>Section 17: Roundup</li>

<li>Section 8: Ionic Components Overview</li>

<li>Section 9 : Styling &amp; Theming Ionic Apps</li>

<li>Send and receive data through HTTP: Advanced options</li>

<li>Send and receive data through HTTP: Context</li>

<li>Send and receive data through HTTP: Getting data</li>

<li>Send and receive data through HTTP: Interceptors</li>

<li>Send and receive data through HTTP: Jsonp</li>

<li>Send and receive data through HTTP: Overview</li>

<li>Send and receive data through HTTP: Tests</li>

<li>Send and receive data through HTTP: Transforming data</li>

<li>Sets and Maps</li>

<li>Shorthands for assigning variables from objects or arrays (destructuring)</li>

<li>Shorthands for creating objects</li>

<li>Speaking JavaScript: An In-Depth Guide for Programmers</li>

<li>Standalone components: Application bootstrap</li>

<li>Standalone components: Caveats</li>

<li>Standalone components: CLI support</li>

<li>Standalone components: creating a standalone component</li>

<li>Standalone components: Initialization</li>

<li>Standalone components: Lazy loading routes</li>

<li>Standalone components: Optional NgModules</li>

<li>Standalone components: Overview</li>

<li>Standalone components: Summary</li>

<li>Standalone components: using of standalone component</li>

<li>task</li>

<li>Tasks: Learning</li>

<li>Template literals</li>

<li>Template navigate book</li>

<li>Template navigate book/style</li>

<li>Testing in Angular: Dependency injection</li>

<li>Testing in Angular: e2e</li>

<li>Testing in Angular: Fake dependencies</li>

<li>Testing in Angular: Jasmine and Karma</li>

<li>Testing in Angular: ngx-speculoos</li>

<li>Testing in Angular: Overview</li>

<li>Testing in Angular: Testing components</li>

<li>Testing in Angular: Testing with fake templates, providers, etc</li>

<li>Testing in Angular: Unit test</li>

<li>TFE</li>

<li>todo</li>

<li>Transpiler</li>

<li>typeahead</li>

<li>TypeScript: Classes</li>

<li>TypeScript: Decorators</li>

<li>TypeScript: Enums</li>

<li>TypeScript: Functions as property</li>

<li>TypeScript: Interfaces</li>

<li>TypeScript: keyof</li>

<li>TypeScript: Mapped type</li>

<li>TypeScript: Optional arguments</li>

<li>TypeScript: Overview</li>

<li>TypeScript: Pick</li>

<li>TypeScript: readonly</li>

<li>TypeScript: Readonly</li>

<li>TypeScript: Record</li>

<li>TypeScript: Return types</li>

<li>TypeScript: Types</li>

<li>TypeScript: Union types and type guards</li>

<li>TypeScript: Working with libraries</li>

<li>Understanding ECMAScript 6</li>

<li>Updated $:/Feed</li>

<li>Updated $:/Libro/ExternalLinksIcon/Style</li>

<li>Updated editor macro and comment shortcut to be able to set the comment shortcut for css and js with the editor macro</li>

<li>Using OpenFoodFact in an Angular app</li>

<li>warning:internationalization pipe</li>

<li>Web Components: Custom elements</li>

<li>Web Components: ES Modules</li>

<li>Web Components: Frameworks</li>

<li>Web Components: Overview</li>

<li>Web Components: Shadow DOM</li>

<li>Web Components: Template</li>

<li>Working with music</li>

<li>Writing Maintainable JavaScript</li>

<li>xml.rss</li>

<li>Zones: Angular and zones</li>

<li>Zones: AngularJS 1.x and the digest cycle</li>

</ul>
</p>



<style>
.tc-remove-when-wiki-loaded {display: none;}
</style>

</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->
<script class="tiddlywiki-tiddler-store" type="application/json">[
{"created":"20221004110111411","creator":"Telumire","text":"\\define close()\u003C$action-sendmessage $message=\"tm-close-tiddler\" $param=\u003C\u003Credirect-title>> />\n\\define edit()\u003C$action-sendmessage $message=\"tm-edit-tiddler\" $param=\u003C\u003CcurrentTiddler>> />\u003C\u003Cclose>>\n\\define delete()\u003C$action-sendmessage $message=\"tm-delete-tiddler\" $param=\u003C\u003CcurrentTiddler>> />\u003C\u003Cclose>>\n\u003C$let redirect-title={{!!title}}>\n\u003C$tiddler tiddler={{{ [{!!title}removeprefix[/]]:map[{!!title}listed[altlink]] }}} >\n\u003C$messagecatcher $tm-close-tiddler=\u003C\u003Cclose>> $tm-edit-tiddler=\u003C\u003Cedit>> $tm-delete-tiddler=\u003C\u003Cdelete>>>\n \u003C$transclude tiddler=\"$:/core/ui/ViewTemplate\"/>\n\u003C/$messagecatcher>\n\u003C/$tiddler>\n\u003C/$let>","tags":"$:/AltLinkTemplate Tools","title":"$:/AltLinkTemplate","modified":"20221026205319771","modifier":"Telumire","install":"\u003C\u003Cexport filter:\"[is[current]] [is[current]tagging[]]\" filename:\"Redirect\" hint:\"Click this button to download a json file containing all relevant tiddlers, or drag and drop to install directly into your tiddlywiki : \">>","caption":"Redirect","description":"Create redirect for your tiddlers. Example: https://demos.tiddlyhost.com/#/redirect-template\n\u003Cp>\nRequire \u003C\u003Clist-links \"[is[current]] [is[current]tagging[]]\">>\n\u003C/p>","altlink":"redirect-template"},
{"created":"20221004115800255","creator":"Telumire","text":"\\whitespace trim\n\u003C$edit-text field=\"altlink\" class=\"tc-titlebar tc-edit-texteditor tc-alt-link\" tabindex={{{ [{$:/config/EditTabIndex}add[1]] }}} cancelPopups=\"yes\" placeholder=\"Alternative link\"/>","tags":"$:/AltLinkTemplate $:/tags/EditTemplate","title":"$:/AltLinkTemplate/EditTemplate","modified":"20221004120837017","modifier":"Telumire","altlink":"","type":"","list-after":"$:/core/ui/EditTemplate/title"},
{"created":"20220930212558318","creator":"Telumire","text":"[{!!title}is[missing]prefix[/]then[$:/AltLinkTemplate]]","title":"$:/AltLinkTemplate/StoryTiddlerTemplateFilter","modified":"20221004110444145","modifier":"Telumire","tags":"$:/tags/StoryTiddlerTemplateFilter $:/AltLinkTemplate","list-before":""},
{"created":"20221004115738184","creator":"Telumire","text":".tc-titlebar.tc-edit-texteditor.tc-alt-link{\nfont-size:.75em!important;\nline-height:.75em!important;\n}","tags":"$:/AltLinkTemplate $:/tags/Stylesheet","title":"$:/AltLinkTemplate/Style","modified":"20221004120647330","modifier":"Telumire"},
{"title":"$:/build","commit":"0ce5788747571c29c659808f56508470e148450c","text":"Prerelease built from branch 'master' at commit 0ce5788747571c29c659808f56508470e148450c of https://github.com/Jermolene/TiddlyWiki5 at 2022-12-09 18:33:12 UTC\n"},
{"created":"20190212051316149","creator":"Telumire","text":"\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]]\n{{$:/plugins/kookma/commander/search/ui}}\n\u003C!-- Create the search filter based on searchbox and selective operation (if active) -->\n\u003C$vars searchTerms={{{ [\u003CsearchboxTid>get[text]minlength{$:/plugins/kookma/commander/config/minlength}]~[[$:/errorCode:-23500]] }}}  pattern=\"^\\[\">\u003C!-- this part checks the combo search and selective ops-->\n\u003C$set name=\"filtertext\"   filter=\"[\u003CsearchTerms>regexp\u003Cpattern>]\" value=\"[subfilter\u003CsearchTerms>]\" emptyValue=\"[!is[system]search\u003CsearchTerms>]\">\n\u003C$set name=\"searchfilter\" filter=\"[\u003CselectiveOpsTid>get[text]match[yes]]\"  \n\tvalue=\"[subfilter\u003Cfiltertext>!prefix[$:/temp/commander]]+[tag\u003CworkingTag>]\" emptyValue=\"[subfilter\u003Cfiltertext>!prefix[$:/temp/commander]]\" >\n\u003Csmall style=\"margin-left:17ch;\">\u003Ci>\u003C$count filter=\"[subfilter\u003Cfiltertext>!prefix[$:/temp/commander]!is[missing]]\" /> matches \u003C/i>\u003C/small>\n\n\u003C!-- Display search results and let selective operation -->\n\u003C\u003Ccommander-slider title:\"$:/plugins/kookma/commander/search/selection\" default:\"open\">>\n\n\u003C!-- Display operation UIs-->\n\u003C\u003Ctabs \"[all[shadows+tiddlers]tag[$:/tags/Commander]!has[draft.of]]\" default:\"$:/plugins/kookma/commander/tiddler/ui\">>\n\n\u003C/$set>\n\u003C/$set>\n\u003C$vars>\n\n---\n\n\u003C\u003Ccommander-slider title:\"$:/plugins/kookma/commander/log/ui\">>\n","title":"$:/Commander","icon":"$:/plugins/kookma/commander/images/file-alt","modified":"20221117200637726","type":"text/vnd.tiddlywiki","modifier":"Telumire","tags":"$:/tags/SideBar","caption":"Commander"},
{"text":"no","title":"$:/config/AutoSave"},
{"created":"20221121202205838","creator":"Telumire","tags":"","type":"text/vnd.tiddlywiki","text":"[is[tiddler]]","title":"$:/config/breakzplatform/github-comments/filter","modified":"20221121202216433","modifier":"Telumire"},
{"created":"20221121202128264","creator":"Telumire","tags":"","type":"text/vnd.tiddlywiki","text":"comments","title":"$:/config/breakzplatform/github-comments/label-hide","modified":"20221122180429591","modifier":"Telumire"},
{"created":"20221121202127051","creator":"Telumire","tags":"","type":"text/vnd.tiddlywiki","text":"comments","title":"$:/config/breakzplatform/github-comments/label-show","modified":"20221122180428670","modifier":"Telumire"},
{"created":"20221121202053480","creator":"Telumire","title":"$:/config/breakzplatform/github-comments/repo","text":"Telumire/learning-angular","modified":"20221122190418423","modifier":"Telumire"},
{"created":"20221121202122322","creator":"Telumire","tags":"","type":"text/vnd.tiddlywiki","text":"preferred-color-scheme","title":"$:/config/breakzplatform/github-comments/theme","modified":"20221121202122322","modifier":"Telumire"},
{"created":"20221121202043580","creator":"Telumire","title":"$:/config/breakzplatform/github-comments/url","text":"https://learning-angular.tiddlyhost.com","modified":"20221122190425492","modifier":"Telumire"},
{"created":"20221228035953258","title":"$:/config/codemirror/theme","type":"string","text":"cmplus","modified":"20221228040420675"},
{"created":"20221208233708519","text":"yes","title":"$:/config/ExternalJS/EnableExternalPlugins","modified":"20221208233717438"},
{"created":"20221208233650445","title":"$:/config/ExternalJS/Prefix/Core","text":"https://www.telumire.be/Libro/files/tiddlywikicore","modified":"20221208234556889"},
{"created":"20221208233655823","title":"$:/config/ExternalJS/Prefix/Plugins","text":"https://www.telumire.be/Libro/files/myplugins","modified":"20221208234603975"},
{"created":"20221119151907298","creator":"Telumire","title":"$:/config/fileUploader","text":"github","modified":"20221119151907298","modifier":"Telumire"},
{"text":"Kookma plugin library is a set of plugins, themes, and scripts, to extend functionality and add new features to Tiddlywiki. For detail information visit the library at [[GitHub|https://github.com/kookma]]. It is recommended to backup your data before installing any plugin, theme, or script. \n\nTo use in other wikis, drag and drop this link to those wikis: [[Kookma Plugin Library|$:/config/KookmaPluginLibrary]]","url":"https://kookma.github.io/TW-PluginLibrary/library/index.html","type":"text/vnd.tiddlywiki","title":"$:/config/KookmaPluginLibrary","tags":"$:/tags/PluginLibrary","modified":"20200323203955824","created":"20200306121057751","caption":"Kookma Plugin Library"},
{"created":"20221104160258361","creator":"Telumire","title":"$:/config/Navigation/UpdateAddressBar","text":"permaview","modified":"20221104160258361","modifier":"Telumire"},
{"created":"20221104160310363","creator":"Telumire","title":"$:/config/Navigation/UpdateHistory","text":"yes","modified":"20221104160310363","modifier":"Telumire"},
{"created":"20221104125035607","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/control-panel","modified":"20221104125035607","modifier":"Telumire"},
{"created":"20221104102316448","creator":"Telumire","text":"show","title":"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home","modified":"20221104102316448","modifier":"Telumire"},
{"created":"20221104125028072","creator":"Telumire","text":"show","title":"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions","modified":"20221104125028072","modifier":"Telumire"},
{"created":"20221104125037969","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-tiddler","modified":"20221104125037969","modifier":"Telumire"},
{"created":"20221104125041626","creator":"Telumire","text":"show","title":"$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/save-wiki","modified":"20221104160205032","modifier":"Telumire"},
{"created":"20221120182119385","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/Feed/Settings/SendFeed","modified":"20221206103509729","modifier":"Telumire"},
{"created":"20221120182121679","creator":"Telumire","text":"show","title":"$:/config/PageControlButtons/Visibility/$:/libro/FileUpload/DropDown/Button","modified":"20221120182403963","modifier":"Telumire"},
{"created":"20221120182119385","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/Libro/Settings/Feed/SendFeed","modified":"20221120182119385","modifier":"Telumire"},
{"created":"20221107150550779","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/plugins/kookma/commander/buttons/pagecontrol","modified":"20221107150550779"},
{"created":"20221120182117431","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/SaveToGitHub/Button","modified":"20221120182117431","modifier":"Telumire"},
{"created":"20221120182123365","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/SaveToGitHub/FileUpload/SendImages","modified":"20221120182123365","modifier":"Telumire"},
{"created":"20221104103035905","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/themes/nico/notebook/ui/Buttons/SwitchPalette","modified":"20221104103035905","modifier":"Telumire"},
{"created":"20221107150611871","creator":"Telumire","text":"show","title":"$:/config/PageControlButtons/Visibility/$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher","modified":"20221117155342275","modifier":"Telumire"},
{"created":"20221104125025819","creator":"Telumire","text":"hide","title":"$:/config/PageControlButtons/Visibility/$:/ToggleEdit","modified":"20221104125025819","modifier":"Telumire"},
{"created":"20221228035148619","title":"$:/config/Plugins/Disabled/$:/plugins/sq/editor-autolist","text":"no","modified":"20221228035239751"},
{"created":"20221228040015147","title":"$:/config/Plugins/Disabled/$:/plugins/tiddlywiki/highlight","text":"no","modified":"20221228040041923"},
{"created":"20221105223048866","creator":"Telumire","text":"yes","title":"$:/config/RelinkOnRename","modified":"20221105223048866","modifier":"Telumire"},
{"title":"$:/config/SaveWikiButton/Template","text":"$:/core/save/offline-external-js"},
{"created":"20221104160315043","creator":"Telumire","title":"$:/config/Tiddlers/TitleLinks","text":"yes","modified":"20221104160315043","modifier":"Telumire"},
{"created":"20221228005924144","text":"show","title":"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others","modified":"20221228005924144"},
{"created":"20221104103118925","creator":"Telumire","text":"show","title":"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar","modified":"20221104103118925","modifier":"Telumire"},
{"created":"20230106231514039","text":"hide","title":"$:/config/ViewToolbarButtons/Visibility/$:/plugins/breakzplatform/github-comments/viewtoolbar/github-comments-open","modified":"20230106231514039"},
{"created":"20221105234031230","text":"hide","title":"$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/GitHubPermalink","modified":"20221105234031230"},
{"created":"20221105234031781","text":"hide","title":"$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/GitHubPermaView","modified":"20221105234031781"},
{"created":"20230107023345071","text":"hide","title":"$:/config/ViewToolbarButtons/Visibility/$:/SaveToGitHub/Button/Private","modified":"20230107023345071"},
{"created":"20221104160244307","creator":"Telumire","text":"disable","title":"$:/config/WikiParserRules/Inline/wikilink","modified":"20221120180759564","modifier":"Telumire"},
{"created":"20220819071738058","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\">\u003Cpath d=\"M64 0l54.56 32v64L64 128 9.44 96V32L64 0zm21.127 95.408c-3.578-.103-5.15-.094-6.974-3.152l-1.42.042c-1.653-.075-.964-.04-2.067-.097-1.844-.07-1.548-1.86-1.873-2.8-.52-3.202.687-6.43.65-9.632-.014-1.14-1.593-5.17-2.157-6.61-1.768.34-3.546.406-5.34.497-4.134-.01-8.24-.527-12.317-1.183-.8 3.35-3.16 8.036-1.21 11.44 2.37 3.52 4.03 4.495 6.61 4.707 2.572.212 3.16 3.18 2.53 4.242-.55.73-1.52.864-2.346 1.04l-1.65.08c-1.296-.046-2.455-.404-3.61-.955-1.93-1.097-3.925-3.383-5.406-5.024.345.658.55 1.938.24 2.53-.878 1.27-4.665 1.26-6.4.47-1.97-.89-6.73-7.162-7.468-11.86 1.96-3.78 4.812-7.07 6.255-11.186-3.146-2.05-4.83-5.384-4.61-9.16l.08-.44c-3.097.59-1.49.37-4.82.628-10.608-.032-19.935-7.37-14.68-18.774.34-.673.664-1.287 1.243-.994.466.237.4 1.18.166 2.227-3.005 13.627 11.67 13.732 20.69 11.21.89-.25 2.67-1.936 3.905-2.495 2.016-.91 4.205-1.282 6.376-1.55 5.4-.63 11.893 2.276 15.19 2.37 3.3.096 7.99-.805 10.87-.615 2.09.098 4.143.483 6.16 1.03 1.306-6.49 1.4-11.27 4.492-12.38 1.814.293 3.213 2.818 4.25 4.167 2.112-.086 4.12.46 6.115 1.066 3.61-.522 6.642-2.593 9.833-4.203-3.234 2.69-3.673 7.075-3.303 11.127.138 2.103-.444 4.386-1.164 6.54-1.348 3.507-3.95 7.204-6.97 7.014-1.14-.036-1.805-.695-2.653-1.4-.164 1.427-.81 2.7-1.434 3.96-1.44 2.797-5.203 4.03-8.687 7.016-3.484 2.985 1.114 13.65 2.23 15.594 1.114 1.94 4.226 2.652 3.02 4.406-.37.58-.936.785-1.54 1.01l-.82.11zm-40.097-8.85l.553.14c.694-.27 2.09.15 2.83.353-1.363-1.31-3.417-3.24-4.897-4.46-.485-1.47-.278-2.96-.174-4.46l.02-.123c-.582 1.205-1.322 2.376-1.72 3.645-.465 1.71 2.07 3.557 3.052 4.615l.336.3z\" fill-rule=\"evenodd\"/>\u003C/svg>","title":"$:/core/icon","tags":"$:/tags/Image cat","modified":"20221117203129140","modifier":"Telumire","domain":"https://talk.tiddlywiki.org https://tiddlywiki.com"},
{"created":"20230130165917904","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-file tc-image-button\" viewBox=\"0 0 128 128\">\u003Cpath d=\"M111.968 30.5H112V120a8 8 0 01-8 8H24a8 8 0 01-8-8V8a8 8 0 018-8h57v.02a7.978 7.978 0 015.998 2.337l22.627 22.627a7.975 7.975 0 012.343 5.516zM81 8H24v112h80V30.5H89c-4.418 0-8-3.578-8-8V8z\"/>\u003Crect width=\"64\" height=\"8\" x=\"32\" y=\"36\" rx=\"4\"/>\u003Crect width=\"64\" height=\"8\" x=\"32\" y=\"52\" rx=\"4\"/>\u003Crect width=\"64\" height=\"8\" x=\"32\" y=\"68\" rx=\"4\"/>\u003Crect width=\"64\" height=\"8\" x=\"32\" y=\"84\" rx=\"4\"/>\u003Crect width=\"64\" height=\"8\" x=\"32\" y=\"100\" rx=\"4\"/>\u003Crect width=\"40\" height=\"8\" x=\"32\" y=\"20\" rx=\"4\"/>\u003C/svg>","title":"$:/core/images/file","tags":"$:/tags/Image","modified":"20230130165917904","domain":"pdf txt"},
{"created":"20220819074026899","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-folder tc-image-button\" viewBox=\"0 0 128 128\">\u003Cg fill-rule=\"evenodd\">\u003Cpath d=\"M55.694 128H8C3.58 128 0 124.414 0 119.996V48.004C0 43.584 3.584 40 7.999 40H16v-8c0-4.418 3.578-8 8-8h32a8 8 0 018 8v8h40.001c4.418 0 7.999 3.586 7.999 8.004V59.83l-8-.082v-7.749A4 4 0 0099.997 48H56V36c0-2.21-1.793-4-4.004-4H28.004A4 4 0 0024 36v12H12.003A4 4 0 008 52v64a4 4 0 004.003 4h46.76l-3.069 8z\"/>\u003Cpath d=\"M23.873 55.5h96.003c4.417 0 7.004 4.053 5.774 9.063l-13.344 54.374c-1.228 5.005-5.808 9.063-10.223 9.063H6.08c-4.417 0-7.003-4.053-5.774-9.063L13.65 64.563c1.228-5.005 5.808-9.063 10.223-9.063zm1.78 8.5h87.994c2.211 0 3.504 2.093 2.891 4.666l-11.12 46.668c-.614 2.577-2.902 4.666-5.115 4.666H12.31c-2.211 0-3.504-2.093-2.891-4.666l11.12-46.668C21.152 66.09 23.44 64 25.653 64z\"/>\u003C/g>\u003C/svg>","title":"$:/core/images/folder","tags":"$:/tags/Image fold","modified":"20221024141206680","modifier":"Telumire","domain":"file://"},
{"created":"20220819072248886","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-github tc-image-button\" viewBox=\"0 0 128 128\">\u003Cpath fill-rule=\"evenodd\" d=\"M63.938 1.607c-35.336 0-63.994 28.69-63.994 64.084 0 28.312 18.336 52.329 43.768 60.802 3.202.59 4.37-1.388 4.37-3.088 0-1.518-.056-5.55-.087-10.897-17.802 3.871-21.558-8.591-21.558-8.591-2.911-7.404-7.108-9.375-7.108-9.375-5.81-3.973.44-3.895.44-3.895 6.424.453 9.803 6.606 9.803 6.606 5.709 9.791 14.981 6.963 18.627 5.322.582-4.138 2.236-6.963 4.063-8.564-14.211-1.617-29.153-7.117-29.153-31.672 0-6.995 2.495-12.718 6.589-17.195-.66-1.621-2.856-8.14.629-16.96 0 0 5.37-1.722 17.597 6.57 5.104-1.424 10.58-2.132 16.022-2.16 5.438.028 10.91.736 16.022 2.16 12.22-8.292 17.582-6.57 17.582-6.57 3.493 8.82 1.297 15.339.64 16.96 4.102 4.477 6.578 10.2 6.578 17.195 0 24.618-14.966 30.035-29.22 31.62 2.295 1.98 4.342 5.89 4.342 11.87 0 8.564-.079 15.476-.079 17.576 0 1.715 1.155 3.71 4.4 3.084 25.413-8.493 43.733-32.494 43.733-60.798 0-35.394-28.657-64.084-64.006-64.084\"/>\u003C/svg>","title":"$:/core/images/github","tags":"$:/tags/Image cat","modified":"20221023151839070","modifier":"Telumire","domain":"github"},
{"created":"20221023151058884","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-locked-padlock tc-image-button\" viewBox=\"0 0 128 128\">\u003Cpath fill-rule=\"evenodd\" d=\"M96.472 64H105v32.01C105 113.674 90.674 128 73.001 128H56C38.318 128 24 113.677 24 96.01V64h8c.003-15.723.303-47.731 32.16-47.731 31.794 0 32.305 32.057 32.312 47.731zm-15.897 0H48.44c.002-16.287.142-32 15.719-32 15.684 0 16.977 16.136 16.415 32zM67.732 92.364A8.503 8.503 0 0064.5 76a8.5 8.5 0 00-3.498 16.25l-5.095 22.77H72.8l-5.07-22.656z\"/>\u003C/svg>","title":"$:/core/images/locked-padlock","tags":"$:/tags/Image","modified":"20221117204351186","modifier":"Telumire","domain":"https","list-before":""},
{"created":"20221023150354482","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-open-window tc-image-button\" viewBox=\"0 0 128 128\">\u003Cg fill-rule=\"evenodd\">\u003Cpath d=\"M16 112h88.994c3.87 0 7.006 3.59 7.006 8 0 4.418-3.142 8-7.006 8H7.006C3.136 128 0 124.41 0 120a9.321 9.321 0 010-.01V24.01C0 19.586 3.59 16 8 16c4.418 0 8 3.584 8 8.01V112z\"/>\u003Cpath d=\"M96 43.196V56a8 8 0 1016 0V24c0-4.41-3.585-8-8.007-8H72.007C67.588 16 64 19.582 64 24c0 4.41 3.585 8 8.007 8H84.57l-36.3 36.299a8 8 0 00-.001 11.316c3.117 3.117 8.19 3.123 11.316-.003L96 43.196zM32 7.999C32 3.581 35.588 0 40 0h80c4.419 0 8 3.588 8 8v80c0 4.419-3.588 8-8 8H40c-4.419 0-8-3.588-8-8V8z\"/>\u003C/g>\u003C/svg>","title":"$:/core/images/open-window","tags":"$:/tags/Image","modified":"20221117204451312","modifier":"Telumire","domain":"http","list-before":""},
{"created":"20221023151750597","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-twitter tc-image-button\" viewBox=\"0 0 128 128\">\u003Cpath fill-rule=\"evenodd\" d=\"M41.626 115.803A73.376 73.376 0 012 104.235c2.022.238 4.08.36 6.166.36 12.111 0 23.258-4.117 32.105-11.023-11.312-.208-20.859-7.653-24.148-17.883a25.98 25.98 0 0011.674-.441C15.971 72.881 7.061 62.474 7.061 49.997c0-.108 0-.216.002-.323a25.824 25.824 0 0011.709 3.22c-6.936-4.617-11.5-12.5-11.5-21.433 0-4.719 1.274-9.142 3.5-12.945 12.75 15.579 31.797 25.83 53.281 26.904-.44-1.884-.67-3.85-.67-5.868 0-14.22 11.575-25.75 25.852-25.75a25.865 25.865 0 0118.869 8.132 51.892 51.892 0 0016.415-6.248c-1.93 6.012-6.029 11.059-11.366 14.246A51.844 51.844 0 00128 25.878a52.428 52.428 0 01-12.9 13.33c.05 1.104.075 2.214.075 3.33 0 34.028-26 73.265-73.549 73.265\"/>\u003C/svg>","title":"$:/core/images/twitter","tags":"$:/tags/Image","modified":"20221023151750597","modifier":"Telumire","domain":"twitter"},
{"created":"20221023145229624","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-video tc-image-button\" viewBox=\"0 0 128 128\">\u003Cpath fill-rule=\"evenodd\" d=\"M64 12c-34.91 0-55.273 2.917-58.182 5.833C2.91 20.75 0 41.167 0 64.5c0 23.333 2.91 43.75 5.818 46.667C8.728 114.083 29.091 117 64 117c34.91 0 55.273-2.917 58.182-5.833C125.09 108.25 128 87.833 128 64.5c0-23.333-2.91-43.75-5.818-46.667C119.272 14.917 98.909 12 64 12zm-9.084 32.618c-3.813-2.542-6.905-.879-6.905 3.698v31.368c0 4.585 3.099 6.235 6.905 3.698l22.168-14.779c3.813-2.542 3.806-6.669 0-9.206L54.916 44.618z\"/>\u003C/svg>","title":"$:/core/images/video","tags":"$:/tags/Image","modified":"20221023145246515","modifier":"Telumire","domain":"youtube dailymotion"},
{"created":"20221117201214456","creator":"Telumire","text":"\\define lingo-base() $:/language/ControlPanel/Saving/GitService/\n\\define service-name() ~GitHub\n\n\u003C\u003Clingo Description>>\n\n|\u003C\u003Clingo UserName>> |\u003C$edit-text tiddler=\"$:/GitHub/Username\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo GitHub/Password>> |\u003C$password name=\"github\"/> |\n|\u003C\u003Clingo Repo>> |\u003C$edit-text tiddler=\"$:/GitHub/Repo\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo Branch>> |\u003C$edit-text tiddler=\"$:/GitHub/Branch\" default=\"main\" tag=\"input\"/> |\n|\u003C\u003Clingo Path>> |\u003C$edit-text tiddler=\"$:/GitHub/Path\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo Filename>> |\u003C$edit-text tiddler=\"$:/GitHub/Filename\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo ServerURL>> |\u003C$edit-text tiddler=\"$:/GitHub/ServerURL\" default=\"https://api.github.com\" tag=\"input\"/> |","title":"$:/core/ui/ControlPanel/Saving/GitHub","tags":"","caption":"{{$:/language/ControlPanel/Saving/GitService/GitHub/Caption}}","modified":"20221117201330790","modifier":"Telumire"},
{"created":"20221115214932660","text":"\\define lingo-base() $:/language/Import/\n\n\\define closePopupActions()\n\u003C$action-deletetiddler $filter=\"[title\u003CimportState>] [title\u003CimportTitle>]\"/>\n\\end\n\n\\define replacement-text-image() [img[$(prefix-image)$$title$]]\n\n\\define replacement-text-file() [[$title$]]\n\n\\define postImportActions()\n\\whitespace trim\n\n\u003C$list filter=\"[\u003CimportTitle>links[]] :filter[get[type]prefix[image]]\" variable=\"imageTitle\">\n  \u003C$let newTitle={{{ [{!!use-prefix}match[true]then{!!prefix}] [\u003CimageTitle>]+[join[]] }}}>\n    \u003C$action-sendmessage $message=\"tm-rename-tiddler\" from=\u003C\u003CimageTitle>> to=\u003C\u003CnewTitle>> />\n  \u003C/$let>\n\u003C/$list>\n\n\u003C$let prefix-image={{{ [{!!use-prefix}match[true]then{!!prefix}] }}}>\n\u003C$list filter=\"[\u003CimportTitle>links[]] :reduce[get[type]prefix[image]then\u003Creplacement-text-image>else\u003Creplacement-text-file>search-replace[$title$],\u003CcurrentTiddler>addprefix\u003Caccumulator>]\" variable=\"imageTitle\">\n\u003C$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"insert-text\"\n\ttext=\u003C\u003CimageTitle>>\n/>\n\u003C/$list>\n\u003C/$let>\n\u003C\u003CclosePopupActions>>\n\\end\n\n\\define buttons()\n\\whitespace trim\n\u003C$tiddler tiddler=\"$:/core/ui/EditorToolbar/file-import\">\n\u003C$checkbox field=\"use-prefix\" checked=\"true\">\u003C$text text=\" \"/>Prefix with \u003C$edit-text field=\"prefix\"/>\u003C/$checkbox>\n\u003C$tiddler>\n\u003C$button class=\"tc-btn-invisible\" actions=\u003C\u003CclosePopupActions>> >\u003C\u003Clingo Listing/Cancel/Caption>>\u003C/$button>\n&#32;\n\u003C$button class=\"tc-btn-invisible\" message=\"tm-perform-import\" param=\u003C\u003CimportTitle>> actions=\u003C\u003CpostImportActions>> >\u003C\u003Clingo Listing/Import/Caption>>\u003C/$button>\n\\end\n\n\\whitespace trim\n\u003C$reveal type=\"popup\" state=\u003C\u003CimportState>> tag=\"div\" class=\"tc-editor-importpopup\">\n\u003Cdiv class=\"tc-editor-import\">\n\u003C$list filter=\"[\u003CimportTitle>field:plugin-type[import]]\">\n\u003Ch2>\u003C\u003Clingo Editor/Import/Heading>>\u003C/h2>\n\u003C$tiddler tiddler=\u003C\u003CimportTitle>>>\n{{||$:/core/ui/ImportListing}}\n\u003C\u003Cbuttons>>\n\u003C/$tiddler>\n\u003C/$list>\n\u003C/div>\n\u003C/$reveal>\n","title":"$:/core/ui/EditorToolbar/file-import","tags":"$:/tags/EditorTools","condition":"[\u003CtargetTiddler>!has[type]] [\u003CtargetTiddler>type[text/vnd.tiddlywiki]]","modified":"20221231134641817","prefix":"$:/diagram/","use-prefix":"true"},
{"created":"20221104122826199","creator":"Telumire","title":"$:/DefaultTiddlers","text":"[[Tasks: Learning]]","modified":"20221229053010195","modifier":"Telumire"},
{"title":"$:/diagram/schemaappcomponent.png","text":"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","type":"image/png","modified":"20230207151529220"},
{"title":"$:/diagram/screenshotmainbundle.png","text":"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","type":"image/png","modified":"20230207155050290"},
{"title":"$:/diagram/screenshotreviewcomponent","text":"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","type":"image/png","modified":"20230207153108006"},
{"created":"20221119151803044","creator":"Telumire","text":"\u003Clink rel=\"alternate\" type=\"application/rss+xml\" title=\"Libro\" href=\"https://Telumire.github.io/Libro/files/xml.rss\"/>","title":"$:/discoverfeed","modified":"20221121202658405","modifier":"Telumire","tags":"$:/tags/RawMarkup","type":"text/plain"},
{"created":"20221119130808747","creator":"Telumire","text":"\u003Ciframe src='https://ko-fi.com/telumire/?hidefeed=true&widget=true&embed=true&preview=true' style='border:none;width:100%;height:700px' title='telumire'>\u003C/iframe>","tags":"$:/tags/SideBar showcase","title":"$:/Donate","modified":"20221121203704067","modifier":"Telumire","caption":"Buy me a ☕"},
{"created":"20220926201711935","creator":"Telumire","text":"\\define editor(field , placeholder)\n\u003Cspan class=\"libro-editor\">\n\u003C$let targetTiddler=\"$(currentTiddler)$\">\n\u003C$edit-text\nclass=\"tc-edit-texteditor tc-edit-texteditor-body\"\nplaceholder=\"$placeholder$\"\ntabindex={{$:/config/EditTabIndex}}\nfocus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\ncancelPopups=\"yes\"\nfield=\"$field$\"\ntag=\"textarea\"\n>\n\u003Ctemplate>\n\u003C$list filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\">\n\u003C$reveal type=\"nomatch\" state=\u003C\u003Cconfig-visibility-title>> text=\"hide\">\n{{||$:/core/ui/EditTemplate/body/toolbar/button}}\n\u003C/$reveal>\n\u003C/$list>\n\u003C/template>\n\u003C/$edit-text>\n\u003C/$let>\n\u003C/span>\n\\end","tags":"$:/tags/Macro Sources Description","title":"$:/Editor/Macro","modified":"20221121131954227","modifier":"Telumire"},
{"created":"20221121131528599","creator":"Telumire","text":".libro-editor,.libro-editor .tc-editor-toolbar{\ndisplay:contents;\n}\n\n.libro-editor iframe{\nmargin:0!important;\n}","tags":"$:/tags/Stylesheet","title":"$:/Editor/Style","modified":"20221121140509364","modifier":"Telumire"},
{"created":"20221026204511566","creator":"Telumire","text":"\u003C$list filter=\"[{!!title}has:field[description]]\">\n\n;Description\n\n\u003C\u003Ceditor field:\"description\" placeholder:\"Write a description\">>\n\u003C/$list>","tags":"$:/tags/EditTemplate Sources Description","title":"$:/EditTemplate/Description","modified":"20221026204606156","modifier":"Telumire","list-after":"$:/core/ui/EditTemplate/body","description":""},
{"created":"20220926201133982","creator":"Telumire","text":"\u003C$list filter=\"[{!!title}has:field[sources]]\">\n\n;Sources\n\n\u003C\u003Ceditor field:\"sources\" placeholder:\"Edit the sources\">>\n\u003C/$list>","tags":"$:/tags/EditTemplate Sources","title":"$:/EditTemplate/Sources","modified":"20221026203948520","modifier":"Telumire","sources":"","list-after":"$:/core/ui/EditTemplate/body"},
{"created":"20221214171225270","creator":"Telumire","text":"Autocomplete links","tags":"$:/tags/EC/AutoComplete/Trigger","caption":"Link","trigger":"[[","filter":"[all[tiddlers]!is[system]!is[draft]search:title\u003Cquery>]","display-filter":"[\u003CcurrentTiddler>]","template":"[[$option$]]$caret$","auto-trigger-textarea":"1","modified":"20221214171505316","modifier":"Telumire","title":"$:/EvidentlyCube/Trigger/2","auto-trigger-input":"1"},
{"created":"20221223181525382","text":"Insert a snippet of text","tags":"$:/tags/EC/AutoComplete/Trigger","caption":"Insert a snippet of text","trigger":"{","filter":"[all[tiddlers]!is[draft]tag[template]search:title\u003Cquery>]","display-filter":"[\u003CcurrentTiddler>get[caption]else{!!title}]","template":"$option$","auto-trigger-textarea":"1","modified":"20221223203559003","title":"$:/EvidentlyCube/Trigger/Snippet","transform-filter":"[{!!text}]","auto-trigger-input":"1"},
{"created":"20221127133556448","creator":"Telumire","text":"Triggers after typing `[[` and simply lists all tiddlers matching your query, without any additional filtering or changing how the results display.","tags":"$:/tags/EC/AutoComplete/Trigger","trigger":"[[$","filter":"[all[tiddlers]!is[draft]search:title\u003Cquery>]","display-filter":"[\u003CcurrentTiddler>]","template":"[[$caret$|$option$]]","auto-trigger-textarea":"1","modified":"20221127134109339","modifier":"Telumire","title":"$:/EvidentlyCube/Trigger/System","auto-trigger-input":"1"},
{"created":"20221104102258630","creator":"Telumire","title":"$:/favicon.ico","text":"\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#d79921\" width=\"22pt\" height=\"22pt\">\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 250 250\">  \u003Cpath fill=\"#c3002f\" d=\"m125 230 78.9-43.7 14.2-123.1L125 30 31.9 63.2l14.2 123.1z\"/>  \u003Cpath fill=\"#dd0031\" d=\"M125 30 31.9 63.2l14.2 123.1L125 230z\"/>  \u003Cpath fill=\"#fff\" d=\"M125 52.1 66.8 182.6h21.7l11.7-29.2h49.4l11.7 29.2H183zm17 83.3h-34l17-40.9z\"/>\u003C/svg>\u003C/svg>","modified":"20230426122440288","modifier":"Telumire","type":"image/svg+xml"},
{"created":"20221120162612954","creator":"Telumire","text":"\\define new-announcement-action()\n\u003C$action-createtiddler $basetitle={{!!news-title}} tags={{{\n[{!!title}] [[$:/temp/feed/new-tiddler/tags]tags[]] +[format:titlelist[]join[ ]]\n}}} text={{!!news-content}}/>\n\n\u003C$action-setmultiplefields $fields=\"news-title news-content\"/>\n\n\u003C$tiddler tiddler=\"$:/Libro/Settings/Feed\">\n\u003C$importvariables filter=\u003C\u003CcurrentTiddler>> >\n\u003C\u003Ccreate-feed>>\n\u003C/$importvariables>\n\\end\n\n\u003Ctable class=\"full no-border\">\n\u003Ctr>\n\u003Ctd>\n\u003C$edit-text field=\"news-title\" placeholder=\"title\"/>\n\u003C$button class=\"tc-btn-invisible tc-tiddler-controls\" tooltip=\"add tags\">\n\u003C$checkbox field=\"display-tags\" checked=\"true\" class=\"tc-cbx-invisible\">\n\u003C$list filter=\"[{!!display-tags}match[true]]\"\nemptyMessage=\"{{$:/core/images/chevron-down}}\"\n>{{$:/core/images/chevron-up}}\u003C/$list>\n\u003C/$checkbox>\n\u003C/$button>\n\u003C/td>\n\u003C/tr>\n\u003C$list filter=\"[{!!display-tags}match[true]]\">\n\u003Ctr>\u003Ctd>\n\u003C$tiddler tiddler=\"$:/temp/feed/new-tiddler/tags\">\n{{||$:/core/ui/EditTemplate/tags}}\n\u003C/$tiddler>\n\u003C/td>\u003C/tr>\n\u003C/$list>\n\u003Ctr>\u003Ctd>\u003C\u003Ceditor \"news-content\" \"content\">>\u003C/td>\u003C/tr>\n\u003Ctr>\u003Ctd>\u003C$button actions=\u003C\u003Cnew-announcement-action>> >post to the feed\u003C/$button>\u003C/td>\u003C/tr>\n\u003C/table>\n\n!!! Latest\n\n\u003C\u003Clist-links [is[current]tagging[]!sort[created]limit[10]]>>","title":"$:/Feed","modified":"20221121202658405","modifier":"Telumire","icon":"$:/ThemeTweaks/svg/feed","news-title":"","news-content":"","tags":"$:/Libro/Settings/Feed $:/tags/SideBar","caption":"Feed {{$:/ThemeTweaks/svg/feed}}"},
{"created":"20221121124942200","creator":"Telumire","text":"!!! Categories\n\n{{||$:/Libro/FieldsEditor}}","tags":"$:/Feed","title":"$:/Feed/Categories","modified":"20221121204033210","modifier":"Telumire","Updates":"[[$:/Feed]tagging[]tag[update]!sort[created]limit[10]]"},
{"created":"20211108130930330","creator":"Telumire","text":"\u003C!-- RSS guidelines from https://www.rssboard.org/rss-profile -->\n\\define dateTemplate()[UTC]ddd, 0DD mmm YYYY 0hh:0mm:0ss GMT\n\\define filter()\n[!is[system]is[tiddler]] \n-[prefix[$:/state/popup/]]\n-[prefix[$:/temp/]]\n-[prefix[$:/HistoryList]]\n-[status[pending]plugin-type[import]]\n-[[$:/boot/boot.css]]\n-[type[application/javascript]library[yes]]\n-[[$:/boot/boot.js]]\n-[[$:/boot/bootprefix.js]]\n$(publishFilter)$\n+[!sort[modified]]\n+[limit[$(maxItems)$]]\n\\end\n\n\\define item()\n`\u003Citem>\n      \u003Ctitle>`\u003C$view field=\"title\" format=\"encodehtml\"/>`\u003C/title>\n      \u003Cdescription>`\u003C$view field=\"summary\" format=htmlencodedplainwikified/>`\u003C/description>\n      \u003Ccategory>`{{{[all[current]tags[]sortan[]join[/]]}}}`\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[`\u003C$let tv-wikilink-template=\"$(feed-domain)$#$uri_encoded$\">\u003C$view field=\"text\" format=htmlwikified/>\u003C/$let>`]]>\u003C/content:encoded>\n\t  \u003CpubDate>`{{{[{!!modified}else{!!created}format:date\u003CdateTemplate>]}}}`\u003C/pubDate>\n      \u003Clink>`$(feed-domain)$#\u003C$view field=\"title\" format=\"urlencoded\"/>`\u003C/link>\n      \u003Cguid isPermaLink='true'>`$(feed-domain)$#\u003C$view field=\"title\" format=\"urlencoded\"/>`\u003C/guid>\n   \u003C/item>`\n\\end\n\n\\define RSS()\n`\u003C?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\u003Crss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\">\n\u003Cchannel>\n  \u003Catom:link href=\"`$(base)$$(path)$$(filename)$`\" rel=\"self\" type=\"application/rss+xml\" />\n  \u003Ctitle>`$(title)$`\u003C/title>\n  \u003Clink>`$(feed-domain)$`\u003C/link>\n  \u003Cdescription>`$(description)$`\u003C/description>\n  \u003Clanguage>`$(language)$`\u003C/language>\n  \u003ClastBuildDate>`\u003C$view tiddler={{{[!is[system]!is[draft]!sort[modified]]}}} field=\"modified\" format=\"date\" template=\u003C\u003CdateTemplate>>/>`\u003C/lastBuildDate>\n\t`\u003C$list filter=\u003C\u003Cfilter>>>\u003C\u003Citem>>\u003C/$list>`\n\u003C/channel>\n\u003C/rss>`\n\\end\n\n\u003C!-- create/update the tiddler xml.rss -->\n\\define create-feed()\n\u003C$let\nfeed-domain={{!!feed-domain}}\npublishFilter={{!!feed-filter}}\nmaxItems={{{[{!!feed-limit}!is[blank]else[10]]}}}\ntarget={{!!feed-target}}\nbase={{{[subfilter{!!feed-base}]}}}\npath={{!!feed-path}}\nfilename={{!!feed-filename}}\ntitle={{!!feed-title}}\ndescription={{!!feed-description}}\nlanguage={{{ [subfilter{!!feed-language}] }}}\n>\n\u003C$wikify name=\"text\" text=\u003C\u003CRSS>> type=\"text/vnd.tiddlywiki\" mode=\"block\" output=\"text\">\n\u003C$action-setfield $tiddler=\u003C\u003Cfilename>> text=\u003C\u003Ctext>> type=\"text/plain\"/>\n\u003C/$wikify>\n\n\u003C$action-setfield \n$tiddler=\"$:/discoverfeed\" \ntext={{{[[\u003Clink rel=\"alternate\" type=\"application/rss+xml\" title=\"]][\u003Ctitle>][[\" href=\"]][\u003Cbase>][\u003Cpath>][\u003Cfilename>][[\"/>]]+[join[]]}}}\ntags=\"$:/tags/RawMarkup\"\ntype=\"text/plain\"\n/>\n\u003C/$let>\n\\end\n\n\\define set-feed-title() \u003C$wikify name='text' text={{$:/SiteTitle}} output='text'>\u003C$action-setfield $field=\"feed-title\" $value=\u003C\u003Ctext>>/>\u003C/$wikify>\n\\define set-feed-description() \u003C$wikify name='text' text={{$:/SiteSubtitle}} output='text'>\u003C$action-setfield $field=\"feed-description\" $value=\u003C\u003Ctext>>/>\u003C/$wikify>\n\\define set-feed-filter() \u003C$action-setfield $field=\"feed-filter\" $value=\"+[tag[article]]\"/>\n\\define set-feed-limit()  \u003C$action-setfield $field=\"feed-limit\" $value=\"10\"/>\n\\define set-feed-target() \u003C$action-setfield $field=\"feed-target\" $value=\"index.html\"/>\n\\define set-feed-base()  \u003C$action-setfield $field=\"feed-base\" $value=\"[[https://]][{$:/SaveToGitHub/private/username}][[.github.io]][{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}][{$:/GitHub/Path}]+[join[]]\"/>\n\\define set-feed-path() \u003C$action-setfield $field=\"feed-path\" $value=\"/files/\"/>\n\\define set-feed-filename() \u003C$action-setfield $field=\"feed-filename\" $value=\"xml.rss\"/>\n\\define set-feed-language() \u003C$action-setfield $field=\"feed-language\" $value={{{[{$:/language}trim[$:/languages/]]}}}/>\n\n\\define set-default()\n\u003C\u003Cset-feed-title>>\n\u003C\u003Cset-feed-description>>\n\u003C\u003Cset-feed-filter>>\n\u003C\u003Cset-feed-limit>>\n\u003C\u003Cset-feed-target>>\n\u003C\u003Cset-feed-base>>\n\u003C\u003Cset-feed-path>>\n\u003C\u003Cset-feed-filename>>\n\u003C\u003Cset-feed-language>>\n\\end\n\n\u003C!-- BUTTONS -->\n\u003C$button actions=\u003C\u003Cset-default>> tooltip=\"Set the default settings\">Default settings\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-title>> tooltip=\"This will set the wiki title as the feed title\">Set title\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-description>> tooltip=\"This will set the wiki subtitle  as the feed description\">Set description\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-filter>> tooltip=\"Set a filter to only include the tiddlers tagged article\">Set filter\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-limit>> tooltip=\"Set the default of 10 items in the feed\">Set limit\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-target>> tooltip=\"Set the target of the feed items\">Set target\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-base>> tooltip=\"Set the base of the wiki\">Set base url\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-path>> tooltip=\"Set the path to the rss file\">Set path\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-filename>> tooltip=\"Set the name of the rss file\">Set filename\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-language>> tooltip=\"Set the language\">Set language\u003C/$button>\n\u003C$button actions=\u003C\u003Ccreate-feed>> tooltip=\"Create/Update RSS feed\">Generate feed\u003C/$button>\n\n\u003C!-- SETTINGS -->\n\n\u003Cspan class=\"feed-settings\">\n\n{{||$:/Libro/FieldsEditor}}\n\n\u003C/span>\n\nValidate feed : [[by input|https://validator.w3.org/feed/#validate_by_input]] or check the \u003Ca href={{{\n\"https://validator.w3.org/feed/check.cgi?url=\"\n[subfilter{!!feed-base}] [{!!feed-path}][{!!feed-filename}] \n+[join[]] }}}>feed uploaded\u003C/a>.\n\n!!! Send feed to GitHub\n\n{{$:/Feed/Settings/SendFeed}}\n\n\u003C$scrollable class='tc-scrollable'>\n\u003C$macrocall $name=\"copy-code\"\ntitle=\"[[xml.rss]]\"\nlanguage=\"xml\"\ndisplay-language=\"show\"\ncode={{xml.rss}} />\n\u003C/$scrollable>\n\n\u003C$macrocall $name=\"copy-code\"\ntitle=\"[[$:/discoverfeed]]\"\nlanguage=\"html\"\ndisplay-language=\"hide\"\ncode={{$:/discoverfeed}} />\n\n\u003Cstyle>\n.feed-settings :is(.tc-edit-field-remove,.tc-edit-field-add){\ndisplay:none;\n}\n.tc-scrollable {\n\tmax-height: 21em;\n}\n\u003C/style>","title":"$:/Feed/Settings","feed-base":"[[https://]][{$:/SaveToGitHub/private/username}][[.github.io]][{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}][{$:/GitHub/Path}]+[join[]]","feed-description":"A custom tiddlywiki edition","feed-filename":"xml.rss","feed-filter":"+[tag[$:/Feed]]","feed-language":"en-GB","feed-limit":"10","feed-path":"files/","feed-target":"xml.rss","feed-title":"Libro","modified":"20221206103717732","tags":"$:/Feed/Settings $:/tags/ControlPanel/Settings","type":"text/vnd.tiddlywiki","revision":"0","bag":"default","modifier":"Telumire","feed-domain":"https://libro.tiddlyhost.com/","caption":"Feed"},
{"created":"20221119162114166","creator":"Telumire","text":"\\define send-feed-action()\n\u003C$tiddler tiddler=\"$:/Feed/Settings\">\n\u003C$importvariables filter=\u003C\u003CcurrentTiddler>> >\n\u003C\u003Ccreate-feed>>\n\u003C/$importvariables>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text={{$:/SaveToGitHub/private/username}}/>\n\u003C$action-sendmessage $message=\"tm-upload-tiddlers\" $param={{!!feed-filename}}/>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text=\"\"/>\n\u003C/$tiddler>\n\\end\n\\whitespace trim\n\u003C$button\ntooltip=\"send feed to GitHub\"\nclass=\u003C\u003Ctv-config-toolbar-class>>\naria-label=\"send feed to GitHub\"\nactions=\u003C\u003Csend-feed-action>>\n>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n\u003C$transclude tiddler=\"$:/ThemeTweaks/svg/feed\"/>\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\n\u003C$text text=\"send feed to GitHub\"/>\n\u003C/span>\n\u003C/$list>\n\u003C/$button>","tags":"$:/tags/PageControls $:/Feed/Settings $:/libro/FileUpload","title":"$:/Feed/Settings/SendFeed","modified":"20221206103509649","modifier":"Telumire","caption":"{{$:/ThemeTweaks/svg/feed}} send feed to GitHub","description":"A button that use the file upload plugin to send a feed file to GitHub."},
{"created":"20221121135326649","creator":"Telumire","text":".full{\nwidth:100%;\n}\n\n.full td{\ndisplay:flex;\ngap:1ch;\n}\n\n.full .tc-edit-tags{\npadding:0;\n}\n\n.full :is(input,textarea){\nflex:1;\n}\n\n.no-border, .no-border td, .no-border .tc-edit-tags{\nborder:unset;\n}\n\n.tc-tiddler-controls svg{\n\tfill: \u003C\u003Ccolour tiddler-controls-foreground>>;\n}\n\n.tc-tiddler-controls .tc-checkbox:hover svg{\n\tfill: \u003C\u003Ccolour tiddler-controls-foreground-hover>>;\n}\n","tags":"$:/tags/Stylesheet","title":"$:/Feed/Style","modified":"20221121140047963","modifier":"Telumire"},
{"created":"20221119151520447","creator":"Telumire","title":"$:/GitHub/Branch","text":"main","modified":"20221119151722443","modifier":"Telumire"},
{"created":"20221105234753820","title":"$:/GitHub/Filename","text":"index.html","modified":"20221105234753820"},
{"created":"20221105234741849","title":"$:/GitHub/Path","text":"/","modified":"20221105234757510"},
{"created":"20221105234804261","creator":"Telumire","title":"$:/GitHub/Repo","text":"Telumire/learning-angular","modified":"20221122175828958","modifier":"Telumire"},
{"created":"20221105234627942","creator":"Telumire","title":"$:/GitHub/Username","text":"","modified":"20221214163812514","modifier":"Telumire"},
{"created":"20221019203603776","creator":"Telumire","text":"* [[Ask me a question|https://talk.tiddlywiki.org/new-message?username=telumire]]\n* [[Ask the community|https://talk.tiddlywiki.org/new-topic?tags=help]]\n* [[Ask my help & support me (thanks !)|https://ko-fi.com/telumire/commissions]]","tags":"$:/tags/SideBar showcase","title":"$:/Help","caption":"Ask {{$:/core/images/help}}","modified":"20221121203650355","modifier":"Telumire"},
{"created":"20221229004524139","text":"\u003C?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\u003Csvg class=\"tc-image-add-comment tc-image-button\" width=\"22pt\" height=\"22pt\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\">\u003Cpath d=\"m126 63.5c0-29.547-28.206-53.5-63-53.5s-63 23.953-63 53.5c0 16.234 8.516 30.78 21.958 40.591-3.654 10.634-11.358 19.038-21.01 22.874 2.101 0.198 4.255 0.3 6.451 0.3 15.709 0 29.323-5.244 36.006-12.903 1.5353 0.4262 3.3723 0.85642 4.957 1.183 2.741 0.50505 3.7408-1.1882 3.7408-2.6434 0-1.2994-0.0479-4.7339-0.0745-9.311-15.239 3.3136-18.454-7.3541-18.454-7.3541-2.4919-6.338-6.0846-8.0252-6.0846-8.0252-4.9735-3.401 0.37664-3.3342 0.37664-3.3342 5.4991 0.38778 8.3916 5.6549 8.3916 5.6549 4.887 8.3813 12.824 5.9605 15.945 4.5557 0.4982-3.5422 1.9141-5.9605 3.478-7.331-12.165-1.3842-24.956-6.0923-24.956-27.112 0-5.9879 2.1358-10.887 5.6403-14.719-0.56498-1.3876-2.4448-6.968 0.53843-14.518 0 0 4.5968-1.4741 15.063 5.624 4.3691-1.219 9.0567-1.825 13.715-1.849 4.655 0.024 9.3392 0.63003 13.715 1.849 10.461-7.0981 15.051-5.624 15.051-5.624 2.9901 7.5501 1.1102 13.13 0.54785 14.518 3.5114 3.8324 5.6309 8.7314 5.6309 14.719 0 21.074-12.811 25.711-25.013 27.067 1.9646 1.6949 3.7168 5.042 3.7168 10.161 0 7.331-0.0676 11.918-0.0676 13.716 0 1.4681 0.9887 3.1758 3.7665 2.64 24.729-7.2235 42.97-27.277 42.97-50.729z\"/>\u003C/svg>\n","title":"$:/images/github-comments","type":"image/svg+xml","modified":"20221229004532402"},
{"title":"$:/Import","text":"The following tiddlers were imported:\n\n# [[Exploring JS: JavaScript books for programmers]]","status":"complete"},
{"title":"$:/isEncrypted","text":"no"},
{"created":"20221119131951460","creator":"Telumire","text":"","tags":"$:/tags/Image","title":"$:/kofi","modified":"20221119173444789","modifier":"Telumire","_canonical_uri":"https://storage.ko-fi.com/cdn/kofi_stroke_cup.svg","type":"image/svg+xml","domain":"ko-fi.com"},
{"created":"20221104122931810","creator":"Telumire","title":"$:/language","text":"$:/languages/en-GB","modified":"20221107143625483","modifier":"Telumire"},
{"created":"20221117144646903","creator":"Telumire","title":"$:/language/ControlPanel/Saving/GitService/CommitMessage","text":"first commit","modified":"20221122175924868","modifier":"Telumire"},
{"created":"20221124212514248","creator":"Telumire","text":"{{$:/SiteTitle}} is made possible thanks to the work of :\n\n\u003C$list filter=\"[get[author]unique[]]\">  \n\n!!{{!!title}}\n\n\u003C\u003Clist-links \"[author{!!title}]\">>\n\n\u003C/$list>\n\n.. and the [[many other contributors of TiddlyWiki on GitHub|https://github.com/Jermolene/TiddlyWiki5/graphs/contributors]].","tags":"","title":"$:/Libro/Acknowledgments","modified":"20221127134453959","modifier":"Telumire"},
{"created":"20221123221904997","creator":"Telumire","text":"{{$:/SiteTitle}} contient les plugins, styles, macros et thème que j'utilise dans [[mes wikis|My wikis]]. Cette édition dispose d'un feed RSS dédié, vous pouvez vous y abonner [[ici|https://Telumire.github.io/Libro/files/xml.rss]].\n\n!! Prise en main\n\n{{$:/libro/Download/Empty}} ou si vous avez [[cloné|https://tiddlyhost.com/sites/new?clone=libro]] ce template : {{$:/libro/Reset}}\n\n!! [[Fonctionnalités|$:/libro/Welcome/Features/fr]]\n\n{{$:/libro/Welcome/Features/fr}}\n\n!! Plannifié\n\n\u003Cul>\n\u003C$list filter=\"[task[todo]]\">\u003Cli>\u003C$checkbox field=\"task\" checked=\"done\"/> \u003C$link>\n\u003C$text text={{{ [{!!title}removeprefix[$:/libro/task/]] :else[{!!title}]}}}/>\n\u003C/$link>\u003C/li>\u003C/$list>\n\u003C$list filter=\"[task[done]]\">\u003Cli>\u003C$checkbox field=\"task\" unchecked=\"todo\"/>\u003C$link>\n\u003C$text text={{{ [{!!title}removeprefix[$:/libro/task/]] :else[{!!title}]}}}/>\n\u003C/$link>\u003C/li>\u003C/$list>\n\u003C/ul>\n \n","title":"$:/libro/Bienvenue","modified":"20221124174653652","tags":"showcase","modifier":"Telumire","lang":"fr","en":"$:/libro/Welcome","lang-selected":"fr","caption":"Bienvenue"},
{"created":"20221117160014287","creator":"Telumire","text":"\\define download-empty-action()\n\u003C$action-sendmessage $message=\"tm-download-file\" $param=\"$:/core/save/all\"\npublishFilter=\"-[has[task]] -$:/HistoryList -[search:title[$:/state/folded]] -[!is[system]] -[tag[Welcome]] -[tag[showcase]]\" \nfilename={{{ [{$:/SiteTitle}][[-empty.html]] +[join[]] }}}/>\n\\end\n\n\u003C$button class=\"tc-btn-download\" actions=\u003C\u003Cdownload-empty-action>> tooltip=\"Download Empty\">\nDownload empty\n\u003C/$button>\n\n\u003Cstyle>\n.tc-btn-download:active,.tc-btn-download:focus{\n\toutline:none;\n}\n.tc-btn-download {\n\tpadding: 10px 30px;\n\tborder-radius: 5px;\n\tbackground: #1462ff;\n\tborder: none;\n\tbox-shadow: 0 2px 2px 0 #4a74c9;\n\toverflow: hidden;\n\tcursor: pointer;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n\tcolor: #fff;\n\tfill: #fff;\n}\n\n.tc-btn-download:active {\n\tbackground: #1475ff;\n}\n\u003C/style>","tags":"","title":"$:/libro/Download/Empty","modified":"20221121203636460","modifier":"Telumire"},
{"created":"20220810030023008","creator":"Telumire","text":"\u003Cdiv class=\"search-field tc-search\">\n\u003C$edit-text field=\"search\" placeholder=\"search\"/>\n\u003C$list filter=\"[{!!search}minlength[2]]\" variable=_>\n\u003C$button set=\"!!search\" setTo=\"\" class=\"tc-btn-invisible\">\n{{$:/core/images/close-button}}\n\u003C/$button>\n\u003C/$list>\n\u003C$macrocall $name=\"checkbox\" value=\"yes\" field=\"advanced-search\" label=\"{{$:/core/images/advanced-search-button}}\" class=\"cbx-invisible\"/>\n\u003C$list filter={{!!advanced-search}} variable=_>\u003Cp>{{||TagCloud}}\u003C/p>\u003C/$list>\n\u003C/div>","tags":"$:/Libro/edit-search-field","title":"$:/Libro/edit-search-field","modified":"20221117200944117","modifier":"Telumire","search":"","advanced-search":""},
{"created":"20220810030309967","creator":"Telumire","text":".search-field {\n\twidth: 100%;\n\tdisplay:flex;\n\tgap:.5ch;\n\talign-items: center;\n\tflex-wrap:wrap;\n}\n.search-field input[type=\"text\"]{\n\tflex:1;\n\tmargin: 4px 0 4px 0;\n\tpadding: 3px 3px 3px 3px;\n\tborder: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\n\tline-height: 1.3em;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\n}\n.search-field .tc-image-button{\nheight:1em;\n}\n.search-field .tc-btn-invisible{\ndisplay:grid;\n}\n\n.search-field > p {\n\twidth: 100%;\n\tdisplay: flex;\n\tgap:inherit;\n\tmargin:0;\n\talign-items: center;\n}\n\n/* Notebook theme tweak */\n\n.nc-topbar>.left{\nflex:1;\ndisplay:flex;\nmargin-right:1ch;\n}\n\n.nc-topbar>.left .tc-keyboard,\n.content.search .tc-keyboard{\nflex:1;\n}\n\n.nc-topbar>.left>.tc-keyboard *,\n.nc-topbar input[type=\"search\"]:focus,\n.content.search .tc-keyboard *{\nwidth:100%;\n}\n\n.content.search{\ndisplay:flex;\ngap: 1ch;\n}\n\n.content.search *{\nmargin:0;\n}","tags":"$:/tags/Stylesheet $:/Libro/edit-search-field","title":"$:/Libro/edit-search-field/style","modified":"20221228144848707","modifier":"Telumire"},
{"created":"20221023144838963","creator":"Telumire","text":"\\define target() $:/Libro/ExternalLinksIcon/Style\n\\define update-CSS()\u003C$importvariables filter=\"[\u003Ctarget>]\">\u003C\u003Cupdate-CSS>>\u003C/$importvariables>\n\\define choice(field,value)\n\u003C$radio tiddler=\u003C\u003Ctarget>> actions=\u003C\u003Cupdate-CSS>> placeholder=\u003C\u003C__field__>> field=\u003C\u003C__field__>> value=\u003C\u003C__value__>>>\u003C\u003C__value__>>\u003C/$radio>\n\\end\n\\define options(field,list)\n\u003C$select tiddler=\u003C\u003Ctarget>> actions=\u003C\u003Cupdate-CSS>> placeholder=\u003C\u003C__field__>> field=\u003C\u003C__field__>>>\u003C$list filter=\u003C\u003C__list__>> >\u003Coption>{{!!title}}\u003C/option>\u003C/$list>\u003C/$select>\n\\end\n\\define value(field)\n\u003C$edit-text tiddler=\u003C\u003Ctarget>> inputActions=\u003C\u003Cupdate-CSS>> placeholder=\u003C\u003C__field__>> field=\u003C\u003C__field__>>/>\n\\end\n\n* Side : \u003C\u003Cchoice \"side\" \"before\">> \u003C\u003Cchoice \"side\" \"after\">>\n* Gap: \u003C\u003Cvalue \"gap\">>\n* Size: \u003C\u003Cvalue \"size\">>\n* Text decoration : \u003C\u003Coptions \"text-decoration-line\" \"none underline overline line-through\">>\u003C\u003Cvalue \"text-decoration-color\">>\u003C\u003Coptions \"text-decoration-style\" \"solid double dotted dashed wavy [[]]\">>\n\n[[How to use|$:/Libro/ExternalLinksIcon/Settings/HowTo]]","tags":"$:/tags/ControlPanel/Settings","title":"$:/Libro/ExternalLinksIcon/Settings","modified":"20221117203015189","modifier":"Telumire","caption":"Links icon","install":"\u003C\u003Cexport \"[tag[$:/tags/Image]has[domain]] [tag[External links icon]]\" filename:\"external-links-with-icons\" hint:\"Click or drag and drop this button into your wiki: \">>","description":"Icons for your links.\n\n\u003Cp>\nRequire \u003C\u003Clist-links \"[tag[$:/tags/Image]has[domain]] [tag[External links icon]]\">>\n\u003C/p>","altlink":""},
{"created":"20221117202840906","creator":"Telumire","text":"Add the field \"domain\" to a tiddler with the tag \"$:/tags/Image\" and set its value to the url you want to match. Reload the wiki to see the changes.\n\nYou can change the color of the icon : \n\n|\u003Ca href=\"https://github.com/Jermolene/TiddlyWiki5/releases.atom\" style.color=\"orange\">\u003Ca>flux\u003C/a>\u003C/a>|`\u003Ca href=\"https://github.com/Jermolene/TiddlyWiki5/releases.atom\" style.color=\"orange\">\u003Ca>flux\u003C/a>\u003C/a>`|\n\nLinks icons and domains used in this tiddlywiki:\n\n\u003Cul>\n\u003C$list filter=\"[has[domain]]\">\n\u003Cli>\u003C$link>\u003Ca href={{{ [enlist{!!domain}first[]] }}}/>\u003C/$link> \u003C$list filter=\"[enlist{!!domain}]\" counter=\",\">\u003C$text text={{!!title}}/>\u003C$text text={{{ [\u003C,-last>match[no]then[,]] }}}/> \u003C/$list>\u003C/li>\n\u003C/$list>\n\u003C/ul>\n\n;Tools to create your own icons\n\n* https://yqnn.github.io/svg-path-editor/\n* https://www.photopea.com/","title":"$:/Libro/ExternalLinksIcon/Settings/HowTo","modified":"20221117204512433","modifier":"Telumire"},
{"created":"20221026155718215","creator":"Telumire","text":"\\rules except dash\n\\define this() $:/Libro/ExternalLinksIcon/Style\n\\define static-output()\n/* Static rules for better performances*/\n/* Tag icon*/\n\n.tc-tag-label.tc-btn-invisible:{{!!side}}{\n\u003C$let image=\"$:/core/images/tag-button\">\n\u003C$text text={{{\n[[--mask:url('data:image/svg+xml;utf8,\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"22pt\" height=\"22pt\">]]\n[\u003Cimage>get[text]else\u003Cimage>]\n[[\u003C/svg>');]]+[join[]search-replace:g[#],[%23]search-replace:g[\n],[]]\n}}}/>\n\u003C/$let>\n}\n\n/*Remove the default icon if there is a custom icon for this tag*/\n\n.tc-tag-list-item:is(\u003C$list filter=\"[has[icon]]\">[data-tag-title=\"{{!!title}}\"],\u003C/$list>)>.tc-tag-label:{{!!side}}{\nall:unset;\n}\n\n/* Links icon*/\n\n\u003C$list filter=\"[[$:/tags/Image]tagging[]has[domain]]\" variable=\"link\">\na:is(\u003C$list filter=\"[\u003Clink>each:list-item[domain]]\" counter=\"domain\">[href*=\"{{!!title}}\"]{{{ [\u003Cdomain-last>match[no]then[,]] }}}\u003C/$list>):{{!!side}}{\n\u003C$tiddler tiddler=\u003C\u003Clink>> \n>\u003C$let \nimage={{!!text}} type={{!!type}} uri={{!!_canonical_uri}}\nexternal={{{ [[color:transparent;--mask:unset;--url:url(]] [\u003Curi>] [[)]] +[join[]] }}}\nbase64={{{ [[color:transparent;--mask:unset;--url:url(data:]][{!!type}][[;base64,]][\u003Cimage>][[)]]+[join[]] }}}\nsvg={{{ [[--mask:url('data:image/svg+xml;utf8,\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"22pt\" height=\"22pt\">]][\u003Cimage>get[text]else\u003Cimage>][[\u003C/svg>')]]+[join[]search-replace:g[#],[%23]search-replace:g[\n],[]]}}}\n>\u003C$text text={{{ [\u003Curi>!is[blank]then\u003Cexternal>]~[\u003Ctype>!is[blank]!search[svg]then\u003Cbase64>]~[\u003Csvg>] }}}/>\u003C/$let>\u003C/$tiddler>\n}\n\u003C/$list>\n\n\\end\n\\define update-CSS()\n\u003C$tiddler tiddler=\u003C\u003Cthis>>>\n\u003C$wikify name=\"css\" text=\u003C\u003Cstatic-output>>>\n\u003C$action-setfield $tiddler={{{ $:/temp/[\u003Cthis>]/output +[join[]] }}} tags=\"$:/tags/Stylesheet\" text=\u003C\u003Ccss>> type=\"text/css\"/>\n\u003C/$wikify>\n\u003C/$tiddler>\n\\end\n\n/*\nGeneral rules for tags and links\n*/\n\na[href]:not([href=\"\"],[href^=\"#\"],.tc-page-controls a):{{!!side}},\n.tc-tag-label.tc-btn-invisible:{{!!side}}{\naspect-ratio:1/1;\nbackground:center/contain no-repeat var(--url);\nbackground-color:currentColor;\ncontent:\"\";\ndisplay: inline list-item;\n-webkit-mask: center / contain no-repeat var(--mask);\nmask: center / contain no-repeat var(--mask);\nwidth:{{!!size}};\nmargin-inline-end:{{!!gap}};\n}\n\n/* Rules specific to links*/\n\na[href]:not([href=\"\"],[href^=\"#\"],.tc-page-controls a){\ntext-decoration:{{!!text-decoration-line}} {{!!text-decoration-color}} {{!!text-decoration-style}}; \n}\n\n/* Rules specific to tags*/\n.tc-tag-label.tc-btn-invisible{\nbackground-color:\u003C\u003Ccolour primary>>;\nbackground-clip: text;\ncolor:transparent!important;\npadding:0;\n}\n\n.tc-tag-label.tc-btn-invisible:{{!!side}}{\nbackground-color:inherit;\n}\n\n.tc-block-tags-dropdown .tc-tag-label.tc-btn-invisible:{{!!side}}{\nall:unset;\n}\n\n\u003C!-- Set CSS rules at startup :--> \u003C\u003Cupdate-CSS>>","title":"$:/Libro/ExternalLinksIcon/Style","tags":"$:/tags/StartupAction $:/tags/Stylesheet","modified":"20221121144224317","modifier":"Telumire","side":"before","gap":".5ch","text-decoration-line":"none","text-decoration-color":"","text-decoration-style":"","size":"1em"},
{"created":"20221121123315525","creator":"Telumire","text":"\u003C$let newFieldNameTiddler=\u003C\u003Cqualify \"$:/temp/newFieldNameTiddler\">> newFieldValueTiddlerPrefix=\u003C\u003Cqualify \"$:/temp/newFieldValueTiddlerPrefix\">>>{{||$:/core/ui/EditTemplate/fields}}\u003C/$let>","tags":"","title":"$:/Libro/FieldsEditor","modified":"20221121123634066","modifier":"Telumire"},
{"created":"20221120173618764","creator":"Telumire","text":"\\whitespace trim\n\\define trigger-popup()\n\u003C$action-popup $state=\u003C\u003Cqualify $:/state/>> $coords=\u003C\u003Ctv-popup-coords>>/>\n\\end\n\u003C$eventcatcher selector=\"button\" $click=\u003C\u003Ctrigger-popup>> >\n\u003C$button tooltip=\"upload to GitHub\" aria-label=\"upload to GitHub\" class=\u003C\u003Ctv-config-toolbar-class>> >\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n{{$:/plugins/commons/file-uploads/images/upload}}\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">upload to GitHub\u003C/span>\n\u003C/$list>\n\u003C/$button>\n\u003C/$eventcatcher>\n\u003C$reveal state=\u003C\u003Cqualify $:/state/>> type=\"popup\" position=\"bottom\" class=\"tc-drop-down tc-popup-keep\" tag=\"menu\">\n\u003C$let tv-config-toolbar-text=\"yes\">\n\u003Cdiv>{{$:/SaveToGitHub/Button}}\u003C/div>\n\u003Cdiv>{{$:/SaveToGitHub/FileUpload/SendImages}}\u003C/div>\n\u003Cdiv>{{$:/Libro/Settings/Feed/SendFeed}}\u003C/div>\n\u003C/$let>\n\u003C/$reveal>","tags":"$:/tags/PageControls $:/libro/FileUpload","title":"$:/libro/FileUpload/DropDown/Button","modified":"20221121124713471","modifier":"Telumire"},
{"created":"20221124173842421","creator":"Telumire","text":"[class*=\"github-comments-toggle\"]{\nposition:absolute;\nbottom:1em;\nright:1em;\nz-index:1000;\n}\n\n[class*=\"github-comments-toggle\"] button:not(:hover){\n{{$:/Libro/Snippet/OpacityTransition}}\n}","tags":"$:/tags/Stylesheet","title":"$:/Libro/github-comments-toggle/Style","modified":"20221124174606034","modifier":"Telumire"},
{"created":"20211013132515594","creator":"Telumire","text":"\u003C$tiddler tiddler=\"$:/tags/Image\">\n\n{{||$:/Libro/edit-search-field}}\n\n\u003Ci class=\"tc-image-chooser\">\n\u003C\u003Cimage-picker-list \"\n[[$:/tags/Image]list[!!tag selection]tagging[]tag[$:/tags/Image]]~[[$:/tags/Image]tagging[]]\n:filter[search:*{$:/tags/Image!!search}]\n+[sort[]]\n\" \"\u003C$action-sendmessage $message='tm-copy-to-clipboard' $param=\u003C\u003CimageTitle>>/>\">>\n\u003C/i>\n\n\n\u003C/$tiddler>","title":"$:/Libro/Icons","modified":"20221117200944040","tags":"$:/tags/SideBar","type":"text/vnd.tiddlywiki","modifier":"Telumire","search":"","advanced-search":"","caption":"Icons"},
{"created":"20221122210241915","creator":"Telumire","text":"\\define reset-libro-action()\n\u003C$action-sendmessage $message=\"tm-close-all-tiddlers\" />\n\u003C$action-deletetiddler $filter=\"\n[!is[system]]\n[prefix[$:/state]] [prefix[$:/temp]![$:/temp/$:/Libro/ExternalLinksIcon/Style/output]] [prefix[$:/libro/task/]]\n$:/HistoryList\n [tag[showcase]]\n\"/>\n\u003C$action-navigate $to=\"GettingStarted\"/>\n\\end\n\n\u003C$button class=\"tc-btn-reset\" actions=\u003C\u003Creset-libro-action>> tooltip=\"Delete all non-system tiddlers\">\nReset {{$:/SiteTitle}}\n\u003C/$button>\n\n\u003Cstyle>\n.tc-btn-reset:active,.tc-btn-reset:focus{\n\toutline:none;\n}\n.tc-btn-reset{\n\tpadding: 10px 30px;\n\tborder-radius: 5px;\n\tborder: none;\n\tbox-shadow: 0 2px 2px 0 currentColor;\n\toverflow: hidden;\n\tcursor: pointer;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n\tcolor: red;\n\toutline:solid 1px;\n}\n\n.tc-btn-reset:active {\n\tbackground: #1475ff;\n}\n\u003C/style>","tags":"","title":"$:/libro/Reset","modified":"20221122212500141","modifier":"Telumire"},
{"created":"20211103223640938","creator":"Télumire","text":"\\define setFavicon()\n\u003C$action-setfield $tiddler=\"$:/favicon.ico\"\ntext={{{ [[\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"]][subfilter{!!color.output}][[\" width=\"22pt\" height=\"22pt\">]][subfilter{!!svg.output}][[\u003C/svg>]]+[join[]search-replace:g:regexp[\\n],[]] }}}\ntype=\"image/svg+xml\"\n/>\n\n\u003C$action-setfield $tiddler=\"$:/temp/favicon.icon/preview\"\ntags=\"$:/tags/AboveStory\" \ntext={{{ [[\u003Clink rel=\"icon\" type=\"image/svg+xml\" href=]][subfilter{!!svg.uri}][[/>]]+[join[]] }}}\ntype=\"\"\n/>\n\\end\n\n\u003C$tiddler tiddler=\"$:/Libro/Settings/Favicon\">\n\n\u003C\u003CsetFavicon>>\n\n\u003Ctable class=\"favicon-settings\">\n\u003Ctr>\n\u003Ctd>svg (code, name of a tiddler or filter)\u003C/td>\u003Ctd>\u003C$edit-text inputActions=\u003C\u003CsetFavicon>> field=svg.input tag=textarea type=text />\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>Set a color (rgb, name, hex)\u003C/td>\n\u003Ctd>\u003C$edit-text inputActions=\u003C\u003CsetFavicon>> field=color.input tag=input type=text/>\n\u003Cspan title=\"click to open the color picker\" class=\"color-picker\">\u003Cimg class=\"useColor\">\u003C$edit-text inputActions=\u003C\u003CsetFavicon>> field=color.input type=\"color\" tag=\"input\"/>\u003C/span> = \u003C$text text={{{ [subfilter{!!color.output}] }}}/> ({{{ [subfilter{!!palette.use}] }}} {{$:/core/ui/Buttons/palette}})\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd>Use dark mode ? If set to no, the current palette will be used instead.\u003Cbr>\nBrowser dark mode is \u003C$text text={{{[{$:/info/darkmode}match[yes]then[on]else[off]]}}}/>.\n\u003C/td>\u003Ctd>\u003C$button  actions=\u003C\u003CsetFavicon>> >\u003C$text text={{{ [{!!DarkMode}match[yes]then[yes]else[no]] }}}/>\u003C$action-listops $field=\"DarkMode\" $subfilter=\"+[toggle[yes]]\"/>\u003C/$button>\u003C/td>\n\u003C/tr>\n\n\u003C$reveal tag=tr default={{!!DarkMode}} type=\"match\" text=\"yes\">\n\u003Ctd>dark palette (used if darkmode is enabled)\u003C/td>\u003Ctd>\u003C$edit-text inputActions=\u003C\u003CsetFavicon>> field=palette.dark tag=input type=text />\u003C/td>\n\u003C/$reveal>\n\u003C$reveal tag=tr default={{!!DarkMode}} type=\"match\" text=\"yes\">\n\u003Ctd>light palette (used if darkmode is enabled)\u003C/td>\u003Ctd>\u003C$edit-text inputActions=\u003C\u003CsetFavicon>> field=palette.light tag=input type=text />\u003C/td>\n\u003C/$reveal>\n\u003C/table>\n\n!!Examples\n\n;Emoji\n\n\u003C\u003Ccopy-code svg \"\"\"\u003Ctext x=\"50%\" y=\"50%\" font-size=\"22\" dominant-baseline=\"central\" text-anchor=\"middle\">😎\u003C/text>\"\"\">>\n\nNote that the emoji will change accross OS.\n\n;Animation\n\n\u003C\u003Ccopy-code svg \"\"\"\u003Csvg viewBox=\"0 0 24 30\">\n    \u003Crect width=\"4\" height=\"10\">\n        \u003CanimateTransform attributeName=\"transform\" type=\"translate\" values=\"0 0; 0 20; 0 0\" begin=\"0\" dur=\"0.8s\" repeatCount=\"indefinite\"/>\n    \u003C/rect>\n    \u003Crect x=\"10\" width=\"4\" height=\"10\">\n        \u003CanimateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"translate\" values=\"0 0; 0 20; 0 0\" begin=\"0.2s\" dur=\"0.8s\" repeatCount=\"indefinite\"/>\n    \u003C/rect>\n    \u003Crect x=\"20\" width=\"4\" height=\"10\">\n        \u003CanimateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"translate\" values=\"0 0; 0 20; 0 0\" begin=\"0.4s\" dur=\"0.8s\" repeatCount=\"indefinite\"/>\n    \u003C/rect>\n\u003C/svg>\"\"\">>\n\n;Calendar\n\n\u003C\u003Ccopy-code svg \"\"\"\u003Csvg viewBox=\"0 0 16 16\">\n\u003Cpath d=\"M0 9V2q0-2 2-2h12q2 0 2 2v7z\" fill=\"#3d73ce\"/>\n\u003Cpath d=\"M0 8v6q0 2 2 2h12q2 0 2-2V8z\" fill=\"#4d8eee\"/>\n\u003Ctext font-family=\"roboto\" font-size=\"9pt\" x=\"55%\" y=\"50%\" text-anchor=\"middle\" dominant-baseline=\"central\" textLength=\"80%\">'\n[\u003Cnow DD format:\"DD\">]\n'\u003C/text>\u003C/svg>\"\"\">>\n\n;Logged in indicator\n\n\u003C\u003Ccopy-code filter \"\"\"[{$:/status/IsLoggedIn}match[yes]]\n+[then[$:/core/images/unlocked-padlock]else[$:/core/images/globe]]\"\"\">>\n\n;Dark mode with css\n\n\u003C\u003Ccopy-code svg \"\"\"\u003Csvg width=\"16\" height=\"16\">\n\u003Cstyle>\npath {fill: white;}\n@media (prefers-color-scheme: dark) {\n path {fill: black;}\n}\n\u003C/style>\n\u003Cpath fill-rule=\"evenodd\" d=\"M0 0h16v16H0z\"/>\n\u003C/svg>\"\"\">>\n\nSee also https://html.spec.whatwg.org/multipage/semantics.html#meta-theme-color, https://css-tricks.com/svg-favicons-and-all-the-fun-things-we-can-do-with-them/#other-media-queries\n\n;Issue with the live preview\n\nFirefox allows to define a favicon outside of the `\u003Chead>` but chrome doesnt. Since the content of the `\u003Chead>` is set on startup, [[the wiki must be saved and reloaded in order for the raw markup tiddler to take effect|https://tiddlywiki.com/static/SystemTag%253A%2520%2524%253A%252Ftags%252FRawMarkupWikified.html]] on chrome based browsers.\n\n;Issues with dark mode on firefox\n\n\u003C\u003C\u003C\nFirefox does not expose the dark mode preference when resist fingerprinting is enabled.\nTo enable the dark mode manually, go to `about:config` and search for `ui.systemUsesDarkTheme`. \n\nSet to 1 to activate the dark mode, 0 to deactivate it.    \n\u003C\u003C\u003C\n\n\u003Cstyle>\n.color-picker{\nposition:relative;\noverflow:clip;\ndisplay: inline-flex;\n} \n\n.color-picker input{\nposition:absolute;\ninset:0 0 0 0;\nopacity:0;\ncursor:pointer;\n}  \n\n[data-tiddler-title=\"\u003C$text text={{!!title}}/>\"]\n.tc-titlebar:not(.tc-tiddler-controls):before {\ncontent: \" \";\nmargin-right: .1em;\ndisplay: inline-block;\nheight: .85em;\nwidth: .85em;\nvertical-align: baseline;\nbackground: center / contain no-repeat url(\u003C$text text={{{[subfilter{!!svg.uri}]}}} />);\n}\n\n.useColor{\nwidth:1em;\nheight:1em;\nbackground:\u003C$text text={{{ [subfilter{!!color.output}] }}}/>\n}\n\ntable.favicon-settings{ width:100%;\ndisplay:grid;\ngrid-template-columns: 1fr 1fr; }\n\ntable.favicon-settings :is(tbody,thead,tr,details,summary){ display:contents;\n}\n\ntable.favicon-settings td[colspan=\"2\"]{\ngrid-column: 1 / span 2;\ndisplay: flex;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n}\n\ntable.favicon-settings td[colspan=\"2\"]>*{\npadding:.5ch;\n}\n\ntable.favicon-settings input,table.favicon-settings textarea{\nwidth: 100%;\nflex-grow: 1;\n}\n\u003C/style>\n\n\u003C/$tiddler>","title":"$:/Libro/Settings/Favicon","modified":"20221213102252616","color.input":"primary","DarkMode":"yes","palette.dark":"$:/palettes/GruvboxDark","palette.light":"$:/palettes/Blanca","svg.input":"Icon/Angular","palette.use":"[{$:/info/darkmode}match{!!DarkMode}match[yes]then{!!palette.dark}]~[{!!DarkMode}match[yes]then{!!palette.light}]~[{$:/palette}]","color.output":"[subfilter{!!palette.use}getindex{!!color.input}]~[{$:/palettes/Vanilla}getindex{!!color.input}]~[[$:/config/DefaultColourMappings/]addsuffix{!!color.input}get[text]]~[{!!color.input}]","svg.output":"[subfilter{!!svg.input}get[text]]~[{!!svg.input}!search[[]then{!!svg.input}]~[subfilter{!!svg.input}]","svg.uri":"[[data:image/svg+xml;utf8,\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" fill=\"]][subfilter{!!color.output}][[\" width=\"22pt\" height=\"22pt\">]][subfilter{!!svg.output}][[\u003C/svg>]]+[join[ ]search-replace:g[#],[%23]search-replace:g:regexp[\\n],[]addprefix[']addsuffix[']]","tags":"$:/tags/ControlPanel/Appearance $:/tags/StartupAction","wizard.style":".color-picker{ position:relative; overflow:clip; display: inline-flex; }  .color-picker input{ position:absolute; inset:0 0 0 0; opacity:0; cursor:pointer; }  [data-tiddler-title=\"\u003C$text text={{!!title}}/>\"] .tc-titlebar::before {     content: \" \";     margin-right: .1em;     display: inline-block;     height: .85em;     width: .85em;     vertical-align: baseline;     background: center / contain no-repeat url(\u003C$text text={{{[subfilter{!!svg.uri}]}}} />); }  .useColor{ width:1em; height:1em; background:\u003C$text text={{{ [subfilter{!!color.output}] }}}/> }  table.favicon-settings{ width:100%; display:grid; grid-template-columns: 1fr 1fr; }  table.favicon-settings :is(tbody,thead,tr,details,summary){ display:contents; }  table.favicon-settings td[colspan=\"2\"]{ grid-column: 1 / span 2; display: flex; display: flex; justify-content: center; align-items: center; }  table.favicon-settings td[colspan=\"2\"]>*{ padding:.5ch; }  table.favicon-settings input,  table.favicon-settings textarea{     width: 100%;     flex-grow: 1; }","modifier":"Telumire","install":"\u003C\u003Cexport \"[is[current]]\" filename:\"favicon-wizard\" hint:\"Click or drag and drop this button into your wiki: \">>","caption":"Favicon","description":"Set a svg favicon for your tiddlywiki. You can use filters to make it change dynamically (e.g if the user is logged in, display an icon, otherwise show another icon).\n\n\u003Cp>Require \u003C\u003Clist-links \"[is[current]]\">>\u003C/p>"},
{"created":"20211108130930330","creator":"Telumire","text":"\u003C!-- RSS guidelines from https://www.rssboard.org/rss-profile -->\n\\define dateTemplate()[UTC]ddd, 0DD mmm YYYY 0hh:0mm:0ss GMT\n\\define filter()\n[!is[system]is[tiddler]] \n-[prefix[$:/state/popup/]]\n-[prefix[$:/temp/]]\n-[prefix[$:/HistoryList]]\n-[status[pending]plugin-type[import]]\n-[[$:/boot/boot.css]]\n-[type[application/javascript]library[yes]]\n-[[$:/boot/boot.js]]\n-[[$:/boot/bootprefix.js]]\n$(publishFilter)$\n+[!sort[modified]]\n+[limit[$(maxItems)$]]\n\\end\n\n\\define item()\n`\u003Citem>\n      \u003Ctitle>`\u003C$view field=\"title\" format=\"encodehtml\"/>`\u003C/title>\n      \u003Cdescription>`\u003C$view field=\"summary\" format=htmlencodedplainwikified/>`\u003C/description>\n      \u003Ccategory>`{{{[all[current]tags[]sortan[]join[/]]}}}`\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[`\u003C$let tv-wikilink-template=\"$(feed-domain)$#$uri_encoded$\">\u003C$view field=\"text\" format=htmlwikified/>\u003C/$let>`]]>\u003C/content:encoded>\n\t  \u003CpubDate>`{{{[{!!modified}else{!!created}format:date\u003CdateTemplate>]}}}`\u003C/pubDate>\n      \u003Clink>`$(feed-domain)$#\u003C$view field=\"title\" format=\"urlencoded\"/>`\u003C/link>\n      \u003Cguid isPermaLink='true'>`$(feed-domain)$#\u003C$view field=\"title\" format=\"urlencoded\"/>`\u003C/guid>\n   \u003C/item>`\n\\end\n\n\\define RSS()\n`\u003C?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\u003Crss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\">\n\u003Cchannel>\n  \u003Catom:link href=\"`$(base)$$(path)$$(filename)$`\" rel=\"self\" type=\"application/rss+xml\" />\n  \u003Ctitle>`$(title)$`\u003C/title>\n  \u003Clink>`$(feed-domain)$`\u003C/link>\n  \u003Cdescription>`$(description)$`\u003C/description>\n  \u003Clanguage>`$(language)$`\u003C/language>\n  \u003ClastBuildDate>`\u003C$view tiddler={{{[!is[system]!is[draft]!sort[modified]]}}} field=\"modified\" format=\"date\" template=\u003C\u003CdateTemplate>>/>`\u003C/lastBuildDate>\n\t`\u003C$list filter=\u003C\u003Cfilter>>>\u003C\u003Citem>>\u003C/$list>`\n\u003C/channel>\n\u003C/rss>`\n\\end\n\n\u003C!-- create/update the tiddler xml.rss -->\n\\define create-feed()\n\u003C$let\nfeed-domain={{!!feed-domain}}\npublishFilter={{!!feed-filter}}\nmaxItems={{{[{!!feed-limit}!is[blank]else[10]]}}}\ntarget={{!!feed-target}}\nbase={{{[subfilter{!!feed-base}]}}}\npath={{!!feed-path}}\nfilename={{!!feed-filename}}\ntitle={{!!feed-title}}\ndescription={{!!feed-description}}\nlanguage={{{ [subfilter{!!feed-language}] }}}\n>\n\u003C$wikify name=\"text\" text=\u003C\u003CRSS>> type=\"text/vnd.tiddlywiki\" mode=\"block\" output=\"text\">\n\u003C$action-setfield $tiddler=\u003C\u003Cfilename>> text=\u003C\u003Ctext>> type=\"text/plain\"/>\n\u003C/$wikify>\n\n\u003C$action-setfield \n$tiddler=\"$:/discoverfeed\" \ntext={{{[[\u003Clink rel=\"alternate\" type=\"application/rss+xml\" title=\"]][\u003Ctitle>][[\" href=\"]][\u003Cbase>][\u003Cpath>][\u003Cfilename>][[\"/>]]+[join[]]}}}\ntags=\"$:/tags/RawMarkup\"\ntype=\"text/plain\"\n/>\n\u003C/$let>\n\\end\n\n\\define set-feed-title() \u003C$wikify name='text' text={{$:/SiteTitle}} output='text'>\u003C$action-setfield $field=\"feed-title\" $value=\u003C\u003Ctext>>/>\u003C/$wikify>\n\\define set-feed-description() \u003C$wikify name='text' text={{$:/SiteSubtitle}} output='text'>\u003C$action-setfield $field=\"feed-description\" $value=\u003C\u003Ctext>>/>\u003C/$wikify>\n\\define set-feed-filter() \u003C$action-setfield $field=\"feed-filter\" $value=\"+[tag[article]]\"/>\n\\define set-feed-limit()  \u003C$action-setfield $field=\"feed-limit\" $value=\"10\"/>\n\\define set-feed-target() \u003C$action-setfield $field=\"feed-target\" $value=\"index.html\"/>\n\\define set-feed-base()  \u003C$action-setfield $field=\"feed-base\" $value=\"[[https://]][{$:/SaveToGitHub/private/username}][[.github.io]][{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}][{$:/GitHub/Path}]+[join[]]\"/>\n\\define set-feed-path() \u003C$action-setfield $field=\"feed-path\" $value=\"/files/\"/>\n\\define set-feed-filename() \u003C$action-setfield $field=\"feed-filename\" $value=\"xml.rss\"/>\n\\define set-feed-language() \u003C$action-setfield $field=\"feed-language\" $value={{{[{$:/language}trim[$:/languages/]]}}}/>\n\n\\define set-default()\n\u003C\u003Cset-feed-title>>\n\u003C\u003Cset-feed-description>>\n\u003C\u003Cset-feed-filter>>\n\u003C\u003Cset-feed-limit>>\n\u003C\u003Cset-feed-target>>\n\u003C\u003Cset-feed-base>>\n\u003C\u003Cset-feed-path>>\n\u003C\u003Cset-feed-filename>>\n\u003C\u003Cset-feed-language>>\n\\end\n\n\u003C!-- BUTTONS -->\n\u003C$button actions=\u003C\u003Cset-default>> tooltip=\"Set the default settings\">Default settings\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-title>> tooltip=\"This will set the wiki title as the feed title\">Set title\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-description>> tooltip=\"This will set the wiki subtitle  as the feed description\">Set description\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-filter>> tooltip=\"Set a filter to only include the tiddlers tagged article\">Set filter\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-limit>> tooltip=\"Set the default of 10 items in the feed\">Set limit\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-target>> tooltip=\"Set the target of the feed items\">Set target\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-base>> tooltip=\"Set the base of the wiki\">Set base url\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-path>> tooltip=\"Set the path to the rss file\">Set path\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-filename>> tooltip=\"Set the name of the rss file\">Set filename\u003C/$button>\n\u003C$button actions=\u003C\u003Cset-feed-language>> tooltip=\"Set the language\">Set language\u003C/$button>\n\u003C$button actions=\u003C\u003Ccreate-feed>> tooltip=\"Create/Update RSS feed\">Generate feed\u003C/$button>\n\n\u003C!-- SETTINGS -->\n\n\u003Cspan class=\"feed-settings\">\n\n{{||$:/Libro/FieldsEditor}}\n\n\u003C/span>\n\n!!! Send feed to GitHub\n\n{{$:/Libro/Settings/Feed/SendFeed}}\n\n\u003C$scrollable class='tc-scrollable'>\n\u003C$macrocall $name=\"copy-code\"\ntitle=\"[[xml.rss]]\"\nlanguage=\"xml\"\ndisplay-language=\"show\"\ncode={{xml.rss}} />\n\u003C/$scrollable>\n\n\u003C$macrocall $name=\"copy-code\"\ntitle=\"[[$:/discoverfeed]]\"\nlanguage=\"html\"\ndisplay-language=\"hide\"\ncode={{$:/discoverfeed}} />\n\n\u003Cstyle>\n.feed-settings :is(.tc-edit-field-remove,.tc-edit-field-add){\ndisplay:none;\n}\n.tc-scrollable {\n\tmax-height: 21em;\n}\n\u003C/style>","title":"$:/Libro/Settings/Feed","feed-base":"[[https://]][{$:/SaveToGitHub/private/username}][[.github.io]][{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}][{$:/GitHub/Path}]+[join[]]","feed-description":"A custom tiddlywiki edition","feed-filename":"xml.rss","feed-filter":"+[tag[$:/Feed]]","feed-language":"en-GB","feed-limit":"10","feed-path":"files/","feed-target":"xml.rss","feed-title":"Libro","modified":"20221121124108651","tags":"$:/Libro/Settings/Feed $:/tags/ControlPanel/Settings","type":"text/vnd.tiddlywiki","revision":"0","bag":"default","modifier":"Telumire","feed-domain":"https://libro.tiddlyhost.com/","caption":"Feed"},
{"created":"20221119162114166","creator":"Telumire","text":"\\define send-feed-action()\n\u003C$tiddler tiddler=\"$:/Libro/Settings/Feed\">\n\u003C$importvariables filter=\u003C\u003CcurrentTiddler>> >\n\u003C\u003Ccreate-feed>>\n\u003C/$importvariables>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text={{$:/SaveToGitHub/private/username}}/>\n\u003C$action-sendmessage $message=\"tm-upload-tiddlers\" $param={{!!feed-filename}}/>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text=\"\"/>\n\u003C/$tiddler>\n\\end\n\\whitespace trim\n\u003C$button\ntooltip=\"send feed to GitHub\"\nclass=\u003C\u003Ctv-config-toolbar-class>>\naria-label=\"send feed to GitHub\"\nactions=\u003C\u003Csend-feed-action>>\n>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n\u003C$transclude tiddler=\"$:/ThemeTweaks/svg/feed\"/>\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\n\u003C$text text=\"send feed to GitHub\"/>\n\u003C/span>\n\u003C/$list>\n\u003C/$button>","tags":"$:/tags/PageControls $:/Libro/Settings/Feed $:/libro/FileUpload","title":"$:/Libro/Settings/Feed/SendFeed","modified":"20221121124739564","modifier":"Telumire","caption":"{{$:/ThemeTweaks/svg/feed}} send feed to GitHub","description":"A button that use the file upload plugin to send a feed file to GitHub."},
{"created":"20221124173635956","creator":"Telumire","text":"opacity:.33;\ntransition:  opacity {{$:/Libro/Snippet/Transition}};","tags":"","title":"$:/Libro/Snippet/OpacityTransition","modified":"20221124194810332","modifier":"Telumire","code-body":"yes"},
{"created":"20221124174004502","creator":"Telumire","text":"{{$:/config/AnimationDuration}}ms ease","tags":"","title":"$:/Libro/Snippet/Transition","modified":"20221124174022905","modifier":"Telumire","code-body":"yes"},
{"created":"20221121132732929","creator":"Telumire","text":".tc-cbx-invisible{\ncursor:pointer;\n} \n.tc-cbx-invisible input{\ndisplay:none;\n}","tags":"$:/tags/Stylesheet","title":"$:/Libro/Style/InvisibleCheckBox","modified":"20221121133345122","modifier":"Telumire"},
{"created":"20221117230908394","creator":"Telumire","text":"@media not print {\n\n.tc-tiddler-frame:not(.tc-tiddler-system):before{\n  content:\"\";\n  clip-path:polygon(calc(100%) calc(100% - 100vh - 42px), calc(100%) calc(100%), 0 calc(100%), 0 0);\n  background: linear-gradient(\u003C\u003Ccolor tiddler-title-foreground>> 0 0);\n  background-size:100% 5px;\n  background-repeat:no-repeat;\n  background-attachment:fixed;\n  position:absolute;\n  inset:0;\n  z-index:550;\npointer-events:none;\n}\n\n}","tags":"$:/tags/Stylesheet","title":"$:/libro/Style/ScrollingIndicator","modified":"20221117230958205","modifier":"Telumire"},
{"created":"20220830130606806","creator":"Telumire","text":".warning:before{\n\tcontent:\"⚠️ \";\n\tfont-size:1em;\n}","tags":"$:/tags/Stylesheet","title":"$:/libro/Style/warning","modified":"20221117155919716","modifier":"Telumire"},
{"created":"20221117155649461","creator":"Telumire","text":"","tags":"","title":"$:/libro/task/Add a button to download a empty Libro edition","modified":"20221117204731768","modifier":"Telumire","task":"done"},
{"created":"20221122175608961","creator":"Telumire","text":"* If there is no repo configured, suggest creating one : https://github.com/new","tags":"","title":"$:/libro/task/Add a wizard to help configuring the upload to GitHub","modified":"20221122175734487","modifier":"Telumire","task":"todo"},
{"created":"20221117152334585","creator":"Telumire","text":"","title":"$:/libro/task/Add RSS feed generation","task":"done","modified":"20221119161745882","modifier":"Telumire"},
{"created":"20221120170801289","creator":"Telumire","text":"[[$:/Feed/Categories]]","tags":"","title":"$:/libro/task/Add support for multiple RSS feed category","modified":"20221121142644498","modifier":"Telumire","task":"todo"},
{"created":"20221117153540491","creator":"Telumire","text":"","tags":"","title":"$:/libro/task/Add the tweaks to the setting pannel","modified":"20221117204653348","modifier":"Telumire","task":"done"},
{"created":"20221117154554622","creator":"Telumire","text":"","tags":"","title":"$:/libro/task/Bundle the system tiddlers into a plugin using Gatha","modified":"20221117155829214","modifier":"Telumire","task":"todo"},
{"created":"20221117152333549","creator":"Telumire","text":"* [[Creating a custom layout]]\n* [[Les bases de l'optimisation CSS]]","title":"$:/libro/task/Create a custom theme inspired from wikiwand instead of \"Notebook\" by Nicolas Petton","task":"todo","modified":"20221117195959369","modifier":"Telumire"},
{"created":"20221117152333079","creator":"Telumire","text":"","title":"$:/libro/task/Improve the detail macro","task":"todo","modified":"20221117155910230","modifier":"Telumire"},
{"created":"20221121023938550","creator":"Telumire","text":"It doesnt work for a tiddlywiki hosted on tiddlyhost, probably because the tiddlyhost saver override the github saver.\n\nInstead, it is probably best to use the file upload plugin to send the wiki.","tags":"","title":"$:/libro/task/Improve the save wiki to GitHuv","modified":"20221121024057670","modifier":"Telumire","task":"todo"},
{"created":"20221117154518805","creator":"Telumire","text":"","tags":"","title":"$:/libro/task/Standardise the name of the custom system tiddlers in this wiki","modified":"20221117155835359","modifier":"Telumire","task":"todo"},
{"created":"20221123223015208","creator":"Telumire","text":"\u003C\u003Clist-links \"[prefix[$:/Libro/Translation]!{!!title}]\">>","title":"$:/Libro/Translation","modified":"20221123224831223","modifier":"Telumire"},
{"created":"20221123172609530","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-translation-button tc-image-button\" viewBox=\"0 0 65 65\">\n  \u003Cpath d=\"M30.9 37.1c-4.2-4.1-7.9-7.7-10-16h14.7v-6.2H21V6.7h-6.3V15H0v6.2h15s-.1 1.2-.3 2.1C12.6 31.5 10.1 36.7 0 41.8L2.1 48c9.6-5.1 14.6-11.5 16.8-18.6 2.1 5.4 5.7 9.8 9.8 13.8l2.2-6.1zM50.3 17h-8.4L27.2 58.3h6.3l4.2-12.4h16.8l4.2 12.4H65L50.3 17zM39.8 39.7l6.3-16.5 6.3 16.6-12.6-.1z\"/>\n\u003C/svg>","tags":"$:/tags/Image","title":"$:/Libro/Translation/icon","modified":"20221123221848109","modifier":"Telumire"},
{"created":"20221123214845427","creator":"Telumire","text":"\\define action-redirect-to-translation()\n\u003C$let \nlang={{!!lang}} \nlang-selected={{!!lang-selected}} \ntranslation={{{ [is[current]get\u003Clang-selected>] }}}\n>\n\u003C$action-setfield $tiddler=\"$:/language\" text={{{$:/languages/\n[\u003Clang-selected>match[en]then[en-GB]]\n[\u003Clang-selected>match[fr]then[fr-FR]]\n+[join[]] }}}/>\n\u003C$list filter=\"[\u003Clang-selected>!match\u003Clang>]\" variable=\"ignore\">\n\u003C$action-sendmessage $message=\"tm-close-tiddler\" $param={{!!title}}/>\n\u003C$action-navigate $to=\u003C\u003Ctranslation>>/>\n\u003C$action-setfield lang-selected=\u003C\u003Clang>>/>\n\u003C/$list>\n\u003C/$let>\n\\end\n\\define select-lang()\n\u003C$select field=\"lang-selected\" default={{!!lang}} actions=\u003C\u003Caction-redirect-to-translation>>>\n\u003Coption>en\u003C/option>\n\u003Coption>fr\u003C/option>\n\u003C/$select>\n\\end\n\\define select-lang-button(tooltip,lang)\n\u003C$list filter=\"[is[current]get[lang]match\u003C__lang__>]\" variable=\"ignore\">\n\u003C$button tooltip=\"$tooltip$\" class=\"tc-btn-invisible translation-popup\">{{$:/Libro/Translation/icon}} \u003C\u003Cselect-lang>>\u003C/$button>\n\u003C/$list>\n\\end\n\u003C\u003Cselect-lang-button \"Select a language\" \"en\">>\n\u003C\u003Cselect-lang-button \"Choisir une langue\" \"fr\">>","tags":"$:/tags/ViewTemplate","title":"$:/Libro/Translation/ViewTemplate","modified":"20221123225101772","modifier":"Telumire","list-after":""},
{"created":"20221123173309825","creator":"Telumire","text":".translation-popup{\nposition:absolute;\nbottom:1em;\nleft:1em;\nz-index:1000;\n}\n\n.translation-popup select{\nborder:0;\ncursor:pointer;\nbackground:none;\n}\n\n.translation-popup:not(:hover,:focus-within){\n{{$:/Libro/Snippet/OpacityTransition}}\n}\n\n.translation-popup:not(:hover,:focus-within) select{\nopacity:0;\n}","tags":"$:/tags/Stylesheet","title":"$:/Libro/Translation/ViewTemplate/Style","modified":"20221124194802478","modifier":"Telumire","lang":"en"},
{"created":"20221107143704282","creator":"Telumire","text":"{{$:/SiteTitle}} contains the plugins, theme and custom css/macro that I like to use in all of my wikis. It has it's own news feed, you can subscribe to it [[here|https://Telumire.github.io/Libro/files/xml.rss]].\n\n{{$:/libro/Download/Empty}}\n\n!! Features\n\n{{$:/libro/Welcome/Features}}\n\n!! Planned\n\n\u003Cul>\n\u003C$list filter=\"[task[todo]]\">\u003Cli>\u003C$checkbox field=\"task\" checked=\"done\"/> \u003C$link>\n\u003C$text text={{{ [{!!title}removeprefix[$:/libro/task/]] :else[{!!title}]}}}/>\n\u003C/$link>\u003C/li>\u003C/$list>\n\u003C$list filter=\"[task[done]]\">\u003Cli>\u003C$checkbox field=\"task\" unchecked=\"todo\"/>\u003C$link>\n\u003C$text text={{{ [{!!title}removeprefix[$:/libro/task/]] :else[{!!title}]}}}/>\n\u003C/$link>\u003C/li>\u003C/$list>\n\u003C/ul>\n \n","title":"$:/libro/Welcome","modified":"20221121203753309","tags":"showcase","modifier":"Telumire"},
{"created":"20221117153820881","creator":"Telumire","text":";Macros\n\n* [[Copy code|$:/showInfo/macro/copy-code]]\n* [[Detail macro|$:/TiddlyTweaks/Details]]\n\n;Styles\n\n* [[Counter for list|$:/TiddlyTweaks/CountList]]\n* [[Better fold banner|$:/ThemeTweaks/style/fold_banner]]\n* [[Scroll indicator|$:/libro/Style/ScrollingIndicator]]\n* [[Discrete Tags|$:/Libro/ExternalLinksIcon/Style]]\n\n;Buttons\n\n* [[Upload button|$:/libro/FileUpload/DropDown/Button]] (wiki, images, feed)\n* [[Theme switcher|$:/TiddlyTweaks/ThemeSwitcher]]\n\n\n;QOL\n\n* [[Alternative link|$:/AltLinkTemplate]]\n* [[Description|$:/ViewTemplate/Description]] and [[source|$:/ViewTemplate/Sources]] templates\n* [[Custom shortcuts|$:/TiddlyTweaks/Shortcuts]]\n* [[RSS feed|$:/Libro/Settings/Feed]]\n\n;Customizations\n\n* [[Favicon wizard|$:/Libro/Settings/Favicon]]\n* [[External links icons|$:/Libro/ExternalLinksIcon/Style]]\n\n;Plugins\n\n\u003C$list filter=\"[all[shadows+tiddlers]plugin-type[plugin]!name[Core]]\" template=\"$:/core/ui/Components/plugin-info\"/>","title":"$:/libro/Welcome/Features","modified":"20221121201502623","modifier":"Telumire","tags":"$:/libro/Welcome"},
{"created":"20221123222335222","creator":"Telumire","text":";Macros\n\n* [[Copy code|$:/showInfo/macro/copy-code]]\n* [[Detail macro|$:/TiddlyTweaks/Details]]\n\n;Styles\n\n* [[Counter for list|$:/TiddlyTweaks/CountList]]\n* [[Better fold banner|$:/ThemeTweaks/style/fold_banner]]\n* [[Scroll indicator|$:/libro/Style/ScrollingIndicator]]\n* [[Discrete Tags|$:/Libro/ExternalLinksIcon/Style]]\n\n;Boutons\n\n* [[Upload button|$:/libro/FileUpload/DropDown/Button]] (wiki, images, feed)\n* [[Theme switcher|$:/TiddlyTweaks/ThemeSwitcher]]\n\n\n;UX\n\n* [[Alternative link|$:/AltLinkTemplate]]\n* [[Description|$:/ViewTemplate/Description]] and [[source|$:/ViewTemplate/Sources]] templates\n* [[Custom shortcuts|$:/TiddlyTweaks/Shortcuts]]\n* [[RSS feed|$:/Feed/Settings]]\n* [[Prefix for imported images in edit mode|$:/core/ui/EditorToolbar/file-import]]\n* [[Traduction|$:/Libro/Translation]]\n\n;Customisations\n\n* [[Utilitaire pour Favicon|$:/Libro/Settings/Favicon]]\n* [[Icônes lien externe|$:/Libro/ExternalLinksIcon/Style]]\n\n;Plugins\n\n\u003C$list filter=\"[all[shadows+tiddlers]plugin-type[plugin]!name[Core]]\" template=\"$:/core/ui/Components/plugin-info\"/>","tags":"","title":"$:/libro/Welcome/Features/fr","modified":"20221206103509800","modifier":"Telumire","en":"$:/libro/Welcome/Features","lang":"fr","lang-selected":"fr"},
{"created":"20221113164936851","text":"\\define category()\n\n\u003C\u003Ctag>>\n\u003C\u003Clist-links \"[{!!title}tagging[]]\">>\n\n\\end\n\\define categories(filter) \u003C$list filter=\u003C\u003C__filter__>>>\u003C\u003Ccategory>>\u003C/$list>","tags":"$:/tags/Macro","title":"$:/Macro/Categories","modified":"20221113235021500"},
{"created":"20220430024702664","creator":"Telumire","text":"\\define export-btn()\n\u003C$button tooltip=\"Click to download or drag and drop to install\" class=\"tc-btn-invisible\" dragFilter=\u003C\u003C__filter__>> >\n\u003C$action-sendmessage $message=\"tm-download-file\" $param=\"$:/core/templates/exporters/JsonFile\" exportFilter=\u003C\u003C__filter__>> filename={{{ [\u003C__filename__>] .json +[join[]] }}} />\n{{$:/core/images/export-button}}\n\u003C/$button>\n\\end\n\n\\define export(filter , filename:\"demo\" , hint:\"Click this button to download a json file containing all relevant tiddlers, or drag and drop to install directly into your tiddlywiki : \")\n\u003C$list filter=\"[\u003CstoryTiddler>is[current]]\" emptyMessage=\u003C\u003Cexport-btn>>>\n$hint$\u003C\u003Cexport-btn>>\n\u003C/$list>\n\\end","tags":"$:/tags/Macro","title":"$:/Macro/Export","modified":"20221117154412511","modifier":"Telumire"},
{"created":"20221104122815395","creator":"Telumire","title":"$:/palette","text":"$:/palettes/Blanca","modified":"20230207140533398","modifier":"Telumire"},
{"title":"$:/plugin-library/EvidentlyCube","caption":"Evidently Cube Plugin Library","created":"20221206184505326","modified":"20221209141314185","tags":"$:/tags/PluginLibrary","type":"text/vnd.tiddlywiki","url":"https://evidentlycube.github.io/TW5-PluginShowcase/library.html","text":"All of the plugins released by Maurycy Zarzycki. The [[plugin showcase|https://evidentlycube.github.io/TW5-PluginShowcase/]] has an interactive demo for every plugin as well as detailed information about them."},
{"text":"{\n    \"tiddlers\": {\n        \"$:/config/codemirror/autocomplete\": {\n            \"title\": \"$:/config/codemirror/autocomplete\",\n            \"text\": \"{\\n\\t\\\"Ctrl-Space\\\": \\\"autocomplete\\\"\\n}\",\n            \"type\": \"json\",\n            \"created\": \"20210328004023360\",\n            \"extend\": \"extraKeys\",\n            \"modified\": \"20210328004023360\"\n        },\n        \"$:/plugins/tiddlywiki/codemirror/addon/hint/anyword-hint.js\": {\n            \"title\": \"$:/plugins/tiddlywiki/codemirror/addon/hint/anyword-hint.js\",\n            \"text\": \"// CodeMirror, copyright (c) by Marijn Haverbeke and others\\n// Distributed under an MIT license: https://codemirror.net/LICENSE\\n\\n(function (mod) {\\n\\tif (typeof exports == \\\"object\\\" && typeof module == \\\"object\\\") // CommonJS\\n\\t\\tmod(require(\\\"../../lib/codemirror\\\"));\\n\\telse if (typeof define == \\\"function\\\" && define.amd) // AMD\\n\\t\\tdefine([\\\"../../lib/codemirror\\\"], mod);\\n\\telse // Plain browser env\\n\\t\\tmod(CodeMirror);\\n})(function (CodeMirror) {\\n\\t\\\"use strict\\\";\\n\\n\\tCodeMirror.registerHelper('hint', 'anyword', function (editor) {\\n\\t\\tvar cur = editor.getCursor();\\n\\t\\tvar curLine = editor.getLine(cur.line);\\n\\t\\tvar start = cur.ch;\\n\\t\\tvar end = start;\\n\\t\\tvar max_length = 30\\n\\n\\t\\tvar escapeChars = ['.', ']', '}', '>']\\n\\t\\tvar stopChars = ['[', '{', '|', '\\\"']\\n\\n\\t\\twhile (start) {\\n\\t\\t\\tvar ch = curLine.charAt(start - 1)\\n\\t\\t\\tif (end - start > max_length || escapeChars.includes(ch)) {\\n\\t\\t\\t\\treturn null\\n\\t\\t\\t}\\n\\t\\t\\tif (!(stopChars.includes(ch))) {\\n\\t\\t\\t\\tstart--;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tvar curWord = start !== end && curLine.slice(start, end);\\n\\t\\tif (curLine.charAt(start) == '$') {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlist: $tw.wiki.filterTiddlers(`[all[tiddlers]search:title:literal[${curWord}]!prefix[$:/state]]`),\\n\\t\\t\\t\\tfrom: CodeMirror.Pos(cur.line, start),\\n\\t\\t\\t\\tto: CodeMirror.Pos(cur.line, end)\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlist: $tw.wiki.filterTiddlers(`[all[tiddlers]!is[system]!is[shadow]search:title:literal[${curWord}]!prefix[$:/state]]`),\\n\\t\\t\\t\\tfrom: CodeMirror.Pos(cur.line, start),\\n\\t\\t\\t\\tto: CodeMirror.Pos(cur.line, end)\\n\\t\\t\\t}\\n\\t\\t}\\n\\t})\\n});\",\n            \"created\": \"20210328004232522\",\n            \"modified\": \"20210328010801763\",\n            \"module-type\": \"codemirror\",\n            \"type\": \"application/javascript\"\n        },\n        \"$:/plugins/tiddlywiki/codemirror/addon/hint/show-hint.css\": {\n            \"title\": \"$:/plugins/tiddlywiki/codemirror/addon/hint/show-hint.css\",\n            \"text\": \".CodeMirror-hints {\\n  position: absolute;\\n  z-index: 10;\\n  overflow: hidden;\\n  list-style: none;\\n\\n  margin: 0;\\n  padding: 2px;\\n\\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n  border-radius: 3px;\\n  border: 1px solid silver;\\n\\n  background: white;\\n  font-size: 90%;\\n  font-family: monospace;\\n\\n  max-height: 20em;\\n  overflow-y: auto;\\n}\\n\\n.CodeMirror-hint {\\n  margin: 0;\\n  padding: 0 4px;\\n  border-radius: 2px;\\n  white-space: pre;\\n  color: black;\\n  cursor: pointer;\\n}\\n\\nli.CodeMirror-hint-active {\\n  background: #08f;\\n  color: white;\\n}\\n\",\n            \"created\": \"20210328012141944\",\n            \"modified\": \"20210328012141944\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"type\": \"text/css\"\n        },\n        \"$:/plugins/tiddlywiki/codemirror/addon/hint/show-hint.js\": {\n            \"title\": \"$:/plugins/tiddlywiki/codemirror/addon/hint/show-hint.js\",\n            \"text\": \"// CodeMirror, copyright (c) by Marijn Haverbeke and others\\n// Distributed under an MIT license: https://codemirror.net/LICENSE\\n! function (t) {\\n    \\\"object\\\" == typeof exports && \\\"object\\\" == typeof module ? t(require(\\\"../../lib/codemirror\\\")) : \\\"function\\\" == typeof define && define.amd ? define([\\\"../../lib/codemirror\\\"], t) : t(CodeMirror)\\n}(function (W) {\\n    \\\"use strict\\\";\\n    var I = \\\"CodeMirror-hint-active\\\";\\n\\n    function o(t, i) {\\n        this.cm = t, this.options = i, this.widget = null, this.debounce = 0, this.tick = 0, this.startPos = this.cm.getCursor(\\\"start\\\"), this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\\n        var e = this;\\n        t.on(\\\"cursorActivity\\\", this.activityFunc = function () {\\n            e.cursorActivity()\\n        })\\n    }\\n    W.showHint = function (t, i, e) {\\n        if (!i) return t.showHint(e);\\n        e && e.async && (i.async = !0);\\n        var n = {\\n            hint: i\\n        };\\n        if (e)\\n            for (var o in e) n[o] = e[o];\\n        return t.showHint(n)\\n    }, W.defineExtension(\\\"showHint\\\", function (t) {\\n        t = function (t, i, e) {\\n            var n = t.options.hintOptions,\\n                o = {};\\n            for (var s in l) o[s] = l[s];\\n            if (n)\\n                for (var s in n) void 0 !== n[s] && (o[s] = n[s]);\\n            if (e)\\n                for (var s in e) void 0 !== e[s] && (o[s] = e[s]);\\n            o.hint.resolve && (o.hint = o.hint.resolve(t, i));\\n            return o\\n        }(this, this.getCursor(\\\"start\\\"), t);\\n        var i = this.listSelections();\\n        if (!(1 \u003C i.length)) {\\n            if (this.somethingSelected()) {\\n                if (!t.hint.supportsSelection) return;\\n                for (var e = 0; e \u003C i.length; e++)\\n                    if (i[e].head.line != i[e].anchor.line) return\\n            }\\n            this.state.completionActive && this.state.completionActive.close();\\n            var n = this.state.completionActive = new o(this, t);\\n            n.options.hint && (W.signal(this, \\\"startCompletion\\\", this), n.update(!0))\\n        }\\n    }), W.defineExtension(\\\"closeHint\\\", function () {\\n        this.state.completionActive && this.state.completionActive.close()\\n    });\\n    var s = window.requestAnimationFrame || function (t) {\\n            return setTimeout(t, 1e3 / 60)\\n        },\\n        c = window.cancelAnimationFrame || clearTimeout;\\n\\n    function B(t) {\\n        return \\\"string\\\" == typeof t ? t : t.text\\n    }\\n\\n    function K(t, i) {\\n        for (; i && i != t;) {\\n            if (\\\"LI\\\" === i.nodeName.toUpperCase() && i.parentNode == t) return i;\\n            i = i.parentNode\\n        }\\n    }\\n\\n    function n(o, t) {\\n        this.completion = o, this.data = t, this.picked = !1;\\n        var e = this,\\n            s = o.cm,\\n            c = s.getInputField().ownerDocument,\\n            r = c.defaultView || c.parentWindow,\\n            l = this.hints = c.createElement(\\\"ul\\\"),\\n            i = o.cm.options.theme;\\n        l.className = \\\"CodeMirror-hints \\\" + i, this.selectedHint = t.selectedHint || 0;\\n        for (var n = t.list, h = 0; h \u003C n.length; ++h) {\\n            var a = l.appendChild(c.createElement(\\\"li\\\")),\\n                u = n[h],\\n                f = \\\"CodeMirror-hint\\\" + (h != this.selectedHint ? \\\"\\\" : \\\" \\\" + I);\\n            null != u.className && (f = u.className + \\\" \\\" + f), a.className = f, u.render ? u.render(a, t, u) : a.appendChild(c.createTextNode(u.displayText || B(u))), a.hintId = h\\n        }\\n        var p, d, m, g = o.options.container || c.body,\\n            v = s.cursorCoords(o.options.alignWithWord ? t.from : null),\\n            y = v.left,\\n            w = v.bottom,\\n            H = !0,\\n            C = 0,\\n            b = 0;\\n        g !== c.body && (d = (p = -1 !== [\\\"absolute\\\", \\\"relative\\\", \\\"fixed\\\"].indexOf(r.getComputedStyle(g).position) ? g : g.offsetParent).getBoundingClientRect(), m = c.body.getBoundingClientRect(), C = d.left - m.left - p.scrollLeft, b = d.top - m.top - p.scrollTop), l.style.left = y - C + \\\"px\\\", l.style.top = w - b + \\\"px\\\";\\n        var k = r.innerWidth || Math.max(c.body.offsetWidth, c.documentElement.offsetWidth),\\n            A = r.innerHeight || Math.max(c.body.offsetHeight, c.documentElement.offsetHeight);\\n        g.appendChild(l);\\n        var x, T, S = l.getBoundingClientRect(),\\n            M = S.bottom - A,\\n            N = l.scrollHeight > l.clientHeight + 1,\\n            F = s.getScrollInfo();\\n        0 \u003C M && (x = S.bottom - S.top, 0 \u003C v.top - (v.bottom - S.top) - x ? (l.style.top = (w = v.top - x - b) + \\\"px\\\", H = !1) : A \u003C x && (l.style.height = A - 5 + \\\"px\\\", l.style.top = (w = v.bottom - S.top - b) + \\\"px\\\", T = s.getCursor(), t.from.ch != T.ch && (v = s.cursorCoords(T), l.style.left = (y = v.left - C) + \\\"px\\\", S = l.getBoundingClientRect())));\\n        var E, O = S.right - k;\\n        if (0 \u003C O && (S.right - S.left > k && (l.style.width = k - 5 + \\\"px\\\", O -= S.right - S.left - k), l.style.left = (y = v.left - O - C) + \\\"px\\\"), N)\\n            for (var P = l.firstChild; P; P = P.nextSibling) P.style.paddingRight = s.display.nativeBarWidth + \\\"px\\\";\\n        return s.addKeyMap(this.keyMap = function (t, n) {\\n            var o = {\\n                Up: function () {\\n                    n.moveFocus(-1)\\n                },\\n                Down: function () {\\n                    n.moveFocus(1)\\n                },\\n                PageUp: function () {\\n                    n.moveFocus(1 - n.menuSize(), !0)\\n                },\\n                PageDown: function () {\\n                    n.moveFocus(n.menuSize() - 1, !0)\\n                },\\n                Home: function () {\\n                    n.setFocus(0)\\n                },\\n                End: function () {\\n                    n.setFocus(n.length - 1)\\n                },\\n                Enter: n.pick,\\n                Tab: n.pick,\\n                Esc: n.close\\n            };\\n            /Mac/.test(navigator.platform) && (o[\\\"Ctrl-P\\\"] = function () {\\n                n.moveFocus(-1)\\n            }, o[\\\"Ctrl-N\\\"] = function () {\\n                n.moveFocus(1)\\n            });\\n            var i = t.options.customKeys,\\n                s = i ? {} : o;\\n\\n            function e(t, i) {\\n                var e = \\\"string\\\" != typeof i ? function (t) {\\n                    return i(t, n)\\n                } : o.hasOwnProperty(i) ? o[i] : i;\\n                s[t] = e\\n            }\\n            if (i)\\n                for (var c in i) i.hasOwnProperty(c) && e(c, i[c]);\\n            var r = t.options.extraKeys;\\n            if (r)\\n                for (var c in r) r.hasOwnProperty(c) && e(c, r[c]);\\n            return s\\n        }(o, {\\n            moveFocus: function (t, i) {\\n                e.changeActive(e.selectedHint + t, i)\\n            },\\n            setFocus: function (t) {\\n                e.changeActive(t)\\n            },\\n            menuSize: function () {\\n                return e.screenAmount()\\n            },\\n            length: n.length,\\n            close: function () {\\n                o.close()\\n            },\\n            pick: function () {\\n                e.pick()\\n            },\\n            data: t\\n        })), o.options.closeOnUnfocus && (s.on(\\\"blur\\\", this.onBlur = function () {\\n            E = setTimeout(function () {\\n                o.close()\\n            }, 100)\\n        }), s.on(\\\"focus\\\", this.onFocus = function () {\\n            clearTimeout(E)\\n        })), s.on(\\\"scroll\\\", this.onScroll = function () {\\n            var t = s.getScrollInfo(),\\n                i = s.getWrapperElement().getBoundingClientRect(),\\n                e = w + F.top - t.top,\\n                n = e - (r.pageYOffset || (c.documentElement || c.body).scrollTop);\\n            if (H || (n += l.offsetHeight), n \u003C= i.top || n >= i.bottom) return o.close();\\n            l.style.top = e + \\\"px\\\", l.style.left = y + F.left - t.left + \\\"px\\\"\\n        }), W.on(l, \\\"dblclick\\\", function (t) {\\n            var i = K(l, t.target || t.srcElement);\\n            i && null != i.hintId && (e.changeActive(i.hintId), e.pick())\\n        }), W.on(l, \\\"click\\\", function (t) {\\n            var i = K(l, t.target || t.srcElement);\\n            i && null != i.hintId && (e.changeActive(i.hintId), o.options.completeOnSingleClick && e.pick())\\n        }), W.on(l, \\\"mousedown\\\", function () {\\n            setTimeout(function () {\\n                s.focus()\\n            }, 20)\\n        }), this.scrollToActive(), W.signal(t, \\\"select\\\", n[this.selectedHint], l.childNodes[this.selectedHint]), !0\\n    }\\n\\n    function r(t, i, e, n) {\\n        var o;\\n        t.async ? t(i, n, e) : (o = t(i, e)) && o.then ? o.then(n) : n(o)\\n    }\\n    o.prototype = {\\n        close: function () {\\n            this.active() && (this.cm.state.completionActive = null, this.tick = null, this.cm.off(\\\"cursorActivity\\\", this.activityFunc), this.widget && this.data && W.signal(this.data, \\\"close\\\"), this.widget && this.widget.close(), W.signal(this.cm, \\\"endCompletion\\\", this.cm))\\n        },\\n        active: function () {\\n            return this.cm.state.completionActive == this\\n        },\\n        pick: function (t, i) {\\n            var e = t.list[i],\\n                n = this;\\n            this.cm.operation(function () {\\n                e.hint ? e.hint(n.cm, t, e) : n.cm.replaceRange(B(e), e.from || t.from, e.to || t.to, \\\"complete\\\"), W.signal(t, \\\"pick\\\", e), n.cm.scrollIntoView()\\n            }), this.close()\\n        },\\n        cursorActivity: function () {\\n            this.debounce && (c(this.debounce), this.debounce = 0);\\n            var t = this.startPos;\\n            this.data && (t = this.data.from);\\n            var i, e = this.cm.getCursor(),\\n                n = this.cm.getLine(e.line);\\n            e.line != this.startPos.line || n.length - e.ch != this.startLen - this.startPos.ch || e.ch \u003C t.ch || this.cm.somethingSelected() || !e.ch || this.options.closeCharacters.test(n.charAt(e.ch - 1)) ? this.close() : ((i = this).debounce = s(function () {\\n                i.update()\\n            }), this.widget && this.widget.disable())\\n        },\\n        update: function (i) {\\n            var e, n;\\n            null != this.tick && (n = ++(e = this).tick, r(this.options.hint, this.cm, this.options, function (t) {\\n                e.tick == n && e.finishUpdate(t, i)\\n            }))\\n        },\\n        finishUpdate: function (t, i) {\\n            this.data && W.signal(this.data, \\\"update\\\");\\n            var e = this.widget && this.widget.picked || i && this.options.completeSingle;\\n            this.widget && this.widget.close(), (this.data = t) && t.list.length && (e && 1 == t.list.length ? this.pick(t, 0) : (this.widget = new n(this, t), W.signal(t, \\\"shown\\\")))\\n        }\\n    }, n.prototype = {\\n        close: function () {\\n            var t;\\n            this.completion.widget == this && (this.completion.widget = null, this.hints.parentNode.removeChild(this.hints), this.completion.cm.removeKeyMap(this.keyMap), t = this.completion.cm, this.completion.options.closeOnUnfocus && (t.off(\\\"blur\\\", this.onBlur), t.off(\\\"focus\\\", this.onFocus)), t.off(\\\"scroll\\\", this.onScroll))\\n        },\\n        disable: function () {\\n            this.completion.cm.removeKeyMap(this.keyMap);\\n            var t = this;\\n            this.keyMap = {\\n                Enter: function () {\\n                    t.picked = !0\\n                }\\n            }, this.completion.cm.addKeyMap(this.keyMap)\\n        },\\n        pick: function () {\\n            this.completion.pick(this.data, this.selectedHint)\\n        },\\n        changeActive: function (t, i) {\\n            var e;\\n            t >= this.data.list.length ? t = i ? this.data.list.length - 1 : 0 : t \u003C 0 && (t = i ? 0 : this.data.list.length - 1), this.selectedHint != t && ((e = this.hints.childNodes[this.selectedHint]) && (e.className = e.className.replace(\\\" \\\" + I, \\\"\\\")), (e = this.hints.childNodes[this.selectedHint = t]).className += \\\" \\\" + I, this.scrollToActive(), W.signal(this.data, \\\"select\\\", this.data.list[this.selectedHint], e))\\n        },\\n        scrollToActive: function () {\\n            var t = this.completion.options.scrollMargin || 0,\\n                i = this.hints.childNodes[Math.max(0, this.selectedHint - t)],\\n                e = this.hints.childNodes[Math.min(this.data.list.length - 1, this.selectedHint + t)],\\n                n = this.hints.firstChild;\\n            i.offsetTop \u003C this.hints.scrollTop ? this.hints.scrollTop = i.offsetTop - n.offsetTop : e.offsetTop + e.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = e.offsetTop + e.offsetHeight - this.hints.clientHeight + n.offsetTop)\\n        },\\n        screenAmount: function () {\\n            return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1\\n        }\\n    }, W.registerHelper(\\\"hint\\\", \\\"auto\\\", {\\n        resolve: function (t, i) {\\n            var e, c = t.getHelpers(i, \\\"hint\\\");\\n            if (c.length) {\\n                var n = function (t, n, o) {\\n                    var s = function (t, i) {\\n                        if (!t.somethingSelected()) return i;\\n                        for (var e = [], n = 0; n \u003C i.length; n++) i[n].supportsSelection && e.push(i[n]);\\n                        return e\\n                    }(t, c);\\n                    ! function i(e) {\\n                        if (e == s.length) return n(null);\\n                        r(s[e], t, o, function (t) {\\n                            t && 0 \u003C t.list.length ? n(t) : i(e + 1)\\n                        })\\n                    }(0)\\n                };\\n                return n.async = !0, n.supportsSelection = !0, n\\n            }\\n            return (e = t.getHelper(t.getCursor(), \\\"hintWords\\\")) ? function (t) {\\n                return W.hint.fromList(t, {\\n                    words: e\\n                })\\n            } : W.hint.anyword ? function (t, i) {\\n                return W.hint.anyword(t, i)\\n            } : function () {}\\n        }\\n    }), W.registerHelper(\\\"hint\\\", \\\"fromList\\\", function (t, i) {\\n        var e, n = t.getCursor(),\\n            o = t.getTokenAt(n),\\n            s = W.Pos(n.line, o.start),\\n            c = n;\\n        o.start \u003C n.ch && /\\\\w/.test(o.string.charAt(n.ch - o.start - 1)) ? e = o.string.substr(0, n.ch - o.start) : (e = \\\"\\\", s = n);\\n        for (var r = [], l = 0; l \u003C i.words.length; l++) {\\n            var h = i.words[l];\\n            h.slice(0, e.length) == e && r.push(h)\\n        }\\n        if (r.length) return {\\n            list: r,\\n            from: s,\\n            to: c\\n        }\\n    }), W.commands.autocomplete = W.showHint;\\n    var l = {\\n        hint: W.hint.auto,\\n        completeSingle: !0,\\n        alignWithWord: !0,\\n        closeCharacters: /[\\\\s()\\\\[\\\\]{};:>,]/,\\n        closeOnUnfocus: !0,\\n        completeOnSingleClick: !0,\\n        container: null,\\n        customKeys: null,\\n        extraKeys: null\\n    };\\n    W.defineOption(\\\"hintOptions\\\", null)\\n});\",\n            \"created\": \"20210328012150088\",\n            \"modified\": \"20210328012150088\",\n            \"module-type\": \"codemirror\",\n            \"type\": \"application/javascript\"\n        },\n        \"$:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.css\": {\n            \"title\": \"$:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.css\",\n            \"created\": \"20200815103937889\",\n            \"modified\": \"20210328054714579\",\n            \"module-type\": \"codemirror-theme\",\n            \"name\": \"cmplus\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"```\\n/*\\nTiddlywiki Metadata\\n----\\nName: $:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.css\\n\\nAdditional Fields - \\nmodule-type: codemirror-theme\\nname: cmplus\\n*/\\n```\\n\\n.cm-s-cmplus{\\n    line-height: 1.5em;\\n    background: \u003C\u003Ccolour tiddler-editor-background>> !important;\\n    color: \u003C\u003Ccolour foreground>> !important;\\n}\\n\\n.cm-s-cmplus .CodeMirror-lines {\\n    padding: 8px 0;\\n}\\n\\n.cm-s-cmplus .CodeMirror-linenumber {\\n    color: \u003C\u003Ccmcolour linenumber>>;\\n}\\n\\n.cm-s-cmplus .CodeMirror-gutters {\\n    background-color: \u003C\u003Ccolour page-background>>;\\n    padding-right: 10px;\\n    z-index: 3;\\n    border: none;\\n}\\n\\n.cm-s-cmplus div.CodeMirror-cursor {\\n    border-left: 3px solid \u003C\u003Ccolour very-muted-foreground>>;\\n}\\n\\n.cm-s-cmplus .CodeMirror-activeline-background {\\n    background: \u003C\u003Ccolour tiddler-editor-fields-even>>;\\n}\\n\\n.cm-s-cmplus .CodeMirror-selected {\\n    background: \u003C\u003Ccmcolour selected>> !important;\\n}\\n\\n.cm-s-cmplus .cm-comment {\\n    font-style: italic;\\n    color: \u003C\u003Ccolour muted-foreground>>;\\n}\\n\\n.cm-s-cmplus .CodeMirror-matchingbracket {\\n    text-decoration: underline;\\n    color: \u003C\u003Ccmcolour matching-bracket>> !important;\\n}\\n\\n.cm-s-cmplus .cm-strikethrough {\\n    text-decoration-color: \u003C\u003Ccolour very-muted-foreground>>;  \\n}\\n\\n.cm-s-cmplus .cm-underlined {\\n    text-decoration-line: underline;\\n    text-decoration-style: solid;\\n    text-decoration-color: \u003C\u003Ccolour very-muted-foreground>>;\\n}\\n\\n.cm-s-cmplus .cm-superscript {\\n    vertical-align: super;\\n    font-size: 0.7em;\\n    line-height: 0.1em;\\n}\\n\\n.cm-s-cmplus .cm-subscript {\\n    font-size: 0.7em;\\n    line-height: 0.5;\\n}\\n\\n.cm-s-cmplus .cm-macro {\\n    color: \u003C\u003Ccmcolour macro>>;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\\n\\n.cm-s-cmplus .cm-keyword {\\n    color: \u003C\u003Ccmcolour keyword>>;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n    font-weight: 600;\\n}\\n\\n.cm-s-cmplus .cm-quote {\\n    font-style: italic;\\n    padding-left: 0.6em;\\n    border-left: \u003C\u003Ccmcolour quote>> solid 0.2em;\\n}\\n\\n.cm-s-cmplus .cm-hr {\\n    color: \u003C\u003Ccmcolour hr>>;\\n}\\n\\n.cm-s-cmplus .cm-h1 {\\n    color: \u003C\u003Ccmcolour h1>>;\\n    font-weight: 700;\\n    font-size: 1.383em;\\n    line-height: 1.802em;\\n}\\n\\n.cm-s-cmplus .cm-h2 {\\n    color: \u003C\u003Ccmcolour h2>>;\\n    font-weight: 600;\\n    font-size: 1.296em;\\n    line-height: 1.602em;\\n}\\n\\n.cm-s-cmplus .cm-h3 {\\n    color: \u003C\u003Ccmcolour h3>>;\\n    font-weight: 500;\\n    font-size: 1.215em;\\n    line-height: 1.424em;\\n}\\n\\n.cm-s-cmplus .cm-h4 {\\n    color: \u003C\u003Ccmcolour h4>>;\\n    font-weight: 400;\\n    font-size: 1.138em;\\n    line-height: 1.266em;\\n}\\n\\n.cm-s-cmplus .cm-h5 {\\n    color: \u003C\u003Ccmcolour h5>>;\\n    font-weight: 400;\\n    font-size: 1.067em;\\n    line-height: 1.125em;\\n}\\n\\n.cm-s-cmplus .cm-h6 {\\n    color: \u003C\u003Ccmcolour h6>>;\\n    font-weight: 400;\\n}\\n\\n.cm-s-cmplus .cm-link {\\n    color: \u003C\u003Ccmcolour link>>;\\n    text-decoration: none;\\n    font-weight: 600;\\n}\\n\\n.cm-s-cmplus .cm-internallink {\\n    color: \u003C\u003Ccmcolour internallink>>;\\n    font-weight:600;\\n}\\n\\n.cm-s-cmplus .cm-externallink {\\n    color: \u003C\u003Ccmcolour externallink>>;\\n    text-decoration: underline;\\n}\\n\\n.cm-s-cmplus .cm-transclude {\\n    color: \u003C\u003Ccmcolour transclude>>;\\n}\\n\\n.cm-s-cmplus .cm-pre {\\n    color: \u003C\u003Ccmcolour pre>>;\\t\\t\\n    font-family: {{$:/plugins/adithyab/cmplus/settings##monospace-font}};\\n}\\n\\n.cm-s-cmplus .cm-monospace {\\n    color: \u003C\u003Ccmcolour monospace>>;\\n    font-family: {{$:/plugins/adithyab/cmplus/settings##monospace-font}};\\n}\\n\\n.cm-s-cmplus .cm-list1 {\\n    color: \u003C\u003Ccmcolour list1>>;\\n    padding-left: 1em;\\n    padding-right: 0.5em;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\\n\\n.cm-s-cmplus .cm-list2 {\\n    color: \u003C\u003Ccmcolour list2>>;\\n    padding-left: 2em;\\n    padding-right: 0.5em;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\\n\\n.cm-s-cmplus .cm-list3 {\\n    color: \u003C\u003Ccmcolour list3>>;\\n    padding-left: 3em;\\n    padding-right: 0.5em;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\\n\\n.cm-s-cmplus .cm-list4 {\\n    color: \u003C\u003Ccmcolour list4>>;\\n    padding-left: 4em;\\n    padding-right: 0.5em;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\\n\\n.cm-s-cmplus .cm-list5 {\\n    color: \u003C\u003Ccmcolour list5>>;\\n    padding-left: 5em;\\n    padding-right: 0.5em;\\n    font-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\\n}\"\n        },\n        \"$:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.js\": {\n            \"title\": \"$:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.js\",\n            \"text\": \"// CodeMirror, copyright (c) by Marijn Haverbeke and others\\n// Distributed under an MIT license: https://codemirror.net/LICENSE\\n\\n/***\\n\\n|''Name''|tw5.js|\\n|''Description''|Enables TiddlyWikiy syntax highlighting using CodeMirror|\\n|''Original Contributor''|PMario|\\n|''Author''|[[adithya-badidey|https://github.com/adithya-badidey]]|\\n|''Version''|0.1.8|\\n|''Status''|''stable''|\\n|''Source''|[[GitHub|https://github.com/adithya-badidey/TW5-codemirror-plus]]|\\n|''Documentation''|https://codemirror.tiddlyspace.com/|\\n|''License''|[[MIT License|http://www.opensource.org/licenses/mit-license.php]]|\\n|''Requires''|codemirror.js|\\n|''Keywords''|syntax highlighting color code mirror codemirror|\\n\\n!! Tiddlywiki Metadata\\nName: $:/plugins/tiddlywiki/codemirror/mode/tw5/tw5.js\\nType: application/javascript\\nAdditional Field:\\nmodule-type: codemirror\\n \\nInfo: CoreVersion parameter is needed for TiddlyWiki only!\\n\\n***/\\n\\n(function (mod) {\\n    if (typeof exports == \\\"object\\\" && typeof module == \\\"object\\\") // CommonJS\\n        mod(require(\\\"../../lib/codemirror\\\"));\\n    else if (typeof define == \\\"function\\\" && define.amd) // AMD\\n        define([\\\"../../lib/codemirror\\\"], mod);\\n    else // Plain browser env\\n        mod(CodeMirror);\\n})(function (CodeMirror) {\\n    \\\"use strict\\\";\\n\\n    CodeMirror.defineMode(\\\"tiddlywiki5\\\", function () {\\n        // Tokenizer\\n        var textwords = {};\\n\\n        var keywords = {\\n            \\\"changecount\\\": true, \\\"colour\\\": true,\\n            \\\"colour-picker\\\": true, \\\"contrastcolour\\\": true,\\n            \\\"copy-to-clipboard\\\": true, \\\"csvtiddlers\\\": true,\\n            \\\"datauri\\\": true, \\\"dumpvariables\\\": true,\\n            \\\"image-picker\\\": true, \\\"jsontiddler\\\": true,\\n            \\\"jsontiddlers\\\": true, \\\"lingo\\\": true,\\n            \\\"list-links\\\": true, \\\"list-links-draggable\\\": true,\\n            \\\"list-tagged-draggable\\\": true, \\\"list-thumbnails\\\": true,\\n            \\\"makedatauri\\\": true, \\\"now\\\": true,\\n            \\\"qualify\\\": true, \\\"resolvepath\\\": true,\\n            \\\"box-shadow\\\": true, \\\"filter\\\": true,\\n            \\\"transition\\\": true, \\\"background-linear-gradient\\\": true,\\n            \\\"transform-origin\\\": true, \\\"toc\\\": true,\\n            \\\"toc-expandable\\\": true, \\\"toc-selective-expandable\\\": true,\\n            \\\"toc-tabbed-internal-nav\\\": true, \\\"toc-tabbed-external-nav\\\": true,\\n            \\\"tabs\\\": true, \\\"tag\\\": true,\\n            \\\"tag-picker\\\": true, \\\"tag-pill\\\": true,\\n            \\\"thumbnail\\\": true, \\\"timeline\\\": true,\\n            \\\"tree\\\": true, \\\"unusedtitle\\\": true,\\n            \\\"version\\\": true\\n        };\\n\\n        var isSpaceName = /[\\\\w_\\\\-]/i,\\n            reHR = /^\\\\-\\\\-\\\\-\\\\-+$/,                                 // \u003Chr>\\n            reBlockQuote = /^\u003C\u003C\u003C/,\\n            rePreStart = /^```$/;\\n\\n        function chain(stream, state, f) {\\n            state.tokenize = f;\\n            return f(stream, state);\\n        }\\n\\n        function tokenBase(stream, state) {\\n            var sol = stream.sol(), // sol() -> Returns true only if the stream is at the start of the line.\\n                ch = stream.peek(); // Returns the next character in the stream without advancing it. Will return a null at the end of the line.\\n\\n            // check start of  blocks\\n            if (sol && /[\u003C\\\\/\\\\*{}\\\\-`]/.test(ch)) { //is at the start of a line and the next char is not\\n                if (stream.match(reBlockQuote)) {\\n                    return chain(stream, state, twTokenQuote);\\n                }\\n                \\n                if (stream.match(reHR))\\n                    return 'hr';\\n\\n                if (stream.match(rePreStart))\\n                    return chain(stream, state, twTokenPre);\\n            }\\n\\n            stream.next();\\n            if (sol && /[\\\\/\\\\*!#;:>|]/.test(ch)) {\\n                if (ch == \\\"!\\\") { // tw header\\n                    var count = 1;\\n                    while (stream.eat('!'))\\n                        count++;\\n                    stream.skipToEnd();\\n                    return \\\"h\\\" + count;\\n                }\\n\\n                if (ch == \\\"*\\\" || ch == \\\"#\\\") { // tw list\\n                    var count = 1;\\n                    while (stream.eat('*') || stream.eat('#'))\\n                        count++;\\n                    return \\\"list\\\" + count;\\n                }\\n                if (ch == \\\";\\\") { // definition list, term\\n                    stream.eatWhile(';');\\n                    return \\\"list1\\\";\\n                }\\n                if (ch == \\\":\\\") { // definition list, description\\n                    stream.eatWhile(':');\\n                    return \\\"list2\\\";\\n                }\\n                if (ch == \\\">\\\") { // single line quote\\n                    stream.eatWhile(\\\">\\\");\\n                    return \\\"quote\\\";\\n                }\\n                if (ch == '|')\\n                    return 'header';\\n            }\\n\\n            // rudimentary html:// file:// link matching. TW knows much more ...\\n            if (/[hf]/i.test(ch) &&\\n                /[ti]/i.test(stream.peek()) &&\\n                stream.match(/\\\\b(ttps?|tp|ile):\\\\/\\\\/[\\\\-A-Z0-9+&@#\\\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\\\/%=~_|$]/i, true))\\n                return \\\"externallink\\\";\\n\\n            if (ch == '`') { //\\n                return chain(stream, state, twTokenMonospace);\\n            }\\n\\n            if (ch == \\\"/\\\" && stream.eat(\\\"/\\\")) { //\\n                return chain(stream, state, twTokenEm);\\n            }\\n\\n            if (ch == \\\"{\\\" && stream.eat(\\\"{\\\")) \\n                return chain(stream, state, twTranslclude);\\n\\n            if (ch == \\\"[\\\" && stream.eat(\\\"[\\\")) // tw InternalLink\\n                return chain(stream, state, twInternalLink);\\n\\n            if (ch == \\\"_\\\" && stream.eat(\\\"_\\\")) // tw underline\\n                return chain(stream, state, twTokenUnderline);\\n\\n            if (ch == \\\"^\\\" && stream.eat(\\\"^\\\"))\\n                return chain(stream, state, twSuperscript);\\n\\n            if (ch == \\\",\\\" && stream.eat(\\\",\\\")) // tw underline\\n                return chain(stream, state, twSubscript);\\n\\n            // tw strikethrough\\n            if (ch == \\\"~\\\" && stream.eat(\\\"~\\\")) {\\n                return chain(stream, state, twTokenStrike);\\n            }\\n\\n            if (ch == \\\"'\\\" && stream.eat(\\\"'\\\")) // tw bold\\n                return chain(stream, state, twTokenStrong);\\n\\n            if (ch == \\\"\u003C\\\" && stream.eat(\\\"\u003C\\\")) // tw macro\\n                return chain(stream, state, twTokenMacro);\\n\\n            return null\\n        }\\n\\n        //   // tw invisible comment\\n        //   function twTokenComment(stream, state) {\\n        //     var maybeEnd = false, ch;\\n        //     while (ch = stream.next()) {\\n        //       if (ch == \\\"/\\\" && maybeEnd) {\\n        //         state.tokenize = tokenBase;\\n        //         break;\\n        //       }\\n        //       maybeEnd = (ch == \\\"%\\\");\\n        //     }\\n        //     return \\\"comment\\\";\\n        //   }\\n\\n        // tw strong / bold\\n        function twTokenStrong(stream, state) {\\n            var maybeEnd = false,\\n                ch;\\n            while (ch = stream.next()) {\\n                if (ch == \\\"'\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"'\\\");\\n            }\\n            return \\\"strong\\\";\\n        }\\n\\n        function twTokenMonospace(stream, state) {\\n            var ch;\\n            while (ch = stream.next()) {\\n                if (ch == \\\"`\\\") {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n            }\\n            return \\\"monospace\\\";\\n        }\\n\\n        // tw em / italic\\n        function twTokenEm(stream, state) {\\n            var maybeEnd = false,\\n                ch;\\n            while (ch = stream.next()) {\\n                if (ch == \\\"/\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"/\\\");\\n            }\\n            return \\\"em\\\";\\n        }\\n\\n        // tw transclusions\\n        function twTranslclude(stream, state) {\\n            var maybeEnd = false,\\n                ch;\\n            while (ch = stream.next()) {\\n                if (ch == \\\"}\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"}\\\");\\n            }\\n            return \\\"transclude\\\";\\n        }\\n\\n        // tw internal links\\n        function twInternalLink(stream, state) {\\n            if (stream.current() == '[[') {\\n                state.pastDivider = false;\\n                // console.log(\\\"Start of link\\\");\\n                return 'link';\\n            }\\n            if (stream.peek() == ']') {\\n                stream.next()\\n                if(stream.next() == ']') {\\n                    state.tokenize = tokenBase;\\n                    // console.log(\\\"End of link\\\");\\n                    return 'link';\\n                }\\n            }\\n            var pastDivider = state.pastDivider,\\n                ch;\\n            while (ch = stream.peek()) {\\n                // console.log(\\\"Peeking :\\\" + ch);\\n                if (!pastDivider && ch=='|') {\\n                    stream.next();\\n                    state.pastDivider = true;\\n                    // console.log(\\\"Past the divider\\\");\\n                    return 'link';\\n                }\\n                if (ch == \\\"]\\\" && stream.peek() == \\\"]\\\") {\\n                    // console.log(\\\"Found end of link\\\");\\n                    return \\\"internallink\\\";\\n                }\\n                ch = stream.next();\\n                if (/[hf]/i.test(ch) &&\\n                        /[ti]/i.test(stream.peek()) &&\\n                        stream.match(/\\\\b(ttps?|tp|ile):\\\\/\\\\/[\\\\-A-Z0-9+&@#\\\\/%?=~_|$!:,.;]*[A-Z0-9+&@#\\\\/%=~_|$]/i, true)) {\\n                    // console.log(\\\"Found external link\\\");\\n                    return \\\"externallink\\\";\\n                }\\n                stream.eatWhile(/[^|\\\\]]/);\\n            }\\n            return null;\\n        }\\n\\n        // tw underlined text\\n        function twTokenUnderline(stream, state) {\\n            var maybeEnd = false,\\n                ch;\\n            while (ch = stream.next()) {\\n                if (ch == \\\"_\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"_\\\");\\n            }\\n            return \\\"underlined\\\";\\n        }\\n\\n        function twSubscript(stream, state) {\\n            var maybeEnd = false, ch;\\n\\n            while (ch = stream.next()) {\\n                if (ch == \\\",\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\",\\\");\\n            }\\n            return \\\"subscript\\\";\\n        }\\n\\n        function twSuperscript(stream, state) {\\n            var maybeEnd = false, ch;\\n\\n            while (ch = stream.next()) {\\n                if (ch == \\\"^\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"^\\\");\\n            }\\n            return \\\"superscript\\\";\\n        }\\n\\n        function twTokenStrike(stream, state) {\\n            var maybeEnd = false, ch;\\n\\n            while (ch = stream.next()) {\\n                if (ch == \\\"~\\\" && maybeEnd) {\\n                    state.tokenize = tokenBase;\\n                    break;\\n                }\\n                maybeEnd = (ch == \\\"~\\\");\\n            }\\n            return \\\"strikethrough\\\";\\n        }\\n\\n        function twTokenPre(stream, state) {\\n            var sol = stream.sol(), maybeEnd = false, surelyend = false, ch;\\n            while (ch = stream.next()) {\\n                if (ch == '`' && surelyend && stream.eol()) {\\n                    stream.next();\\n                    state.tokenize = tokenBase;\\n                    return \\\"pre\\\";\\n                }\\n                surelyend = (maybeEnd && (ch == '`'));\\n                maybeEnd = (sol && ch == '`');\\n                sol = stream.sol();\\n            }\\n            return \\\"pre\\\";\\n        }\\n\\n        function twTokenQuote(stream, state) {\\n            var sol = stream.sol(), maybeEnd = false, surelyend = false, ch;\\n            while (ch = stream.next()) {\\n                if (ch == '\u003C' && surelyend) {\\n                    stream.skipToEnd();\\n                    state.tokenize = tokenBase;\\n                    return \\\"quote\\\";\\n                }\\n                surelyend = (maybeEnd && (ch == '\u003C'));\\n                maybeEnd = (sol && ch == '\u003C');\\n                sol = stream.sol();\\n            }\\n            return \\\"quote\\\";\\n        }\\n\\n\\n        function twTokenMacro(stream, state) {\\n            if (stream.current() == '\u003C\u003C') {\\n                return 'macro';\\n            }\\n\\n            var ch = stream.next();\\n            if (!ch) {\\n                state.tokenize = tokenBase;\\n                return null;\\n            }\\n            if (ch == \\\">\\\") {\\n                if (stream.peek() == '>') {\\n                    stream.next();\\n                    state.tokenize = tokenBase;\\n                    return \\\"macro\\\";\\n                }\\n            }\\n\\n            stream.eatWhile(/[\\\\w\\\\$_]/);\\n            return keywords.propertyIsEnumerable(stream.current()) ? \\\"keyword\\\" : \\\"macro\\\"\\n        }\\n\\n        // Interface\\n        return {\\n            startState: function () {\\n                return { tokenize: tokenBase };\\n            },\\n\\n            token: function (stream, state) {\\n                if (stream.eatSpace()) return null;\\n                var style = state.tokenize(stream, state);\\n                return style;\\n            }\\n        };\\n    });\\n\\n    CodeMirror.defineMIME(\\\"text/vnd.tiddlywiki\\\", \\\"tiddlywiki5\\\");\\n});\",\n            \"created\": \"20200818164318584\",\n            \"modified\": \"20210327052450347\",\n            \"module-type\": \"codemirror\",\n            \"revision\": \"1\",\n            \"type\": \"application/javascript\"\n        },\n        \"$:/plugins/adithyab/cmplus/macros\": {\n            \"title\": \"$:/plugins/adithyab/cmplus/macros\",\n            \"created\": \"20210328020051916\",\n            \"modified\": \"20210328053732117\",\n            \"tags\": \"$:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\define cmcolour(name)\\n{{$:/plugins/adithyab/cmplus/settings##$name$}}\\n\\\\end\"\n        },\n        \"$:/plugins/adithyab/cmplus/readme\": {\n            \"title\": \"$:/plugins/adithyab/cmplus/readme\",\n            \"created\": \"20210328060842133\",\n            \"modified\": \"20210328060929665\",\n            \"tags\": \"\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"!! TW5 CodeMirrorPlus\\nTowards making a better editor for TiddlyWiki5.\\n\"\n        },\n        \"$:/plugins/adithyab/cmplus/settings\": {\n            \"title\": \"$:/plugins/adithyab/cmplus/settings\",\n            \"text\": \"monospace-font:monospace,\\\"Courier New\\\"\\nselected:rgba(100,100,100,0.3)\\nlinenumber:\u003C\u003Ccolour primary>>\\nkeyword:\u003C\u003Ccolour code-foreground>>\\nmacro:\u003C\u003Ccolour code-foreground>>\\nquote:\u003C\u003Ccolour primary>>\\npre:\u003C\u003Ccolour foreground>>\\nexternallink:\u003C\u003Ccolour external-link-foreground>>\\ninternallink:\u003C\u003Ccolour tiddler-title-foreground>>\\nlink:\u003C\u003Ccolour tiddler-title-foreground>>\\ntransclude:\u003C\u003Ccolour tiddler-title-foreground>>\\nmonospace:\u003C\u003Ccolour foreground>>\\nlist1:\u003C\u003Ccolour primary>>\\nlist2:\u003C\u003Ccolour primary>>\\nlist3:\u003C\u003Ccolour primary>>\\nlist4:\u003C\u003Ccolour primary>>\\nlist5:\u003C\u003Ccolour primary>>\\nlist6:\u003C\u003Ccolour primary>>\\nh1:\u003C\u003Ccolour primary>>\\nh2:\u003C\u003Ccolour primary>>\\nh3:\u003C\u003Ccolour primary>>\\nh4:\u003C\u003Ccolour primary>>\\nh5:\u003C\u003Ccolour primary>>\\nh6:\u003C\u003Ccolour primary>>\\nhr:\u003C\u003Ccolour primary>>\",\n            \"type\": \"application/x-tiddler-dictionary\",\n            \"created\": \"20210328015904035\",\n            \"modified\": \"20210328054754059\",\n            \"tags\": \"\"\n        }\n    }\n}","bag":"default","revision":"0","version":"0.2.2","type":"application/json","title":"$:/plugins/adithyab/cmplus","tags":"CodeMirror","plugin-type":"plugin","name":"CMPlus","modified":"20210327052806122","description":"A better editor for TW5 - built on the Official CodeMirror Plugin","dependents":"$:/plugins/tiddlywiki/codemirror","created":"20210327052508762"},
{"created":"20221229004543616","text":"\u003C$list filter=\"[all[current]subfilter{$:/config/breakzplatform/github-comments/filter}]\" variable=\"doNotOverrideCurrent\">\n\t\u003C$set name=\"stateTiddler\" value=\"$:/state/breakzplatform/github-comments\">\n\t\t\u003C$reveal type=\"nomatch\" state=\u003C\u003CstateTiddler>> text=\u003C\u003CcurrentTiddler>>>\n\t\t\t@@.breakzplatform-github-comments-toggle\n\t\t\t\t\u003C$button class=\"tc-btn-invisible\" set=\u003C\u003CstateTiddler>> setTo=\u003C\u003CcurrentTiddler>> tooltip=\"Show github comments\">\n\u003C!--\t\t\t\t\t{{$:/core/images/down-arrow}}-->\n\t\t\t\t\t{{$:/images/github-comments}}\n\u003C!--\n\t\t\t\t\t{{$:/config/breakzplatform/github-comments/label-show}}\n-->\n\n\t\t\t\t\u003C/$button>\n\t\t\t@@\n\t\t\u003C/$reveal>\n\t\t\u003C$reveal type=\"match\" state=\u003C\u003CstateTiddler>> text=\u003C\u003CcurrentTiddler>>>\n\t\t\t@@.breakzplatform-github-comments-toggle\n\t\t\t\t\u003C$button class=\"tc-btn-invisible\" set=\u003C\u003CstateTiddler>> setTo=\"\" tooltip=\"Hide github comments\">\n\u003C!--\n\t\t\t\t\t{{$:/core/images/up-arrow}}\n-->\n\n\t\t\t\t\t{{$:/images/github-comments}}\n\u003C!--\n\t\t\t\t\t{{$:/config/breakzplatform/github-comments/label-hide}}\n-->\n\n\t\t\t\t\u003C/$button>\n\t\t\t@@\n\n\t\t\t\u003Cdiv class=\"gh-comments-wrapper\">\u003C/div>\n\n\t\t\t\u003C$macrocall $name=\"github-comments\" current=\u003C\u003CcurrentTiddler>>/>\n\n\t\t\u003C/$reveal>\n\t\u003C/$set>\n\u003C/$list>\n","tags":"$:/tags/ViewTemplate","type":"text/vnd.tiddlywiki","title":"$:/plugins/breakzplatform/github-comments/template","modified":"20221229004918092"},
{"created":"20221228005926435","tags":"$:/tags/ViewToolbar","type":"text/vnd.tiddlywiki","caption":"{{$:/core/images/add-comment}} GitHub comments","description":"View Github comments","text":"\\whitespace trim\n\u003C$list filter=\"[all[current]subfilter{$:/config/breakzplatform/github-comments/filter}]\" variable=\"doNotOverrideCurrent\">\n\t\u003C$button tooltip=\"View GitHub comments\" aria-label=\"github comments\" class=\u003C\u003Ctv-config-toolbar-class>> set=\"$:/state/breakzplatform/github-comments\" setTo=\u003C\u003CcurrentTiddler>> >\n\t\t\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>prefix[yes]]\">\n\t\t\t{{$:/core/images/github}}\n\t\t\u003C/$list>\n\t\t\u003C$list filter=\"[\u003Ctv-config-toolbar-text>prefix[yes]]\">\n\t\t\t\u003Cspan class=\"tc-btn-text\">\n\t\t\t\t\u003C$text text=\" \"/>\n\t\t\t\t\u003C$text text=\"view GitHub comments\"/>\n\t\t\t\u003C/span>\n\t\t\u003C/$list>\n\t\u003C/$button>\n\u003C/$list>\n","title":"$:/plugins/breakzplatform/github-comments/viewtoolbar/github-comments-open","modified":"20221228005926435"},
{"created":"20221117145159142","creator":"Telumire","text":"\\define toggleActions()\n\u003C$action-setfield $tiddler=\"$:/config/fileUploads/uploadsEnabled\" text={{{ [{$:/config/fileUploads/uploadsEnabled}match[yes]then[no]else[yes]] }}}/>\n\\end\n\n\\whitespace trim\n\u003C$button tooltip=\"Toggle file uploads\" aria-label=\"Toggle file uploads\" class=\u003C\u003Ctv-config-toolbar-class>> actions=\u003C\u003CtoggleActions>> >\n\t\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\" variable=\"listItem\">\n\t\t\u003C$transclude tiddler={{{ [{$:/config/fileUploads/uploadsEnabled}match[no]then[$:/plugins/commons/file-uploads/images/upload-off]] :else[[$:/plugins/commons/file-uploads/images/upload]] }}}/>\n\t\u003C/$list>\n\t\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\t\t\u003Cspan class=\"tc-btn-text\">\n\t\t\t\u003C$text text=\"Toggle file uploads\"/>\n\t\t\u003C/span>\n\t\u003C/$list>\n\u003C/$button>\n","title":"$:/plugins/commons/file-uploads/Buttons/toggle-uploads","tags":"","caption":"{{$:/plugins/commons/file-uploads/images/upload}} Toggle file uploads","description":"Enable/disable uploading binary tiddlers","modified":"20221117145201052","modifier":"Telumire"},
{"created":"20221120180136217","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-tmd-upload tc-image-button\" viewBox=\"0 0 24 24\">\u003Cpath d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\" />\u003C/svg>","title":"$:/plugins/commons/file-uploads/images/upload","caption":"upload","modified":"20221120180137300","modifier":"Telumire"},
{"created":"20221120180115561","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" class=\"tc-image-tmd-upload-off tc-image-button\" viewBox=\"0 0 24 24\">\u003Cpath d=\"M22.11 21.46L2.39 1.73L1.11 3L6.56 8.45L5 10H8.11L9 10.89V16H14.11L16.11 18H5V20H18.11L20.84 22.73L22.11 21.46M15 10H19L12 3L9.1 5.9L15 11.8V10Z\" />\u003C/svg>","title":"$:/plugins/commons/file-uploads/images/upload-off","caption":"upload-off","modified":"20221120180116271","modifier":"Telumire"},
{"type":"application/json","text":"{\n    \"tiddlers\": {\n        \"$:/plugins/felixhayashi/hotzone/config.js\": {\n            \"title\": \"$:/plugins/felixhayashi/hotzone/config.js\",\n            \"text\": \"/*\\\\\\n\\ntitle: $:/plugins/felixhayashi/hotzone/config.js\\ntype: application/javascript\\nmodule-type: library\\n\\n@preserve\\n\\n\\\\*/\\n(function(){\\\"use strict\\\";exports.config={classNames:{storyRiver:\\\"tc-story-river\\\",tiddlerFrame:\\\"tc-tiddler-frame\\\",tiddlerTitle:\\\"tc-title\\\"},references:{userConfig:\\\"$:/config/hotzone/focusOffset\\\",focussedTiddlerStore:\\\"$:/temp/focussedTiddler\\\"},checkbackTime:$tw.utils.getAnimationDuration()}})();\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"library\"\n        },\n        \"$:/plugins/felixhayashi/hotzone/hotzone.js\": {\n            \"title\": \"$:/plugins/felixhayashi/hotzone/hotzone.js\",\n            \"text\": \"/*\\\\\\n\\ntitle: $:/plugins/felixhayashi/hotzone/hotzone.js\\ntype: application/javascript\\nmodule-type: startup\\n\\n@preserve\\n\\n\\\\*/\\n(function(){\\\"use strict\\\";exports.name=\\\"hotzone\\\";exports.platforms=[\\\"browser\\\"];exports.after=[\\\"story\\\"];exports.synchronous=true;exports.startup=function(){var t=require(\\\"$:/plugins/felixhayashi/hotzone/config.js\\\").config;var e=null;var i=document.getElementsByClassName(t.classNames.storyRiver)[0];var r=$tw.wiki.getTiddlerData(t.references.userConfig,{});var s=isNaN(parseInt(r.focusOffset))?150:parseInt(r.focusOffset);var a=function(e,i,r){if(!(e instanceof Element))return;if(!$tw.utils.hasClass(e,t.classNames.tiddlerFrame))return;var s=e.getElementsByClassName(t.classNames.tiddlerTitle)[0];if(s){var a=s.innerText||s.textContent;return a.trim()}};var n=function(e,i){$tw.wiki.addTiddler(new $tw.Tiddler({title:t.references.focussedTiddlerStore,text:e},$tw.wiki.getModificationFields()));if(i){var r=document.getElementsByClassName(\\\"hzone-focus\\\")[0];if(r){$tw.utils.removeClass(r,\\\"hzone-focus\\\")}$tw.utils.addClass(i,\\\"hzone-focus\\\")}};var l=function(){var r=$tw.wiki.getTiddler(\\\"$:/StoryList\\\");if(r&&r.fields.list.length){var l=null;var o=Number.MAX_VALUE;var f=i.children;var u=t.classNames.tiddlerFrame;for(var d=f.length;d--;){if($tw.utils.hasClass(f[d],u)){var c=f[d].getBoundingClientRect();var v=Math.min(Math.abs(s-c.top),Math.abs(s-c.bottom));if(v\u003Co){l=f[d];o=v}}}var w=a(l);if(w!==e&&$tw.wiki.getTiddler(w)){e=w;n(e,l);return}}else if(e){e=\\\"\\\";n(e)}};var o=function(t){var e;var i=false;return function(r,s){var a=this;if(i&&!s){}else{i=s;if(e!=null){clearTimeout(e)}e=setTimeout((function(){e=null;i=false;t.apply(a)}),r)}}};var f=o(l);var u=function(t){if(t[\\\"$:/HistoryList\\\"]){if(!$tw.wiki.tiddlerExists(\\\"$:/HistoryList\\\"))return;var e=$tw.wiki.getTiddler(\\\"$:/HistoryList\\\").fields[\\\"current-tiddler\\\"];var i=$tw.wiki.getTiddlerList(\\\"$:/StoryList\\\");var r=i.indexOf(e)>=0;if(!r)return;f($tw.utils.getAnimationDuration()+10,true)}else if(t[\\\"$:/StoryList\\\"]){f($tw.utils.getAnimationDuration()+10,true)}};var d=function(t){f(300,false)};$tw.wiki.addEventListener(\\\"change\\\",u);window.addEventListener(\\\"scroll\\\",d,false);d()}})();\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"startup\"\n        },\n        \"$:/plugins/felixhayashi/hotzone/Configuration\": {\n            \"title\": \"$:/plugins/felixhayashi/hotzone/Configuration\",\n            \"text\": \"Please see the [[GitHub page|https://github.com/felixhayashi/TW5-HotZone]] for more information on the options.\\n\\nSave and reload the wiki to activate changes.\\n\\n\u003Ctable>\\n  \u003Ctr>\\n    \u003Cth align=\\\"left\\\">Focus offset:\u003C/th>\\n    \u003Ctd>\u003C$edit-text tiddler=\\\"$:/config/hotzone/focusOffset\\\" tag=\\\"input\\\" default=\\\"71px\\\" />\u003C/td>\\n  \u003C/tr>\\n\u003C/table>\"\n        },\n        \"$:/temp/focussedTiddler\": {\n            \"title\": \"$:/temp/focussedTiddler\"\n        },\n        \"$:/plugins/felixhayashi/hotzone/License\": {\n            \"title\": \"$:/plugins/felixhayashi/hotzone/License\",\n            \"text\": \"This code is released under the BSD license. For the exact terms visit:\\n\\nhttps://github.com/felixhayashi/TW5-HotZone/blob/master/LICENSE\"\n        },\n        \"$:/plugins/felixhayashi/hotzone/Readme\": {\n            \"title\": \"$:/plugins/felixhayashi/hotzone/Readme\",\n            \"text\": \"Please visit the [[GitHub page|https://github.com/felixhayashi/TW5-HotZone]] for more information.\"\n        }\n    }\n}","author":"Felix Küppers","core-version":">=5.1.5","dependents":"","description":"HotZone – Be notified when tiddlers are scrolled into view","list":"Configuration License Readme","plugin-type":"plugin","released":"","source":"https://github.com/felixhayashi/TW5-HotZone","title":"$:/plugins/felixhayashi/hotzone","version":"0.0.3","name":"hotzone"},
{"text":"{\"tiddlers\":{\"$:/config/TiddlyWiki-CPL/GitHub\":{\"title\":\"$:/config/TiddlyWiki-CPL/GitHub\",\"caption\":\"\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\u003C$list filter=\\\"[\u003Clang>search:title[zh]]\\\">太微中文社区插件源(~GitHub版)\u003C/$list>\u003C$list filter=\\\"[\u003Clang>!search:title[zh]]\\\">TiddlyWiki CPL(~GitHub Host)\u003C/$list>\u003C/$list>\",\"tags\":[\"$:/tags/PluginLibrary\",\"$:/tags/PluginLibrary/CPL\"],\"type\":\"text/vnd.tiddlywiki\",\"url\":\"https://tiddly-gittly.github.io/TiddlyWiki-CPL/library/index.html\",\"text\":\"\u003C!-- lang变量就是当前语言 -->\\n\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\\n\u003C$list filter=\\\"[\u003Clang>search:title[zh]]\\\" variable=\\\"lang\\\">\\n\\n欢迎使用''【太微中文社区插件源】''！\\n\\n本插件源是由[[太微(TiddlyWiki)中文社区|https://github.com/tiddly-gittly]]维护的、致力于搜集网络上所有与 ~TiddlyWiki5 有关插件的、希望为中国以及全世界的太微用户提供一键安装、更新插件体验的公开插件源。\\n\\n如果还不了解该如何使用太微和本插件源，欢迎阅读[[中文社区共建的太微（TiddlyWiki）教程|https://tw-cn.netlify.app]]里插件相关的部分。如上提到的插件源和教程皆为开源项目，你可以在 [[GitHub|https://github.com/tiddly-gittly]] 中找到并参与贡献！如果乐意，可以通过QQ群等方式加入我们，详情请见如上提到的中文教程。\\n\\n要添加这个插件库到你的 Wiki 中，只需鼠标拖动这个链接到你的 Wiki 里即可：\u003C$link to=\u003C\u003CcurrentTiddler>>>{{!!caption}}\u003C/$link>\\n\\n注意：本插件源版本为 ~GitHub Page 的版本，更新更快，但是可能需要科学上网手段。如果你在国内，而且不清楚什么是“科学上网”，请选用另一个经过 netlify.app 加速的[[版本|$:/config/TiddlyWiki-CPL/Netlify]]，虽然更新有一定的延迟，但对国内用户更加友好。\\n\\n@@color:red;''安装任何插件前，请记得备份你的Wiki，本插件源无法为插件造成的个人损失负责！''@@\\n\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[\u003Clang>!search:title[zh]]\\\" variable=\\\"lang\\\">\\n\\nWelcome to the ''[TiddlyWiki Chinese Community Plugin Source]''!\\n\\nThis plugin source is maintained by the [[TiddlyWiki Chinese Community]] and is dedicated to collecting all TiddlyWiki5 related plugins on the web, hoping to provide a one-click installation and update plugin experience for TiddlyWiki users in China and around the world.\\n\\nIf you don't know how to use TiddlyWiki and this source, you are welcome to read the plugins related section in the [[TiddlyWiki Tutorials for Chinese Communities|https://tw-cn.netlify.app]]. As mentioned above, both the plugin source and the tutorial are open source projects, you can find them in [[GitHub|https://github.com/tiddly-gittly]] and participate in contributing! If you like, you can join us through QQ groups and other means, see the Chinese tutorials mentioned above for details.\\n\\nTo add this plugin library to your Wiki, just drag this link with your mouse into your Wiki: \u003C$link to=\u003C\u003CcurrentTiddler>>>{{!!caption}}\u003C/$link>\\n\\nNote: The source version of this plugin is the ~GitHub Page version, which is faster to update, but may require scientific Internet access. If you are in China and are not sure what GFW is, please use another [[version|$:/config/TiddlyWiki-CPL/Netlify]] that is accelerated by netlify.app, although there is a certain delay in updating, but it is more friendly to domestic users more friendly.\\n\\n@@color:red;''Please remember to back up your Wiki before installing any plugins, this plugin source cannot be held responsible for personal losses caused by plugins!''@@\\n\\n\u003C/$list>\\n\u003C/$list>\\n\"},\"$:/config/TiddlyWiki-CPL/Netlify\":{\"title\":\"$:/config/TiddlyWiki-CPL/Netlify\",\"caption\":\"\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\u003C$list filter=\\\"[\u003Clang>search:title[zh]]\\\">太微中文社区插件源(大陆加速版)\u003C/$list>\u003C$list filter=\\\"[\u003Clang>!search:title[zh]]\\\">TiddlyWiki CPL(Netlify Host)\u003C/$list>\u003C/$list>\",\"tags\":[\"$:/tags/PluginLibrary\",\"$:/tags/PluginLibrary/CPL\"],\"type\":\"text/vnd.tiddlywiki\",\"url\":\"https://tw-cpl.netlify.app/library/index.html\",\"text\":\"\u003C!-- lang变量就是当前语言 -->\\n\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\\n\u003C$list filter=\\\"[\u003Clang>search:title[zh]]\\\" variable=\\\"lang\\\">\\n\\n欢迎使用''【太微中文社区插件源】''！\\n\\n本插件源是由[[太微(TiddlyWiki)中文社区|https://github.com/tiddly-gittly]]维护的、致力于搜集网络上所有与 ~TiddlyWiki5 有关插件的、希望为中国以及全世界的太微用户提供一键安装、更新插件体验的公开插件源。\\n\\n如果还不了解该如何使用太微和本插件源，欢迎阅读[[中文社区共建的太微（TiddlyWiki）教程|https://tw-cn.netlify.app]]里插件相关的部分。如上提到的插件源和教程皆为开源项目，你可以在 [[GitHub|https://github.com/tiddly-gittly]] 中找到并参与贡献！如果乐意，可以通过QQ群等方式加入我们，详情请见如上提到的中文教程。\\n\\n要添加这个插件库到你的 Wiki 中，只需鼠标拖动这个链接到你的 Wiki 里即可：\u003C$link to=\u003C\u003CcurrentTiddler>>>{{!!caption}}\u003C/$link>\\n\\n注意：本插件源版本为经过 netlify.app 加速的版本，对国内用户更加友好，但是更新有一定的延迟。还提供另一版本，是直接使用 ~GitHub Page 服务器的版本，更新更快，但是可能需要科学上网手段。\\n\\n@@color:red;''安装任何插件前，请记得备份你的Wiki，本插件源无法为插件造成的个人损失负责！''@@\\n\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[\u003Clang>!search:title[zh]]\\\" variable=\\\"lang\\\">\\n\\nWelcome to the ''[TiddlyWiki Chinese Community Plugin Source]''!\\n\\nThis plugin source is maintained by the [[TiddlyWiki Chinese Community]] and is dedicated to collecting all TiddlyWiki5 related plugins on the web, hoping to provide a one-click installation and update plugin experience for TiddlyWiki users in China and around the world.\\n\\nIf you don't know how to use TiddlyWiki and this source, you are welcome to read the plugins related section in the [[TiddlyWiki Tutorials for Chinese Communities|https://tw-cn.netlify.app]]. As mentioned above, both the plugin source and the tutorial are open source projects, you can find them in [[GitHub|https://github.com/tiddly-gittly]] and participate in contributing! If you like, you can join us through QQ groups and other means, see the Chinese tutorials mentioned above for details.\\n\\nTo add this plugin library to your Wiki, just drag this link with your mouse into your Wiki: \u003C$link to=\u003C\u003CcurrentTiddler>>>{{!!caption}}\u003C/$link>\\n\\nNote: The source version of this plugin is a version accelerated by netlify.app, which is more friendly to China mainland users, but there is a delay in updating. There is also another version that uses the GitHub Page server directly, which is faster to update, but may require technology to overturn the GFW.\\n\\n@@color:red;''Please remember to back up your Wiki before installing any plugins, this plugin source cannot be held responsible for personal losses caused by plugins!''@@\\n\\n\u003C/$list>\\n\u003C/$list>\\n\"}}}","type":"application/json","author":"Gk0Wk","description":"Repos for CPL","name":"CPL Repo","plugin-type":"plugin","title":"$:/plugins/Gk0Wk/CPL-Repo","version":"2022.12.28","revision":"0","bag":"default"},
{"version":"0.0.9","type":"application/json","title":"$:/plugins/Gk0Wk/echarts","plugin-type":"plugin","name":"ECharts","list":"readme LICENSE","description":"ECharts for TiddlyWiki5","author":"Gk0Wk","source":"https://github.com/tiddly-gittly/tw-echarts/tree/master/plugins/Gk0Wk/echarts","dependents":"$:/plugins/felixhayashi/hotzone","text":"{\"tiddlers\":{\"$:/plugins/Gk0Wk/echarts/LICENSE\":{\"title\":\"$:/plugins/Gk0Wk/echarts/LICENSE\",\"text\":\"MIT License\\n\\nCopyright (c) 2021 Ke Wang (Gk0Wk in GitHub)\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all\\ncopies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\nSOFTWARE.\\n\",\"type\":\"text/plain\"},\"$:/plugins/Gk0Wk/echarts/addons/PluginsSize\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/PluginsSize\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"`{\\n  \\\"tooltip\\\": {\\n    \\\"trigger\\\": \\\"item\\\"\\n  },\\n  \\\"series\\\": [\\n    {\\n      \\\"type\\\": \\\"treemap\\\",\\n      \\\"visibleMin\\\": 300,\\n      \\\"name\\\": \\\"Plugin Size\\\",\\n      \\\"leafDepth\\\": 1,\\n      \\\"data\\\": [\\n`\\n\u003C$list filter=\\\"[!plugin-type[]!title[$:/core]!title[$:/temp/info-plugin]]\\\" variable=\\\"pluginName\\\" counter=\\\"counter1\\\">\\n`        {\\n          \\\"name\\\": \\\"`\u003C$list filter=\\\"[\u003CpluginName>has[name]]\\\">\u003C$text text={{{ [\u003CpluginName>get[name]] }}}/>\u003C/$list>\u003C$list filter=\\\"[\u003CpluginName>!has[name]]\\\">\u003C$text text={{{ [\u003CpluginName>has[name]else\u003CpluginName>split[/]nth[4]] }}}/>\u003C/$list>`\\\",\\n          \\\"value\\\": `\u003C$text text={{{ [\u003CpluginName>get[text]length[]else[0]] }}}/>`,\\n          \\\"children\\\": [\\n`\\n\u003C$list filter=\\\"[\u003CpluginName>plugintiddlers[]]\\\" variable=\\\"pluginShadow\\\" counter=\\\"counter2\\\">\\n`          {\\n            \\\"name\\\": \\\"`\u003C$text text={{{ [\u003CpluginShadow>removeprefix\u003CpluginName>removeprefix[/]else\u003CpluginShadow>] }}}/>`\\\",\\n            \\\"value\\\": `\u003C$text text={{{ [\u003CpluginShadow>get[text]length[]else[0]] }}}/>`\\n          }`\u003C$list filter=\\\"[\u003Ccounter2-last>match[no]]\\\">`,`\u003C/$list>`\\n`\\n\u003C/$list>\\n`          ]\\n        }`\u003C$list filter=\\\"[\u003Ccounter1-last>match[no]]\\\">`,`\u003C/$list>`\\n`\\n\u003C/$list>\\n`\\n      ],\\n      \\\"levels\\\": [\\n        {\\n          \\\"itemStyle\\\": {\\n            \\\"borderColor\\\": \\\"#555\\\",\\n            \\\"borderWidth\\\": 4,\\n            \\\"gapWidth\\\": 4\\n          }\\n        },\\n        {\\n          \\\"colorSaturation\\\": [0.3, 0.6],\\n          \\\"itemStyle\\\": {\\n            \\\"borderColorSaturation\\\": 0.7,\\n            \\\"gapWidth\\\": 2,\\n            \\\"borderWidth\\\": 2\\n          }\\n        }\\n      ],\\n      \\\"upperLabel\\\": {\\n        \\\"show\\\": true,\\n        \\\"height\\\": 30\\n      }\\n    }\\n  ]\\n}`\\n\"},\"$:/plugins/Gk0Wk/echarts/addons/SimpleExample.json\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/SimpleExample.json\",\"type\":\"application/json\",\"text\":\"{\\n  \\\"xAxis\\\": {\\n    \\\"type\\\": \\\"category\\\",\\n    \\\"data\\\": [\\\"Mon\\\", \\\"Tue\\\", \\\"Wed\\\", \\\"Thu\\\", \\\"Fri\\\", \\\"Sat\\\", \\\"Sun\\\"]\\n  },\\n  \\\"yAxis\\\": {\\n    \\\"type\\\": \\\"value\\\"\\n  },\\n  \\\"series\\\": [\\n    {\\n      \\\"data\\\": [120, 200, 150, 80, 70, 110, 130],\\n      \\\"type\\\": \\\"bar\\\",\\n      \\\"showBackground\\\": true,\\n      \\\"backgroundStyle\\\": {\\n        \\\"color\\\": \\\"rgba(180, 180, 180, 0.2)\\\"\\n      }\\n    }\\n  ]\\n}\\n\"},\"$:/plugins/Gk0Wk/echarts/addons/TagCloud.js\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/TagCloud.js\",\"type\":\"application/javascript\",\"module-type\":\"echarts-component\",\"text\":\"exports.onMount = function (echart) {\\n  var state = {};\\n  echart.on('click', function (event) {\\n    $tw.wiki.setText('$:/temp/Gk0Wk/echarts/addons/TagCloud/currentTag', 'text', null, event.data.name, {})\\n    new $tw.Story().navigateTiddler('$:/plugins/Gk0Wk/echarts/addons/TagCloudTagView');\\n  });\\n  return state;\\n};\\n\\nexports.shouldUpdate = function (_, changedTiddlers) {\\n  return $tw.utils.count(changedTiddlers) > 0;\\n};\\n\\n// See https://github.com/ecomfe/echarts-wordcloud\\nexports.onUpdate = function (echart) {\\n  var data = [];\\n  $tw.utils.each($tw.wiki.filterTiddlers('[tags[]!is[system]sort[title]]'), function (tag) {\\n    data.push({\\n      name: tag,\\n      value: Math.sqrt($tw.wiki.getTiddlersWithTag(tag).length)\\n    });\\n  });\\n  var isDarkMode = echart.getOption();\\n  isDarkMode = isDarkMode ? isDarkMode.darkMode !== false : false;\\n  echart.setOption({\\n    series: [{\\n      type: 'wordCloud',\\n      gridSize: 4,\\n      shape: 'pentagon',\\n      data: data.sort(function (a, b) {\\n        return b.value - a.value;\\n      }),\\n      layoutAnimation: true,\\n      textStyle: {\\n        fontFamily: 'sans-serif',\\n        fontWeight: 'bold',\\n        // Color can be a callback function or a color string\\n        color: function () {\\n          // Random color\\n          return 'rgb(' + [\\n            isDarkMode ? (255 - Math.round(Math.random() * 160)) : Math.round(Math.random() * 160),\\n            isDarkMode ? (255 - Math.round(Math.random() * 160)) : Math.round(Math.random() * 160),\\n            isDarkMode ? (255 - Math.round(Math.random() * 160)) : Math.round(Math.random() * 160),\\n          ].join(',') + ')';\\n        }\\n      },\\n      emphasis: {\\n        focus: 'self',\\n        textStyle: {\\n          textShadowBlur: 10,\\n          textShadowColor: '#333'\\n        }\\n      }\\n    }]\\n  });\\n};\\n\"},\"$:/plugins/Gk0Wk/echarts/addons/TagCloudTagView\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/TagCloudTagView\",\"text\":\"\u003C$set name=\\\"tagName\\\" value={{$:/temp/Gk0Wk/echarts/addons/TagCloud/currentTag}}>\\n\\n\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\\n\u003C$list filter=\\\"[\u003Clang>search[zh]]\\\">\\n\\n!! 包含 \u003C$link to=\u003C\u003CtagName>>/> 标签的条目\\n\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[\u003Clang>!search[zh]]\\\">\\n\\n!! Tiddlers tagged with \u003C$link to=\u003C\u003CtagName>>/>\\n\\n\u003C/$list>\\n\u003C/$list>\\n\\n\u003Cdiv class=\\\"tc-table-of-contents\\\">\\n\u003C$macrocall $name=\\\"toc\\\" tag=\u003C\u003CtagName>> sort=\\\"sort[title]\\\"/>\\n\u003C/div>\\n\\n\u003C/$set>\\n\"},\"$:/plugins/Gk0Wk/echarts/addons/TheBrain.js\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/TheBrain.js\",\"text\":\"/* eslint-disable no-inner-declarations */\\nconst Categories = [\\n  {\\n    name: 'Focusing',\\n  },\\n  {\\n    name: 'History',\\n  },\\n  {\\n    name: 'Link To',\\n  },\\n  {\\n    name: 'Backlink From',\\n  },\\n  {\\n    name: 'Tag To',\\n  },\\n  {\\n    name: 'Tag By',\\n  },\\n  {\\n    name: 'Parent',\\n  },\\n];\\n\\nexports.onMount = function (echart) {\\n  const state = {\\n    historyTiddlers: [],\\n  };\\n  echart.on('click', function (event) {\\n    if (event.dataType === 'node') {\\n      new $tw.Story().navigateTiddler(event.data.name);\\n    } // else if (event.dataType === \\\"edge\\\") { }\\n  });\\n  return state;\\n};\\n\\nexports.shouldUpdate = function (_, changedTiddlers) {\\n  return $tw.utils.count(changedTiddlers) > 0;\\n};\\n\\nfunction getAliasOrTitle(tiddlerTitle, aliasField) {\\n  const tiddler = $tw.wiki.getTiddler(tiddlerTitle);\\n  if (tiddler) {\\n    const aliasValue = tiddler.fields[aliasField];\\n    return aliasValue && typeof aliasValue === 'string'\\n      ? $tw.wiki.renderText('text/plain', 'text/vnd.tiddlywiki', aliasValue, {\\n          variables: { currentTiddler: tiddlerTitle },\\n        })\\n      : tiddlerTitle;\\n  } else {\\n    return tiddlerTitle;\\n  }\\n}\\n\\nexports.onUpdate = function onUpdate(echart, state, addonAttributes) {\\n  /** 参数：focussedTiddler 是图的中央节点 */\\n  const focussedTiddler = addonAttributes.focussedTiddler || $tw.wiki.getTiddlerText('$:/temp/focussedTiddler');\\n  /** 参数：levels 指定图向外展开几级 */\\n  const levels = addonAttributes.levels ? Number.parseInt(addonAttributes.levels) : 1;\\n  /** 参数：graphTitle 指定右下角显示的标题 */\\n  const graphTitle = addonAttributes.graphTitle || 'The Brain View';\\n  // 不允许 focussedTiddler 是系统条目，以免产生大量节点\\n  if (focussedTiddler && focussedTiddler.startsWith('$:/')) return;\\n  const nodes = [];\\n  const edges = [];\\n  /** 参数：aliasField 用于指定展示为节点标题的字段，例如 caption */\\n  const aliasField = addonAttributes.aliasField === '' ? undefined : addonAttributes.aliasField;\\n  /** 参数：excludeFilter 用于排除部分节点 */\\n  const excludeFilter =\\n    addonAttributes.excludeFilter === ''\\n      ? undefined\\n      : addonAttributes.excludeFilter === undefined\\n      ? undefined\\n      : $tw.wiki.compileFilter(addonAttributes.excludeFilter);\\n  if (focussedTiddler && focussedTiddler !== '') {\\n    const nodeMap = {};\\n    nodeMap[''] = true;\\n\\n    // 当前关注的 Tiddler\\n    nodeMap[focussedTiddler] = true;\\n    nodes.push({\\n      name: focussedTiddler,\\n      // fixed: true,\\n      category: 0,\\n      label: {\\n        formatter: getAliasOrTitle(focussedTiddler, aliasField),\\n      },\\n    });\\n\\n    // 历史路径\\n    let nextTiddler = focussedTiddler;\\n    const historyMap = {};\\n    for (let index = state.historyTiddlers.length - 2; index >= 0; index--) {\\n      const tiddlerTitle = state.historyTiddlers[index];\\n      if (historyMap[tiddlerTitle]) continue;\\n      if (tiddlerTitle === nextTiddler) continue;\\n      if (tiddlerTitle.startsWith('$:/')) continue;\\n      edges.push({\\n        source: tiddlerTitle,\\n        target: nextTiddler,\\n        label: {\\n          show: true,\\n          formatter: 'history',\\n        },\\n      });\\n      historyMap[tiddlerTitle] = true;\\n      nextTiddler = tiddlerTitle;\\n      if (nodeMap[tiddlerTitle]) break;\\n      if (!excludeFilter || excludeFilter.call($tw.wiki, [tiddlerTitle]).length === 0)\\n        nodes.push({\\n          name: tiddlerTitle,\\n          label: { formatter: getAliasOrTitle(tiddlerTitle, aliasField) },\\n          category: 1,\\n        });\\n      nodeMap[tiddlerTitle] = true;\\n    }\\n\\n    function pushLink(target, source, recursiveLevel) {\\n      edges.push({\\n        source,\\n        target,\\n        label: {\\n          show: true,\\n          formatter: 'link',\\n        },\\n      });\\n      if (nodeMap[target]) return;\\n      if (!excludeFilter || excludeFilter.call($tw.wiki, [target]).length === 0) {\\n        nodes.push({\\n          name: target,\\n          label: { formatter: getAliasOrTitle(target, aliasField) },\\n          category: 2,\\n        });\\n      }\\n      nodeMap[target] = true;\\n      if (recursiveLevel === levels) return;\\n      $tw.utils.each($tw.wiki.getTiddlerLinks(target), (target2) => {\\n        pushLink(target2, target, recursiveLevel + 1);\\n      });\\n    }\\n    // 链接\\n    $tw.utils.each($tw.wiki.getTiddlerLinks(focussedTiddler), (targetTiddler) => pushLink(targetTiddler, focussedTiddler, 1));\\n\\n    // 反链\\n    function pushBackLink(tiddlerTitle, target, recursiveLevel) {\\n      edges.push({\\n        source: tiddlerTitle,\\n        target,\\n        label: {\\n          show: true,\\n          formatter: 'backlink',\\n        },\\n      });\\n      if (nodeMap[tiddlerTitle]) return;\\n      if (!excludeFilter || excludeFilter.call($tw.wiki, [tiddlerTitle]).length === 0) {\\n        nodes.push({\\n          name: tiddlerTitle,\\n          category: 3,\\n        });\\n      }\\n      nodeMap[tiddlerTitle] = true;\\n      if (recursiveLevel === levels) return;\\n      $tw.utils.each($tw.wiki.getTiddlerLinks(tiddlerTitle), (tiddlerTitle2) => {\\n        pushBackLink(tiddlerTitle2, tiddlerTitle, recursiveLevel + 1);\\n      });\\n    }\\n    $tw.utils.each($tw.wiki.getTiddlerBacklinks(focussedTiddler), (sourceTiddler) => pushBackLink(sourceTiddler, focussedTiddler, 1));\\n\\n    // 指向哪些tag\\n    function pushTag(tiddlerTitle, source, recursiveLevel) {\\n      if (!$tw.wiki.tiddlerExists(tiddlerTitle)) return;\\n      edges.push({\\n        source,\\n        target: tiddlerTitle,\\n        label: {\\n          show: true,\\n          formatter: 'tag',\\n        },\\n      });\\n      if (nodeMap[tiddlerTitle]) return;\\n      if (!excludeFilter || excludeFilter.call($tw.wiki, [tiddlerTitle]).length === 0) {\\n        nodes.push({\\n          name: tiddlerTitle,\\n          label: { formatter: getAliasOrTitle(tiddlerTitle, aliasField) },\\n          category: 4,\\n        });\\n      }\\n      nodeMap[tiddlerTitle] = true;\\n      if (recursiveLevel === levels) return;\\n      $tw.utils.each($tw.wiki.getTiddler(tiddlerTitle).fields.tags, (tiddlerTag2) => {\\n        pushBackLink(tiddlerTag2, tiddlerTitle, recursiveLevel + 1);\\n      });\\n    }\\n    $tw.utils.each($tw.wiki.getTiddler(focussedTiddler).fields.tags, (tiddlerTag) => pushTag(tiddlerTag, focussedTiddler, 1));\\n\\n    // 被谁作为 Tag\\n    function pushBackTag(tiddlerTitle, target, recursiveLevel) {\\n      edges.push({\\n        source: tiddlerTitle,\\n        target,\\n        label: {\\n          show: true,\\n          formatter: 'tag',\\n        },\\n      });\\n      if (nodeMap[tiddlerTitle]) return;\\n      if (!excludeFilter || excludeFilter.call($tw.wiki, [tiddlerTitle]).length === 0) {\\n        nodes.push({\\n          name: tiddlerTitle,\\n          label: { formatter: getAliasOrTitle(tiddlerTitle, aliasField) },\\n          category: 5,\\n        });\\n      }\\n      nodeMap[tiddlerTitle] = true;\\n      if (recursiveLevel === levels) return;\\n      $tw.utils.each($tw.wiki.getTiddlersWithTag(tiddlerTitle), (tiddlerTitle2) => {\\n        pushBackTag(tiddlerTitle2, tiddlerTitle, recursiveLevel + 1);\\n      });\\n    }\\n    $tw.utils.each($tw.wiki.getTiddlersWithTag(focussedTiddler), (tiddlerTitle) => {\\n      pushBackTag(tiddlerTitle, focussedTiddler, 1);\\n    });\\n\\n    // 父条目\\n    const focussedTiddlerPath = focussedTiddler.split('/');\\n    if (focussedTiddlerPath.length > 1) {\\n      const parentTiddler = focussedTiddlerPath.slice(0, -1).join('/');\\n      $tw.utils.each([parentTiddler, parentTiddler + '/'], function (tiddlerTitle) {\\n        edges.push({\\n          source: tiddlerTitle,\\n          target: focussedTiddler,\\n          label: {\\n            show: true,\\n            formatter: 'parent',\\n          },\\n        });\\n        if (nodeMap[tiddlerTitle]) return;\\n        if (!excludeFilter || excludeFilter.call($tw.wiki, [tiddlerTitle]).length === 0)\\n          nodes.push({\\n            name: tiddlerTitle,\\n            label: { formatter: getAliasOrTitle(tiddlerTitle, aliasField) },\\n            category: 6,\\n          });\\n        nodeMap[tiddlerTitle] = true;\\n      });\\n    }\\n  }\\n  const historyIndex = state.historyTiddlers.indexOf(focussedTiddler);\\n  if (historyIndex > -1) state.historyTiddlers.splice(historyIndex, 1);\\n  state.historyTiddlers.push(focussedTiddler);\\n  state.historyTiddlers.slice(-10);\\n  echart.setOption({\\n    legend: [\\n      {\\n        data: Categories.map(function (a) {\\n          return a.name;\\n        }),\\n      },\\n    ],\\n    title: {\\n      text: graphTitle,\\n      show: true,\\n      top: 'bottom',\\n      left: 'right',\\n    },\\n    series: [\\n      {\\n        name: graphTitle,\\n        type: 'graph',\\n        layout: 'force',\\n        nodes,\\n        edges,\\n        categories: Categories,\\n        roam: true,\\n        draggable: true,\\n        zoom: 4,\\n        label: {\\n          position: 'right',\\n          show: true,\\n        },\\n        force: {\\n          repulsion: 50,\\n        },\\n        edgeSymbol: ['circle', 'arrow'],\\n        edgeSymbolSize: [4, 10],\\n        edgeLabel: {\\n          fontSize: 5,\\n        },\\n        lineStyle: {\\n          opacity: 0.9,\\n          width: 2,\\n          curveness: 0,\\n        },\\n      },\\n    ],\\n  });\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"echarts-component\"},\"/home/runner/work/tw-echarts/tw-echarts/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmap.js\":{\"title\":\"/home/runner/work/tw-echarts/tw-echarts/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmap.js\",\"text\":\"/* \\\\\\ntitle: $:/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmap.js\\ntype: application/javascript\\nmodule-type: echarts-component\\n\\nCalendar Heatmap for TiddlyWiki\\n\\\\ */\\n\\nexports.onMount = function (echart) {\\n  const state = {};\\n  return state;\\n};\\n\\nexports.shouldUpdate = function (_, changedTiddlers) {\\n  return $tw.utils.count(changedTiddlers) > 0;\\n};\\n\\nexports.onUpdate = function (myChart, state, addonAttributes) {\\n  const year = Number(addonAttributes.year) || new Date().getFullYear();\\n\\n  function getData(year) {\\n    const startDate = +echarts.number.parseDate(year + '-01-01');\\n    const endDate = +echarts.number.parseDate(+year + 1 + '-01-01');\\n\\n    const dayTime = 3600 * 24 * 1000;\\n\\n    const data = [];\\n\\n    for (let time = startDate; time \u003C endDate; time += dayTime) {\\n      const twtime = echarts.format.formatTime('yyyy-MM-dd', time).replace(/-/g, '');\\n      data.push([\\n        echarts.format.formatTime('yyyy-MM-dd', time),\\n        $tw.wiki.filterTiddlers(\\n          '[all[tiddlers]!is[shadow]!prefix[$:/state/]!prefix[$:/temp/]sameday:created[' +\\n            twtime +\\n            ']][all[tiddlers]!is[shadow]!prefix[$:/state/]!prefix[$:/temp/]sameday:modified[' +\\n            twtime +\\n            ']]+[count[]]',\\n        ),\\n      ]);\\n    }\\n\\n    return data;\\n  }\\n\\n  const option = {\\n    tooltip: {\\n      position: 'top',\\n      formatter: function (p) {\\n        const format = echarts.format.formatTime('yyyy-MM-dd', p.data[0]);\\n        return format + ': ' + p.data[1];\\n      },\\n    },\\n    visualMap: {\\n      min: 0,\\n      max: 10,\\n      calculable: true,\\n      orient: 'vertical',\\n      left: 0,\\n      top: 10,\\n    },\\n    calendar: {\\n      left: 90,\\n      cellSize: 'auto',\\n      top: 20,\\n      orient: 'horizontal',\\n      range: year,\\n      dayLabel: {\\n        margin: 5,\\n      },\\n    },\\n    series: {\\n      type: 'heatmap',\\n      coordinateSystem: 'calendar',\\n      calendarIndex: 0,\\n      data: getData(year),\\n    },\\n  };\\n\\n  option && myChart.setOption(option);\\n\\n  myChart.on('click', 'series', function (parameters) {\\n    if (parameters.data[1] > 0) {\\n      const day = parameters.data[0].replace(/-/g, '');\\n\\n      const filter =\\n        '[all[tiddlers]!is[shadow]!prefix[$:/state/]!prefix[$:/temp/]sameday:created[' +\\n        day +\\n        ']][all[tiddlers]!is[shadow]!prefix[$:/state/]!prefix[$:/temp/]sameday:modified[' +\\n        day +\\n        ']]+[sort[]]';\\n\\n      $tw.rootWidget.invokeActionString(\\n        '\u003C$action-setfield $tiddler=\\\"$:/temp/advancedsearch\\\" text=\\\"\\\"\\\"' +\\n          filter +\\n          '\\\"\\\"\\\"/>\u003C$action-setfield $tiddler=\\\"$:/temp/advancedsearch/input\\\" text=\\\"\\\"\\\"' +\\n          filter +\\n          '\\\"\\\"\\\"/>\u003C$action-setfield $tiddler=\\\"$:/temp/advancedsearch/refresh\\\" text=\\\"yes\\\"/>\u003C$action-setfield $tiddler=\\\"$:/state/tab--1498284803\\\" text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"/>',\\n      );\\n\\n      new $tw.Story().navigateTiddler('$:/AdvancedSearch');\\n    }\\n  });\\n};\\n\"},\"$:/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmapExample\":{\"title\":\"$:/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmapExample\",\"text\":\"\u003C$echarts $tiddler=\\\"$:/plugins/Gk0Wk/echarts/addons/oflg/CalendarHeatmap/CalendarHeatmap.js\\\" $height=\\\"180px\\\"/>\\n\"},\"$:/plugins/Gk0Wk/echarts/echarts-wordcloud.min.js\":{\"title\":\"$:/plugins/Gk0Wk/echarts/echarts-wordcloud.min.js\",\"text\":\"/*! Forked from https://github.com/ecomfe/echarts-wordcloud */\\n(()=>{\\\"use strict\\\";var t={};(t=>{\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(t,\\\"__esModule\\\",{value:!0})})(t),window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e=\\\"zero-timeout-message\\\";return window.addEventListener(\\\"message\\\",(function(a){if(\\\"string\\\"==typeof a.data&&a.data.substr(0,e.length)===e){a.stopImmediatePropagation();var i=parseInt(a.data.substr(e.length),36);t[i]&&(t[i](),t[i]=void 0)}}),!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(a){var i=t.length;return t.push(a),window.postMessage(e+i.toString(36),\\\"*\\\"),i}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});var e=function(){var t=document.createElement(\\\"canvas\\\");if(!t||!t.getContext)return!1;var e=t.getContext(\\\"2d\\\");return!!(e.getImageData&&e.fillText&&Array.prototype.some&&Array.prototype.push)}(),a=function(){if(e){for(var t,a,i=document.createElement(\\\"canvas\\\").getContext(\\\"2d\\\"),o=20;o;){if(i.font=o.toString(10)+\\\"px sans-serif\\\",i.measureText(\\\"Ｗ\\\").width===t&&i.measureText(\\\"m\\\").width===a)return o+1;t=i.measureText(\\\"Ｗ\\\").width,a=i.measureText(\\\"m\\\").width,o--}return 0}}(),i=function(t){for(var e,a,i=t.length;i;e=Math.floor(Math.random()*i),a=t[--i],t[i]=t[e],t[e]=a);return t},o=function(t,o){if(e){Array.isArray(t)||(t=[t]),t.forEach((function(e,a){if(\\\"string\\\"==typeof e){if(t[a]=document.getElementById(e),!t[a])throw\\\"The element id specified is not found.\\\"}else if(!e.tagName&&!e.appendChild)throw\\\"You must pass valid HTML elements, or ID of the element.\\\"}));var n={list:[],fontFamily:'\\\"Trebuchet MS\\\", \\\"Heiti TC\\\", \\\"微軟正黑體\\\", \\\"Arial Unicode MS\\\", \\\"Droid Fallback Sans\\\", sans-serif',fontWeight:\\\"normal\\\",color:\\\"random-dark\\\",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:\\\"#fff\\\",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:\\\"rgba(255,0,0,0.3)\\\",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:\\\"circle\\\",ellipticity:.65,classes:null,hover:null,click:null};if(o)for(var r in o)r in n&&(n[r]=o[r]);if(\\\"function\\\"!=typeof n.weightFactor){var l=n.weightFactor;n.weightFactor=function(t){return t*l}}if(\\\"function\\\"!=typeof n.shape)switch(n.shape){case\\\"circle\\\":default:n.shape=\\\"circle\\\";break;case\\\"cardioid\\\":n.shape=function(t){return 1-Math.sin(t)};break;case\\\"diamond\\\":case\\\"square\\\":n.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case\\\"triangle-forward\\\":n.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\\\"triangle\\\":case\\\"triangle-upright\\\":n.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case\\\"pentagon\\\":n.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case\\\"star\\\":n.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}n.gridSize=Math.max(Math.floor(n.gridSize),4);var s,d,u,f,c,h,m,g=n.gridSize,v=g-n.maskGapWidth,w=Math.abs(n.maxRotation-n.minRotation),p=Math.min(n.maxRotation,n.minRotation),y=n.rotationStep;switch(n.color){case\\\"random-dark\\\":m=function(){return R(10,50)};break;case\\\"random-light\\\":m=function(){return R(50,90)};break;default:\\\"function\\\"==typeof n.color&&(m=n.color)}var x=null;\\\"function\\\"==typeof n.classes&&(x=n.classes);var M,S=!1,I=[],b=function(t){var e,a,i=t.currentTarget,o=i.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,a=t.touches[0].clientY):(e=t.clientX,a=t.clientY);var n=e-o.left,r=a-o.top,l=Math.floor(n*(i.width/o.width||1)/g),s=Math.floor(r*(i.height/o.height||1)/g);return I[l][s]},T=function(t){var e=b(t);M!==e&&(M=e,e?n.hover(e.item,e.dimension,t):n.hover(void 0,void 0,t))},C=function(t){var e=b(t);e&&(n.click(e.item,e.dimension,t),t.preventDefault())},k=[],E=function(t){if(k[t])return k[t];var e=8*t,a=e,i=[];for(0===t&&i.push([f[0],f[1],0]);a--;){var o=1;\\\"circle\\\"!==n.shape&&(o=n.shape(a/e*2*Math.PI)),i.push([f[0]+t*o*Math.cos(-a/e*2*Math.PI),f[1]+t*o*Math.sin(-a/e*2*Math.PI)*n.ellipticity,a/e*2*Math.PI])}return k[t]=i,i},O=function(){return n.abortThreshold>0&&(new Date).getTime()-h>n.abortThreshold},P=function(e,a,i,o,n){e>=d||a>=u||e\u003C0||a\u003C0||(s[e][a]=!1,i&&t[0].getContext(\\\"2d\\\").fillRect(e*g,a*g,v,v),S&&(I[e][a]={item:n,dimension:o}))},D=function(e,a,i){if(a)return!t.some((function(t){var o=document.createEvent(\\\"CustomEvent\\\");return o.initCustomEvent(e,!0,a,i||{}),!t.dispatchEvent(o)}),this);t.forEach((function(t){var o=document.createEvent(\\\"CustomEvent\\\");o.initCustomEvent(e,!0,a,i||{}),t.dispatchEvent(o)}),this)};!function(){var e=t[0];if(e.getContext)d=Math.ceil(e.width/g),u=Math.ceil(e.height/g);else{var o=e.getBoundingClientRect();d=Math.ceil(o.width/g),u=Math.ceil(o.height/g)}if(D(\\\"wordcloudstart\\\",!0)){var r,l,v,b,k;if(f=n.origin?[n.origin[0]/g,n.origin[1]/g]:[d/2,u/2],c=Math.floor(Math.sqrt(d*d+u*u)),s=[],!e.getContext||n.clearCanvas)for(t.forEach((function(t){if(t.getContext){var e=t.getContext(\\\"2d\\\");e.fillStyle=n.backgroundColor,e.clearRect(0,0,d*(g+1),u*(g+1)),e.fillRect(0,0,d*(g+1),u*(g+1))}else t.textContent=\\\"\\\",t.style.backgroundColor=n.backgroundColor,t.style.position=\\\"relative\\\"})),r=d;r--;)for(s[r]=[],l=u;l--;)s[r][l]=!0;else{var R=document.createElement(\\\"canvas\\\").getContext(\\\"2d\\\");R.fillStyle=n.backgroundColor,R.fillRect(0,0,1,1);var A,z,F=R.getImageData(0,0,1,1).data,L=e.getContext(\\\"2d\\\").getImageData(0,0,d*g,u*g).data;for(r=d;r--;)for(s[r]=[],l=u;l--;){z=g;t:for(;z--;)for(A=g;A--;)for(v=4;v--;)if(L[4*((l*g+z)*d*g+(r*g+A))+v]!==F[v]){s[r][l]=!1;break t}!1!==s[r][l]&&(s[r][l]=!0)}L=R=F=void 0}if(n.hover||n.click){for(S=!0,r=d+1;r--;)I[r]=[];n.hover&&e.addEventListener(\\\"mousemove\\\",T),n.click&&(e.addEventListener(\\\"click\\\",C),e.addEventListener(\\\"touchstart\\\",C),e.addEventListener(\\\"touchend\\\",(function(t){t.preventDefault()})),e.style.webkitTapHighlightColor=\\\"rgba(0, 0, 0, 0)\\\"),e.addEventListener(\\\"wordcloudstart\\\",(function t(){e.removeEventListener(\\\"wordcloudstart\\\",t),e.removeEventListener(\\\"mousemove\\\",T),e.removeEventListener(\\\"click\\\",C),M=void 0}))}v=0;var W=!0;n.layoutAnimation?0!==n.wait?(b=window.setTimeout,k=window.clearTimeout):(b=window.setImmediate,k=window.clearImmediate):(b=function(t){t()},k=function(){W=!1});var B=function(e,a){t.forEach((function(t){t.removeEventListener(e,a)}),this)},X=function t(){B(\\\"wordcloudstart\\\",t),k(Y)};!function(e,a){t.forEach((function(t){t.addEventListener(\\\"wordcloudstart\\\",a)}),this)}(0,X);var Y=(n.layoutAnimation?b:setTimeout)((function e(){if(W){if(v>=n.list.length)return k(Y),D(\\\"wordcloudstop\\\",!1),void B(\\\"wordcloudstart\\\",X);h=(new Date).getTime();var o=function(e){var o,r,l;Array.isArray(e)?(o=e[0],r=e[1]):(o=e.word,r=e.weight,l=e.attributes);var f,h,v,M=0===n.rotateRatio||Math.random()>n.rotateRatio?0:0===w?p:p+Math.round(Math.random()*w/y)*y,I=function(t,e,i){var o=n.weightFactor(e);if(o\u003C=n.minSize)return!1;var r=1;o\u003Ca&&(r=function(){for(var t=2;t*o\u003Ca;)t+=2;return t}());var l=document.createElement(\\\"canvas\\\"),s=l.getContext(\\\"2d\\\",{willReadFrequently:!0});s.font=n.fontWeight+\\\" \\\"+(o*r).toString(10)+\\\"px \\\"+n.fontFamily;var d=s.measureText(t).width/r,u=Math.max(o*r,s.measureText(\\\"m\\\").width,s.measureText(\\\"Ｗ\\\").width)/r,f=d+2*u,c=3*u,h=Math.ceil(f/g),m=Math.ceil(c/g);f=h*g,c=m*g;var v=-d/2,w=.4*-u,p=Math.ceil((f*Math.abs(Math.sin(i))+c*Math.abs(Math.cos(i)))/g),y=Math.ceil((f*Math.abs(Math.cos(i))+c*Math.abs(Math.sin(i)))/g),x=y*g,M=p*g;l.setAttribute(\\\"width\\\",x),l.setAttribute(\\\"height\\\",M),s.scale(1/r,1/r),s.translate(x*r/2,M*r/2),s.rotate(-i),s.font=n.fontWeight+\\\" \\\"+(o*r).toString(10)+\\\"px \\\"+n.fontFamily,s.fillStyle=\\\"#000\\\",s.textBaseline=\\\"middle\\\",s.fillText(t,v*r,(w+.5*o)*r);var S=s.getImageData(0,0,x,M).data;if(O())return!1;for(var I,b,T,C=[],k=y,E=[p/2,y/2,p/2,y/2];k--;)for(I=p;I--;){T=g;t:for(;T--;)for(b=g;b--;)if(S[4*((I*g+T)*x+(k*g+b))+3]){C.push([k,I]),k\u003CE[3]&&(E[3]=k),k>E[1]&&(E[1]=k),I\u003CE[0]&&(E[0]=I),I>E[2]&&(E[2]=I);break t}}return{mu:r,occupied:C,bounds:E,gw:y,gh:p,fillTextOffsetX:v,fillTextOffsetY:w,fillTextWidth:d,fillTextHeight:u,fontSize:o}}(o,r,M);if(!I)return!1;if(O())return!1;if(!n.drawOutOfBound){var b=I.bounds;if(b[1]-b[3]+1>d||b[2]-b[0]+1>u)return!1}for(var T=c+1;T--;){var C=E(c-T);n.shuffle&&(C=[].concat(C),i(C));for(var k=0;k\u003CC.length;k++){var D=(f=C[k],h=void 0,v=void 0,h=Math.floor(f[0]-I.gw/2),v=Math.floor(f[1]-I.gh/2),I.gw,I.gh,!!function(t,e,a,i,o){for(var r=o.length;r--;){var l=t+o[r][0],f=e+o[r][1];if(l>=d||f>=u||l\u003C0||f\u003C0){if(!n.drawOutOfBound)return!1}else if(!s[l][f])return!1}return!0}(h,v,0,0,I.occupied)&&(function(e,a,i,o,r,l,s,d,u){var f,c,h=i.fontSize;f=m?m(o,r,h,l,s):n.color,c=x?x(o,r,h,l,s):n.classes;var v=i.bounds;v[3],v[0],v[1],v[3],v[2],v[0],t.forEach((function(t){if(t.getContext){var r=t.getContext(\\\"2d\\\"),l=i.mu;r.save(),r.scale(1/l,1/l),r.font=n.fontWeight+\\\" \\\"+(h*l).toString(10)+\\\"px \\\"+n.fontFamily,r.fillStyle=f,r.translate((e+i.gw/2)*g*l,(a+i.gh/2)*g*l),0!==d&&r.rotate(-d),r.textBaseline=\\\"middle\\\",r.fillText(o,i.fillTextOffsetX*l,(i.fillTextOffsetY+.5*h)*l),r.restore()}else{var s=document.createElement(\\\"span\\\"),m=\\\"\\\";m=\\\"rotate(\\\"+-d/Math.PI*180+\\\"deg) \\\",1!==i.mu&&(m+=\\\"translateX(-\\\"+i.fillTextWidth/4+\\\"px) scale(\\\"+1/i.mu+\\\")\\\");var v={position:\\\"absolute\\\",display:\\\"block\\\",font:n.fontWeight+\\\" \\\"+h*i.mu+\\\"px \\\"+n.fontFamily,left:(e+i.gw/2)*g+i.fillTextOffsetX+\\\"px\\\",top:(a+i.gh/2)*g+i.fillTextOffsetY+\\\"px\\\",width:i.fillTextWidth+\\\"px\\\",height:i.fillTextHeight+\\\"px\\\",lineHeight:h+\\\"px\\\",whiteSpace:\\\"nowrap\\\",transform:m,webkitTransform:m,msTransform:m,transformOrigin:\\\"50% 40%\\\",webkitTransformOrigin:\\\"50% 40%\\\",msTransformOrigin:\\\"50% 40%\\\"};for(var w in f&&(v.color=f),s.textContent=o,v)s.style[w]=v[w];if(u)for(var p in u)s.setAttribute(p,u[p]);c&&(s.className+=c),t.appendChild(s)}}))}(h,v,I,o,r,c-T,f[2],M,l),function(e,a,i,o,r,l){var s,f,c=r.occupied,h=n.drawMask;if(h&&((s=t[0].getContext(\\\"2d\\\")).save(),s.fillStyle=n.maskColor),S){var m=r.bounds;f={x:(e+m[3])*g,y:(a+m[0])*g,w:(m[1]-m[3]+1)*g,h:(m[2]-m[0]+1)*g}}for(var v=c.length;v--;){var w=e+c[v][0],p=a+c[v][1];w>=d||p>=u||w\u003C0||p\u003C0||P(w,p,h,f,l)}h&&s.restore()}(h,v,0,0,I,e),{gx:h,gy:v,rot:M,info:I}));if(D)return D}}return null}(n.list[v]),r=!D(\\\"wordclouddrawn\\\",!0,{item:n.list[v],drawn:o});if(O()||r)return k(Y),n.abort(),D(\\\"wordcloudabort\\\",!1),D(\\\"wordcloudstop\\\",!1),void B(\\\"wordcloudstart\\\",X);v++,Y=b(e,n.wait)}}),n.wait)}}()}function R(t,e){return\\\"hsl(\\\"+(360*Math.random()).toFixed()+\\\",\\\"+(30*Math.random()+70).toFixed()+\\\"%,\\\"+(Math.random()*(e-t)+t).toFixed()+\\\"%)\\\"}};o.isSupported=e,o.minFontSize=a;const n=o;var r=window.echarts;if(n.isSupported){function t(t){for(var e=t.getContext(\\\"2d\\\"),a=e.getImageData(0,0,t.width,t.height),i=e.createImageData(a),o=0,n=0,r=0;r\u003Ca.data.length;r+=4)a.data[r+3]>128&&(o+=s=a.data[r]+a.data[r+1]+a.data[r+2],++n);var l=o/n;for(r=0;r\u003Ca.data.length;r+=4){var s=a.data[r]+a.data[r+1]+a.data[r+2];a.data[r+3]\u003C128||s>l?(i.data[r]=0,i.data[r+1]=0,i.data[r+2]=0,i.data[r+3]=0):(i.data[r]=255,i.data[r+1]=255,i.data[r+2]=255,i.data[r+3]=255)}e.putImageData(i,0,0)}r.extendChartView({type:\\\"wordCloud\\\",render:function(t,e,a){var i=this.group;i.removeAll();var o=t.getData(),n=t.get(\\\"gridSize\\\");t.layoutInstance.ondraw=function(e,a,l,s){var d=o.getItemModel(l),u=d.getModel(\\\"textStyle\\\"),f=new r.graphic.Text({style:r.helper.createTextStyle(u),scaleX:1/s.info.mu,scaleY:1/s.info.mu,x:(s.gx+s.info.gw/2)*n,y:(s.gy+s.info.gh/2)*n,rotation:s.rot});f.setStyle({x:s.info.fillTextOffsetX,y:s.info.fillTextOffsetY+.5*a,text:e,verticalAlign:\\\"middle\\\",fill:o.getItemVisual(l,\\\"style\\\").fill,fontSize:a}),i.add(f),o.setItemGraphicEl(l,f),f.ensureState(\\\"emphasis\\\").style=r.helper.createTextStyle(d.getModel([\\\"emphasis\\\",\\\"textStyle\\\"]),{state:\\\"emphasis\\\"}),f.ensureState(\\\"blur\\\").style=r.helper.createTextStyle(d.getModel([\\\"blur\\\",\\\"textStyle\\\"]),{state:\\\"blur\\\"}),r.helper.enableHoverEmphasis(f,d.get([\\\"emphasis\\\",\\\"focus\\\"]),d.get([\\\"emphasis\\\",\\\"blurScope\\\"])),f.stateTransition={duration:t.get(\\\"animation\\\")?t.get([\\\"stateAnimation\\\",\\\"duration\\\"]):0,easing:t.get([\\\"stateAnimation\\\",\\\"easing\\\"])},f.__highDownDispatcher=!0},this._model=t},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),r.extendSeriesModel({type:\\\"series.wordCloud\\\",visualStyleAccessPath:\\\"textStyle\\\",visualStyleMapper:function(t){return{fill:t.get(\\\"color\\\")}},visualDrawType:\\\"fill\\\",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var a=r.helper.createDimensions(t.data,{coordDimensions:[\\\"value\\\"]}),i=new r.List(a,this);return i.initData(t.data),i},defaultOption:{maskImage:null,shape:\\\"circle\\\",left:\\\"center\\\",top:\\\"center\\\",width:\\\"70%\\\",height:\\\"80%\\\",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{fontWeight:\\\"normal\\\"}}}),r.registerLayout((function(e,a){e.eachSeriesByType(\\\"wordCloud\\\",(function(i){var o=r.helper.getLayoutRect(i.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),l=i.getData(),s=document.createElement(\\\"canvas\\\");s.width=o.width,s.height=o.height;var d=s.getContext(\\\"2d\\\"),u=i.get(\\\"maskImage\\\");if(u)try{d.drawImage(u,0,0,s.width,s.height),t(s)}catch(t){console.error(\\\"Invalid mask image\\\"),console.error(t.toString())}var f=i.get(\\\"sizeRange\\\"),c=i.get(\\\"rotationRange\\\"),h=l.getDataExtent(\\\"value\\\"),m=Math.PI/180,g=i.get(\\\"gridSize\\\");function v(t){var e=t.detail.item;t.detail.drawn&&i.layoutInstance.ondraw&&(t.detail.drawn.gx+=o.x/g,t.detail.drawn.gy+=o.y/g,i.layoutInstance.ondraw(e[0],e[1],e[2],t.detail.drawn))}n(s,{list:l.mapArray(\\\"value\\\",(function(t,e){var a=l.getItemModel(e);return[l.getName(e),a.get(\\\"textStyle.fontSize\\\",!0)||r.number.linearMap(t,h,f),e]})).sort((function(t,e){return e[1]-t[1]})),fontFamily:i.get(\\\"textStyle.fontFamily\\\")||i.get(\\\"emphasis.textStyle.fontFamily\\\")||e.get(\\\"textStyle.fontFamily\\\"),fontWeight:i.get(\\\"textStyle.fontWeight\\\")||i.get(\\\"emphasis.textStyle.fontWeight\\\")||e.get(\\\"textStyle.fontWeight\\\"),gridSize:g,ellipticity:o.height/o.width,minRotation:c[0]*m,maxRotation:c[1]*m,clearCanvas:!u,rotateRatio:1,rotationStep:i.get(\\\"rotationStep\\\")*m,drawOutOfBound:i.get(\\\"drawOutOfBound\\\"),layoutAnimation:i.get(\\\"layoutAnimation\\\"),shuffle:!1,shape:i.get(\\\"shape\\\")}),s.addEventListener(\\\"wordclouddrawn\\\",v),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){s.removeEventListener(\\\"wordclouddrawn\\\",v),s.addEventListener(\\\"wordclouddrawn\\\",(function(t){t.preventDefault()}))}}}))})),r.registerPreprocessor((function(t){var e=(t||{}).series;!r.util.isArray(e)&&(e=e?[e]:[]);var a=[\\\"shadowColor\\\",\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\"];function i(t){t&&r.util.each(a,(function(e){t.hasOwnProperty(e)&&(t[\\\"text\\\"+r.format.capitalFirst(e)]=t[e])}))}r.util.each(e,(function(t){if(t&&\\\"wordCloud\\\"===t.type){var e=t.textStyle||{};i(e.normal),i(e.emphasis)}}))}))}exports[\\\"echarts-wordcloud\\\"]=t})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"echarts-extension\"},\"$:/plugins/Gk0Wk/echarts/echarts.min.js\":{\"title\":\"$:/plugins/Gk0Wk/echarts/echarts.min.js\",\"text\":\"\\n/*\\n* Licensed to the Apache Software Foundation (ASF) under one\\n* or more contributor license agreements.  See the NOTICE file\\n* distributed with this work for additional information\\n* regarding copyright ownership.  The ASF licenses this file\\n* to you under the Apache License, Version 2.0 (the\\n* \\\"License\\\"); you may not use this file except in compliance\\n* with the License.  You may obtain a copy of the License at\\n*\\n*   http://www.apache.org/licenses/LICENSE-2.0\\n*\\n* Unless required by applicable law or agreed to in writing,\\n* software distributed under the License is distributed on an\\n* \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n* KIND, either express or implied.  See the License for the\\n* specific language governing permissions and limitations\\n* under the License.\\n*/\\n\\n!function(t,e){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?e(exports):\\\"function\\\"==typeof define&&define.amd?define([\\\"exports\\\"],e):e((t=\\\"undefined\\\"!=typeof globalThis?globalThis:t||self).echarts={})}(this,(function(t){\\\"use strict\\\";\\n/*! *****************************************************************************\\n    Copyright (c) Microsoft Corporation.\\n\\n    Permission to use, copy, modify, and/or distribute this software for any\\n    purpose with or without fee is hereby granted.\\n\\n    THE SOFTWARE IS PROVIDED \\\"AS IS\\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\\n    PERFORMANCE OF THIS SOFTWARE.\\n    ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)};function n(t,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Class extends value \\\"+String(n)+\\\" is not a constructor or null\\\");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},r=new function(){this.browser=new i,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=\\\"undefined\\\"!=typeof window};\\\"object\\\"==typeof wx&&\\\"function\\\"==typeof wx.getSystemInfoSync?(r.wxa=!0,r.touchEventsSupported=!0):\\\"undefined\\\"==typeof document&&\\\"undefined\\\"!=typeof self?r.worker=!0:\\\"undefined\\\"==typeof navigator?(r.node=!0,r.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\\\\/([\\\\d.]+)/),r=t.match(/MSIE\\\\s([\\\\d.]+)/)||t.match(/Trident\\\\/.+?rv:(([\\\\d.]+))/),o=t.match(/Edge?\\\\/([\\\\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(\\\".\\\")[0]>18);a&&(n.weChat=!0);e.svgSupported=\\\"undefined\\\"!=typeof SVGRect,e.touchEventsSupported=\\\"ontouchstart\\\"in window&&!n.ie&&!n.edge,e.pointerEventsSupported=\\\"onpointerdown\\\"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=\\\"undefined\\\"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&\\\"transition\\\"in s||n.edge||\\\"WebKitCSSMatrix\\\"in window&&\\\"m11\\\"in new WebKitCSSMatrix||\\\"MozPerspective\\\"in s)&&!(\\\"OTransition\\\"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,r);var o=\\\"sans-serif\\\",a=\\\"12px sans-serif\\\";var s,l,u=function(t){var e={};if(\\\"undefined\\\"==typeof JSON)return e;for(var n=0;n\u003Ct.length;n++){var i=String.fromCharCode(n+32),r=(t.charCodeAt(n)-20)/100;e[i]=r}return e}(\\\"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\\\\\\\\\WQb\\\\\\\\0FWLg\\\\\\\\bWb\\\\\\\\WQ\\\\\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\\\\\FFF5.5N\\\"),h={createCanvas:function(){return\\\"undefined\\\"!=typeof document&&document.createElement(\\\"canvas\\\")},measureText:function(t,e){if(!s){var n=h.createCanvas();s=n&&n.getContext(\\\"2d\\\")}if(s)return l!==e&&(l=s.font=e||a),s.measureText(t);t=t||\\\"\\\";var i=/^([0-9]*?)px$/.exec(e=e||a),r=+(i&&i[1])||12,o=0;if(e.indexOf(\\\"mono\\\")>=0)o=r*t.length;else for(var c=0;c\u003Ct.length;c++){var p=u[t[c]];o+=null==p?r:p*r}return{width:o}},loadImage:function(t,e,n){var i=new Image;return i.onload=e,i.onerror=n,i.src=t,i}};function c(t){for(var e in h)t[e]&&(h[e]=t[e])}var p=V([\\\"Function\\\",\\\"RegExp\\\",\\\"Date\\\",\\\"Error\\\",\\\"CanvasGradient\\\",\\\"CanvasPattern\\\",\\\"Image\\\",\\\"Canvas\\\"],(function(t,e){return t[\\\"[object \\\"+e+\\\"]\\\"]=!0,t}),{}),d=V([\\\"Int8\\\",\\\"Uint8\\\",\\\"Uint8Clamped\\\",\\\"Int16\\\",\\\"Uint16\\\",\\\"Int32\\\",\\\"Uint32\\\",\\\"Float32\\\",\\\"Float64\\\"],(function(t,e){return t[\\\"[object \\\"+e+\\\"Array]\\\"]=!0,t}),{}),f=Object.prototype.toString,g=Array.prototype,y=g.forEach,v=g.filter,m=g.slice,x=g.map,_=function(){}.constructor,b=_?_.prototype:null,w=\\\"__proto__\\\",S=2311;function M(){return S++}function I(){for(var t=[],e=0;e\u003Carguments.length;e++)t[e]=arguments[e];\\\"undefined\\\"!=typeof console&&console.error.apply(console,t)}function T(t){if(null==t||\\\"object\\\"!=typeof t)return t;var e=t,n=f.call(t);if(\\\"[object Array]\\\"===n){if(!pt(t)){e=[];for(var i=0,r=t.length;i\u003Cr;i++)e[i]=T(t[i])}}else if(d[n]){if(!pt(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(i=0,r=t.length;i\u003Cr;i++)e[i]=t[i]}}}else if(!p[n]&&!pt(t)&&!J(t))for(var a in e={},t)t.hasOwnProperty(a)&&a!==w&&(e[a]=T(t[a]));return e}function C(t,e,n){if(!q(e)||!q(t))return n?T(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==w){var r=t[i],o=e[i];!q(o)||!q(r)||Y(o)||Y(r)||J(o)||J(r)||K(o)||K(r)||pt(o)||pt(r)?!n&&i in t||(t[i]=T(e[i])):C(r,o,n)}return t}function D(t,e){for(var n=t[0],i=1,r=t.length;i\u003Cr;i++)n=C(n,t[i],e);return n}function A(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==w&&(t[n]=e[n]);return t}function k(t,e,n){for(var i=G(e),r=0;r\u003Ci.length;r++){var o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var L=h.createCanvas;function P(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n\u003Ci;n++)if(t[n]===e)return n}return-1}function O(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function R(t,e,n){if(t=\\\"prototype\\\"in t?t.prototype:t,e=\\\"prototype\\\"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r\u003Ci.length;r++){var o=i[r];\\\"constructor\\\"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else k(t,e,n)}function N(t){return!!t&&(\\\"string\\\"!=typeof t&&\\\"number\\\"==typeof t.length)}function E(t,e,n){if(t&&e)if(t.forEach&&t.forEach===y)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i\u003Cr;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function z(t,e,n){if(!t)return[];if(!e)return at(t);if(t.map&&t.map===x)return t.map(e,n);for(var i=[],r=0,o=t.length;r\u003Co;r++)i.push(e.call(n,t[r],r,t));return i}function V(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r\u003Co;r++)n=e.call(i,n,t[r],r,t);return n}}function B(t,e,n){if(!t)return[];if(!e)return at(t);if(t.filter&&t.filter===v)return t.filter(e,n);for(var i=[],r=0,o=t.length;r\u003Co;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}function F(t,e,n){if(t&&e)for(var i=0,r=t.length;i\u003Cr;i++)if(e.call(n,t[i],i,t))return t[i]}function G(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var W=b&&U(b.bind)?b.call.bind(b.bind):function(t,e){for(var n=[],i=2;i\u003Carguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(m.call(arguments)))}};function H(t){for(var e=[],n=1;n\u003Carguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(m.call(arguments)))}}function Y(t){return Array.isArray?Array.isArray(t):\\\"[object Array]\\\"===f.call(t)}function U(t){return\\\"function\\\"==typeof t}function X(t){return\\\"string\\\"==typeof t}function Z(t){return\\\"[object String]\\\"===f.call(t)}function j(t){return\\\"number\\\"==typeof t}function q(t){var e=typeof t;return\\\"function\\\"===e||!!t&&\\\"object\\\"===e}function K(t){return!!p[f.call(t)]}function $(t){return!!d[f.call(t)]}function J(t){return\\\"object\\\"==typeof t&&\\\"number\\\"==typeof t.nodeType&&\\\"object\\\"==typeof t.ownerDocument}function Q(t){return null!=t.colorStops}function tt(t){return null!=t.image}function et(t){return\\\"[object RegExp]\\\"===f.call(t)}function nt(t){return t!=t}function it(){for(var t=[],e=0;e\u003Carguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n\u003Ci;n++)if(null!=t[n])return t[n]}function rt(t,e){return null!=t?t:e}function ot(t,e,n){return null!=t?t:null!=e?e:n}function at(t){for(var e=[],n=1;n\u003Carguments.length;n++)e[n-1]=arguments[n];return m.apply(t,e)}function st(t){if(\\\"number\\\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function lt(t,e){if(!t)throw new Error(e)}function ut(t){return null==t?null:\\\"function\\\"==typeof t.trim?t.trim():t.replace(/^[\\\\s\\\\uFEFF\\\\xA0]+|[\\\\s\\\\uFEFF\\\\xA0]+$/g,\\\"\\\")}var ht=\\\"__ec_primitive__\\\";function ct(t){t[ht]=!0}function pt(t){return t[ht]}var dt=function(){function t(e){this.data={};var n=Y(e);this.data={};var i=this;function r(t,e){n?i.set(t,e):i.set(e,t)}e instanceof t?e.each(r):e&&E(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return G(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function ft(t){return new dt(t)}function gt(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i\u003Ct.length;i++)n[i]=t[i];var r=t.length;for(i=0;i\u003Ce.length;i++)n[i+r]=e[i];return n}function yt(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&A(n,e),n}function vt(t){var e=t.style;e.webkitUserSelect=\\\"none\\\",e.userSelect=\\\"none\\\",e.webkitTapHighlightColor=\\\"rgba(0,0,0,0)\\\",e[\\\"-webkit-touch-callout\\\"]=\\\"none\\\"}function mt(t,e){return t.hasOwnProperty(e)}function xt(){}var _t=180/Math.PI,bt=Object.freeze({__proto__:null,guid:M,logError:I,clone:T,merge:C,mergeAll:D,extend:A,defaults:k,createCanvas:L,indexOf:P,inherits:O,mixin:R,isArrayLike:N,each:E,map:z,reduce:V,filter:B,find:F,keys:G,bind:W,curry:H,isArray:Y,isFunction:U,isString:X,isStringSafe:Z,isNumber:j,isObject:q,isBuiltInObject:K,isTypedArray:$,isDom:J,isGradientObject:Q,isImagePatternObject:tt,isRegExp:et,eqNaN:nt,retrieve:it,retrieve2:rt,retrieve3:ot,slice:at,normalizeCssArray:st,assert:lt,trim:ut,setAsPrimitive:ct,isPrimitive:pt,HashMap:dt,createHashMap:ft,concatArray:gt,createObject:yt,disableUserSelect:vt,hasOwn:mt,noop:xt,RADIAN_TO_DEGREE:_t});function wt(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function St(t,e){return t[0]=e[0],t[1]=e[1],t}function Mt(t){return[t[0],t[1]]}function It(t,e,n){return t[0]=e,t[1]=n,t}function Tt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Ct(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function Dt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function At(t){return Math.sqrt(Lt(t))}var kt=At;function Lt(t){return t[0]*t[0]+t[1]*t[1]}var Pt=Lt;function Ot(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Rt(t,e){var n=At(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Nt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Et=Nt;function zt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Vt=zt;function Bt(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function Ft(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function Gt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Wt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Ht=Object.freeze({__proto__:null,create:wt,copy:St,clone:Mt,set:It,add:Tt,scaleAndAdd:Ct,sub:Dt,len:At,length:kt,lenSquare:Lt,lengthSquare:Pt,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:Ot,normalize:Rt,distance:Nt,dist:Et,distanceSquare:zt,distSquare:Vt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:Bt,applyTransform:Ft,min:Gt,max:Wt}),Yt=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},Ut=function(){function t(t){this.handler=t,t.on(\\\"mousedown\\\",this._dragStart,this),t.on(\\\"mousemove\\\",this._drag,this),t.on(\\\"mouseup\\\",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Yt(e,t),\\\"dragstart\\\",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.handler.dispatchToElement(new Yt(e,t),\\\"drag\\\",t.event);var a=this.handler.findHover(n,i,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new Yt(s,t),\\\"dragleave\\\",t.event),a&&a!==s&&this.handler.dispatchToElement(new Yt(a,t),\\\"dragenter\\\",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Yt(e,t),\\\"dragend\\\",t.event),this._dropTarget&&this.handler.dispatchToElement(new Yt(this._dropTarget,t),\\\"drop\\\",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Xt=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if(\\\"function\\\"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a\u003Cr[t].length;a++)if(r[t][a].h===n)return this;var s={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[t].length-1,u=r[t][l];return u&&u.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r\u003Co;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n\u003Carguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=i.length,s=0;s\u003Ca;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n\u003Carguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=e[o-1],s=i.length,l=0;l\u003Cs;l++){var u=i[l];if(!r||!r.filter||null==u.query||r.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,e[0]);break;case 2:u.h.call(a,e[0],e[1]);break;default:u.h.apply(a,e.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}(),Zt=Math.log(2);function jt(t,e,n,i,r,o){var a=i+\\\"-\\\"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1\u003C\u003Cs)-1&~r)/Zt);return t[n][l]}for(var u=i|1\u003C\u003Cn,h=n+1;i&1\u003C\u003Ch;)h++;for(var c=0,p=0,d=0;p\u003Cs;p++){var f=1\u003C\u003Cp;f&r||(c+=(d%2?-1:1)*t[n][p]*jt(t,e-1,h,u,r|f,o),d++)}return o[a]=c,c}function qt(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=jt(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a\u003C8;a++)for(var s=0;s\u003C8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*jt(n,7,0===a?1:0,1\u003C\u003Ca,1\u003C\u003Cs,i)/r*e[a];return function(t,e,n){var i=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/i,t[1]=(e*o[3]+n*o[4]+o[5])/i}}}var Kt=[];function $t(t,e,n,i,o){if(e.getBoundingClientRect&&r.domSupported&&!Jt(e)){var a=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),s=function(t,e,n){for(var i=n?\\\"invTrans\\\":\\\"trans\\\",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,u=0;u\u003C4;u++){var h=t[u].getBoundingClientRect(),c=2*u,p=h.left,d=h.top;a.push(p,d),l=l&&o&&p===o[c]&&d===o[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=n?qt(s,a):qt(a,s))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=[\\\"left\\\",\\\"right\\\"],r=[\\\"top\\\",\\\"bottom\\\"],o=0;o\u003C4;o++){var a=document.createElement(\\\"div\\\"),s=o%2,l=(o>>1)%2;a.style.cssText=[\\\"position: absolute\\\",\\\"visibility: hidden\\\",\\\"padding: 0\\\",\\\"margin: 0\\\",\\\"border-width: 0\\\",\\\"user-select: none\\\",\\\"width:0\\\",\\\"height:0\\\",i[s]+\\\":0\\\",r[l]+\\\":0\\\",i[1-s]+\\\":auto\\\",r[1-l]+\\\":auto\\\",\\\"\\\"].join(\\\"!important;\\\"),t.appendChild(a),n.push(a)}return n}(e,a),a,o);if(s)return s(t,n,i),!0}return!1}function Jt(t){return\\\"CANVAS\\\"===t.nodeName.toUpperCase()}var Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=[],ee=r.browser.firefox&&+r.browser.version.split(\\\".\\\")[0]\u003C39;function ne(t,e,n,i){return n=n||{},i?ie(t,e,n):ee&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):ie(t,e,n),n}function ie(t,e,n){if(r.domSupported&&t.getBoundingClientRect){var i=e.clientX,o=e.clientY;if(Jt(t)){var a=t.getBoundingClientRect();return n.zrX=i-a.left,void(n.zrY=o-a.top)}if($t(te,t,i,o))return n.zrX=te[0],void(n.zrY=te[1])}n.zrX=n.zrY=0}function re(t){return t||window.event}function oe(t,e,n){if(null!=(e=re(e)).zrX)return e;var i=e.type;if(i&&i.indexOf(\\\"touch\\\")>=0){var r=\\\"touchend\\\"!==i?e.targetTouches[0]:e.changedTouches[0];r&&ne(t,r,e,n)}else{ne(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;if(null==n||null==i)return e;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i\u003C0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&Qt.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function ae(t,e,n,i){t.addEventListener(e,n,i)}var se=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function le(t){return 2===t.which||3===t.which}var ue=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o\u003Ca;o++){var s=i[o],l=ne(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in ce)if(ce.hasOwnProperty(e)){var n=ce[e](this._track,t);if(n)return n}},t}();function he(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var ce={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=he(r)/he(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:\\\"pinch\\\",target:t[0].target,event:e}}}}},pe=\\\"silent\\\";function de(){se(this.event)}var fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return n(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Xt),ge=function(t,e){this.x=t,this.y=e},ye=[\\\"click\\\",\\\"dblclick\\\",\\\"mousewheel\\\",\\\"mouseout\\\",\\\"mouseup\\\",\\\"mousedown\\\",\\\"mousemove\\\",\\\"contextmenu\\\"],ve=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._hovered=new ge(0,0),o.storage=e,o.painter=n,o.painterRoot=r,i=i||new fe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new Ut(o),o}return n(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(E(ye,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=xe(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new ge(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:\\\"default\\\"),o&&s!==o&&this.dispatchToElement(r,\\\"mouseout\\\",t),this.dispatchToElement(a,\\\"mousemove\\\",t),s&&s!==o&&this.dispatchToElement(a,\\\"mouseover\\\",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;\\\"only_globalout\\\"!==e&&this.dispatchToElement(this._hovered,\\\"mouseout\\\",t),\\\"no_globalout\\\"!==e&&this.trigger(\\\"globalout\\\",{type:\\\"globalout\\\",event:t})},e.prototype.resize=function(){this._hovered=new ge(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r=\\\"on\\\"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:de}}(e,t,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(e,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){\\\"function\\\"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){for(var i=this.storage.getDisplayList(),r=new ge(t,e),o=i.length-1;o>=0;o--){var a=void 0;if(i[o]!==n&&!i[o].ignore&&(a=me(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),a!==pe)){r.target=i[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new ue);var n=this._gestureMgr;\\\"start\\\"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(\\\"end\\\"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r;var o=new ge;o.target=i.target,this.dispatchToElement(o,r,i.event)}},e}(Xt);function me(t,e,n){if(t[t.rectHover?\\\"rectContain\\\":\\\"contain\\\"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1;i.silent&&(r=!0)}var s=i.__hostTarget;i=s||i.parent}return!r||pe}return!1}function xe(t,e,n){var i=t.painter;return e\u003C0||e>i.getWidth()||n\u003C0||n>i.getHeight()}E([\\\"click\\\",\\\"mousedown\\\",\\\"mouseup\\\",\\\"mousewheel\\\",\\\"dblclick\\\",\\\"contextmenu\\\"],(function(t){ve.prototype[t]=function(e){var n,i,r=e.zrX,o=e.zrY,a=xe(this,r,o);if(\\\"mouseup\\\"===t&&a||(i=(n=this.findHover(r,o)).target),\\\"mousedown\\\"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if(\\\"mouseup\\\"===t)this._upEl=i;else if(\\\"click\\\"===t){if(this._downEl!==this._upEl||!this._downPoint||Et(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));function _e(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])\u003C0){for(;r\u003Cn&&i(t[r],t[r-1])\u003C0;)r++;!function(t,e,n){n--;for(;e\u003Cn;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r\u003Cn&&i(t[r],t[r-1])>=0;)r++;return r-e}function be(t,e,n,i,r){for(i===e&&i++;i\u003Cn;i++){for(var o,a=t[i],s=e,l=i;s\u003Cl;)r(a,t[o=s+l>>>1])\u003C0?l=o:s=o+1;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function we(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l\u003Cs&&o(t,e[n+r+l])>0;)a=l,(l=1+(l\u003C\u003C1))\u003C=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l\u003Cs&&o(t,e[n+r-l])\u003C=0;)a=l,(l=1+(l\u003C\u003C1))\u003C=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a\u003Cl;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function Se(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])\u003C0){for(s=r+1;l\u003Cs&&o(t,e[n+r-l])\u003C0;)a=l,(l=1+(l\u003C\u003C1))\u003C=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l\u003Cs&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l\u003C\u003C1))\u003C=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a\u003Cl;){var h=a+(l-a>>>1);o(t,e[n+h])\u003C0?l=h:a=h+1}return l}function Me(t,e){var n,i,r=7,o=0;t.length;var a=[];function s(s){var l=n[s],u=i[s],h=n[s+1],c=i[s+1];i[s]=u+c,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--;var p=Se(t[h],t,l,u,0,e);l+=p,0!==(u-=p)&&0!==(c=we(t[l+u-1],t,h,c,c-1,e))&&(u\u003C=c?function(n,i,o,s){var l=0;for(l=0;l\u003Ci;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l\u003Ci;l++)t[c+l]=a[u+l];return}if(1===i){for(l=0;l\u003Cs;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var p,d,f,g=r;for(;;){p=0,d=0,f=!1;do{if(e(t[h],a[u])\u003C0){if(t[c++]=t[h++],d++,p=0,0==--s){f=!0;break}}else if(t[c++]=a[u++],p++,d=0,1==--i){f=!0;break}}while((p|d)\u003Cg);if(f)break;do{if(0!==(p=Se(t[h],a,u,i,0,e))){for(l=0;l\u003Cp;l++)t[c+l]=a[u+l];if(c+=p,u+=p,(i-=p)\u003C=1){f=!0;break}}if(t[c++]=t[h++],0==--s){f=!0;break}if(0!==(d=we(a[u],t,h,s,0,e))){for(l=0;l\u003Cd;l++)t[c+l]=t[h+l];if(c+=d,h+=d,0===(s-=d)){f=!0;break}}if(t[c++]=a[u++],1==--i){f=!0;break}g--}while(p>=7||d>=7);if(f)break;g\u003C0&&(g=0),g+=2}if((r=g)\u003C1&&(r=1),1===i){for(l=0;l\u003Cs;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===i)throw new Error;for(l=0;l\u003Ci;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,i,o,s){var l=0;for(l=0;l\u003Cs;l++)a[l]=t[o+l];var u=n+i-1,h=s-1,c=o+s-1,p=0,d=0;if(t[c--]=t[u--],0==--i){for(p=c-(s-1),l=0;l\u003Cs;l++)t[p+l]=a[l];return}if(1===s){for(d=(c-=i)+1,p=(u-=i)+1,l=i-1;l>=0;l--)t[d+l]=t[p+l];return void(t[c]=a[h])}var f=r;for(;;){var g=0,y=0,v=!1;do{if(e(a[h],t[u])\u003C0){if(t[c--]=t[u--],g++,y=0,0==--i){v=!0;break}}else if(t[c--]=a[h--],y++,g=0,1==--s){v=!0;break}}while((g|y)\u003Cf);if(v)break;do{if(0!==(g=i-Se(a[h],t,n,i,i-1,e))){for(i-=g,d=(c-=g)+1,p=(u-=g)+1,l=g-1;l>=0;l--)t[d+l]=t[p+l];if(0===i){v=!0;break}}if(t[c--]=a[h--],1==--s){v=!0;break}if(0!==(y=s-we(t[u],a,0,s,s-1,e))){for(s-=y,d=(c-=y)+1,p=(h-=y)+1,l=0;l\u003Cy;l++)t[d+l]=a[p+l];if(s\u003C=1){v=!0;break}}if(t[c--]=t[u--],0==--i){v=!0;break}f--}while(g>=7||y>=7);if(v)break;f\u003C0&&(f=0),f+=2}(r=f)\u003C1&&(r=1);if(1===s){for(d=(c-=i)+1,p=(u-=i)+1,l=i-1;l>=0;l--)t[d+l]=t[p+l];t[c]=a[h]}else{if(0===s)throw new Error;for(p=c-(s-1),l=0;l\u003Cs;l++)t[p+l]=a[l]}}(l,u,h,c))}return n=[],i=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&i[t-1]\u003C=i[t]+i[t+1]||t>=2&&i[t-2]\u003C=i[t]+i[t-1])i[t-1]\u003Ci[t+1]&&t--;else if(i[t]>i[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&i[t-1]\u003Ci[t+1]&&t--,s(t)}},pushRun:function(t,e){n[o]=t,i[o]=e,o+=1}}}function Ie(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r\u003C2)){var o=0;if(r\u003C32)be(t,n,i,n+(o=_e(t,n,i,e)),e);else{var a=Me(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=_e(t,n,i,e))\u003Cs){var l=r;l>s&&(l=s),be(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}}var Te=!1;function Ce(){Te||(Te=!0,console.warn(\\\"z / z2 / zlevel of displayable is invalid, which may cause unexpected errors\\\"))}function De(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Ae=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=De}return t.prototype.traverse=function(t,e){for(var n=0;n\u003Cthis._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i\u003Cr;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Ie(n,De)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s\u003Ca.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=1),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Ce(),u.z=0),isNaN(u.z2)&&(Ce(),u.z2=0),isNaN(u.zlevel)&&(Ce(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,n);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e\u003Cn;e++)this.delRoot(t[e]);else{var i=P(this._roots,t);i>=0&&this._roots.splice(i,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),ke=r.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},Le={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)\u003C1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)\u003C1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)\u003C1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)\u003C1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)\u003C1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)\u003C1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n\u003C1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n\u003C1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n\u003C1?(n=1,e=.1):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)\u003C1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)\u003C1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Le.bounceOut(1-t)},bounceOut:function(t){return t\u003C1/2.75?7.5625*t*t:t\u003C2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t\u003C2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t\u003C.5?.5*Le.bounceIn(2*t):.5*Le.bounceOut(2*t-1)+.5}},Pe=Math.pow,Oe=Math.sqrt,Re=1e-8,Ne=1e-4,Ee=Oe(3),ze=1/3,Ve=wt(),Be=wt(),Fe=wt();function Ge(t){return t>-1e-8&&t\u003CRe}function We(t){return t>Re||t\u003C-1e-8}function He(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function Ye(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function Ue(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,d=0;if(Ge(h)&&Ge(c)){if(Ge(s))o[0]=0;else(M=-l/s)>=0&&M\u003C=1&&(o[d++]=M)}else{var f=c*c-4*h*p;if(Ge(f)){var g=c/h,y=-g/2;(M=-s/a+g)>=0&&M\u003C=1&&(o[d++]=M),y>=0&&y\u003C=1&&(o[d++]=y)}else if(f>0){var v=Oe(f),m=h*s+1.5*a*(-c+v),x=h*s+1.5*a*(-c-v);(M=(-s-((m=m\u003C0?-Pe(-m,ze):Pe(m,ze))+(x=x\u003C0?-Pe(-x,ze):Pe(x,ze))))/(3*a))>=0&&M\u003C=1&&(o[d++]=M)}else{var _=(2*h*s-3*a*c)/(2*Oe(h*h*h)),b=Math.acos(_)/3,w=Oe(h),S=Math.cos(b),M=(-s-2*w*S)/(3*a),I=(y=(-s+w*(S+Ee*Math.sin(b)))/(3*a),(-s+w*(S-Ee*Math.sin(b)))/(3*a));M>=0&&M\u003C=1&&(o[d++]=M),y>=0&&y\u003C=1&&(o[d++]=y),I>=0&&I\u003C=1&&(o[d++]=I)}}return d}function Xe(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(Ge(a)){if(We(o))(h=-s/o)>=0&&h\u003C=1&&(r[l++]=h)}else{var u=o*o-4*a*s;if(Ge(u))r[0]=-o/(2*a);else if(u>0){var h,c=Oe(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h\u003C=1&&(r[l++]=h),p>=0&&p\u003C=1&&(r[l++]=p)}}return l}function Ze(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=i}function je(t,e,n,i,r,o,a,s,l,u,h){var c,p,d,f,g,y=.005,v=1/0;Ve[0]=l,Ve[1]=u;for(var m=0;m\u003C1;m+=.05)Be[0]=He(t,n,r,a,m),Be[1]=He(e,i,o,s,m),(f=Vt(Ve,Be))\u003Cv&&(c=m,v=f);v=1/0;for(var x=0;x\u003C32&&!(y\u003CNe);x++)p=c-y,d=c+y,Be[0]=He(t,n,r,a,p),Be[1]=He(e,i,o,s,p),f=Vt(Be,Ve),p>=0&&f\u003Cv?(c=p,v=f):(Fe[0]=He(t,n,r,a,d),Fe[1]=He(e,i,o,s,d),g=Vt(Fe,Ve),d\u003C=1&&g\u003Cv?(c=d,v=g):y*=.5);return h&&(h[0]=He(t,n,r,a,c),h[1]=He(e,i,o,s,c)),Oe(v)}function qe(t,e,n,i,r,o,a,s,l){for(var u=t,h=e,c=0,p=1/l,d=1;d\u003C=l;d++){var f=d*p,g=He(t,n,r,a,f),y=He(e,i,o,s,f),v=g-u,m=y-h;c+=Math.sqrt(v*v+m*m),u=g,h=y}return c}function Ke(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function $e(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function Je(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function Qe(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function tn(t,e,n,i,r,o,a,s,l){var u,h=.005,c=1/0;Ve[0]=a,Ve[1]=s;for(var p=0;p\u003C1;p+=.05){Be[0]=Ke(t,n,r,p),Be[1]=Ke(e,i,o,p),(y=Vt(Ve,Be))\u003Cc&&(u=p,c=y)}c=1/0;for(var d=0;d\u003C32&&!(h\u003CNe);d++){var f=u-h,g=u+h;Be[0]=Ke(t,n,r,f),Be[1]=Ke(e,i,o,f);var y=Vt(Be,Ve);if(f>=0&&y\u003Cc)u=f,c=y;else{Fe[0]=Ke(t,n,r,g),Fe[1]=Ke(e,i,o,g);var v=Vt(Fe,Ve);g\u003C=1&&v\u003Cc?(u=g,c=v):h*=.5}}return l&&(l[0]=Ke(t,n,r,u),l[1]=Ke(e,i,o,u)),Oe(c)}function en(t,e,n,i,r,o,a){for(var s=t,l=e,u=0,h=1/a,c=1;c\u003C=a;c++){var p=c*h,d=Ke(t,n,r,p),f=Ke(e,i,o,p),g=d-s,y=f-l;u+=Math.sqrt(g*g+y*y),s=d,l=f}return u}var nn=/cubic-bezier\\\\(([0-9,\\\\.e ]+)\\\\)/;function rn(t){var e=t&&nn.exec(t);if(e){var n=e[1].split(\\\",\\\"),i=+ut(n[0]),r=+ut(n[1]),o=+ut(n[2]),a=+ut(n[3]);if(isNaN(i+r+o+a))return;var s=[];return function(t){return t\u003C=0?0:t>=1?1:Ue(0,i,o,1,t,s)&&He(0,r,a,1,s[0])}}}var on=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||xt,this.ondestroy=t.ondestroy||xt,this.onrestart=t.onrestart||xt,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,i=t-this._startTime-this._pausedTime,r=i/n;r\u003C0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,a=o?o(r):r;if(this.onframe(a),1===r){if(!this.loop)return!0;var s=i%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=U(t)?t:Le[t]||rn(t)},t}(),an=function(t){this.value=t},sn=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new an(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),ln=function(){function t(t){this._list=new sn,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,r=null;if(null==i[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new an(e),a.key=t,n.insertEntry(a),i[t]=a}return r},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),un={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hn(t){return(t=Math.round(t))\u003C0?0:t>255?255:t}function cn(t){return t\u003C0?0:t>1?1:t}function pn(t){var e=t;return e.length&&\\\"%\\\"===e.charAt(e.length-1)?hn(parseFloat(e)/100*255):hn(parseInt(e,10))}function dn(t){var e=t;return e.length&&\\\"%\\\"===e.charAt(e.length-1)?cn(parseFloat(e)/100):cn(parseFloat(e))}function fn(t,e,n){return n\u003C0?n+=1:n>1&&(n-=1),6*n\u003C1?t+(e-t)*n*6:2*n\u003C1?e:3*n\u003C2?t+(e-t)*(2/3-n)*6:t}function gn(t,e,n){return t+(e-t)*n}function yn(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function vn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var mn=new ln(20),xn=null;function _n(t,e){xn&&vn(xn,e),xn=mn.put(t,xn||e.slice())}function bn(t,e){if(t){e=e||[];var n=mn.get(t);if(n)return vn(e,n);var i=(t+=\\\"\\\").replace(/ /g,\\\"\\\").toLowerCase();if(i in un)return vn(e,un[i]),_n(t,e),e;var r,o=i.length;if(\\\"#\\\"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r\u003C=4095?(yn(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)\u003C\u003C4,5===o?parseInt(i.slice(4),16)/15:1),_n(t,e),e):void yn(e,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r\u003C=16777215?(yn(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),_n(t,e),e):void yn(e,0,0,0,1):void 0;var a=i.indexOf(\\\"(\\\"),s=i.indexOf(\\\")\\\");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(\\\",\\\"),h=1;switch(l){case\\\"rgba\\\":if(4!==u.length)return 3===u.length?yn(e,+u[0],+u[1],+u[2],1):yn(e,0,0,0,1);h=dn(u.pop());case\\\"rgb\\\":return 3!==u.length?void yn(e,0,0,0,1):(yn(e,pn(u[0]),pn(u[1]),pn(u[2]),h),_n(t,e),e);case\\\"hsla\\\":return 4!==u.length?void yn(e,0,0,0,1):(u[3]=dn(u[3]),wn(u,e),_n(t,e),e);case\\\"hsl\\\":return 3!==u.length?void yn(e,0,0,0,1):(wn(u,e),_n(t,e),e);default:return}}yn(e,0,0,0,1)}}function wn(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=dn(t[1]),r=dn(t[2]),o=r\u003C=.5?r*(i+1):r+i-r*i,a=2*r-o;return yn(e=e||[],hn(255*fn(a,o,n+1/3)),hn(255*fn(a,o,n)),hn(255*fn(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Sn(t,e){var n=bn(t);if(n){for(var i=0;i\u003C3;i++)n[i]=e\u003C0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:n[i]\u003C0&&(n[i]=0);return kn(n,4===n.length?\\\"rgba\\\":\\\"rgb\\\")}}function Mn(t,e,n){if(e&&e.length&&t>=0&&t\u003C=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],s=e[o],l=i-r;return n[0]=hn(gn(a[0],s[0],l)),n[1]=hn(gn(a[1],s[1],l)),n[2]=hn(gn(a[2],s[2],l)),n[3]=cn(gn(a[3],s[3],l)),n}}var In=Mn;function Tn(t,e,n){if(e&&e.length&&t>=0&&t\u003C=1){var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=bn(e[r]),s=bn(e[o]),l=i-r,u=kn([hn(gn(a[0],s[0],l)),hn(gn(a[1],s[1],l)),hn(gn(a[2],s[2],l)),cn(gn(a[3],s[3],l))],\\\"rgba\\\");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}var Cn=Tn;function Dn(t,e,n,i){var r=bn(t);if(t)return r=function(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u\u003C.5?l/(s+a):l/(2-s-a);var h=((s-i)/6+l/2)/l,c=((s-r)/6+l/2)/l,p=((s-o)/6+l/2)/l;i===s?e=p-c:r===s?e=1/3+h-p:o===s&&(e=2/3+c-h),e\u003C0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,u];return null!=t[3]&&d.push(t[3]),d}}(r),null!=e&&(r[0]=function(t){return(t=Math.round(t))\u003C0?0:t>360?360:t}(e)),null!=n&&(r[1]=dn(n)),null!=i&&(r[2]=dn(i)),kn(wn(r),\\\"rgba\\\")}function An(t,e){var n=bn(t);if(n&&null!=e)return n[3]=cn(e),kn(n,\\\"rgba\\\")}function kn(t,e){if(t&&t.length){var n=t[0]+\\\",\\\"+t[1]+\\\",\\\"+t[2];return\\\"rgba\\\"!==e&&\\\"hsva\\\"!==e&&\\\"hsla\\\"!==e||(n+=\\\",\\\"+t[3]),e+\\\"(\\\"+n+\\\")\\\"}}function Ln(t,e){var n=bn(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var Pn=Object.freeze({__proto__:null,parse:bn,lift:Sn,toHex:function(t){var e=bn(t);if(e)return((1\u003C\u003C24)+(e[0]\u003C\u003C16)+(e[1]\u003C\u003C8)+ +e[2]).toString(16).slice(1)},fastLerp:Mn,fastMapToColor:In,lerp:Tn,mapToColor:Cn,modifyHSL:Dn,modifyAlpha:An,stringify:kn,lum:Ln,random:function(){return kn([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],\\\"rgb\\\")}}),On=Math.round;function Rn(t){var e;if(t&&\\\"transparent\\\"!==t){if(\\\"string\\\"==typeof t&&t.indexOf(\\\"rgba\\\")>-1){var n=bn(t);n&&(t=\\\"rgb(\\\"+n[0]+\\\",\\\"+n[1]+\\\",\\\"+n[2]+\\\")\\\",e=n[3])}}else t=\\\"none\\\";return{color:t,opacity:null==e?1:e}}var Nn=1e-4;function En(t){return t\u003CNn&&t>-1e-4}function zn(t){return On(1e3*t)/1e3}function Vn(t){return On(1e4*t)/1e4}var Bn={left:\\\"start\\\",right:\\\"end\\\",center:\\\"middle\\\",middle:\\\"middle\\\"};function Fn(t){return t&&!!t.image}function Gn(t){return\\\"linear\\\"===t.type}function Wn(t){return\\\"radial\\\"===t.type}function Hn(t){return\\\"url(#\\\"+t+\\\")\\\"}function Yn(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Un(t){var e=t.x||0,n=t.y||0,i=(t.rotation||0)*_t,r=rt(t.scaleX,1),o=rt(t.scaleY,1),a=t.skewX||0,s=t.skewY||0,l=[];return(e||n)&&l.push(\\\"translate(\\\"+e+\\\"px,\\\"+n+\\\"px)\\\"),i&&l.push(\\\"rotate(\\\"+i+\\\")\\\"),1===r&&1===o||l.push(\\\"scale(\\\"+r+\\\",\\\"+o+\\\")\\\"),(a||s)&&l.push(\\\"skew(\\\"+On(a*_t)+\\\"deg, \\\"+On(s*_t)+\\\"deg)\\\"),l.join(\\\" \\\")}var Xn=r.hasGlobalWindow&&U(window.btoa)?function(t){return window.btoa(unescape(t))}:\\\"undefined\\\"!=typeof Buffer?function(t){return Buffer.from(t).toString(\\\"base64\\\")}:function(t){return null},Zn=Array.prototype.slice;function jn(t,e,n){return(e-t)*n+t}function qn(t,e,n,i){for(var r=e.length,o=0;o\u003Cr;o++)t[o]=jn(e[o],n[o],i);return t}function Kn(t,e,n,i){for(var r=e.length,o=0;o\u003Cr;o++)t[o]=e[o]+n[o]*i;return t}function $n(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a\u003Cr;a++){t[a]||(t[a]=[]);for(var s=0;s\u003Co;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function Jn(t,e){for(var n=t.length,i=e.length,r=n>i?e:t,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s\u003CMath.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function Qn(t,e,n){var i=t,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s\u003Ca;s++)i.push(1===n?r[s]:Zn.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s\u003Ci.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u\u003Cl;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function ti(t){if(N(t)){var e=t.length;if(N(t[0])){for(var n=[],i=0;i\u003Ce;i++)n.push(Zn.call(t[i]));return n}return Zn.call(t)}return t}function ei(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],\\\"rgba(\\\"+t.join(\\\",\\\")+\\\")\\\"}function ni(t){return 4===t||5===t}function ii(t){return 1===t||2===t}var ri=[0,0,0,0],oi=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,r=i.length,o=!1,a=6,s=e;if(N(e)){var l=function(t){return N(t&&t[0])?2:1}(e);a=l,(1===l&&!j(e[0])||2===l&&!j(e[0][0]))&&(o=!0)}else if(j(e)&&!nt(e))a=0;else if(X(e))if(isNaN(+e)){var u=bn(e);u&&(s=u,a=3)}else a=0;else if(Q(e)){var h=A({},s);h.colorStops=z(e.colorStops,(function(t){return{offset:t.offset,color:bn(t.color)}})),Gn(e)?a=4:Wn(e)&&(a=5),s=h}0===r?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var c={time:t,value:s,rawValue:e,percent:0};return n&&(c.easing=n,c.easingFunc=U(n)?n:Le[n]||rn(n)),i.push(c),c},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort((function(t,e){return t.time-e.time}));for(var i=this.valType,r=n.length,o=n[r-1],a=this.discrete,s=ii(i),l=ni(i),u=0;u\u003Cr;u++){var h=n[u],c=h.value,p=o.value;h.percent=h.time/t,a||(s&&u!==r-1?Qn(c,p,i):l&&Jn(c.colorStops,p.colorStops))}if(!a&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var d=n[0].value;for(u=0;u\u003Cr;u++)0===i?n[u].additiveValue=n[u].value-d:3===i?n[u].additiveValue=Kn([],n[u].value,d,-1):ii(i)&&(n[u].additiveValue=1===i?Kn([],n[u].value,d,-1):$n([],n[u].value,d,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o=null!=this._additiveTrack,a=o?\\\"additiveValue\\\":\\\"value\\\",s=this.valType,l=this.keyframes,u=l.length,h=this.propName,c=3===s,p=this._lastFr,d=Math.min;if(1===u)i=r=l[0];else{if(e\u003C0)n=0;else if(e\u003Cthis._lastFrP){for(n=d(p+1,u-1);n>=0&&!(l[n].percent\u003C=e);n--);n=d(n,u-2)}else{for(n=p;n\u003Cu&&!(l[n].percent>e);n++);n=d(n-1,u-2)}r=l[n+1],i=l[n]}if(i&&r){this._lastFr=n,this._lastFrP=e;var f=r.percent-i.percent,g=0===f?1:d((e-i.percent)/f,1);r.easingFunc&&(g=r.easingFunc(g));var y=o?this._additiveValue:c?ri:t[h];if(!ii(s)&&!c||y||(y=this._additiveValue=[]),this.discrete)t[h]=g\u003C1?i.rawValue:r.rawValue;else if(ii(s))1===s?qn(y,i[a],r[a],g):function(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a\u003Cr;a++){t[a]||(t[a]=[]);for(var s=0;s\u003Co;s++)t[a][s]=jn(e[a][s],n[a][s],i)}}(y,i[a],r[a],g);else if(ni(s)){var v=i[a],m=r[a],x=4===s;t[h]={type:x?\\\"linear\\\":\\\"radial\\\",x:jn(v.x,m.x,g),y:jn(v.y,m.y,g),colorStops:z(v.colorStops,(function(t,e){var n=m.colorStops[e];return{offset:jn(t.offset,n.offset,g),color:ei(qn([],t.color,n.color,g))}})),global:m.global},x?(t[h].x2=jn(v.x2,m.x2,g),t[h].y2=jn(v.y2,m.y2,g)):t[h].r=jn(v.r,m.r,g)}else if(c)qn(y,i[a],r[a],g),o||(t[h]=ei(y));else{var _=jn(i[a],r[a],g);o?this._additiveValue=_:t[h]=_}o&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;0===e?t[n]=t[n]+i:3===e?(bn(t[n],ri),Kn(ri,ri,i,1),t[n]=ei(ri)):1===e?Kn(t[n],t[n],i,1):2===e&&$n(t[n],t[n],i,1)},t}(),ai=function(){function t(t,e,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?I(\\\"Can' use additive animation on looped animation.\\\"):(this._additiveAnimators=i,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,G(e),n)},t.prototype.whenWithKeys=function(t,e,n,i){for(var r=this._tracks,o=0;o\u003Cn.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new oi(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes,c=h[h.length-1];l=c&&c.value,3===u.valType&&l&&(l=ei(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,ti(l),i),this._trackKeys.push(a)}s.addKeyframe(t,ti(e[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n\u003Ce;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n\u003Ce.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n\u003Ce.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i\u003Cn.length;i++){var r=n[i].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,r=0;r\u003Cthis._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,u=l.length;if(a.prepare(i,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var h=l[u-1];h&&(e._target[a.propName]=h.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var c=new on({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){for(var r=!1,o=0;o\u003Ci.length;o++)if(i[o]._clip){r=!0;break}r||(e._additiveAnimators=null)}for(o=0;o\u003Cn.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o\u003Ca.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&c.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return z(this._trackKeys,(function(e){return t._tracks[e]}))},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r\u003Ct.length;r++){var o=n[t[r]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r\u003Ci.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i\u003Ce.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[r]=ti(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||G(t);for(var n=0;n\u003Ce.length;n++){var i=e[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},t}();function si(){return(new Date).getTime()}var li,ui,hi=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return n(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=si()-this._pausedTime,n=e-this._time,i=this._head;i;){var r=i.next;i.step(e,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=e,t||(this.trigger(\\\"frame\\\",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,ke((function e(){t._running&&(ke(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=si(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=si(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=si()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new ai(t,e.loop);return this.addAnimator(n),n},e}(Xt),ci=r.domSupported,pi=(ui={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:li=[\\\"click\\\",\\\"dblclick\\\",\\\"mousewheel\\\",\\\"wheel\\\",\\\"mouseout\\\",\\\"mouseup\\\",\\\"mousedown\\\",\\\"mousemove\\\",\\\"contextmenu\\\"],touch:[\\\"touchstart\\\",\\\"touchend\\\",\\\"touchmove\\\"],pointer:z(li,(function(t){var e=t.replace(\\\"mouse\\\",\\\"pointer\\\");return ui.hasOwnProperty(e)?e:t}))}),di=[\\\"mousemove\\\",\\\"mouseup\\\"],fi=[\\\"pointermove\\\",\\\"pointerup\\\"],gi=!1;function yi(t){var e=t.pointerType;return\\\"pen\\\"===e||\\\"touch\\\"===e}function vi(t){t&&(t.zrByTouch=!0)}function mi(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var xi=function(t,e){this.stopPropagation=xt,this.stopImmediatePropagation=xt,this.preventDefault=xt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},_i={mousedown:function(t){t=oe(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger(\\\"mousedown\\\",t)},mousemove:function(t){t=oe(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger(\\\"mousemove\\\",t)},mouseup:function(t){t=oe(this.dom,t),this.__togglePointerCapture(!1),this.trigger(\\\"mouseup\\\",t)},mouseout:function(t){mi(this,(t=oe(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl=\\\"no_globalout\\\"),this.trigger(\\\"mouseout\\\",t))},wheel:function(t){gi=!0,t=oe(this.dom,t),this.trigger(\\\"mousewheel\\\",t)},mousewheel:function(t){gi||(t=oe(this.dom,t),this.trigger(\\\"mousewheel\\\",t))},touchstart:function(t){vi(t=oe(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,\\\"start\\\"),_i.mousemove.call(this,t),_i.mousedown.call(this,t)},touchmove:function(t){vi(t=oe(this.dom,t)),this.handler.processGesture(t,\\\"change\\\"),_i.mousemove.call(this,t)},touchend:function(t){vi(t=oe(this.dom,t)),this.handler.processGesture(t,\\\"end\\\"),_i.mouseup.call(this,t),+new Date-+this.__lastTouchMoment\u003C300&&_i.click.call(this,t)},pointerdown:function(t){_i.mousedown.call(this,t)},pointermove:function(t){yi(t)||_i.mousemove.call(this,t)},pointerup:function(t){_i.mouseup.call(this,t)},pointerout:function(t){yi(t)||_i.mouseout.call(this,t)}};E([\\\"click\\\",\\\"dblclick\\\",\\\"contextmenu\\\"],(function(t){_i[t]=function(e){e=oe(this.dom,e),this.trigger(t,e)}}));var bi={pointermove:function(t){yi(t)||bi.mousemove.call(this,t)},pointerup:function(t){bi.mouseup.call(this,t)},mousemove:function(t){this.trigger(\\\"mousemove\\\",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger(\\\"mouseup\\\",t),e&&(t.zrEventControl=\\\"only_globalout\\\",this.trigger(\\\"mouseout\\\",t))}};function wi(t,e){var n=e.domHandlers;r.pointerEventsSupported?E(pi.pointer,(function(i){Mi(e,i,(function(e){n[i].call(t,e)}))})):(r.touchEventsSupported&&E(pi.touch,(function(i){Mi(e,i,(function(r){n[i].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),E(pi.mouse,(function(i){Mi(e,i,(function(r){r=re(r),e.touching||n[i].call(t,r)}))})))}function Si(t,e){function n(n){Mi(e,n,(function(i){i=re(i),mi(t,i.target)||(i=function(t,e){return oe(t.dom,new xi(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))}),{capture:!0})}r.pointerEventsSupported?E(fi,n):r.touchEventsSupported||E(di,n)}function Mi(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,ae(t.domTarget,e,n,i)}function Ii(t){var e,n,i,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,i=o[a],r=t.listenerOpts[a],e.removeEventListener(n,i,r));t.mounted={}}var Ti=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Ci=function(t){function e(e,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new Ti(e,_i),ci&&(i._globalHandlerScope=new Ti(document,bi)),wi(i,i._localHandlerScope),i}return n(e,t),e.prototype.dispose=function(){Ii(this._localHandlerScope),ci&&Ii(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||\\\"default\\\")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,ci&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Si(this,e):Ii(e)}},e}(Xt),Di=1;r.hasGlobalWindow&&(Di=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ai=Di,ki=\\\"#333\\\",Li=\\\"#ccc\\\";function Pi(){return[1,0,0,1,0,0]}function Oi(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Ri(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ni(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function Ei(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function zi(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+a*u,t[1]=-i*u+a*h,t[2]=r*h+s*u,t[3]=-r*u+h*s,t[4]=h*o+u*l,t[5]=h*l-u*o,t}function Vi(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function Bi(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}function Fi(t){var e=[1,0,0,1,0,0];return Ri(e,t),e}var Gi=Object.freeze({__proto__:null,create:Pi,identity:Oi,copy:Ri,mul:Ni,translate:Ei,rotate:zi,scale:Vi,invert:Bi,clone:Fi}),Wi=Oi,Hi=5e-5;function Yi(t){return t>Hi||t\u003C-5e-5}var Ui=[],Xi=[],Zi=[1,0,0,1,0,0],ji=Math.abs,qi=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Yi(this.rotation)||Yi(this.x)||Yi(this.y)||Yi(this.scaleX-1)||Yi(this.scaleY-1)||Yi(this.skewX)||Yi(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):Wi(n),t&&(e?Ni(n,t,n):Ri(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&Wi(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Ui);var n=Ui[0]\u003C0?-1:1,i=Ui[1]\u003C0?-1:1,r=((Ui[0]-n)*e+n)/Ui[0]||0,o=((Ui[1]-i)*e+i)/Ui[1]||0;t[0]*=r,t[1]*=r,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Bi(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),r=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ni(Xi,t.invTransform,e),e=Xi);var n=this.originX,i=this.originY;(n||i)&&(Zi[4]=n,Zi[5]=i,Ni(Xi,e,Zi),Xi[4]-=n,Xi[5]-=i,e=Xi),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]\u003C0&&(t[0]=-t[0]),e[3]\u003C0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Ft(n,n,i),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Ft(n,n,i),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&ji(t[0]-1)>1e-10&&ji(t[3]-1)>1e-10?Math.sqrt(ji(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){$i(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,r=t.scaleX,o=t.scaleY,a=t.anchorX,s=t.anchorY,l=t.rotation||0,u=t.x,h=t.y,c=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(n||i||a||s){var d=n+a,f=i+s;e[4]=-d*r-c*f*o,e[5]=-f*o-p*d*r}else e[4]=e[5]=0;return e[0]=r,e[3]=o,e[1]=p*r,e[2]=c*o,l&&zi(e,e,l),e[4]+=n+u,e[5]+=i+h,e},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Ki=[\\\"x\\\",\\\"y\\\",\\\"originX\\\",\\\"originY\\\",\\\"anchorX\\\",\\\"anchorY\\\",\\\"rotation\\\",\\\"scaleX\\\",\\\"scaleY\\\",\\\"skewX\\\",\\\"skewY\\\"];function $i(t,e){for(var n=0;n\u003CKi.length;n++){var i=Ki[n];t[i]=e[i]}}var Ji=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},t.lerp=function(t,e,n,i){var r=1-i;t.x=r*e.x+i*n.x,t.y=r*e.y+i*n.y},t}(),Qi=Math.min,tr=Math.max,er=new Ji,nr=new Ji,ir=new Ji,rr=new Ji,or=new Ji,ar=new Ji,sr=function(){function t(t,e,n,i){n\u003C0&&(t+=n,n=-n),i\u003C0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.union=function(t){var e=Qi(t.x,this.x),n=Qi(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=tr(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=tr(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=[1,0,0,1,0,0];return Ei(r,r,[-e.x,-e.y]),Vi(r,r,[n,i]),Ei(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,p=!(o\u003Cl||u\u003Cr||s\u003Ch||c\u003Ca);if(n){var d=1/0,f=0,g=Math.abs(o-l),y=Math.abs(u-r),v=Math.abs(s-h),m=Math.abs(c-a),x=Math.min(g,y),_=Math.min(v,m);o\u003Cl||u\u003Cr?x>f&&(f=x,g\u003Cy?Ji.set(ar,-g,0):Ji.set(ar,y,0)):x\u003Cd&&(d=x,g\u003Cy?Ji.set(or,g,0):Ji.set(or,-y,0)),s\u003Ch||c\u003Ca?_>f&&(f=_,v\u003Cm?Ji.set(ar,0,-v):Ji.set(ar,0,m)):x\u003Cd&&(d=x,v\u003Cm?Ji.set(or,0,v):Ji.set(or,0,-m))}return n&&Ji.copy(n,p?or:ar),p},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t\u003C=n.x+n.width&&e>=n.y&&e\u003C=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,i){if(i){if(i[1]\u003C1e-5&&i[1]>-1e-5&&i[2]\u003C1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];return e.x=n.x*r+a,e.y=n.y*o+s,e.width=n.width*r,e.height=n.height*o,e.width\u003C0&&(e.x+=e.width,e.width=-e.width),void(e.height\u003C0&&(e.y+=e.height,e.height=-e.height))}er.x=ir.x=n.x,er.y=rr.y=n.y,nr.x=rr.x=n.x+n.width,nr.y=ir.y=n.y+n.height,er.transform(i),rr.transform(i),nr.transform(i),ir.transform(i),e.x=Qi(er.x,nr.x,ir.x,rr.x),e.y=Qi(er.y,nr.y,ir.y,rr.y);var l=tr(er.x,nr.x,ir.x,rr.x),u=tr(er.y,nr.y,ir.y,rr.y);e.width=l-e.x,e.height=u-e.y}else e!==n&&t.copy(e,n)},t}(),lr={};function ur(t,e){var n=lr[e=e||a];n||(n=lr[e]=new ln(500));var i=n.get(t);return null==i&&(i=h.measureText(t,e).width,n.put(t,i)),i}function hr(t,e,n,i){var r=ur(t,e),o=fr(e),a=pr(0,r,n),s=dr(0,o,i);return new sr(a,s,r,o)}function cr(t,e,n,i){var r=((t||\\\"\\\")+\\\"\\\").split(\\\"\\\\n\\\");if(1===r.length)return hr(r[0],e,n,i);for(var o=new sr(0,0,0,0),a=0;a\u003Cr.length;a++){var s=hr(r[a],e,n,i);0===a?o.copy(s):o.union(s)}return o}function pr(t,e,n){return\\\"right\\\"===n?t-=e:\\\"center\\\"===n&&(t-=e/2),t}function dr(t,e,n){return\\\"middle\\\"===n?t-=e/2:\\\"bottom\\\"===n&&(t-=e),t}function fr(t){return ur(\\\"国\\\",t)}function gr(t,e){return\\\"string\\\"==typeof t?t.lastIndexOf(\\\"%\\\")>=0?parseFloat(t)/100*e:parseFloat(t):t}function yr(t,e,n){var i=e.position||\\\"inside\\\",r=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,h=\\\"left\\\",c=\\\"top\\\";if(i instanceof Array)l+=gr(i[0],n.width),u+=gr(i[1],n.height),h=null,c=null;else switch(i){case\\\"left\\\":l-=r,u+=s,h=\\\"right\\\",c=\\\"middle\\\";break;case\\\"right\\\":l+=r+a,u+=s,c=\\\"middle\\\";break;case\\\"top\\\":l+=a/2,u-=r,h=\\\"center\\\",c=\\\"bottom\\\";break;case\\\"bottom\\\":l+=a/2,u+=o+r,h=\\\"center\\\";break;case\\\"inside\\\":l+=a/2,u+=s,h=\\\"center\\\",c=\\\"middle\\\";break;case\\\"insideLeft\\\":l+=r,u+=s,c=\\\"middle\\\";break;case\\\"insideRight\\\":l+=a-r,u+=s,h=\\\"right\\\",c=\\\"middle\\\";break;case\\\"insideTop\\\":l+=a/2,u+=r,h=\\\"center\\\";break;case\\\"insideBottom\\\":l+=a/2,u+=o-r,h=\\\"center\\\",c=\\\"bottom\\\";break;case\\\"insideTopLeft\\\":l+=r,u+=r;break;case\\\"insideTopRight\\\":l+=a-r,u+=r,h=\\\"right\\\";break;case\\\"insideBottomLeft\\\":l+=r,u+=o-r,c=\\\"bottom\\\";break;case\\\"insideBottomRight\\\":l+=a-r,u+=o-r,h=\\\"right\\\",c=\\\"bottom\\\"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var vr=\\\"__zr_normal__\\\",mr=Ki.concat([\\\"ignore\\\"]),xr=V(Ki,(function(t,e){return t[e]=!0,t}),{ignore:!1}),_r={},br=new sr(0,0,0,0),wr=function(){function t(t){this.id=M(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case\\\"horizontal\\\":e=0;break;case\\\"vertical\\\":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=e.innerTransformable,o=void 0,a=void 0,s=!1;r.parent=i?this:null;var l=!1;if(r.copyTransform(e),null!=n.position){var u=br;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(_r,n,u):yr(_r,n,u),r.x=_r.x,r.y=_r.y,o=_r.align,a=_r.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var c=void 0,p=void 0;\\\"center\\\"===h?(c=.5*u.width,p=.5*u.height):(c=gr(h[0],u.width),p=gr(h[1],u.height)),l=!0,r.originX=-r.x+c+(i?0:u.x),r.originY=-r.y+p+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var d=n.offset;d&&(r.x+=d[0],r.y+=d[1],l||(r.originX=-d[0],r.originY=-d[1]));var f=null==n.inside?\\\"string\\\"==typeof n.position&&n.position.indexOf(\\\"inside\\\")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,v=void 0,m=void 0;f&&this.canBeInsideText()?(y=n.insideFill,v=n.insideStroke,null!=y&&\\\"auto\\\"!==y||(y=this.getInsideTextFill()),null!=v&&\\\"auto\\\"!==v||(v=this.getInsideTextStroke(y),m=!0)):(y=n.outsideFill,v=n.outsideStroke,null!=y&&\\\"auto\\\"!==y||(y=this.getOutsideFill()),null!=v&&\\\"auto\\\"!==v||(v=this.getOutsideStroke(y),m=!0)),(y=y||\\\"#000\\\")===g.fill&&v===g.stroke&&m===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=y,g.stroke=v,g.autoStroke=m,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),e.__dirty|=1,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return\\\"#fff\\\"},t.prototype.getInsideTextStroke=function(t){return\\\"#000\\\"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Li:ki},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=\\\"string\\\"==typeof e&&bn(e);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o\u003C3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,kn(n,\\\"rgba\\\")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){\\\"textConfig\\\"===t?this.setTextConfig(e):\\\"textContent\\\"===t?this.setTextContent(e):\\\"clipPath\\\"===t?this.setClipPath(e):\\\"extra\\\"===t?(this.extra=this.extra||{},A(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if(\\\"string\\\"==typeof t)this.attrKV(t,e);else if(q(t))for(var n=G(t),i=0;i\u003Cn.length;i++){var r=n[i];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n\u003Cthis.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&r!==vr)){var o=i.targetName,a=o?e[o]:e;i.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,mr)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i\u003Cn.length;i++){var r=n[i];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(vr,!1,t)},t.prototype.useState=function(t,e,n,i){var r=t===vr;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(P(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||i);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,h=this._textGuide;return u&&u.useState(t,e,n,l),h&&h.useState(t,e,n,l),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}I(\\\"State \\\"+t+\\\" not exists.\\\")}}},t.prototype.useStates=function(t,e,n){if(t.length){var i=[],r=this.currentStates,o=t.length,a=o===r.length;if(a)for(var s=0;s\u003Co;s++)if(t[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s\u003Co;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&i.push(u)}var h=i[o-1],c=!!(h&&h.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),d=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(t.join(\\\",\\\"),p,this._normalState,!1,!e&&!this.__inHover&&d&&d.duration>0,d);var f=this._textContent,g=this._textGuide;f&&f.useStates(t,e,c),g&&g.useStates(t,e,c),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t\u003Cthis.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=P(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),r=P(i,t),o=P(i,e)>=0;r>=0?o?i.splice(r,1):i[r]=e:n&&!o&&i.push(e),this.useStates(i)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},i=0;i\u003Ct.length;i++){var r=t[i];A(n,r),r.textConfig&&A(e=e||{},r.textConfig)}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,i,r,o){var a=!(e&&i);e&&e.textConfig?(this.textConfig=A({},i?this.textConfig:n.textConfig),A(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u\u003Cmr.length;u++){var h=mr[u],c=r&&xr[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(c?(l=!0,s[h]=n[h]):this[h]=n[h])}if(!r)for(u=0;u\u003Cthis.animators.length;u++){var p=this.animators[u],d=p.targetName;p.getLoop()||p.__changeFinalValue(d?(e||n)[d]:e||n)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new qi,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),A(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n\u003Ce.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n\u003Ce.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var i=t?this[t]:this;var r=new ai(i,e,n);return t&&(r.targetName=t),this.addAnimator(r,t),r},t.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during((function(){i.updateDuringAnimation(e)})).done((function(){var e=i.animators,n=P(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,r=[],o=0;o\u003Ci;o++){var a=n[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,n){Sr(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){Sr(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,i){for(var r=Sr(this,e,n,i),o=0;o\u003Cr.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type=\\\"element\\\",e.name=\\\"\\\",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1;function n(t,n,i,r){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[r]},set:function(e){t[r]=e}})}Object.defineProperty(e,t,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(t){this[i]=t[0],this[r]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(n(\\\"position\\\",\\\"_legacyPos\\\",\\\"x\\\",\\\"y\\\"),n(\\\"scale\\\",\\\"_legacyScale\\\",\\\"scaleX\\\",\\\"scaleY\\\"),n(\\\"origin\\\",\\\"_legacyOrigin\\\",\\\"originX\\\",\\\"originY\\\"))}(),t}();function Sr(t,e,n,i,r){var o=[];Tr(t,\\\"\\\",t,e,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,u=n.aborted,h=function(){s=!0,--a\u003C=0&&(s?l&&l():u&&u())},c=function(){--a\u003C=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var p=0;p\u003Co.length;p++){var d=o[p];h&&d.done(h),c&&d.aborted(c),n.force&&d.duration(n.duration),d.start(n.easing)}return o}function Mr(t,e,n){for(var i=0;i\u003Cn;i++)t[i]=e[i]}function Ir(t,e,n){if(N(e[n]))if(N(t[n])||(t[n]=[]),$(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),Mr(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(N(r[0]))for(var s=r[0].length,l=0;l\u003Ca;l++)o[l]?Mr(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Mr(o,r,a);o.length=r.length}else t[n]=e[n]}function Tr(t,e,n,i,r,o,a,s){for(var l=G(i),u=r.duration,h=r.delay,c=r.additive,p=r.setToFinal,d=!q(o),f=t.animators,g=[],y=0;y\u003Cl.length;y++){var v=l[y],m=i[v];if(null!=m&&null!=n[v]&&(d||o[v]))if(!q(m)||N(m)||Q(m))g.push(v);else{if(e){s||(n[v]=m,t.updateDuringAnimation(e));continue}Tr(t,v,n[v],m,r,o&&o[v],a,s)}else s||(n[v]=m,t.updateDuringAnimation(e),g.push(v))}var x=g.length;if(!c&&x)for(var _=0;_\u003Cf.length;_++){if((w=f[_]).targetName===e)if(w.stopTracks(g)){var b=P(f,w);f.splice(b,1)}}if(r.force||(x=(g=B(g,(function(t){return e=i[t],r=n[t],!(e===r||N(e)&&N(r)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i\u003Cn;i++)if(t[i]!==e[i])return!1;return!0}(e,r));var e,r}))).length),x>0||r.force&&!a.length){var w,S=void 0,M=void 0,I=void 0;if(s){M={},p&&(S={});for(_=0;_\u003Cx;_++){M[v=g[_]]=n[v],p?S[v]=i[v]:n[v]=i[v]}}else if(p){I={};for(_=0;_\u003Cx;_++){I[v=g[_]]=ti(n[v]),Ir(n,i,v)}}(w=new ai(n,!1,!1,c?B(f,(function(t){return t.targetName===e})):null)).targetName=e,r.scope&&(w.scope=r.scope),p&&S&&w.whenWithKeys(0,S,g),I&&w.whenWithKeys(0,I,g),w.whenWithKeys(null==u?500:u,s?M:i,g).delay(h||0),t.addAnimator(w,e),a.push(w)}}R(wr,Xt),R(wr,qi);var Cr=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n\u003Ce.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=P(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];if(t&&t!==this&&t.parent!==this&&t!==i){n[e]=t,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,i=P(n,t);return i\u003C0||(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n\u003Ct.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i\u003Cn.length;i++){var r=n[i];t.call(e,r,i)}return this},e.prototype.traverse=function(t,e){for(var n=0;n\u003Cthis._children.length;n++){var i=this._children[n],r=t.call(e,i);i.isGroup&&!r&&i.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n\u003Cthis._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n\u003Cthis._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new sr(0,0,0,0),n=t||this._children,i=[],r=null,o=0;o\u003Cn.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(sr.applyTransform(e,s,l),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}(wr);Cr.prototype.type=\\\"group\\\";\\n/*!\\n    * ZRender, a high performance 2d drawing library.\\n    *\\n    * Copyright (c) 2013, Baidu Inc.\\n    * All rights reserved.\\n    *\\n    * LICENSE\\n    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\\n    */\\nvar Dr={},Ar={};var kr=function(){function t(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new Ae,a=n.renderer||\\\"canvas\\\";Dr[a]||(a=G(Dr)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new Dr[a](e,o,n,t),l=n.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u=r.node||r.worker||l?null:new Ci(s.getViewportRoot(),s.root);this.handler=new ve(o,s,u,s.root),this.animation=new hi({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if(\\\"string\\\"==typeof t)return Ln(t,1)\u003C.4;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r\u003Ci;r++)n+=Ln(e[r].color,1);return(n/=i)\u003C.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=si();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=si();e?(this._stillFrameAccum=0,this.trigger(\\\"rendered\\\",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&\\\"canvas\\\"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e\u003Ct.length;e++)t[e]instanceof Cr&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Ar[t]},t}();function Lr(t,e){var n=new kr(M(),t,e);return Ar[n.id]=n,n}function Pr(t,e){Dr[t]=e}var Or=Object.freeze({__proto__:null,init:Lr,dispose:function(t){t.dispose()},disposeAll:function(){for(var t in Ar)Ar.hasOwnProperty(t)&&Ar[t].dispose();Ar={}},getInstance:function(t){return Ar[t]},registerPainter:Pr,version:\\\"5.3.0\\\"}),Rr=1e-4;function Nr(t,e,n,i){var r=e[0],o=e[1],a=n[0],s=n[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(t\u003C=r)return a;if(t>=o)return s}else{if(t>=r)return a;if(t\u003C=o)return s}else{if(t===r)return a;if(t===o)return s}return(t-r)/l*u+a}function Er(t,e){switch(t){case\\\"center\\\":case\\\"middle\\\":t=\\\"50%\\\";break;case\\\"left\\\":case\\\"top\\\":t=\\\"0%\\\";break;case\\\"right\\\":case\\\"bottom\\\":t=\\\"100%\\\"}return X(t)?(n=t,n.replace(/^\\\\s+|\\\\s+$/g,\\\"\\\")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function zr(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Vr(t){return t.sort((function(t,e){return t-e})),t}function Br(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n\u003C15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return Fr(t)}function Fr(t){var e=t.toString().toLowerCase(),n=e.indexOf(\\\"e\\\"),i=n>0?+e.slice(n+1):0,r=n>0?n:e.length,o=e.indexOf(\\\".\\\"),a=o\u003C0?0:r-1-o;return Math.max(0,a-i)}function Gr(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Wr(t,e,n){if(!t[e])return 0;var i=V(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;for(var r=Math.pow(10,n),o=z(t,(function(t){return(isNaN(t)?0:t)/i*r*100})),a=100*r,s=z(o,(function(t){return Math.floor(t)})),l=V(s,(function(t,e){return t+e}),0),u=z(o,(function(t,e){return t-s[e]}));l\u003Ca;){for(var h=Number.NEGATIVE_INFINITY,c=null,p=0,d=u.length;p\u003Cd;++p)u[p]>h&&(h=u[p],c=p);++s[c],u[c]=0,++l}return s[e]/r}function Hr(t,e){var n=Math.max(Br(t),Br(e)),i=t+e;return n>20?i:zr(i,n)}var Yr=9007199254740991;function Ur(t){var e=2*Math.PI;return(t%e+e)%e}function Xr(t){return t>-1e-4&&t\u003CRr}var Zr=/^(?:(\\\\d{4})(?:[-\\\\/](\\\\d{1,2})(?:[-\\\\/](\\\\d{1,2})(?:[T ](\\\\d{1,2})(?::(\\\\d{1,2})(?::(\\\\d{1,2})(?:[.,](\\\\d+))?)?)?(Z|[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d)?)?)?)?)?$/;function jr(t){if(t instanceof Date)return t;if(X(t)){var e=Zr.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return\\\"Z\\\"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function qr(t){return Math.pow(10,Kr(t))}function Kr(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function $r(t,e){var n=Kr(t),i=Math.pow(10,n),r=t/i;return t=(e?r\u003C1.5?1:r\u003C2.5?2:r\u003C4?3:r\u003C7?5:10:r\u003C1?1:r\u003C2?2:r\u003C3?3:r\u003C5?5:10)*i,n>=-20?+t.toFixed(n\u003C0?-n:0):t}function Jr(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function Qr(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i\u003Ct.length;){for(var r=t[i].interval,o=t[i].close,a=0;a\u003C2;a++)r[a]\u003C=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t;function s(t,e,n){return t.interval[n]\u003Ce.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]==(n?-1:1)||!n&&s(t,e,1))}}function to(t){var e=parseFloat(t);return e==t&&(0!==e||!X(t)||t.indexOf(\\\"x\\\")\u003C=0)?e:NaN}function eo(t){return!isNaN(to(t))}function no(){return Math.round(9*Math.random())}function io(t,e){return 0===e?t:io(e,t%e)}function ro(t,e){return null==t?e:null==e?t:t*e/io(t,e)}\\\"undefined\\\"!=typeof console&&console.warn&&console.log;function oo(t){0}function ao(t){throw new Error(t)}function so(t,e,n){return(e-t)*n+t}var lo=\\\"series\\\\0\\\",uo=\\\"\\\\0_ec_\\\\0\\\";function ho(t){return t instanceof Array?t:null==t?[]:[t]}function co(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i\u003Cr;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var po=[\\\"fontStyle\\\",\\\"fontWeight\\\",\\\"fontSize\\\",\\\"fontFamily\\\",\\\"rich\\\",\\\"tag\\\",\\\"color\\\",\\\"textBorderColor\\\",\\\"textBorderWidth\\\",\\\"width\\\",\\\"height\\\",\\\"lineHeight\\\",\\\"align\\\",\\\"verticalAlign\\\",\\\"baseline\\\",\\\"shadowColor\\\",\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\",\\\"textShadowColor\\\",\\\"textShadowBlur\\\",\\\"textShadowOffsetX\\\",\\\"textShadowOffsetY\\\",\\\"backgroundColor\\\",\\\"borderColor\\\",\\\"borderWidth\\\",\\\"borderRadius\\\",\\\"padding\\\"];function fo(t){return!q(t)||Y(t)||t instanceof Date?t:t.value}function go(t){return q(t)&&!(t instanceof Array)}function yo(t,e,n){var i=\\\"normalMerge\\\"===n,r=\\\"replaceMerge\\\"===n,o=\\\"replaceAll\\\"===n;t=t||[],e=(e||[]).slice();var a=ft();E(e,(function(t,n){q(t)||(e[n]=null)}));var s,l,u=function(t,e,n){var i=[];if(\\\"replaceAll\\\"===n)return i;for(var r=0;r\u003Ct.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:\\\"replaceMerge\\\"===n||bo(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(t,a,n);return(i||r)&&function(t,e,n,i){E(i,(function(r,o){if(r&&null!=r.id){var a=mo(r.id),s=n.get(a);if(null!=s){var l=t[s];lt(!l.newOption,'Duplicated option on id \\\"'+a+'\\\".'),l.newOption=r,l.existing=e[s],i[o]=null}}}))}(u,t,a,e),i&&function(t,e){E(e,(function(n,i){if(n&&null!=n.name)for(var r=0;r\u003Ct.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==n.id)&&!bo(n)&&!bo(o)&&vo(\\\"name\\\",o,n))return t[r].newOption=n,void(e[i]=null)}}))}(u,e),i||r?function(t,e,n){E(e,(function(e){if(e){for(var i,r=0;(i=t[r])&&(i.newOption||bo(i.existing)||i.existing&&null!=e.id&&!vo(\\\"id\\\",e,i.existing));)r++;i?(i.newOption=e,i.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),r++}}))}(u,e,r):o&&function(t,e){E(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(u,e),s=u,l=ft(),E(s,(function(t){var e=t.existing;e&&l.set(e.id,t)})),E(s,(function(t){var e=t.newOption;lt(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,\\\"id duplicates: \\\"+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),E(s,(function(t,e){var n=t.existing,i=t.newOption,r=t.keyInfo;if(q(i)){if(r.name=null!=i.name?mo(i.name):n?n.name:lo+e,n)r.id=mo(n.id);else if(null!=i.id)r.id=mo(i.id);else{var o=0;do{r.id=\\\"\\\\0\\\"+r.name+\\\"\\\\0\\\"+o++}while(l.get(r.id))}l.set(r.id,t)}})),u}function vo(t,e,n){var i=xo(e[t],null),r=xo(n[t],null);return null!=i&&null!=r&&i===r}function mo(t){return xo(t,\\\"\\\")}function xo(t,e){return null==t?e:X(t)?t:j(t)||Z(t)?t+\\\"\\\":e}function _o(t){var e=t.name;return!(!e||!e.indexOf(lo))}function bo(t){return t&&null!=t.id&&0===mo(t.id).indexOf(uo)}function wo(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Y(e.dataIndex)?z(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?Y(e.name)?z(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function So(){var t=\\\"__ec_inner_\\\"+Mo++;return function(e){return e[t]||(e[t]={})}}var Mo=no();function Io(t,e,n){var i=To(e,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=n?n.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each((function(e,i){var r=Ao(t,i,e,{useDefault:s===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+\\\"Models\\\"]=r.models,a[i+\\\"Model\\\"]=r.models[0]})),a}function To(t,e){var n;if(X(t)){var i={};i[t+\\\"Index\\\"]=0,n=i}else n=t;var r=ft(),o={},a=!1;return E(n,(function(t,n){if(\\\"dataIndex\\\"!==n&&\\\"dataIndexInside\\\"!==n){var i=n.match(/^(\\\\w+)(Index|Id|Name)$/)||[],s=i[1],l=(i[2]||\\\"\\\").toLowerCase();if(s&&l&&!(e&&e.includeMainTypes&&P(e.includeMainTypes,s)\u003C0))a=a||!!s,(r.get(s)||r.set(s,{}))[l]=t}else o[n]=t})),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var Co={useDefault:!0,enableAll:!1,enableNone:!1},Do={useDefault:!1,enableAll:!0,enableNone:!0};function Ao(t,e,n,i){i=i||Co;var r=n.index,o=n.id,a=n.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[],s}return\\\"none\\\"===r||!1===r?(lt(i.enableNone,'`\\\"none\\\"` or `false` is not a valid value on index option.'),s.models=[],s):(\\\"all\\\"===r&&(lt(i.enableAll,'`\\\"all\\\"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function ko(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Lo(t,e){var n=ft(),i=[];return E(t,(function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)})),{keys:i,buckets:n}}function Po(t,e,n,i,r){var o=null==e||\\\"auto\\\"===e;if(null==i)return i;if(j(i))return zr(f=so(n||0,i,r),o?Math.max(Br(n||0),Br(i)):e);if(X(i))return r\u003C1?n:i;for(var a=[],s=n,l=i,u=Math.max(s?s.length:0,l.length),h=0;h\u003Cu;++h){var c=t.getDimensionInfo(h);if(c&&\\\"ordinal\\\"===c.type)a[h]=(r\u003C1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,d=l[h],f=so(p,d,r);a[h]=zr(f,o?Math.max(Br(p),Br(d)):e)}}return a}var Oo=\\\"___EC__COMPONENT__CONTAINER___\\\",Ro=\\\"___EC__EXTENDED_CLASS___\\\";function No(t){var e={main:\\\"\\\",sub:\\\"\\\"};if(t){var n=t.split(\\\".\\\");e.main=n[0]||\\\"\\\",e.sub=n[1]||\\\"\\\"}return e}function Eo(t,e){t.$constructor=t,t.extend=function(t){var e,i,r=this;return U(i=r)&&/^class\\\\s/.test(Function.prototype.toString.call(i))?e=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(r):O(e=function(){(t.$constructor||r).apply(this,arguments)},this),A(e.prototype,t),e[Ro]=!0,e.extend=this.extend,e.superCall=Bo,e.superApply=Fo,e.superClass=r,e}}function zo(t,e){t.extend=e.extend}var Vo=Math.round(10*Math.random());function Bo(t,e){for(var n=[],i=2;i\u003Carguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function Fo(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Go(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;if(i){lt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType \\\"'+n+'\\\" illegal'),t.prototype.type=i;var r=No(i);if(r.sub){if(r.sub!==Oo){(function(t){var n=e[t.main];n&&n[Oo]||((n=e[t.main]={})[Oo]=!0);return n}(r))[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,n,i){var r=e[t];if(r&&r[Oo]&&(r=n?r[n]:null),i&&!r)throw new Error(n?\\\"Component \\\"+t+\\\".\\\"+(n||\\\"\\\")+\\\" is used but not imported.\\\":t+\\\".type should be specified.\\\");return r},t.getClassesByMainType=function(t){var n=No(t),i=[],r=e[n.main];return r&&r[Oo]?E(r,(function(t,e){e!==Oo&&i.push(t)})):i.push(r),i},t.hasClass=function(t){var n=No(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return E(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=No(t),i=e[n.main];return i&&i[Oo]}}function Wo(t,e){for(var n=0;n\u003Ct.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,r){for(var o={},a=0;a\u003Ct.length;a++){var s=t[a][1];if(!(i&&P(i,s)>=0||r&&P(r,s)\u003C0)){var l=n.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var Ho=Wo([[\\\"fill\\\",\\\"color\\\"],[\\\"shadowBlur\\\"],[\\\"shadowOffsetX\\\"],[\\\"shadowOffsetY\\\"],[\\\"opacity\\\"],[\\\"shadowColor\\\"]]),Yo=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return Ho(this,t,e)},t}(),Uo=new ln(50);function Xo(t){if(\\\"string\\\"==typeof t){var e=Uo.get(t);return e&&e.image}return t}function Zo(t,e,n,i,r){if(t){if(\\\"string\\\"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Uo.get(t),a={hostEl:n,cb:i,cbPayload:r};if(o)!qo(e=o.image)&&o.pending.push(a);else{var s=h.loadImage(t,jo,jo);s.__zrImageSrc=t,Uo.put(t,s.__cachedImgObj={image:s,pending:[a]})}return e}return t}return e}function jo(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e\u003Ct.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function qo(t){return t&&t.width&&t.height}var Ko=/\\\\{([a-zA-Z0-9_]+)\\\\|([^}]*)\\\\}/g;function $o(t,e,n,i,r){if(!e)return\\\"\\\";var o=(t+\\\"\\\").split(\\\"\\\\n\\\");r=Jo(e,n,i,r);for(var a=0,s=o.length;a\u003Cs;a++)o[a]=Qo(o[a],r);return o.join(\\\"\\\\n\\\")}function Jo(t,e,n,i){var r=A({},i=i||{});r.font=e,n=rt(n,\\\"...\\\"),r.maxIterations=rt(i.maxIterations,2);var o=r.minChar=rt(i.minChar,0);r.cnCharWidth=ur(\\\"国\\\",e);var a=r.ascCharWidth=ur(\\\"a\\\",e);r.placeholder=rt(i.placeholder,\\\"\\\");for(var s=t=Math.max(0,t-1),l=0;l\u003Co&&s>=a;l++)s-=a;var u=ur(n,e);return u>s&&(n=\\\"\\\",u=0),s=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function Qo(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return\\\"\\\";var o=ur(t,i);if(o\u003C=n)return t;for(var a=0;;a++){if(o\u003C=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?ta(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=ur(t=t.substr(0,s),i)}return\\\"\\\"===t&&(t=e.placeholder),t}function ta(t,e,n,i){for(var r=0,o=0,a=t.length;o\u003Ca&&r\u003Ce;o++){var s=t.charCodeAt(o);r+=0\u003C=s&&s\u003C=127?n:i}return o}var ea=function(){},na=function(t){this.tokens=[],t&&(this.tokens=t)},ia=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function ra(t,e,n,i,r){var o,a,s=\\\"\\\"===e,l=r&&n.rich[r]||{},u=t.lines,h=l.font||n.font,c=!1;if(i){var p=l.padding,d=p?p[1]+p[3]:0;if(null!=l.width&&\\\"auto\\\"!==l.width){var f=gr(l.width,i.width)+d;u.length>0&&f+i.accumWidth>i.width&&(o=e.split(\\\"\\\\n\\\"),c=!0),i.accumWidth=f}else{var g=sa(e,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,a=g.linesWidths,o=g.lines}}else o=e.split(\\\"\\\\n\\\");for(var y=0;y\u003Co.length;y++){var v=o[y],m=new ea;if(m.styleName=r,m.text=v,m.isLineHolder=!v&&!s,\\\"number\\\"==typeof l.width?m.width=l.width:m.width=a?a[y]:ur(v,h),y||c)u.push(new na([m]));else{var x=(u[u.length-1]||(u[0]=new na)).tokens,_=x.length;1===_&&x[0].isLineHolder?x[0]=m:(v||!_||s)&&x.push(m)}}}var oa=V(\\\",&?/;] \\\".split(\\\"\\\"),(function(t,e){return t[e]=!0,t}),{});function aa(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e\u003C=383}(t)||!!oa[t]}function sa(t,e,n,i,r){for(var o=[],a=[],s=\\\"\\\",l=\\\"\\\",u=0,h=0,c=0;c\u003Ct.length;c++){var p=t.charAt(c);if(\\\"\\\\n\\\"!==p){var d=ur(p,e),f=!i&&!aa(p);(o.length?h+d>n:r+h+d>n)?h?(s||l)&&(f?(s||(s=l,l=\\\"\\\",h=u=0),o.push(s),a.push(h-u),l+=p,s=\\\"\\\",h=u+=d):(l&&(s+=l,l=\\\"\\\",u=0),o.push(s),a.push(h),s=p,h=d)):f?(o.push(l),a.push(u),l=p,u=d):(o.push(p),a.push(d)):(h+=d,f?(l+=p,u+=d):(l&&(s+=l,l=\\\"\\\",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s=\\\"\\\",l=\\\"\\\",u=0,h=0}return o.length||s||(s=t,l=\\\"\\\",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var la=\\\"__zr_style_\\\"+Math.round(10*Math.random()),ua={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:\\\"#000\\\",opacity:1,blend:\\\"source-over\\\"},ha={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ua[la]=!0;var ca=[\\\"z\\\",\\\"z2\\\",\\\"invisible\\\"],pa=[\\\"invisible\\\"],da=function(t){function e(e){return t.call(this,e)||this}var i;return n(e,t),e.prototype._init=function(e){for(var n=G(e),i=0;i\u003Cn.length;i++){var r=n[i];\\\"style\\\"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){fa.copy(t.getBoundingRect()),t.transform&&fa.applyTransform(t.transform);return ga.width=e,ga.height=n,!fa.intersect(ga)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o\u003Cthis.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,a=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new sr(0,0,0,0)),e?sr.applyTransform(t,n,e):t.copy(n),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new sr(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate(\\\"style\\\",t)},e.prototype.updateDuringAnimation=function(t){\\\"style\\\"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){\\\"style\\\"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return\\\"string\\\"==typeof t?this.style[t]=e:A(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return yt(ua,t)},e.prototype.useStyle=function(t){t[la]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[la]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,ca)},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.style?o?r?s=n.style:(s=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(s,n.style)):l&&(s=i.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=G(u),c=0;c\u003Ch.length;c++){(d=h[c])in s&&(s[d]=s[d],this.style[d]=u[d])}var p=G(s);for(c=0;c\u003Cp.length;c++){var d=p[c];this.style[d]=this.style[d]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var f=this.__inHover?pa:ca;for(c=0;c\u003Cf.length;c++){d=f[c];n&&null!=n[d]?this[d]=n[d]:l&&null!=i[d]&&(this[d]=i[d])}},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r\u003Ce.length;r++){var o=e[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(t,e){return A(t,e),t},e.prototype.getAnimationStyleProps=function(){return ha},e.initDefaultProps=((i=e.prototype).type=\\\"displayable\\\",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor=\\\"pointer\\\",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,void(i.__dirty=3)),e}(wr),fa=new sr(0,0,0,0),ga=new sr(0,0,0,0);var ya=Math.min,va=Math.max,ma=Math.sin,xa=Math.cos,_a=2*Math.PI,ba=wt(),wa=wt(),Sa=wt();function Ma(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l\u003Ct.length;l++)i=t[l],r=ya(r,i[0]),o=va(o,i[0]),a=ya(a,i[1]),s=va(s,i[1]);e[0]=r,e[1]=a,n[0]=o,n[1]=s}}function Ia(t,e,n,i,r,o){r[0]=ya(t,n),r[1]=ya(e,i),o[0]=va(t,n),o[1]=va(e,i)}var Ta=[],Ca=[];function Da(t,e,n,i,r,o,a,s,l,u){var h=Xe,c=He,p=h(t,n,r,a,Ta);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d\u003Cp;d++){var f=c(t,n,r,a,Ta[d]);l[0]=ya(f,l[0]),u[0]=va(f,u[0])}p=h(e,i,o,s,Ca);for(d=0;d\u003Cp;d++){var g=c(e,i,o,s,Ca[d]);l[1]=ya(g,l[1]),u[1]=va(g,u[1])}l[0]=ya(t,l[0]),u[0]=va(t,u[0]),l[0]=ya(a,l[0]),u[0]=va(a,u[0]),l[1]=ya(e,l[1]),u[1]=va(e,u[1]),l[1]=ya(s,l[1]),u[1]=va(s,u[1])}function Aa(t,e,n,i,r,o,a,s){var l=Je,u=Ke,h=va(ya(l(t,n,r),1),0),c=va(ya(l(e,i,o),1),0),p=u(t,n,r,h),d=u(e,i,o,c);a[0]=ya(t,r,p),a[1]=ya(e,o,d),s[0]=va(t,r,p),s[1]=va(e,o,d)}function ka(t,e,n,i,r,o,a,s,l){var u=Gt,h=Wt,c=Math.abs(r-o);if(c%_a\u003C1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if(ba[0]=xa(r)*n+t,ba[1]=ma(r)*i+e,wa[0]=xa(o)*n+t,wa[1]=ma(o)*i+e,u(s,ba,wa),h(l,ba,wa),(r%=_a)\u003C0&&(r+=_a),(o%=_a)\u003C0&&(o+=_a),r>o&&!a?o+=_a:r\u003Co&&a&&(r+=_a),a){var p=o;o=r,r=p}for(var d=0;d\u003Co;d+=Math.PI/2)d>r&&(Sa[0]=xa(d)*n+t,Sa[1]=ma(d)*i+e,u(s,Sa,s),h(l,Sa,l))}var La={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Pa=[],Oa=[],Ra=[],Na=[],Ea=[],za=[],Va=Math.min,Ba=Math.max,Fa=Math.cos,Ga=Math.sin,Wa=Math.abs,Ha=Math.PI,Ya=2*Ha,Ua=\\\"undefined\\\"!=typeof Float32Array,Xa=[];function Za(t){return Math.round(t/Ha*1e8)/1e8%2*Ha}function ja(t,e){var n=Za(t[0]);n\u003C0&&(n+=Ya);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=Ya?r=n+Ya:e&&n-r>=Ya?r=n-Ya:!e&&n>r?r=n+(Ya-Za(n-r)):e&&n\u003Cr&&(r=n-(Ya-Za(r-n))),t[0]=n,t[1]=r}var qa=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=Wa(n/Ai/t)||0,this._uy=Wa(n/Ai/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(La.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=Wa(t-this._xi),i=Wa(e-this._yi),r=n>this._ux||i>this._uy;if(this.addData(La.L,t,e),this._ctx&&r&&this._ctx.lineTo(t,e),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){return this._drawPendingPt(),this.addData(La.C,t,e,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,r,o),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(La.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(t,e,n,i,r,o){this._drawPendingPt(),Xa[0]=i,Xa[1]=r,ja(Xa,o),i=Xa[0];var a=(r=Xa[1])-i;return this.addData(La.A,t,e,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=Fa(r)*n+t,this._yi=Ga(r)*n+e,this},t.prototype.arcTo=function(t,e,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},t.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(La.R,t,e,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(La.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Ua||(this.data=new Float32Array(e));for(var n=0;n\u003Ce;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r\u003Ce;r++)n+=t[r].len();Ua&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r\u003Ce;r++)for(var o=t[r].data,a=0;a\u003Co.length;a++)this.data[i++]=o[a];this._len=i},t.prototype.addData=function(t,e,n,i,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h\u003Carguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e\u003Cthis._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Ua&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){Ra[0]=Ra[1]=Ea[0]=Ea[1]=Number.MAX_VALUE,Na[0]=Na[1]=za[0]=za[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,i=0,r=0,o=0;for(t=0;t\u003Cthis._len;){var a=e[t++],s=1===t;switch(s&&(r=n=e[t],o=i=e[t+1]),a){case La.M:n=r=e[t++],i=o=e[t++],Ea[0]=r,Ea[1]=o,za[0]=r,za[1]=o;break;case La.L:Ia(n,i,e[t],e[t+1],Ea,za),n=e[t++],i=e[t++];break;case La.C:Da(n,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Ea,za),n=e[t++],i=e[t++];break;case La.Q:Aa(n,i,e[t++],e[t++],e[t],e[t+1],Ea,za),n=e[t++],i=e[t++];break;case La.A:var l=e[t++],u=e[t++],h=e[t++],c=e[t++],p=e[t++],d=e[t++]+p;t+=1;var f=!e[t++];s&&(r=Fa(p)*h+l,o=Ga(p)*c+u),ka(l,u,h,c,p,d,f,Ea,za),n=Fa(d)*h+l,i=Ga(d)*c+u;break;case La.R:Ia(r=n=e[t++],o=i=e[t++],r+e[t++],o+e[t++],Ea,za);break;case La.Z:n=r,i=o}Gt(Ra,Ra,Ea),Wt(Na,Na,za)}return 0===t&&(Ra[0]=Ra[1]=Na[0]=Na[1]=0),new sr(Ra[0],Ra[1],Na[0]-Ra[0],Na[1]-Ra[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c\u003Ce;){var p=t[c++],d=1===c;d&&(a=r=t[c],s=o=t[c+1]);var f=-1;switch(p){case La.M:r=a=t[c++],o=s=t[c++];break;case La.L:var g=t[c++],y=(x=t[c++])-o;(Wa(A=g-r)>n||Wa(y)>i||c===e-1)&&(f=Math.sqrt(A*A+y*y),r=g,o=x);break;case La.C:var v=t[c++],m=t[c++],x=(g=t[c++],t[c++]),_=t[c++],b=t[c++];f=qe(r,o,v,m,g,x,_,b,10),r=_,o=b;break;case La.Q:f=en(r,o,v=t[c++],m=t[c++],g=t[c++],x=t[c++],10),r=g,o=x;break;case La.A:var w=t[c++],S=t[c++],M=t[c++],I=t[c++],T=t[c++],C=t[c++],D=C+T;c+=1;t[c++];d&&(a=Fa(T)*M+w,s=Ga(T)*I+S),f=Ba(M,I)*Va(Ya,Math.abs(C)),r=Fa(D)*M+w,o=Ga(D)*I+S;break;case La.R:a=r=t[c++],s=o=t[c++],f=2*t[c++]+2*t[c++];break;case La.Z:var A=a-r;y=s-o;f=Math.sqrt(A*A+y*y),r=a,o=s}f>=0&&(l[h++]=f,u+=f)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var n,i,r,o,a,s,l,u,h,c,p=this.data,d=this._ux,f=this._uy,g=this._len,y=e\u003C1,v=0,m=0,x=0;if(!y||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var _=0;_\u003Cg;){var b=p[_++],w=1===_;switch(w&&(n=r=p[_],i=o=p[_+1]),b!==La.L&&x>0&&(t.lineTo(h,c),x=0),b){case La.M:n=r=p[_++],i=o=p[_++],t.moveTo(r,o);break;case La.L:a=p[_++],s=p[_++];var S=Wa(a-r),M=Wa(s-o);if(S>d||M>f){if(y){if(v+(j=l[m++])>u){var I=(u-v)/j;t.lineTo(r*(1-I)+a*I,o*(1-I)+s*I);break t}v+=j}t.lineTo(a,s),r=a,o=s,x=0}else{var T=S*S+M*M;T>x&&(h=a,c=s,x=T)}break;case La.C:var C=p[_++],D=p[_++],A=p[_++],k=p[_++],L=p[_++],P=p[_++];if(y){if(v+(j=l[m++])>u){Ze(r,C,A,L,I=(u-v)/j,Pa),Ze(o,D,k,P,I,Oa),t.bezierCurveTo(Pa[1],Oa[1],Pa[2],Oa[2],Pa[3],Oa[3]);break t}v+=j}t.bezierCurveTo(C,D,A,k,L,P),r=L,o=P;break;case La.Q:C=p[_++],D=p[_++],A=p[_++],k=p[_++];if(y){if(v+(j=l[m++])>u){Qe(r,C,A,I=(u-v)/j,Pa),Qe(o,D,k,I,Oa),t.quadraticCurveTo(Pa[1],Oa[1],Pa[2],Oa[2]);break t}v+=j}t.quadraticCurveTo(C,D,A,k),r=A,o=k;break;case La.A:var O=p[_++],R=p[_++],N=p[_++],E=p[_++],z=p[_++],V=p[_++],B=p[_++],F=!p[_++],G=N>E?N:E,W=Wa(N-E)>.001,H=z+V,Y=!1;if(y)v+(j=l[m++])>u&&(H=z+V*(u-v)/j,Y=!0),v+=j;if(W&&t.ellipse?t.ellipse(O,R,N,E,B,z,H,F):t.arc(O,R,G,z,H,F),Y)break t;w&&(n=Fa(z)*N+O,i=Ga(z)*E+R),r=Fa(H)*N+O,o=Ga(H)*E+R;break;case La.R:n=r=p[_],i=o=p[_+1],a=p[_++],s=p[_++];var U=p[_++],X=p[_++];if(y){if(v+(j=l[m++])>u){var Z=u-v;t.moveTo(a,s),t.lineTo(a+Va(Z,U),s),(Z-=U)>0&&t.lineTo(a+U,s+Va(Z,X)),(Z-=X)>0&&t.lineTo(a+Ba(U-Z,0),s+X),(Z-=U)>0&&t.lineTo(a,s+Ba(X-Z,0));break t}v+=j}t.rect(a,s,U,X);break;case La.Z:if(y){var j;if(v+(j=l[m++])>u){I=(u-v)/j;t.lineTo(r*(1-I)+n*I,o*(1-I)+i*I);break t}v+=j}t.closePath(),r=n,o=i}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=La,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function Ka(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>i+s||a\u003Ce-s&&a\u003Ci-s||o>t+s&&o>n+s||o\u003Ct-s&&o\u003Cn-s)return!1;if(t===n)return Math.abs(o-t)\u003C=s/2;var u=(l=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return u*u/(l*l+1)\u003C=s/2*s/2}function $a(t,e,n,i,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>i+c&&h>o+c&&h>s+c||h\u003Ce-c&&h\u003Ci-c&&h\u003Co-c&&h\u003Cs-c||u>t+c&&u>n+c&&u>r+c&&u>a+c||u\u003Ct-c&&u\u003Cn-c&&u\u003Cr-c&&u\u003Ca-c)&&je(t,e,n,i,r,o,a,s,u,h,null)\u003C=c/2}function Ja(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>i+u&&l>o+u||l\u003Ce-u&&l\u003Ci-u&&l\u003Co-u||s>t+u&&s>n+u&&s>r+u||s\u003Ct-u&&s\u003Cn-u&&s\u003Cr-u)&&tn(t,e,n,i,r,o,s,l,null)\u003C=u/2}var Qa=2*Math.PI;function ts(t){return(t%=Qa)\u003C0&&(t+=Qa),t}var es=2*Math.PI;function ns(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u\u003Cn)return!1;if(Math.abs(i-r)%es\u003C1e-4)return!0;if(o){var c=i;i=ts(r),r=ts(c)}else i=ts(i),r=ts(r);i>r&&(r+=es);var p=Math.atan2(l,s);return p\u003C0&&(p+=es),p>=i&&p\u003C=r||p+es>=i&&p+es\u003C=r}function is(t,e,n,i,r,o){if(o>e&&o>i||o\u003Ce&&o\u003Ci)return 0;if(i===e)return 0;var a=(o-e)/(i-e),s=i\u003Ce?1:-1;1!==a&&0!==a||(s=i\u003Ce?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var rs=qa.CMD,os=2*Math.PI;var as=[-1,-1,-1],ss=[-1,-1];function ls(t,e,n,i,r,o,a,s,l,u){if(u>e&&u>i&&u>o&&u>s||u\u003Ce&&u\u003Ci&&u\u003Co&&u\u003Cs)return 0;var h,c=Ue(e,i,o,s,u,as);if(0===c)return 0;for(var p=0,d=-1,f=void 0,g=void 0,y=0;y\u003Cc;y++){var v=as[y],m=0===v||1===v?.5:1;He(t,n,r,a,v)\u003Cl||(d\u003C0&&(d=Xe(e,i,o,s,ss),ss[1]\u003Css[0]&&d>1&&(h=void 0,h=ss[0],ss[0]=ss[1],ss[1]=h),f=He(e,i,o,s,ss[0]),d>1&&(g=He(e,i,o,s,ss[1]))),2===d?v\u003Css[0]?p+=f\u003Ce?m:-m:v\u003Css[1]?p+=g\u003Cf?m:-m:p+=s\u003Cg?m:-m:v\u003Css[0]?p+=f\u003Ce?m:-m:p+=s\u003Cf?m:-m)}return p}function us(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s\u003Ce&&s\u003Ci&&s\u003Co)return 0;var l=function(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(Ge(o))We(a)&&(h=-s/a)>=0&&h\u003C=1&&(r[l++]=h);else{var u=a*a-4*o*s;if(Ge(u))(h=-a/(2*o))>=0&&h\u003C=1&&(r[l++]=h);else if(u>0){var h,c=Oe(u),p=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h\u003C=1&&(r[l++]=h),p>=0&&p\u003C=1&&(r[l++]=p)}}return l}(e,i,o,s,as);if(0===l)return 0;var u=Je(e,i,o);if(u>=0&&u\u003C=1){for(var h=0,c=Ke(e,i,o,u),p=0;p\u003Cl;p++){var d=0===as[p]||1===as[p]?.5:1;Ke(t,n,r,as[p])\u003Ca||(as[p]\u003Cu?h+=c\u003Ce?d:-d:h+=o\u003Cc?d:-d)}return h}d=0===as[0]||1===as[0]?.5:1;return Ke(t,n,r,as[0])\u003Ca?0:o\u003Ce?d:-d}function hs(t,e,n,i,r,o,a,s){if((s-=e)>n||s\u003C-n)return 0;var l=Math.sqrt(n*n-s*s);as[0]=-l,as[1]=l;var u=Math.abs(i-r);if(u\u003C1e-4)return 0;if(u>=os-1e-4){i=0,r=os;var h=o?1:-1;return a>=as[0]+t&&a\u003C=as[1]+t?h:0}if(i>r){var c=i;i=r,r=c}i\u003C0&&(i+=os,r+=os);for(var p=0,d=0;d\u003C2;d++){var f=as[d];if(f+t>a){var g=Math.atan2(s,f);h=o?1:-1;g\u003C0&&(g=os+g),(g>=i&&g\u003C=r||g+os>=i&&g+os\u003C=r)&&(g>Math.PI/2&&g\u003C1.5*Math.PI&&(h=-h),p+=h)}}return p}function cs(t,e,n,i,r){for(var o,a,s,l,u=t.data,h=t.len(),c=0,p=0,d=0,f=0,g=0,y=0;y\u003Ch;){var v=u[y++],m=1===y;switch(v===rs.M&&y>1&&(n||(c+=is(p,d,f,g,i,r))),m&&(f=p=u[y],g=d=u[y+1]),v){case rs.M:p=f=u[y++],d=g=u[y++];break;case rs.L:if(n){if(Ka(p,d,u[y],u[y+1],e,i,r))return!0}else c+=is(p,d,u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case rs.C:if(n){if($a(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],e,i,r))return!0}else c+=ls(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case rs.Q:if(n){if(Ja(p,d,u[y++],u[y++],u[y],u[y+1],e,i,r))return!0}else c+=us(p,d,u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],d=u[y++];break;case rs.A:var x=u[y++],_=u[y++],b=u[y++],w=u[y++],S=u[y++],M=u[y++];y+=1;var I=!!(1-u[y++]);o=Math.cos(S)*b+x,a=Math.sin(S)*w+_,m?(f=o,g=a):c+=is(p,d,o,a,i,r);var T=(i-x)*w/b+x;if(n){if(ns(x,_,w,S,S+M,I,e,T,r))return!0}else c+=hs(x,_,w,S,S+M,I,T,r);p=Math.cos(S+M)*b+x,d=Math.sin(S+M)*w+_;break;case rs.R:if(f=p=u[y++],g=d=u[y++],o=f+u[y++],a=g+u[y++],n){if(Ka(f,g,o,g,e,i,r)||Ka(o,g,o,a,e,i,r)||Ka(o,a,f,a,e,i,r)||Ka(f,a,f,g,e,i,r))return!0}else c+=is(o,g,o,a,i,r),c+=is(f,a,f,g,i,r);break;case rs.Z:if(n){if(Ka(p,d,f,g,e,i,r))return!0}else c+=is(p,d,f,g,i,r);p=f,d=g}}return n||(s=d,l=g,Math.abs(s-l)\u003C1e-4)||(c+=is(p,d,f,g,i,r)||0),0!==c}var ps=k({fill:\\\"#000\\\",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:\\\"butt\\\",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ua),ds={style:k({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},ha.style)},fs=Ki.concat([\\\"invisible\\\",\\\"culling\\\",\\\"z\\\",\\\"z2\\\",\\\"zlevel\\\",\\\"parent\\\"]),gs=function(t){function e(e){return t.call(this,e)||this}var i;return n(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){n.buildPath(t,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s\u003Cfs.length;++s)r[fs[s]]=this[fs[s]];r.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=G(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r\u003Cn.length;r++){var o=n[r],a=e[o];\\\"style\\\"===o?this.style?A(this.style,a):this.useStyle(a):\\\"shape\\\"===o?A(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(\\\"none\\\"!==t){if(X(t)){var e=Ln(t,0);return e>.5?ki:e>.2?\\\"#eee\\\":Li}if(t)return Li}return ki},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(X(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===Ln(t,0)\u003C.4)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new qa(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||\\\"none\\\"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&\\\"none\\\"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||4&this.__dirty)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,i){return cs(t,e,!0,n,i)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return cs(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate(\\\"shape\\\",t)},e.prototype.updateDuringAnimation=function(t){\\\"style\\\"===t?this.dirtyStyle():\\\"shape\\\"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){\\\"shape\\\"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),\\\"string\\\"==typeof t?n[t]=e:A(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(t){return yt(ps,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=A({},this.shape))},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=A({},i.shape),A(s,n.shape)):(s=A({},r?this.shape:i.shape),A(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=A({},this.shape);for(var u={},h=G(s),c=0;c\u003Ch.length;c++){var p=h[c];\\\"object\\\"==typeof s[p]?this.shape[p]=s[p]:u[p]=s[p]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r\u003Ce.length;r++){var o=e[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return ds},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(n){var i=e.call(this,n)||this;return t.init&&t.init.call(i,n),i}return n(i,e),i.prototype.getDefaultStyle=function(){return T(t.style)},i.prototype.getDefaultShape=function(){return T(t.shape)},i}(e);for(var r in t)\\\"function\\\"==typeof t[r]&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=((i=e.prototype).type=\\\"path\\\",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.__dirty=7)),e}(da),ys=k({strokeFirst:!0,font:a,x:0,y:0,textAlign:\\\"left\\\",textBaseline:\\\"top\\\",miterLimit:2},ps),vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&\\\"none\\\"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&\\\"none\\\"!==t},e.prototype.createStyle=function(t){return yt(ys,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+=\\\"\\\":e=\\\"\\\";var n=cr(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(da);vs.prototype.type=\\\"tspan\\\";var ms=k({x:0,y:0},ua),xs={style:k({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},ha.style)};var _s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.createStyle=function(t){return yt(ms,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var i,r=(i=e.image)&&\\\"string\\\"!=typeof i&&i.width&&i.height?e.image:this.__image;if(!r)return 0;var o=\\\"width\\\"===t?\\\"height\\\":\\\"width\\\",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize(\\\"width\\\")},e.prototype.getHeight=function(){return this._getSize(\\\"height\\\")},e.prototype.getAnimationStyleProps=function(){return xs},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new sr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(da);_s.prototype.type=\\\"image\\\";var bs=Math.round;function ws(t,e,n){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=i,t.x2=r,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(bs(2*i)===bs(2*r)&&(t.x1=t.x2=Ms(i,s,!0)),bs(2*o)===bs(2*a)&&(t.y1=t.y2=Ms(o,s,!0)),t):t}}function Ss(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;t.x=i,t.y=r,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=Ms(i,s,!0),t.y=Ms(r,s,!0),t.width=Math.max(Ms(i+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(Ms(r+a,s,!1)-t.y,0===a?0:1),t):t}}function Ms(t,e,n){if(!e)return t;var i=bs(2*t);return(i+bs(e))%2==0?i/2:(i+(n?1:-1))/2}var Is=function(){this.x=0,this.y=0,this.width=0,this.height=0},Ts={},Cs=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Is},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=Ss(Ts,e,this.style);n=a.x,i=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,i=e.y,r=e.width,o=e.height;e.r?function(t,e){var n,i,r,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u\u003C0&&(s+=u,u=-u),h\u003C0&&(l+=h,h=-h),\\\"number\\\"==typeof c?n=i=r=o=c:c instanceof Array?1===c.length?n=i=r=o=c[0]:2===c.length?(n=r=c[0],i=o=c[1]):3===c.length?(n=c[0],i=o=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],o=c[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>h&&(i*=h/(a=i+r),r*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+h-r),0!==r&&t.arc(s+u-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,i,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(gs);Cs.prototype.type=\\\"rect\\\";var Ds={fill:\\\"#000\\\"},As={style:k({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},ha.style)},ks=function(t){function e(e){var n=t.call(this)||this;return n.type=\\\"text\\\",n._children=[],n._defaultStyle=Ds,n.attr(e),n}return n(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e\u003Cthis._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,zs(t=this.style),E(t.rich,zs),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n\u003Cthis._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n\u003Cthis._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new sr(0,0,0,0),e=this._children,n=[],i=null,r=0;r\u003Ce.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Ds},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return A(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,e){for(var n=G(e),i=0;i\u003Cn.length;i++){var r=n[i];t[r]=t[r]||{},A(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return As},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||a,n=t.padding,i=function(t,e){null!=t&&(t+=\\\"\\\");var n,i=e.overflow,r=e.padding,o=e.font,a=\\\"truncate\\\"===i,s=fr(o),l=rt(e.lineHeight,s),u=!!e.backgroundColor,h=\\\"truncate\\\"===e.lineOverflow,c=e.width,p=(n=null==c||\\\"break\\\"!==i&&\\\"breakAll\\\"!==i?t?t.split(\\\"\\\\n\\\"):[]:t?sa(t,e.font,c,\\\"breakAll\\\"===i,0).lines:[]).length*l,d=rt(e.height,p);if(p>d&&h){var f=Math.floor(d/l);n=n.slice(0,f)}if(t&&a&&null!=c)for(var g=Jo(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y=0;y\u003Cn.length;y++)n[y]=Qo(n[y],g);var v=d,m=0;for(y=0;y\u003Cn.length;y++)m=Math.max(ur(n[y],o),m);null==c&&(c=m);var x=m;return r&&(v+=r[0]+r[2],x+=r[1]+r[3],c+=r[1]+r[3]),u&&(x=c),{lines:n,height:d,outerWidth:x,outerHeight:v,lineHeight:l,calculatedLineHeight:s,contentWidth:m,contentHeight:p,width:c}}(Gs(t),t),r=Ws(t),o=!!t.backgroundColor,s=i.outerHeight,l=i.outerWidth,u=i.contentWidth,h=i.lines,c=i.lineHeight,p=this._defaultStyle,d=t.x||0,f=t.y||0,g=t.align||p.align||\\\"left\\\",y=t.verticalAlign||p.verticalAlign||\\\"top\\\",v=d,m=dr(f,i.contentHeight,y);if(r||n){var x=pr(d,l,g),_=dr(f,s,y);r&&this._renderBackground(t,t,x,_,l,s)}m+=c/2,n&&(v=Fs(d,g,n),\\\"top\\\"===y?m+=n[0]:\\\"bottom\\\"===y&&(m-=n[2]));for(var b=0,w=!1,S=(Bs(\\\"fill\\\"in t?t.fill:(w=!0,p.fill))),M=(Vs(\\\"stroke\\\"in t?t.stroke:o||p.autoStroke&&!w?null:(b=2,p.stroke))),I=t.textShadowBlur>0,T=null!=t.width&&(\\\"truncate\\\"===t.overflow||\\\"break\\\"===t.overflow||\\\"breakAll\\\"===t.overflow),C=i.calculatedLineHeight,D=0;D\u003Ch.length;D++){var A=this._getOrCreateChild(vs),k=A.createStyle();A.useStyle(k),k.text=h[D],k.x=v,k.y=m,g&&(k.textAlign=g),k.textBaseline=\\\"middle\\\",k.opacity=t.opacity,k.strokeFirst=!0,I&&(k.shadowBlur=t.textShadowBlur||0,k.shadowColor=t.textShadowColor||\\\"transparent\\\",k.shadowOffsetX=t.textShadowOffsetX||0,k.shadowOffsetY=t.textShadowOffsetY||0),k.stroke=M,k.fill=S,M&&(k.lineWidth=t.lineWidth||b,k.lineDash=t.lineDash,k.lineDashOffset=t.lineDashOffset||0),k.font=e,Ns(k,t),m+=c,T&&A.setBoundingRect(new sr(pr(k.x,t.width,k.textAlign),dr(k.y,C,k.textBaseline),u,C))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new ia;if(null!=t&&(t+=\\\"\\\"),!t)return n;for(var i,r=e.width,o=e.height,a=e.overflow,s=\\\"break\\\"!==a&&\\\"breakAll\\\"!==a||null==r?null:{width:r,accumWidth:0,breakAll:\\\"breakAll\\\"===a},l=Ko.lastIndex=0;null!=(i=Ko.exec(t));){var u=i.index;u>l&&ra(n,t.substring(l,u),e,s),ra(n,i[2],e,s,i[1]),l=Ko.lastIndex}l\u003Ct.length&&ra(n,t.substring(l,t.length),e,s);var h=[],c=0,p=0,d=e.padding,f=\\\"truncate\\\"===a,g=\\\"truncate\\\"===e.lineOverflow;function y(t,e,n){t.width=e,t.lineHeight=n,c+=n,p=Math.max(p,e)}t:for(var v=0;v\u003Cn.lines.length;v++){for(var m=n.lines[v],x=0,_=0,b=0;b\u003Cm.tokens.length;b++){var w=(P=m.tokens[b]).styleName&&e.rich[P.styleName]||{},S=P.textPadding=w.padding,M=S?S[1]+S[3]:0,I=P.font=w.font||e.font;P.contentHeight=fr(I);var T=rt(w.height,P.contentHeight);if(P.innerHeight=T,S&&(T+=S[0]+S[2]),P.height=T,P.lineHeight=ot(w.lineHeight,e.lineHeight,T),P.align=w&&w.align||e.align,P.verticalAlign=w&&w.verticalAlign||\\\"middle\\\",g&&null!=o&&c+P.lineHeight>o){b>0?(m.tokens=m.tokens.slice(0,b),y(m,_,x),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break t}var C=w.width,D=null==C||\\\"auto\\\"===C;if(\\\"string\\\"==typeof C&&\\\"%\\\"===C.charAt(C.length-1))P.percentWidth=C,h.push(P),P.contentWidth=ur(P.text,I);else{if(D){var A=w.backgroundColor,k=A&&A.image;k&&qo(k=Xo(k))&&(P.width=Math.max(P.width,k.width*T/k.height))}var L=f&&null!=r?r-_:null;null!=L&&L\u003CP.width?!D||L\u003CM?(P.text=\\\"\\\",P.width=P.contentWidth=0):(P.text=$o(P.text,L-M,I,e.ellipsis,{minChar:e.truncateMinChar}),P.width=P.contentWidth=ur(P.text,I)):P.contentWidth=ur(P.text,I)}P.width+=M,_+=P.width,w&&(x=Math.max(x,P.lineHeight))}y(m,_,x)}for(n.outerWidth=n.width=rt(r,p),n.outerHeight=n.height=rt(o,c),n.contentHeight=c,n.contentWidth=p,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),v=0;v\u003Ch.length;v++){var P,O=(P=h[v]).percentWidth;P.width=parseInt(O,10)/100*n.width}return n}(Gs(t),t),n=e.width,i=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,h=t.verticalAlign||l.verticalAlign,c=pr(a,i,u),p=dr(s,r,h),d=c,f=p;o&&(d+=o[3],f+=o[0]);var g=d+n;Ws(t)&&this._renderBackground(t,t,c,p,i,r);for(var y=!!t.backgroundColor,v=0;v\u003Ce.lines.length;v++){for(var m=e.lines[v],x=m.tokens,_=x.length,b=m.lineHeight,w=m.width,S=0,M=d,I=g,T=_-1,C=void 0;S\u003C_&&(!(C=x[S]).align||\\\"left\\\"===C.align);)this._placeToken(C,t,b,f,M,\\\"left\\\",y),w-=C.width,M+=C.width,S++;for(;T>=0&&\\\"right\\\"===(C=x[T]).align;)this._placeToken(C,t,b,f,I,\\\"right\\\",y),w-=C.width,I-=C.width,T--;for(M+=(n-(M-d)-(g-I)-w)/2;S\u003C=T;)C=x[S],this._placeToken(C,t,b,f,M+C.width/2,\\\"center\\\",y),M+=C.width,S++;f+=b}},e.prototype._placeToken=function(t,e,n,i,r,o,s){var l=e.rich[t.styleName]||{};l.text=t.text;var u=t.verticalAlign,h=i+n/2;\\\"top\\\"===u?h=i+t.height/2:\\\"bottom\\\"===u&&(h=i+n-t.height/2),!t.isLineHolder&&Ws(l)&&this._renderBackground(l,e,\\\"right\\\"===o?r-t.width:\\\"center\\\"===o?r-t.width/2:r,h-t.height/2,t.width,t.height);var c=!!l.backgroundColor,p=t.textPadding;p&&(r=Fs(r,o,p),h-=t.height/2-p[0]-t.innerHeight/2);var d=this._getOrCreateChild(vs),f=d.createStyle();d.useStyle(f);var g=this._defaultStyle,y=!1,v=0,m=Bs(\\\"fill\\\"in l?l.fill:\\\"fill\\\"in e?e.fill:(y=!0,g.fill)),x=Vs(\\\"stroke\\\"in l?l.stroke:\\\"stroke\\\"in e?e.stroke:c||s||g.autoStroke&&!y?null:(v=2,g.stroke)),_=l.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=r,f.y=h,_&&(f.shadowBlur=l.textShadowBlur||e.textShadowBlur||0,f.shadowColor=l.textShadowColor||e.textShadowColor||\\\"transparent\\\",f.shadowOffsetX=l.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=l.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=o,f.textBaseline=\\\"middle\\\",f.font=t.font||a,f.opacity=ot(l.opacity,e.opacity,1),Ns(f,l),x&&(f.lineWidth=ot(l.lineWidth,e.lineWidth,v),f.lineDash=rt(l.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=x),m&&(f.fill=m);var b=t.contentWidth,w=t.contentHeight;d.setBoundingRect(new sr(pr(f.x,b,f.textAlign),dr(f.y,w,f.textBaseline),b,w))},e.prototype._renderBackground=function(t,e,n,i,r,o){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,p=u&&u.image,d=u&&!p,f=t.borderRadius,g=this;if(d||t.lineHeight||h&&c){(a=this._getOrCreateChild(Cs)).useStyle(a.createStyle()),a.style.fill=null;var y=a.shape;y.x=n,y.y=i,y.width=r,y.height=o,y.r=f,a.dirtyShape()}if(d)(l=a.style).fill=u||null,l.fillOpacity=rt(t.fillOpacity,1);else if(p){(s=this._getOrCreateChild(_s)).onload=function(){g.dirtyStyle()};var v=s.style;v.image=u.image,v.x=n,v.y=i,v.width=r,v.height=o}h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=rt(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var m=(a||s).style;m.shadowBlur=t.shadowBlur||0,m.shadowColor=t.shadowColor||\\\"transparent\\\",m.shadowOffsetX=t.shadowOffsetX||0,m.shadowOffsetY=t.shadowOffsetY||0,m.opacity=ot(t.opacity,e.opacity,1)},e.makeFont=function(t){var e=\\\"\\\";return Es(t)&&(e=[t.fontStyle,t.fontWeight,Rs(t.fontSize),t.fontFamily||\\\"sans-serif\\\"].join(\\\" \\\")),e&&ut(e)||t.textFont||t.font},e}(da),Ls={left:!0,right:1,center:1},Ps={top:1,bottom:1,middle:1},Os=[\\\"fontStyle\\\",\\\"fontWeight\\\",\\\"fontSize\\\",\\\"fontFamily\\\"];function Rs(t){return\\\"string\\\"!=typeof t||-1===t.indexOf(\\\"px\\\")&&-1===t.indexOf(\\\"rem\\\")&&-1===t.indexOf(\\\"em\\\")?isNaN(+t)?\\\"12px\\\":t+\\\"px\\\":t}function Ns(t,e){for(var n=0;n\u003COs.length;n++){var i=Os[n],r=e[i];null!=r&&(t[i]=r)}}function Es(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function zs(t){if(t){t.font=ks.makeFont(t);var e=t.align;\\\"middle\\\"===e&&(e=\\\"center\\\"),t.align=null==e||Ls[e]?e:\\\"left\\\";var n=t.verticalAlign;\\\"center\\\"===n&&(n=\\\"middle\\\"),t.verticalAlign=null==n||Ps[n]?n:\\\"top\\\",t.padding&&(t.padding=st(t.padding))}}function Vs(t,e){return null==t||e\u003C=0||\\\"transparent\\\"===t||\\\"none\\\"===t?null:t.image||t.colorStops?\\\"#000\\\":t}function Bs(t){return null==t||\\\"none\\\"===t?null:t.image||t.colorStops?\\\"#000\\\":t}function Fs(t,e,n){return\\\"right\\\"===e?t-n[1]:\\\"center\\\"===e?t+n[3]/2-n[1]/2:t+n[3]}function Gs(t){var e=t.text;return null!=e&&(e+=\\\"\\\"),e}function Ws(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Hs=So(),Ys=function(t,e,n,i){if(i){var r=Hs(i);r.dataIndex=n,r.dataType=e,r.seriesIndex=t,\\\"group\\\"===i.type&&i.traverse((function(i){var r=Hs(i);r.seriesIndex=t,r.dataIndex=n,r.dataType=e}))}},Us=1,Xs={},Zs=So(),js=So(),qs=[\\\"emphasis\\\",\\\"blur\\\",\\\"select\\\"],Ks=[\\\"normal\\\",\\\"emphasis\\\",\\\"blur\\\",\\\"select\\\"],$s=10,Js=\\\"highlight\\\",Qs=\\\"downplay\\\",tl=\\\"select\\\",el=\\\"unselect\\\",nl=\\\"toggleSelect\\\";function il(t){return null!=t&&\\\"none\\\"!==t}var rl=new ln(100);function ol(t){if(X(t)){var e=rl.get(t);return e||(e=Sn(t,-.1),rl.put(t,e)),e}if(Q(t)){var n=A({},t);return n.colorStops=z(t.colorStops,(function(t){return{offset:t.offset,color:Sn(t.color,-.1)}})),n}return t}function al(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function sl(t){al(t,\\\"emphasis\\\",2)}function ll(t){2===t.hoverState&&al(t,\\\"normal\\\",0)}function ul(t){al(t,\\\"blur\\\",1)}function hl(t){1===t.hoverState&&al(t,\\\"normal\\\",0)}function cl(t){t.selected=!0}function pl(t){t.selected=!1}function dl(t,e,n){e(t,n)}function fl(t,e,n){dl(t,e,n),t.isGroup&&t.traverse((function(t){dl(t,e,n)}))}function gl(t,e){switch(e){case\\\"emphasis\\\":t.hoverState=2;break;case\\\"normal\\\":t.hoverState=0;break;case\\\"blur\\\":t.hoverState=1;break;case\\\"select\\\":t.selected=!0}}function yl(t,e){var n=this.states[t];if(this.style){if(\\\"emphasis\\\"===t)return function(t,e,n,i){var r=n&&P(n,\\\"select\\\")>=0,o=!1;if(t instanceof gs){var a=Zs(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(il(s)||il(l)){var u=(i=i||{}).style||{};\\\"inherit\\\"===u.fill?(o=!0,i=A({},i),(u=A({},u)).fill=s):!il(u.fill)&&il(s)?(o=!0,i=A({},i),(u=A({},u)).fill=ol(s)):!il(u.stroke)&&il(l)&&(o||(i=A({},i),u=A({},u)),u.stroke=ol(l)),i.style=u}}if(i&&null==i.z2){o||(i=A({},i));var h=t.z2EmphasisLift;i.z2=t.z2+(null!=h?h:$s)}return i}(this,0,e,n);if(\\\"blur\\\"===t)return function(t,e,n){var i=P(t.currentStates,e)>=0,r=t.style.opacity,o=i?null:function(t,e,n,i){for(var r=t.style,o={},a=0;a\u003Ce.length;a++){var s=e[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a\u003Ct.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)\u003C0&&\\\"style\\\"===u.targetName&&u.saveTo(o,e)}return o}(t,[\\\"opacity\\\"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=A({},n),a=A({opacity:i?r:.1*o.opacity},a),n.style=a),n}(this,t,n);if(\\\"select\\\"===t)return function(t,e,n){if(n&&null==n.z2){n=A({},n);var i=t.z2SelectLift;n.z2=t.z2+(null!=i?i:9)}return n}(this,0,n)}return n}function vl(t){t.stateProxy=yl;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=yl),n&&(n.stateProxy=yl)}function ml(t,e){!Tl(t,e)&&!t.__highByOuter&&fl(t,sl)}function xl(t,e){!Tl(t,e)&&!t.__highByOuter&&fl(t,ll)}function _l(t,e){t.__highByOuter|=1\u003C\u003C(e||0),fl(t,sl)}function bl(t,e){!(t.__highByOuter&=~(1\u003C\u003C(e||0)))&&fl(t,ll)}function wl(t){fl(t,ul)}function Sl(t){fl(t,hl)}function Ml(t){fl(t,cl)}function Il(t){fl(t,pl)}function Tl(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Cl(t){var e=t.getModel(),n=[],i=[];e.eachComponent((function(e,r){var o=js(r),a=\\\"series\\\"===e,s=a?t.getViewOfSeriesModel(r):t.getViewOfComponentModel(r);!a&&i.push(s),o.isBlured&&(s.group.traverse((function(t){hl(t)})),a&&n.push(r)),o.isBlured=!1})),E(i,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)}))}function Dl(t,e,n,i){var r=i.getModel();function o(t,e){for(var n=0;n\u003Ce.length;n++){var i=t.getItemGraphicEl(e[n]);i&&Sl(i)}}if(n=n||\\\"coordinateSystem\\\",null!=t&&e&&\\\"none\\\"!==e){var a=r.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries((function(t){var r=a===t,u=t.coordinateSystem;if(u&&u.master&&(u=u.master),!(\\\"series\\\"===n&&!r||\\\"coordinateSystem\\\"===n&&!(u&&s?u===s:r)||\\\"series\\\"===e&&r)){if(i.getViewOfSeriesModel(t).group.traverse((function(t){ul(t)})),N(e))o(t.getData(),e);else if(q(e))for(var h=G(e),c=0;c\u003Ch.length;c++)o(t.getData(h[c]),e[h[c]]);l.push(t),js(t).isBlured=!0}})),r.eachComponent((function(t,e){if(\\\"series\\\"!==t){var n=i.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,r)}}))}}function Al(t,e,n){if(null!=t&&null!=e){var i=n.getModel().getComponent(t,e);if(i){js(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse((function(t){ul(t)}))}}}function kl(t,e,n,i){var r={focusSelf:!1,dispatchers:null};if(null==t||\\\"series\\\"===t||null==e||null==n)return r;var o=i.getModel().getComponent(t,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(n),u=0;u\u003Cl.length;u++)if(\\\"self\\\"===Hs(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function Ll(t){E(t.getAllData(),(function(e){var n=e.data,i=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,i)?Ml(e):Il(e)}))}))}function Pl(t){var e=[];return t.eachSeries((function(t){E(t.getAllData(),(function(n){n.data;var i=n.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=i&&(o.dataType=i),e.push(o)}}))})),e}function Ol(t,e,n){Bl(t,!0),fl(t,vl),Nl(t,e,n)}function Rl(t,e,n,i){i?function(t){Bl(t,!1)}(t):Ol(t,e,n)}function Nl(t,e,n){var i=Hs(t);null!=e?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}var El=[\\\"emphasis\\\",\\\"blur\\\",\\\"select\\\"],zl={itemStyle:\\\"getItemStyle\\\",lineStyle:\\\"getLineStyle\\\",areaStyle:\\\"getAreaStyle\\\"};function Vl(t,e,n,i){n=n||\\\"itemStyle\\\";for(var r=0;r\u003CEl.length;r++){var o=El[r],a=e.getModel([o,n]);t.ensureState(o).style=i?i(a):a[zl[n]]()}}function Bl(t,e){var n=!1===e,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function Fl(t){return!(!t||!t.__highDownDispatcher)}function Gl(t){var e=t.type;return e===tl||e===el||e===nl}function Wl(t){var e=t.type;return e===Js||e===Qs}var Hl=qa.CMD,Yl=[[],[],[]],Ul=Math.sqrt,Xl=Math.atan2;function Zl(t,e){if(e){var n,i,r,o,a,s,l=t.data,u=t.len(),h=Hl.M,c=Hl.C,p=Hl.L,d=Hl.R,f=Hl.A,g=Hl.Q;for(r=0,o=0;r\u003Cu;){switch(n=l[r++],o=r,i=0,n){case h:case p:i=1;break;case c:i=3;break;case g:i=2;break;case f:var y=e[4],v=e[5],m=Ul(e[0]*e[0]+e[1]*e[1]),x=Ul(e[2]*e[2]+e[3]*e[3]),_=Xl(-e[1]/x,e[0]/m);l[r]*=m,l[r++]+=y,l[r]*=x,l[r++]+=v,l[r++]*=m,l[r++]*=x,l[r++]+=_,l[r++]+=_,o=r+=2;break;case d:s[0]=l[r++],s[1]=l[r++],Ft(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],Ft(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a\u003Ci;a++){var b=Yl[a];b[0]=l[r++],b[1]=l[r++],Ft(b,b,e),l[o++]=b[0],l[o++]=b[1]}}t.increaseVersion()}}var jl=Math.sqrt,ql=Math.sin,Kl=Math.cos,$l=Math.PI;function Jl(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ql(t,e){return(t[0]*e[0]+t[1]*e[1])/(Jl(t)*Jl(e))}function tu(t,e){return(t[0]*e[1]\u003Ct[1]*e[0]?-1:1)*Math.acos(Ql(t,e))}function eu(t,e,n,i,r,o,a,s,l,u,h){var c=l*($l/180),p=Kl(c)*(t-n)/2+ql(c)*(e-i)/2,d=-1*ql(c)*(t-n)/2+Kl(c)*(e-i)/2,f=p*p/(a*a)+d*d/(s*s);f>1&&(a*=jl(f),s*=jl(f));var g=(r===o?-1:1)*jl((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,y=g*a*d/s,v=g*-s*p/a,m=(t+n)/2+Kl(c)*y-ql(c)*v,x=(e+i)/2+ql(c)*y+Kl(c)*v,_=tu([1,0],[(p-y)/a,(d-v)/s]),b=[(p-y)/a,(d-v)/s],w=[(-1*p-y)/a,(-1*d-v)/s],S=tu(b,w);if(Ql(b,w)\u003C=-1&&(S=$l),Ql(b,w)>=1&&(S=0),S\u003C0){var M=Math.round(S/$l*1e6)/1e6;S=2*$l+M%2*$l}h.addData(u,m,x,a,s,_,S,c,o)}var nu=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,iu=/-?([0-9]*\\\\.)?[0-9]+([eE]-?[0-9]+)?/g;var ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.applyTransform=function(t){},e}(gs);function ou(t){return null!=t.setData}function au(t,e){var n=function(t){var e=new qa;if(!t)return e;var n,i=0,r=0,o=i,a=r,s=qa.CMD,l=t.match(nu);if(!l)return e;for(var u=0;u\u003Cl.length;u++){for(var h=l[u],c=h.charAt(0),p=void 0,d=h.match(iu)||[],f=d.length,g=0;g\u003Cf;g++)d[g]=parseFloat(d[g]);for(var y=0;y\u003Cf;){var v=void 0,m=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,M=i,I=r,T=void 0,C=void 0;switch(c){case\\\"l\\\":i+=d[y++],r+=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"L\\\":i=d[y++],r=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"m\\\":i+=d[y++],r+=d[y++],p=s.M,e.addData(p,i,r),o=i,a=r,c=\\\"l\\\";break;case\\\"M\\\":i=d[y++],r=d[y++],p=s.M,e.addData(p,i,r),o=i,a=r,c=\\\"L\\\";break;case\\\"h\\\":i+=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"H\\\":i=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"v\\\":r+=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"V\\\":r=d[y++],p=s.L,e.addData(p,i,r);break;case\\\"C\\\":p=s.C,e.addData(p,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),i=d[y-2],r=d[y-1];break;case\\\"c\\\":p=s.C,e.addData(p,d[y++]+i,d[y++]+r,d[y++]+i,d[y++]+r,d[y++]+i,d[y++]+r),i+=d[y-2],r+=d[y-1];break;case\\\"S\\\":v=i,m=r,T=e.len(),C=e.data,n===s.C&&(v+=i-C[T-4],m+=r-C[T-3]),p=s.C,M=d[y++],I=d[y++],i=d[y++],r=d[y++],e.addData(p,v,m,M,I,i,r);break;case\\\"s\\\":v=i,m=r,T=e.len(),C=e.data,n===s.C&&(v+=i-C[T-4],m+=r-C[T-3]),p=s.C,M=i+d[y++],I=r+d[y++],i+=d[y++],r+=d[y++],e.addData(p,v,m,M,I,i,r);break;case\\\"Q\\\":M=d[y++],I=d[y++],i=d[y++],r=d[y++],p=s.Q,e.addData(p,M,I,i,r);break;case\\\"q\\\":M=d[y++]+i,I=d[y++]+r,i+=d[y++],r+=d[y++],p=s.Q,e.addData(p,M,I,i,r);break;case\\\"T\\\":v=i,m=r,T=e.len(),C=e.data,n===s.Q&&(v+=i-C[T-4],m+=r-C[T-3]),i=d[y++],r=d[y++],p=s.Q,e.addData(p,v,m,i,r);break;case\\\"t\\\":v=i,m=r,T=e.len(),C=e.data,n===s.Q&&(v+=i-C[T-4],m+=r-C[T-3]),i+=d[y++],r+=d[y++],p=s.Q,e.addData(p,v,m,i,r);break;case\\\"A\\\":x=d[y++],_=d[y++],b=d[y++],w=d[y++],S=d[y++],eu(M=i,I=r,i=d[y++],r=d[y++],w,S,x,_,b,p=s.A,e);break;case\\\"a\\\":x=d[y++],_=d[y++],b=d[y++],w=d[y++],S=d[y++],eu(M=i,I=r,i+=d[y++],r+=d[y++],w,S,x,_,b,p=s.A,e)}}\\\"z\\\"!==c&&\\\"Z\\\"!==c||(p=s.Z,e.addData(p),i=o,r=a),n=p}return e.toStatic(),e}(t),i=A({},e);return i.buildPath=function(t){if(ou(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},i.applyTransform=function(t){Zl(n,t),this.dirtyShape()},i}function su(t,e){return new ru(au(t,e))}function lu(t,e){e=e||{};var n=new gs;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?Zl(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var uu=function(){this.cx=0,this.cy=0,this.r=0},hu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new uu},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(gs);hu.prototype.type=\\\"circle\\\";var cu=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},pu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new cu},e.prototype.buildPath=function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()},e}(gs);pu.prototype.type=\\\"ellipse\\\";var du=Math.PI,fu=2*du,gu=Math.sin,yu=Math.cos,vu=Math.acos,mu=Math.atan2,xu=Math.abs,_u=Math.sqrt,bu=Math.max,wu=Math.min,Su=1e-4;function Mu(t,e,n,i,r,o,a){var s=t-n,l=e-i,u=(a?o:-o)/_u(s*s+l*l),h=u*l,c=-u*s,p=t+h,d=e+c,f=n+h,g=i+c,y=(p+f)/2,v=(d+g)/2,m=f-p,x=g-d,_=m*m+x*x,b=r-o,w=p*g-f*d,S=(x\u003C0?-1:1)*_u(bu(0,b*b*_-w*w)),M=(w*x-m*S)/_,I=(-w*m-x*S)/_,T=(w*x+m*S)/_,C=(-w*m+x*S)/_,D=M-y,A=I-v,k=T-y,L=C-v;return D*D+A*A>k*k+L*L&&(M=T,I=C),{cx:M,cy:I,x0:-h,y0:-c,x1:M*(r/b-1),y1:I*(r/b-1)}}function Iu(t,e){var n,i=bu(e.r,0),r=bu(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var s=e.startAngle,l=e.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=e.cx,h=e.cy,c=!!e.clockwise,p=xu(l-s),d=p>fu&&p%fu;if(d>Su&&(p=d),i>Su)if(p>fu-Su)t.moveTo(u+i*yu(s),h+i*gu(s)),t.arc(u,h,i,s,l,!c),r>Su&&(t.moveTo(u+r*yu(l),h+r*gu(l)),t.arc(u,h,r,l,s,c));else{var f=void 0,g=void 0,y=void 0,v=void 0,m=void 0,x=void 0,_=void 0,b=void 0,w=void 0,S=void 0,M=void 0,I=void 0,T=void 0,C=void 0,D=void 0,A=void 0,k=i*yu(s),L=i*gu(s),P=r*yu(l),O=r*gu(l),R=p>Su;if(R){var N=e.cornerRadius;N&&(f=(n=function(t){var e;if(Y(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(N))[0],g=n[1],y=n[2],v=n[3]);var E=xu(i-r)/2;if(m=wu(E,y),x=wu(E,v),_=wu(E,f),b=wu(E,g),M=w=bu(m,x),I=S=bu(_,b),(w>Su||S>Su)&&(T=i*yu(l),C=i*gu(l),D=r*yu(s),A=r*gu(s),p\u003Cdu)){var z=function(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,h=a-r,c=s-o,p=c*l-h*u;if(!(p*p\u003CSu))return[t+(p=(h*(e-o)-c*(t-r))/p)*l,e+p*u]}(k,L,D,A,T,C,P,O);if(z){var V=k-z[0],B=L-z[1],F=T-z[0],G=C-z[1],W=1/gu(vu((V*F+B*G)/(_u(V*V+B*B)*_u(F*F+G*G)))/2),H=_u(z[0]*z[0]+z[1]*z[1]);M=wu(w,(i-H)/(W+1)),I=wu(S,(r-H)/(W-1))}}}if(R)if(M>Su){var U=wu(y,M),X=wu(v,M),Z=Mu(D,A,k,L,i,U,c),j=Mu(T,C,P,O,i,X,c);t.moveTo(u+Z.cx+Z.x0,h+Z.cy+Z.y0),M\u003Cw&&U===X?t.arc(u+Z.cx,h+Z.cy,M,mu(Z.y0,Z.x0),mu(j.y0,j.x0),!c):(U>0&&t.arc(u+Z.cx,h+Z.cy,U,mu(Z.y0,Z.x0),mu(Z.y1,Z.x1),!c),t.arc(u,h,i,mu(Z.cy+Z.y1,Z.cx+Z.x1),mu(j.cy+j.y1,j.cx+j.x1),!c),X>0&&t.arc(u+j.cx,h+j.cy,X,mu(j.y1,j.x1),mu(j.y0,j.x0),!c))}else t.moveTo(u+k,h+L),t.arc(u,h,i,s,l,!c);else t.moveTo(u+k,h+L);if(r>Su&&R)if(I>Su){U=wu(f,I),Z=Mu(P,O,T,C,r,-(X=wu(g,I)),c),j=Mu(k,L,D,A,r,-U,c);t.lineTo(u+Z.cx+Z.x0,h+Z.cy+Z.y0),I\u003CS&&U===X?t.arc(u+Z.cx,h+Z.cy,I,mu(Z.y0,Z.x0),mu(j.y0,j.x0),!c):(X>0&&t.arc(u+Z.cx,h+Z.cy,X,mu(Z.y0,Z.x0),mu(Z.y1,Z.x1),!c),t.arc(u,h,r,mu(Z.cy+Z.y1,Z.cx+Z.x1),mu(j.cy+j.y1,j.cx+j.x1),c),U>0&&t.arc(u+j.cx,h+j.cy,U,mu(j.y1,j.x1),mu(j.y0,j.x0),!c))}else t.lineTo(u+P,h+O),t.arc(u,h,r,l,s,c);else t.lineTo(u+P,h+O)}else t.moveTo(u,h);t.closePath()}}}var Tu=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Cu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Tu},e.prototype.buildPath=function(t,e){Iu(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(gs);Cu.prototype.type=\\\"sector\\\";var Du=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Au=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Du},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)},e}(gs);function ku(t,e,n){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function(t,e,n,i){var r,o,a,s,l=[],u=[],h=[],c=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var p=0,d=t.length;p\u003Cd;p++)Gt(a,a,t[p]),Wt(s,s,t[p]);Gt(a,a,i[0]),Wt(s,s,i[1])}for(p=0,d=t.length;p\u003Cd;p++){var f=t[p];if(n)r=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){l.push(Mt(t[p]));continue}r=t[p-1],o=t[p+1]}Dt(u,o,r),Ot(u,u,e);var g=Nt(f,r),y=Nt(f,o),v=g+y;0!==v&&(g/=v,y/=v),Ot(h,u,-g),Ot(c,u,y);var m=Tt([],f,h),x=Tt([],f,c);i&&(Wt(m,m,a),Gt(m,m,s),Wt(x,x,a),Gt(x,x,s)),l.push(m),l.push(x)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s\u003C(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s\u003Cc;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}Au.prototype.type=\\\"ring\\\";var Lu=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Pu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new Lu},e.prototype.buildPath=function(t,e){ku(t,e,!0)},e}(gs);Pu.prototype.type=\\\"polygon\\\";var Ou=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Ru=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new Ou},e.prototype.buildPath=function(t,e){ku(t,e,!1)},e}(gs);Ru.prototype.type=\\\"polyline\\\";var Nu={},Eu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},zu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new Eu},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=ws(Nu,e,this.style);n=a.x1,i=a.y1,r=a.x2,o=a.y2}else n=e.x1,i=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,i),s\u003C1&&(r=n*(1-s)+r*s,o=i*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(gs);zu.prototype.type=\\\"line\\\";var Vu=[],Bu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Fu(t,e,n){var i=t.cpx2,r=t.cpy2;return null!=i||null!=r?[(n?Ye:He)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Ye:He)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?$e:Ke)(t.x1,t.cpx1,t.x2,e),(n?$e:Ke)(t.y1,t.cpy1,t.y2,e)]}var Gu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new Bu},e.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,i),null==l||null==u?(h\u003C1&&(Qe(n,a,r,h,Vu),a=Vu[1],r=Vu[2],Qe(i,s,o,h,Vu),s=Vu[1],o=Vu[2]),t.quadraticCurveTo(a,s,r,o)):(h\u003C1&&(Ze(n,a,l,r,h,Vu),a=Vu[1],l=Vu[2],r=Vu[3],Ze(i,s,u,o,h,Vu),s=Vu[1],u=Vu[2],o=Vu[3]),t.bezierCurveTo(a,s,l,u,r,o)))},e.prototype.pointAt=function(t){return Fu(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=Fu(this.shape,t,!0);return Rt(e,e)},e}(gs);Gu.prototype.type=\\\"bezier-curve\\\";var Wu=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Hu=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new Wu},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*r+n,u*r+i),t.arc(n,i,r,o,a,!s)},e}(gs);Hu.prototype.type=\\\"arc\\\";var Yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"compound\\\",e}return n(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n\u003Ct.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n\u003Ct.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i\u003Cn.length;i++)n[i].buildPath(t,n[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e\u003Ct.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),gs.prototype.getBoundingRect.call(this)},e}(gs),Uu=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),Xu=function(t){function e(e,n,i,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type=\\\"linear\\\",s.global=a||!1,s}return n(e,t),e}(Uu),Zu=function(t){function e(e,n,i,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type=\\\"radial\\\",a.global=o||!1,a}return n(e,t),e}(Uu),ju=[0,0],qu=[0,0],Ku=new Ji,$u=new Ji,Ju=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n\u003C4;n++)this._corners[n]=new Ji;for(n=0;n\u003C2;n++)this._axes[n]=new Ji;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,r=t.x,o=t.y,a=r+t.width,s=o+t.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,s),n[3].set(r,s),e)for(var l=0;l\u003C4;l++)n[l].transform(e);Ji.sub(i[0],n[1],n[0]),Ji.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l\u003C2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return Ku.set(1/0,1/0),$u.set(0,0),!this._intersectCheckOneSide(this,t,Ku,$u,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,Ku,$u,i,-1)&&(n=!1,i)||i||Ji.copy(e,n?Ku:$u),n},t.prototype._intersectCheckOneSide=function(t,e,n,i,r,o){for(var a=!0,s=0;s\u003C2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,ju),this._getProjMinMaxOnAxis(s,e._corners,qu),ju[1]\u003Cqu[0]||ju[0]>qu[1]){if(a=!1,r)return a;var u=Math.abs(qu[0]-ju[1]),h=Math.abs(ju[0]-qu[1]);Math.min(u,h)>i.len()&&(u\u003Ch?Ji.scale(i,l,-u*o):Ji.scale(i,l,h*o))}else if(n){u=Math.abs(qu[0]-ju[1]),h=Math.abs(ju[0]-qu[1]);Math.min(u,h)\u003Cn.len()&&(u\u003Ch?Ji.scale(n,l,u*o):Ji.scale(n,l,-h*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],r=this._origin,o=e[0].dot(i)+r[t],a=o,s=o,l=1;l\u003Ce.length;l++){var u=e[l].dot(i)+r[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}(),Qu=[],th=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return n(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n\u003Ct.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e\u003Cthis._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e\u003Cthis._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t\u003Cthis._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t\u003Cthis._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new sr(1/0,1/0,-1/0,-1/0),e=0;e\u003Cthis._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Qu)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i\u003Cthis._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},e}(da),eh=So();function nh(t,e,n,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s=\\\"update\\\"===t;if(e&&e.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return i?(l=rt(i.duration,200),u=rt(i.easing,\\\"cubicOut\\\"),h=0):(l=e.getShallow(s?\\\"animationDurationUpdate\\\":\\\"animationDuration\\\"),u=e.getShallow(s?\\\"animationEasingUpdate\\\":\\\"animationEasing\\\"),h=e.getShallow(s?\\\"animationDelayUpdate\\\":\\\"animationDelay\\\")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),U(h)&&(h=h(n,r)),U(l)&&(l=l(n)),{duration:l||0,delay:h,easing:u}}return null}function ih(t,e,n,i,r,o,a){var s,l=!1;U(r)?(a=o,o=r,r=null):q(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u=\\\"leave\\\"===t;u||e.stopAnimation(\\\"leave\\\");var h=nh(t,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:t,during:a};l?e.animateFrom(n,c):e.animateTo(n,c)}else e.stopAnimation(),!l&&e.attr(n),a&&a(1),o&&o()}function rh(t,e,n,i,r,o){ih(\\\"update\\\",t,e,n,i,r,o)}function oh(t,e,n,i,r,o){ih(\\\"enter\\\",t,e,n,i,r,o)}function ah(t){if(!t.__zr)return!0;for(var e=0;e\u003Ct.animators.length;e++){if(\\\"leave\\\"===t.animators[e].scope)return!0}return!1}function sh(t,e,n,i,r,o){ah(t)||ih(\\\"leave\\\",t,e,n,i,r,o)}function lh(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),sh(t,{style:{opacity:0}},e,n,i)}function uh(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||lh(t,e,n,i)})):lh(t,e,n,i)}function hh(t){eh(t).oldStyle=t.style}var ch=Math.max,ph=Math.min,dh={};function fh(t){return gs.extend(t)}var gh=function(t,e){var i=au(t,e);return function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=i.applyTransform,n.buildPath=i.buildPath,n}return n(e,t),e}(ru)};function yh(t,e){return gh(t,e)}function vh(t,e){dh[t]=e}function mh(t){if(dh.hasOwnProperty(t))return dh[t]}function xh(t,e,n,i){var r=su(t,e);return n&&(\\\"center\\\"===i&&(n=bh(n,r.getBoundingRect())),Sh(r,n)),r}function _h(t,e,n){var i=new _s({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(\\\"center\\\"===n){var r={width:t.width,height:t.height};i.setStyle(bh(e,r))}}});return i}function bh(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r\u003C=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var wh=function(t,e){for(var n=[],i=t.length,r=0;r\u003Ci;r++){var o=t[r];n.push(o.getUpdatedPathProxy(!0))}var a=new gs(e);return a.createPathProxy(),a.buildPath=function(t){if(ou(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function Sh(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}var Mh=Ms;function Ih(t,e){for(var n=Oi([]);t&&t!==e;)Ni(n,t.getLocalTransform(),n),t=t.parent;return n}function Th(t,e,n){return e&&!N(e)&&(e=qi.getLocalTransform(e)),n&&(e=Bi([],e)),Ft([],t,e)}function Ch(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=[\\\"left\\\"===t?-i:\\\"right\\\"===t?i:0,\\\"top\\\"===t?-r:\\\"bottom\\\"===t?r:0];return o=Th(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?\\\"right\\\":\\\"left\\\":o[1]>0?\\\"bottom\\\":\\\"top\\\"}function Dh(t){return!t.isGroup}function Ah(t,e,n){if(t&&e){var i,r=(i={},t.traverse((function(t){Dh(t)&&t.anid&&(i[t.anid]=t)})),i);e.traverse((function(t){if(Dh(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),rh(t,i,n,Hs(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=A({},t.shape)),e}}function kh(t,e){return z(t,(function(t){var n=t[0];n=ch(n,e.x),n=ph(n,e.x+e.width);var i=t[1];return i=ch(i,e.y),[n,i=ph(i,e.y+e.height)]}))}function Lh(t,e){var n=ch(t.x,e.x),i=ph(t.x+t.width,e.x+e.width),r=ch(t.y,e.y),o=ph(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function Ph(t,e,n){var i=A({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(\\\"image://\\\")?(r.image=t.slice(8),k(r,n),new _s(i)):xh(t.replace(\\\"path://\\\",\\\"\\\"),i,n,\\\"center\\\")}function Oh(t,e,n,i,r){for(var o=0,a=r[r.length-1];o\u003Cr.length;o++){var s=r[o];if(Rh(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Rh(t,e,n,i,r,o,a,s){var l,u=n-t,h=i-e,c=a-r,p=s-o,d=Nh(c,p,u,h);if((l=d)\u003C=1e-6&&l>=-1e-6)return!1;var f=t-r,g=e-o,y=Nh(f,g,u,h)/d;if(y\u003C0||y>1)return!1;var v=Nh(f,g,c,p)/d;return!(v\u003C0||v>1)}function Nh(t,e,n,i){return t*i-n*e}function Eh(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,r=X(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:[\\\"name\\\"]};s[o+\\\"Index\\\"]=a;var l=t.formatterParamsExtra;l&&E(G(l),(function(t){mt(s,t)||(s[t]=l[t],s.$vars.push(t))}));var u=Hs(t.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:k({content:i,formatterParams:s},r)}}function zh(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Vh(t,e){if(t)if(Y(t))for(var n=0;n\u003Ct.length;n++)zh(t[n],e);else zh(t,e)}vh(\\\"circle\\\",hu),vh(\\\"ellipse\\\",pu),vh(\\\"sector\\\",Cu),vh(\\\"ring\\\",Au),vh(\\\"polygon\\\",Pu),vh(\\\"polyline\\\",Ru),vh(\\\"rect\\\",Cs),vh(\\\"line\\\",zu),vh(\\\"bezierCurve\\\",Gu),vh(\\\"arc\\\",Hu);var Bh=Object.freeze({__proto__:null,updateProps:rh,initProps:oh,removeElement:sh,removeElementWithFadeOut:uh,isElementRemoved:ah,extendShape:fh,extendPath:yh,registerShape:vh,getShapeClass:mh,makePath:xh,makeImage:_h,mergePath:wh,resizePath:Sh,subPixelOptimizeLine:function(t){return ws(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return Ss(t.shape,t.shape,t.style),t},subPixelOptimize:Mh,getTransform:Ih,applyTransform:Th,transformDirection:Ch,groupTransition:Ah,clipPointsByRect:kh,clipRectByRect:Lh,createIcon:Ph,linePolygonIntersect:Oh,lineLineIntersect:Rh,setTooltipConfig:Eh,traverseElements:Vh,Group:Cr,Image:_s,Text:ks,Circle:hu,Ellipse:pu,Sector:Cu,Ring:Au,Polygon:Pu,Polyline:Ru,Rect:Cs,Line:zu,BezierCurve:Gu,Arc:Hu,IncrementalDisplayable:th,CompoundPath:Yu,LinearGradient:Xu,RadialGradient:Zu,BoundingRect:sr,OrientedBoundingRect:Ju,Point:Ji,Path:gs}),Fh={};function Gh(t,e){for(var n=0;n\u003Cqs.length;n++){var i=qs[n],r=e[i],o=t.ensureState(i);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function Wh(t,e,n){var i,r=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;r&&(i=r.getFormattedLabel(o,\\\"normal\\\",null,a,s&&s.get(\\\"formatter\\\"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=U(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var l={normal:i},u=0;u\u003Cqs.length;u++){var h=qs[u],c=e[h];l[h]=rt(r?r.getFormattedLabel(o,h,null,a,c&&c.get(\\\"formatter\\\")):null,i)}return l}function Hh(t,e,n,i){n=n||Fh;for(var r=t instanceof ks,o=!1,a=0;a\u003CKs.length;a++){if((p=e[Ks[a]])&&p.getShallow(\\\"show\\\")){o=!0;break}}var s=r?t:t.getTextContent();if(o){r||(s||(s=new ks,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=Wh(n,e),u=e.normal,h=!!u.getShallow(\\\"show\\\"),c=Uh(u,i&&i.normal,n,!1,!r);c.text=l.normal,r||t.setTextConfig(Xh(u,n,!1));for(a=0;a\u003Cqs.length;a++){var p,d=qs[a];if(p=e[d]){var f=s.ensureState(d),g=!!rt(p.getShallow(\\\"show\\\"),h);if(g!==h&&(f.ignore=!g),f.style=Uh(p,i&&i[d],n,!0,!r),f.style.text=l[d],!r)t.ensureState(d).textConfig=Xh(p,n,!0)}}s.silent=!!u.getShallow(\\\"silent\\\"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),n.enableTextSetter&&(Jh(s).setLabelText=function(t){var i=Wh(n,e,t);Gh(s,i)})}else s&&(s.ignore=!0);t.dirty()}function Yh(t,e){e=e||\\\"label\\\";for(var n={normal:t.getModel(e)},i=0;i\u003Cqs.length;i++){var r=qs[i];n[r]=t.getModel([r,e])}return n}function Uh(t,e,n,i,r){var o={};return function(t,e,n,i,r){n=n||Fh;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||Fh).rich;if(n){e=e||{};for(var i=G(n),r=0;r\u003Ci.length;r++){e[i[r]]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var h=e.getModel([\\\"rich\\\",u]);Kh(o[u]={},h,s,n,i,r,!1,!0)}o&&(t.rich=o);var c=e.get(\\\"overflow\\\");c&&(t.overflow=c);var p=e.get(\\\"minMargin\\\");null!=p&&(t.margin=p);Kh(t,e,s,n,i,r,!0,!1)}(o,t,n,i,r),e&&A(o,e),o}function Xh(t,e,n){e=e||{};var i,r={},o=t.getShallow(\\\"rotate\\\"),a=rt(t.getShallow(\\\"distance\\\"),n?null:5),s=t.getShallow(\\\"offset\\\");return\\\"outside\\\"===(i=t.getShallow(\\\"position\\\")||(n?null:\\\"inside\\\"))&&(i=e.defaultOutsidePosition||\\\"top\\\"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill=\\\"inherit\\\"===t.get(\\\"color\\\")?e.inheritColor||null:\\\"auto\\\",r}var Zh=[\\\"fontStyle\\\",\\\"fontWeight\\\",\\\"fontSize\\\",\\\"fontFamily\\\",\\\"textShadowColor\\\",\\\"textShadowBlur\\\",\\\"textShadowOffsetX\\\",\\\"textShadowOffsetY\\\"],jh=[\\\"align\\\",\\\"lineHeight\\\",\\\"width\\\",\\\"height\\\",\\\"tag\\\",\\\"verticalAlign\\\"],qh=[\\\"padding\\\",\\\"borderWidth\\\",\\\"borderRadius\\\",\\\"borderDashOffset\\\",\\\"backgroundColor\\\",\\\"borderColor\\\",\\\"shadowColor\\\",\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\"];function Kh(t,e,n,i,r,o,a,s){n=!r&&n||Fh;var l=i&&i.inheritColor,u=e.getShallow(\\\"color\\\"),h=e.getShallow(\\\"textBorderColor\\\"),c=rt(e.getShallow(\\\"opacity\\\"),n.opacity);\\\"inherit\\\"!==u&&\\\"auto\\\"!==u||(u=l||null),\\\"inherit\\\"!==h&&\\\"auto\\\"!==h||(h=l||null),o||(u=u||n.color,h=h||n.textBorderColor),null!=u&&(t.fill=u),null!=h&&(t.stroke=h);var p=rt(e.getShallow(\\\"textBorderWidth\\\"),n.textBorderWidth);null!=p&&(t.lineWidth=p);var d=rt(e.getShallow(\\\"textBorderType\\\"),n.textBorderType);null!=d&&(t.lineDash=d);var f=rt(e.getShallow(\\\"textBorderDashOffset\\\"),n.textBorderDashOffset);null!=f&&(t.lineDashOffset=f),r||null!=c||s||(c=i&&i.defaultOpacity),null!=c&&(t.opacity=c),r||o||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g\u003CZh.length;g++){var y=Zh[g];null!=(m=rt(e.getShallow(y),n[y]))&&(t[y]=m)}for(g=0;g\u003Cjh.length;g++){y=jh[g];null!=(m=e.getShallow(y))&&(t[y]=m)}if(null==t.verticalAlign){var v=e.getShallow(\\\"baseline\\\");null!=v&&(t.verticalAlign=v)}if(!a||!i.disableBox){for(g=0;g\u003Cqh.length;g++){var m;y=qh[g];null!=(m=e.getShallow(y))&&(t[y]=m)}var x=e.getShallow(\\\"borderType\\\");null!=x&&(t.borderDash=x),\\\"auto\\\"!==t.backgroundColor&&\\\"inherit\\\"!==t.backgroundColor||!l||(t.backgroundColor=l),\\\"auto\\\"!==t.borderColor&&\\\"inherit\\\"!==t.borderColor||!l||(t.borderColor=l)}}function $h(t,e){var n=e&&e.getModel(\\\"textStyle\\\");return ut([t.fontStyle||n&&n.getShallow(\\\"fontStyle\\\")||\\\"\\\",t.fontWeight||n&&n.getShallow(\\\"fontWeight\\\")||\\\"\\\",(t.fontSize||n&&n.getShallow(\\\"fontSize\\\")||12)+\\\"px\\\",t.fontFamily||n&&n.getShallow(\\\"fontFamily\\\")||\\\"sans-serif\\\"].join(\\\" \\\"))}var Jh=So();function Qh(t,e,n,i){if(t){var r=Jh(t);r.prevValue=r.value,r.value=n;var o=e.normal;r.valueAnimation=o.get(\\\"valueAnimation\\\"),r.valueAnimation&&(r.precision=o.get(\\\"precision\\\"),r.defaultInterpolatedText=i,r.statesModels=e)}}function tc(t,e,n,i,r){var o=Jh(t);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=rt(o.interpolatedValue,o.prevValue),l=o.value;t.percent=0,(null==o.prevValue?oh:rh)(t,{percent:1},i,e,null,(function(i){var u=Po(n,o.precision,s,l,i);o.interpolatedValue=1===i?null:u;var h=Wh({labelDataIndex:e,labelFetcher:r,defaultText:a?a(u):u+\\\"\\\"},o.statesModels,u);Gh(t,h)}))}}var ec,nc,ic=[\\\"textStyle\\\",\\\"color\\\"],rc=[\\\"fontStyle\\\",\\\"fontWeight\\\",\\\"fontSize\\\",\\\"fontFamily\\\",\\\"padding\\\",\\\"lineHeight\\\",\\\"rich\\\",\\\"width\\\",\\\"height\\\",\\\"overflow\\\"],oc=new ks,ac=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow(\\\"color\\\")||(!t&&e?e.get(ic):null)},t.prototype.getFont=function(){return $h({fontStyle:this.getShallow(\\\"fontStyle\\\"),fontWeight:this.getShallow(\\\"fontWeight\\\"),fontSize:this.getShallow(\\\"fontSize\\\"),fontFamily:this.getShallow(\\\"fontFamily\\\")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow(\\\"verticalAlign\\\")||this.getShallow(\\\"baseline\\\")},n=0;n\u003Crc.length;n++)e[rc[n]]=this.getShallow(rc[n]);return oc.useStyle(e),oc.update(),oc.getBoundingRect()},t}(),sc=[[\\\"lineWidth\\\",\\\"width\\\"],[\\\"stroke\\\",\\\"color\\\"],[\\\"opacity\\\"],[\\\"shadowBlur\\\"],[\\\"shadowOffsetX\\\"],[\\\"shadowOffsetY\\\"],[\\\"shadowColor\\\"],[\\\"lineDash\\\",\\\"type\\\"],[\\\"lineDashOffset\\\",\\\"dashOffset\\\"],[\\\"lineCap\\\",\\\"cap\\\"],[\\\"lineJoin\\\",\\\"join\\\"],[\\\"miterLimit\\\"]],lc=Wo(sc),uc=function(){function t(){}return t.prototype.getLineStyle=function(t){return lc(this,t)},t}(),hc=[[\\\"fill\\\",\\\"color\\\"],[\\\"stroke\\\",\\\"borderColor\\\"],[\\\"lineWidth\\\",\\\"borderWidth\\\"],[\\\"opacity\\\"],[\\\"shadowBlur\\\"],[\\\"shadowOffsetX\\\"],[\\\"shadowOffsetY\\\"],[\\\"shadowColor\\\"],[\\\"lineDash\\\",\\\"borderType\\\"],[\\\"lineDashOffset\\\",\\\"borderDashOffset\\\"],[\\\"lineCap\\\",\\\"borderCap\\\"],[\\\"lineJoin\\\",\\\"borderJoin\\\"],[\\\"miterLimit\\\",\\\"borderMiterLimit\\\"]],cc=Wo(hc),pc=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return cc(this,t,e)},t}(),dc=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var i=[],r=3;r\u003Carguments.length;r++)i[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){C(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,i=null==n?n:n[t];if(null==i&&!e){var r=this.parentModel;r&&(i=r.getShallow(t))}return i},t.prototype.getModel=function(e,n){var i=null!=e,r=i?this.parsePath(e):null;return new t(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(T(this.option))},t.prototype.parsePath=function(t){return\\\"string\\\"==typeof t?t.split(\\\".\\\"):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!r.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i\u003Ct.length&&(!t[i]||null!=(n=n&&\\\"object\\\"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Eo(dc),ec=dc,nc=[\\\"__\\\\0is_clz\\\",Vo++].join(\\\"_\\\"),ec.prototype[nc]=!0,ec.isInstance=function(t){return!(!t||!t[nc])},R(dc,uc),R(dc,pc),R(dc,Yo),R(dc,ac);var fc=Math.round(10*Math.random());function gc(t){return[t||\\\"\\\",fc++].join(\\\"_\\\")}function yc(t,e){return C(C({},t,!0),e,!0)}var vc=\\\"ZH\\\",mc=\\\"EN\\\",xc=mc,_c={},bc={},wc=r.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(vc)>-1?vc:xc;function Sc(t,e){t=t.toUpperCase(),bc[t]=new dc(e),_c[t]=e}function Mc(t){return bc[t]}Sc(mc,{time:{month:[\\\"January\\\",\\\"February\\\",\\\"March\\\",\\\"April\\\",\\\"May\\\",\\\"June\\\",\\\"July\\\",\\\"August\\\",\\\"September\\\",\\\"October\\\",\\\"November\\\",\\\"December\\\"],monthAbbr:[\\\"Jan\\\",\\\"Feb\\\",\\\"Mar\\\",\\\"Apr\\\",\\\"May\\\",\\\"Jun\\\",\\\"Jul\\\",\\\"Aug\\\",\\\"Sep\\\",\\\"Oct\\\",\\\"Nov\\\",\\\"Dec\\\"],dayOfWeek:[\\\"Sunday\\\",\\\"Monday\\\",\\\"Tuesday\\\",\\\"Wednesday\\\",\\\"Thursday\\\",\\\"Friday\\\",\\\"Saturday\\\"],dayOfWeekAbbr:[\\\"Sun\\\",\\\"Mon\\\",\\\"Tue\\\",\\\"Wed\\\",\\\"Thu\\\",\\\"Fri\\\",\\\"Sat\\\"]},legend:{selector:{all:\\\"All\\\",inverse:\\\"Inv\\\"}},toolbox:{brush:{title:{rect:\\\"Box Select\\\",polygon:\\\"Lasso Select\\\",lineX:\\\"Horizontally Select\\\",lineY:\\\"Vertically Select\\\",keep:\\\"Keep Selections\\\",clear:\\\"Clear Selections\\\"}},dataView:{title:\\\"Data View\\\",lang:[\\\"Data View\\\",\\\"Close\\\",\\\"Refresh\\\"]},dataZoom:{title:{zoom:\\\"Zoom\\\",back:\\\"Zoom Reset\\\"}},magicType:{title:{line:\\\"Switch to Line Chart\\\",bar:\\\"Switch to Bar Chart\\\",stack:\\\"Stack\\\",tiled:\\\"Tile\\\"}},restore:{title:\\\"Restore\\\"},saveAsImage:{title:\\\"Save as Image\\\",lang:[\\\"Right Click to Save Image\\\"]}},series:{typeNames:{pie:\\\"Pie chart\\\",bar:\\\"Bar chart\\\",line:\\\"Line chart\\\",scatter:\\\"Scatter plot\\\",effectScatter:\\\"Ripple scatter plot\\\",radar:\\\"Radar chart\\\",tree:\\\"Tree\\\",treemap:\\\"Treemap\\\",boxplot:\\\"Boxplot\\\",candlestick:\\\"Candlestick\\\",k:\\\"K line chart\\\",heatmap:\\\"Heat map\\\",map:\\\"Map\\\",parallel:\\\"Parallel coordinate map\\\",lines:\\\"Line graph\\\",graph:\\\"Relationship graph\\\",sankey:\\\"Sankey diagram\\\",funnel:\\\"Funnel chart\\\",gauge:\\\"Gauge\\\",pictorialBar:\\\"Pictorial bar\\\",themeRiver:\\\"Theme River Map\\\",sunburst:\\\"Sunburst\\\"}},aria:{general:{withTitle:'This is a chart about \\\"{title}\\\"',withoutTitle:\\\"This is a chart\\\"},series:{single:{prefix:\\\"\\\",withName:\\\" with type {seriesType} named {seriesName}.\\\",withoutName:\\\" with type {seriesType}.\\\"},multiple:{prefix:\\\". It consists of {seriesCount} series count.\\\",withName:\\\" The {seriesId} series is a {seriesType} representing {seriesName}.\\\",withoutName:\\\" The {seriesId} series is a {seriesType}.\\\",separator:{middle:\\\"\\\",end:\\\"\\\"}}},data:{allData:\\\"The data is as follows: \\\",partialData:\\\"The first {displayCnt} items are: \\\",withName:\\\"the data for {name} is {value}\\\",withoutName:\\\"{value}\\\",separator:{middle:\\\", \\\",end:\\\". \\\"}}}}),Sc(vc,{time:{month:[\\\"一月\\\",\\\"二月\\\",\\\"三月\\\",\\\"四月\\\",\\\"五月\\\",\\\"六月\\\",\\\"七月\\\",\\\"八月\\\",\\\"九月\\\",\\\"十月\\\",\\\"十一月\\\",\\\"十二月\\\"],monthAbbr:[\\\"1月\\\",\\\"2月\\\",\\\"3月\\\",\\\"4月\\\",\\\"5月\\\",\\\"6月\\\",\\\"7月\\\",\\\"8月\\\",\\\"9月\\\",\\\"10月\\\",\\\"11月\\\",\\\"12月\\\"],dayOfWeek:[\\\"星期日\\\",\\\"星期一\\\",\\\"星期二\\\",\\\"星期三\\\",\\\"星期四\\\",\\\"星期五\\\",\\\"星期六\\\"],dayOfWeekAbbr:[\\\"日\\\",\\\"一\\\",\\\"二\\\",\\\"三\\\",\\\"四\\\",\\\"五\\\",\\\"六\\\"]},legend:{selector:{all:\\\"全选\\\",inverse:\\\"反选\\\"}},toolbox:{brush:{title:{rect:\\\"矩形选择\\\",polygon:\\\"圈选\\\",lineX:\\\"横向选择\\\",lineY:\\\"纵向选择\\\",keep:\\\"保持选择\\\",clear:\\\"清除选择\\\"}},dataView:{title:\\\"数据视图\\\",lang:[\\\"数据视图\\\",\\\"关闭\\\",\\\"刷新\\\"]},dataZoom:{title:{zoom:\\\"区域缩放\\\",back:\\\"区域缩放还原\\\"}},magicType:{title:{line:\\\"切换为折线图\\\",bar:\\\"切换为柱状图\\\",stack:\\\"切换为堆叠\\\",tiled:\\\"切换为平铺\\\"}},restore:{title:\\\"还原\\\"},saveAsImage:{title:\\\"保存为图片\\\",lang:[\\\"右键另存为图片\\\"]}},series:{typeNames:{pie:\\\"饼图\\\",bar:\\\"柱状图\\\",line:\\\"折线图\\\",scatter:\\\"散点图\\\",effectScatter:\\\"涟漪散点图\\\",radar:\\\"雷达图\\\",tree:\\\"树图\\\",treemap:\\\"矩形树图\\\",boxplot:\\\"箱型图\\\",candlestick:\\\"K线图\\\",k:\\\"K线图\\\",heatmap:\\\"热力图\\\",map:\\\"地图\\\",parallel:\\\"平行坐标图\\\",lines:\\\"线图\\\",graph:\\\"关系图\\\",sankey:\\\"桑基图\\\",funnel:\\\"漏斗图\\\",gauge:\\\"仪表盘图\\\",pictorialBar:\\\"象形柱图\\\",themeRiver:\\\"主题河流图\\\",sunburst:\\\"旭日图\\\"}},aria:{general:{withTitle:\\\"这是一个关于“{title}”的图表。\\\",withoutTitle:\\\"这是一个图表，\\\"},series:{single:{prefix:\\\"\\\",withName:\\\"图表类型是{seriesType}，表示{seriesName}。\\\",withoutName:\\\"图表类型是{seriesType}。\\\"},multiple:{prefix:\\\"它由{seriesCount}个图表系列组成。\\\",withName:\\\"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，\\\",withoutName:\\\"第{seriesId}个系列是一个{seriesType}，\\\",separator:{middle:\\\"；\\\",end:\\\"。\\\"}}},data:{allData:\\\"其数据是——\\\",partialData:\\\"其中，前{displayCnt}项是——\\\",withName:\\\"{name}的数据是{value}\\\",withoutName:\\\"{value}\\\",separator:{middle:\\\"，\\\",end:\\\"\\\"}}}});var Ic=1e3,Tc=6e4,Cc=36e5,Dc=864e5,Ac=31536e6,kc={year:\\\"{yyyy}\\\",month:\\\"{MMM}\\\",day:\\\"{d}\\\",hour:\\\"{HH}:{mm}\\\",minute:\\\"{HH}:{mm}\\\",second:\\\"{HH}:{mm}:{ss}\\\",millisecond:\\\"{HH}:{mm}:{ss} {SSS}\\\",none:\\\"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}\\\"},Lc=\\\"{yyyy}-{MM}-{dd}\\\",Pc={year:\\\"{yyyy}\\\",month:\\\"{yyyy}-{MM}\\\",day:Lc,hour:\\\"{yyyy}-{MM}-{dd} \\\"+kc.hour,minute:\\\"{yyyy}-{MM}-{dd} \\\"+kc.minute,second:\\\"{yyyy}-{MM}-{dd} \\\"+kc.second,millisecond:kc.none},Oc=[\\\"year\\\",\\\"month\\\",\\\"day\\\",\\\"hour\\\",\\\"minute\\\",\\\"second\\\",\\\"millisecond\\\"],Rc=[\\\"year\\\",\\\"half-year\\\",\\\"quarter\\\",\\\"month\\\",\\\"week\\\",\\\"half-week\\\",\\\"day\\\",\\\"half-day\\\",\\\"quarter-day\\\",\\\"hour\\\",\\\"minute\\\",\\\"second\\\",\\\"millisecond\\\"];function Nc(t,e){return\\\"0000\\\".substr(0,e-(t+=\\\"\\\").length)+t}function Ec(t){switch(t){case\\\"half-year\\\":case\\\"quarter\\\":return\\\"month\\\";case\\\"week\\\":case\\\"half-week\\\":return\\\"day\\\";case\\\"half-day\\\":case\\\"quarter-day\\\":return\\\"hour\\\";default:return t}}function zc(t){return t===Ec(t)}function Vc(t,e,n,i){var r=jr(t),o=r[Gc(n)](),a=r[Wc(n)]()+1,s=Math.floor((a-1)/4)+1,l=r[Hc(n)](),u=r[\\\"get\\\"+(n?\\\"UTC\\\":\\\"\\\")+\\\"Day\\\"](),h=r[Yc(n)](),c=(h-1)%12+1,p=r[Uc(n)](),d=r[Xc(n)](),f=r[Zc(n)](),g=(i instanceof dc?i:Mc(i||wc)||bc.EN).getModel(\\\"time\\\"),y=g.get(\\\"month\\\"),v=g.get(\\\"monthAbbr\\\"),m=g.get(\\\"dayOfWeek\\\"),x=g.get(\\\"dayOfWeekAbbr\\\");return(e||\\\"\\\").replace(/{yyyy}/g,o+\\\"\\\").replace(/{yy}/g,o%100+\\\"\\\").replace(/{Q}/g,s+\\\"\\\").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,v[a-1]).replace(/{MM}/g,Nc(a,2)).replace(/{M}/g,a+\\\"\\\").replace(/{dd}/g,Nc(l,2)).replace(/{d}/g,l+\\\"\\\").replace(/{eeee}/g,m[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+\\\"\\\").replace(/{HH}/g,Nc(h,2)).replace(/{H}/g,h+\\\"\\\").replace(/{hh}/g,Nc(c+\\\"\\\",2)).replace(/{h}/g,c+\\\"\\\").replace(/{mm}/g,Nc(p,2)).replace(/{m}/g,p+\\\"\\\").replace(/{ss}/g,Nc(d,2)).replace(/{s}/g,d+\\\"\\\").replace(/{SSS}/g,Nc(f,3)).replace(/{S}/g,f+\\\"\\\")}function Bc(t,e){var n=jr(t),i=n[Wc(e)]()+1,r=n[Hc(e)](),o=n[Yc(e)](),a=n[Uc(e)](),s=n[Xc(e)](),l=0===n[Zc(e)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===r;return p&&1===i?\\\"year\\\":p?\\\"month\\\":c?\\\"day\\\":h?\\\"hour\\\":u?\\\"minute\\\":l?\\\"second\\\":\\\"millisecond\\\"}function Fc(t,e,n){var i=j(t)?jr(t):t;switch(e=e||Bc(t,n)){case\\\"year\\\":return i[Gc(n)]();case\\\"half-year\\\":return i[Wc(n)]()>=6?1:0;case\\\"quarter\\\":return Math.floor((i[Wc(n)]()+1)/4);case\\\"month\\\":return i[Wc(n)]();case\\\"day\\\":return i[Hc(n)]();case\\\"half-day\\\":return i[Yc(n)]()/24;case\\\"hour\\\":return i[Yc(n)]();case\\\"minute\\\":return i[Uc(n)]();case\\\"second\\\":return i[Xc(n)]();case\\\"millisecond\\\":return i[Zc(n)]()}}function Gc(t){return t?\\\"getUTCFullYear\\\":\\\"getFullYear\\\"}function Wc(t){return t?\\\"getUTCMonth\\\":\\\"getMonth\\\"}function Hc(t){return t?\\\"getUTCDate\\\":\\\"getDate\\\"}function Yc(t){return t?\\\"getUTCHours\\\":\\\"getHours\\\"}function Uc(t){return t?\\\"getUTCMinutes\\\":\\\"getMinutes\\\"}function Xc(t){return t?\\\"getUTCSeconds\\\":\\\"getSeconds\\\"}function Zc(t){return t?\\\"getUTCMilliseconds\\\":\\\"getMilliseconds\\\"}function jc(t){return t?\\\"setUTCFullYear\\\":\\\"setFullYear\\\"}function qc(t){return t?\\\"setUTCMonth\\\":\\\"setMonth\\\"}function Kc(t){return t?\\\"setUTCDate\\\":\\\"setDate\\\"}function $c(t){return t?\\\"setUTCHours\\\":\\\"setHours\\\"}function Jc(t){return t?\\\"setUTCMinutes\\\":\\\"setMinutes\\\"}function Qc(t){return t?\\\"setUTCSeconds\\\":\\\"setSeconds\\\"}function tp(t){return t?\\\"setUTCMilliseconds\\\":\\\"setMilliseconds\\\"}function ep(t){if(!eo(t))return X(t)?t:\\\"-\\\";var e=(t+\\\"\\\").split(\\\".\\\");return e[0].replace(/(\\\\d{1,3})(?=(?:\\\\d{3})+(?!\\\\d))/g,\\\"$1,\\\")+(e.length>1?\\\".\\\"+e[1]:\\\"\\\")}function np(t,e){return t=(t||\\\"\\\").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var ip=st,rp=/([&\u003C>\\\"'])/g,op={\\\"&\\\":\\\"&amp;\\\",\\\"\u003C\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#39;\\\"};function ap(t){return null==t?\\\"\\\":(t+\\\"\\\").replace(rp,(function(t,e){return op[e]}))}function sp(t,e,n){function i(t){return t&&ut(t)?t:\\\"-\\\"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o=\\\"time\\\"===e,a=t instanceof Date;if(o||a){var s=o?jr(t):t;if(!isNaN(+s))return Vc(s,\\\"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}\\\",n);if(a)return\\\"-\\\"}if(\\\"ordinal\\\"===e)return Z(t)?i(t):j(t)&&r(t)?t+\\\"\\\":\\\"-\\\";var l=to(t);return r(l)?ep(l):Z(t)?i(t):\\\"boolean\\\"==typeof t?t+\\\"\\\":\\\"-\\\"}var lp=[\\\"a\\\",\\\"b\\\",\\\"c\\\",\\\"d\\\",\\\"e\\\",\\\"f\\\",\\\"g\\\"],up=function(t,e){return\\\"{\\\"+t+(null==e?\\\"\\\":e)+\\\"}\\\"};function hp(t,e,n){Y(e)||(e=[e]);var i=e.length;if(!i)return\\\"\\\";for(var r=e[0].$vars||[],o=0;o\u003Cr.length;o++){var a=lp[o];t=t.replace(up(a),up(a,0))}for(var s=0;s\u003Ci;s++)for(var l=0;l\u003Cr.length;l++){var u=e[s][r[l]];t=t.replace(up(lp[l],s),n?ap(u):u)}return t}function cp(t,e){var n=X(t)?{color:t,extraCssText:e}:t||{},i=n.color,r=n.type;e=n.extraCssText;var o=n.renderMode||\\\"html\\\";return i?\\\"html\\\"===o?\\\"subItem\\\"===r?'\u003Cspan style=\\\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ap(i)+\\\";\\\"+(e||\\\"\\\")+'\\\">\u003C/span>':'\u003Cspan style=\\\"display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ap(i)+\\\";\\\"+(e||\\\"\\\")+'\\\">\u003C/span>':{renderMode:o,content:\\\"{\\\"+(n.markerId||\\\"markerX\\\")+\\\"|}  \\\",style:\\\"subItem\\\"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:\\\"\\\"}function pp(t,e){return e=e||\\\"transparent\\\",X(t)?t:q(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function dp(t,e){if(\\\"_blank\\\"===e||\\\"blank\\\"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var fp=E,gp=[\\\"left\\\",\\\"right\\\",\\\"top\\\",\\\"bottom\\\",\\\"width\\\",\\\"height\\\"],yp=[[\\\"width\\\",\\\"left\\\",\\\"right\\\"],[\\\"height\\\",\\\"top\\\",\\\"bottom\\\"]];function vp(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,u){var h,c,p=l.getBoundingRect(),d=e.childAt(u+1),f=d&&d.getBoundingRect();if(\\\"horizontal\\\"===t){var g=p.width+(f?-f.x+p.x:0);(h=o+g)>i||l.newline?(o=0,h=g,a+=s+n,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(f?-f.y+p.y:0);(c=a+y)>r||l.newline?(o+=s+n,a=0,c=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),\\\"horizontal\\\"===t?o=h+n:a=c+n)}))}var mp=vp;H(vp,\\\"vertical\\\"),H(vp,\\\"horizontal\\\");function xp(t,e,n){n=ip(n||0);var i=e.width,r=e.height,o=Er(t.left,i),a=Er(t.top,r),s=Er(t.right,i),l=Er(t.bottom,r),u=Er(t.width,i),h=Er(t.height,r),c=n[2]+n[0],p=n[1]+n[3],d=t.aspect;switch(isNaN(u)&&(u=i-s-p-o),isNaN(h)&&(h=r-l-c-a),null!=d&&(isNaN(u)&&isNaN(h)&&(d>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(o)&&(o=i-s-u-p),isNaN(a)&&(a=r-l-h-c),t.left||t.right){case\\\"center\\\":o=i/2-u/2-n[3];break;case\\\"right\\\":o=i-u-p}switch(t.top||t.bottom){case\\\"middle\\\":case\\\"center\\\":a=r/2-h/2-n[0];break;case\\\"bottom\\\":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=i-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var f=new sr(o+n[3],a+n[0],u,h);return f.margin=n,f}function _p(t,e,n,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||\\\"all\\\";if((o=o||t).x=t.x,o.y=t.y,!s&&!l)return!1;if(\\\"raw\\\"===u)a=\\\"group\\\"===t.type?new sr(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(a=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(a=a.clone()).applyTransform(h)}var c=xp(k({width:a.width,height:a.height},e),n,i),p=s?c.x-a.x:0,d=l?c.y-a.y:0;return\\\"raw\\\"===u?(o.x=p,o.y=d):(o.x+=p,o.y+=d),o===t&&t.markRedraw(),!0}function bp(t){var e=t.layoutMode||t.constructor.layoutMode;return q(e)?e:e?{type:e}:null}function wp(t,e,n){var i=n&&n.ignoreSize;!Y(i)&&(i=[i,i]);var r=a(yp[0],0),o=a(yp[1],1);function a(n,r){var o={},a=0,u={},h=0;if(fp(n,(function(e){u[e]=t[e]})),fp(n,(function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&h++})),i[r])return l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null),u;if(2!==h&&a){if(a>=2)return o;for(var c=0;c\u003Cn.length;c++){var p=n[c];if(!s(o,p)&&s(t,p)){o[p]=t[p];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&\\\"auto\\\"!==t[e]}function u(t,e,n){fp(t,(function(t){e[t]=n[t]}))}u(yp[0],t,r),u(yp[1],t,o)}function Sp(t){return Mp({},t)}function Mp(t,e){return e&&t&&fp(gp,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var Ip=So(),Tp=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.uid=gc(\\\"ec_cpt_model\\\"),r}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=bp(this),i=n?Sp(t):{};C(t,e.getTheme().get(this.mainType)),C(t,this.getDefaultOption()),n&&wp(t,i,n)},e.prototype.mergeOption=function(t,e){C(this.option,t,!0);var n=bp(this);n&&wp(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[Ro])}(t))return t.defaultOption;var e=Ip(this);if(!e.defaultOption){for(var n=[],i=t;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},a=n.length-1;a>=0;a--)o=C(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+\\\"Index\\\",i=t+\\\"Id\\\";return Ao(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get(\\\"left\\\"),top:t.get(\\\"top\\\"),right:t.get(\\\"right\\\"),bottom:t.get(\\\"bottom\\\"),width:t.get(\\\"width\\\"),height:t.get(\\\"height\\\")}},e.prototype.getZLevelKey=function(){return\\\"\\\"},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type=\\\"component\\\",t.id=\\\"\\\",t.name=\\\"\\\",t.mainType=\\\"\\\",t.subType=\\\"\\\",t.componentIndex=0}(),e}(dc);zo(Tp,dc),Go(Tp),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var i=No(t);e[i.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var o=No(n).main;t.hasSubTypes(n)&&e[o]&&(r=e[o](i))}return r}}(Tp),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,i,r,o){if(t.length){var a=function(t){var i={},r=[];return E(t,(function(o){var a=n(i,o),s=function(t,e){var n=[];return E(t,(function(t){P(e,t)>=0&&n.push(t)})),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&r.push(o),E(s,(function(t){P(a.predecessor,t)\u003C0&&a.predecessor.push(t);var e=n(i,t);P(e.successor,t)\u003C0&&e.successor.push(o)}))})),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,u={};for(E(t,(function(t){u[t]=!0}));l.length;){var h=l.pop(),c=s[h],p=!!u[h];p&&(r.call(o,h,c.originalDeps.slice()),delete u[h]),E(c.successor,p?f:d)}E(u,(function(){var t=\\\"\\\";throw new Error(t)}))}function d(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function f(t){u[t]=!0,d(t)}}}(Tp,(function(t){var e=[];E(Tp.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=z(e,(function(t){return No(t).main})),\\\"dataset\\\"!==t&&P(e,\\\"dataset\\\")\u003C=0&&e.unshift(\\\"dataset\\\");return e}));var Cp=\\\"\\\";\\\"undefined\\\"!=typeof navigator&&(Cp=navigator.platform||\\\"\\\");var Dp=\\\"rgba(0, 0, 0, 0.2)\\\",Ap={darkMode:\\\"auto\\\",colorBy:\\\"series\\\",color:[\\\"#5470c6\\\",\\\"#91cc75\\\",\\\"#fac858\\\",\\\"#ee6666\\\",\\\"#73c0de\\\",\\\"#3ba272\\\",\\\"#fc8452\\\",\\\"#9a60b4\\\",\\\"#ea7ccc\\\"],gradientColor:[\\\"#f6efa6\\\",\\\"#d88273\\\",\\\"#bf444c\\\"],aria:{decal:{decals:[{color:Dp,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Dp,symbol:\\\"circle\\\",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Dp,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Dp,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Dp,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Dp,symbol:\\\"triangle\\\",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Cp.match(/^Win/)?\\\"Microsoft YaHei\\\":\\\"sans-serif\\\",fontSize:12,fontStyle:\\\"normal\\\",fontWeight:\\\"normal\\\"},blendMode:null,stateAnimation:{duration:300,easing:\\\"cubicOut\\\"},animation:\\\"auto\\\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\\\"cubicInOut\\\",animationEasingUpdate:\\\"cubicInOut\\\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},kp=ft([\\\"tooltip\\\",\\\"label\\\",\\\"itemName\\\",\\\"itemId\\\",\\\"itemGroupId\\\",\\\"seriesName\\\"]),Lp=\\\"original\\\",Pp=\\\"arrayRows\\\",Op=\\\"objectRows\\\",Rp=\\\"keyedColumns\\\",Np=\\\"typedArray\\\",Ep=\\\"unknown\\\",zp=\\\"column\\\",Vp=\\\"row\\\",Bp=1,Fp=2,Gp=3,Wp=So();function Hp(t,e,n){var i={},r=Up(e);if(!r||!t)return i;var o,a,s=[],l=[],u=e.ecModel,h=Wp(u).datasetMap,c=r.uid+\\\"_\\\"+n.seriesLayoutBy;E(t=t.slice(),(function(e,n){var r=q(e)?e:t[n]={name:e};\\\"ordinal\\\"===r.type&&null==o&&(o=n,a=f(r)),i[r.name]=[]}));var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function d(t,e,n){for(var i=0;i\u003Cn;i++)t.push(e+i)}function f(t){var e=t.dimsDef;return e?e.length:1}return E(t,(function(t,e){var n=t.name,r=f(t);if(null==o){var a=p.valueWayDim;d(i[n],a,r),d(l,a,r),p.valueWayDim+=r}else if(o===e)d(i[n],0,r),d(s,0,r);else{a=p.categoryWayDim;d(i[n],a,r),d(l,a,r),p.categoryWayDim+=r}})),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function Yp(t,e,n){var i={};if(!Up(t))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==Op&&o!==Rp||E(a,(function(t,e){\\\"name\\\"===(q(t)?t.name:t)&&(r=e)}));var s=function(){for(var t={},i={},s=[],l=0,u=Math.min(5,n);l\u003Cu;l++){var h=Zp(e.data,o,e.seriesLayoutBy,a,e.startIndex,l);s.push(h);var c=h===Gp;if(c&&null==t.v&&l!==r&&(t.v=l),(null==t.n||t.n===t.v||!c&&s[t.n]===Gp)&&(t.n=l),p(t)&&s[t.n]!==Gp)return t;c||(h===Fp&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function p(t){return null!=t.v&&null!=t.n}return p(t)?t:p(i)?i:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function Up(t){if(!t.get(\\\"data\\\",!0))return Ao(t.ecModel,\\\"dataset\\\",{index:t.get(\\\"datasetIndex\\\",!0),id:t.get(\\\"datasetId\\\",!0)},Co).models[0]}function Xp(t,e){return Zp(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Zp(t,e,n,i,r,o){var a,s,l;if($(t))return Gp;if(i){var u=i[o];q(u)?(s=u.name,l=u.type):X(u)&&(s=u)}if(null!=l)return\\\"ordinal\\\"===l?Bp:Gp;if(e===Pp){var h=t;if(n===Vp){for(var c=h[o],p=0;p\u003C(c||[]).length&&p\u003C5;p++)if(null!=(a=m(c[r+p])))return a}else for(p=0;p\u003Ch.length&&p\u003C5;p++){var d=h[r+p];if(d&&null!=(a=m(d[o])))return a}}else if(e===Op){var f=t;if(!s)return Gp;for(p=0;p\u003Cf.length&&p\u003C5;p++){if((y=f[p])&&null!=(a=m(y[s])))return a}}else if(e===Rp){if(!s)return Gp;if(!(c=t[s])||$(c))return Gp;for(p=0;p\u003Cc.length&&p\u003C5;p++)if(null!=(a=m(c[p])))return a}else if(e===Lp){var g=t;for(p=0;p\u003Cg.length&&p\u003C5;p++){var y,v=fo(y=g[p]);if(!Y(v))return Gp;if(null!=(a=m(v[o])))return a}}function m(t){var e=X(t);return null!=t&&isFinite(t)&&\\\"\\\"!==t?e?Fp:Gp:e&&\\\"-\\\"!==t?Bp:void 0}return Gp}var jp=ft();var qp,Kp,$p,Jp=So(),Qp=So(),td=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var i=ho(this.get(\\\"color\\\",!0)),r=this.get(\\\"colorLayer\\\",!0);return nd(this,Jp,i,r,t,e,n)},t.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,Jp)},t}();function ed(t,e,n,i){var r=ho(t.get([\\\"aria\\\",\\\"decal\\\",\\\"decals\\\"]));return nd(t,Qp,r,null,e,n,i)}function nd(t,e,n,i,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(t,e){for(var n=t.length,i=0;i\u003Cn;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,a):n;if((h=h||n)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t,e,n,i,r,o){i=i||{},this.option=null,this._theme=new dc(i),this._locale=new dc(r),this._optionManager=o},e.prototype.setOption=function(t,e,n){var i=ad(e);this._optionManager.setOption(t,n,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,e){return this._resetOption(t,ad(e))},e.prototype._resetOption=function(t,e){var n=!1,i=this._optionManager;if(!t||\\\"recreate\\\"===t){var r=i.mountOption(\\\"recreate\\\"===t);0,this.option&&\\\"recreate\\\"!==t?(this.restoreData(),this._mergeOption(r,e)):$p(this,r),n=!0}if(\\\"timeline\\\"!==t&&\\\"media\\\"!==t||this.restoreData(),!t||\\\"recreate\\\"===t||\\\"timeline\\\"===t){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||\\\"recreate\\\"===t||\\\"media\\\"===t){var a=i.getMediaOption(this);a.length&&E(a,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=ft(),s=e&&e.replaceMergeMainTypeMap;Wp(this).datasetMap=ft(),E(t,(function(t,e){null!=t&&(Tp.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?T(t):C(n[e],t,!0))})),s&&s.each((function(t,e){Tp.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))})),Tp.topologicalTravel(o,Tp.getAllClassMainTypes(),(function(e){var o=function(t,e,n){var i=jp.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}(this,e,ho(t[e])),a=i.get(e),l=a?s&&s.get(e)?\\\"replaceMerge\\\":\\\"normalMerge\\\":\\\"replaceAll\\\",u=yo(a,o,l);(function(t,e,n){E(t,(function(t){var i=t.newOption;q(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,i){return e.type?e.type:n?n.subType:i.determineSubType(t,e)}(e,i,t.existing,n))}))})(u,e,Tp),n[e]=null,i.set(e,null),r.set(e,0);var h,c=[],p=[],d=0;E(u,(function(t,n){var i=t.existing,r=t.newOption;if(r){var o=\\\"series\\\"===e,a=Tp.getClass(e,t.keyInfo.subType,!o);if(!a)return;if(\\\"tooltip\\\"===e){if(h)return void 0;h=!0}if(i&&i.constructor===a)i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var s=A({componentIndex:n},t.keyInfo);A(i=new a(r,this,this,s),s),t.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(c.push(i.option),p.push(i),d++):(c.push(void 0),p.push(void 0))}),this),n[e]=c,i.set(e,p),r.set(e,d),\\\"series\\\"===e&&qp(this)}),this),this._seriesIndices||qp(this)},e.prototype.getOption=function(){var t=T(this.option);return E(t,(function(e,n){if(Tp.hasClass(n)){for(var i=ho(e),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!bo(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,t[n]=i}})),delete t[\\\"\\\\0_ec_inner\\\"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var i=n[e||0];if(i)return i;if(null==e)for(var r=0;r\u003Cn.length;r++)if(n[r])return n[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=i?(n=[],E(ho(i),(function(t){a[t]&&n.push(a[t])}))):n=null!=r?rd(\\\"id\\\",r,a):null!=o?rd(\\\"name\\\",o,a):B(a,(function(t){return!!t})),od(n,t)):[]},e.prototype.findComponents=function(t){var e,n,i,r,o,a=t.query,s=t.mainType,l=(n=s+\\\"Index\\\",i=s+\\\"Id\\\",r=s+\\\"Name\\\",!(e=a)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),u=l?this.queryComponents(l):B(this._componentsMap.get(s),(function(t){return!!t}));return o=od(u,t),t.filter?B(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if(U(t)){var r=e,o=t;i.each((function(t,e){for(var n=0;t&&n\u003Ct.length;n++){var i=t[n];i&&o.call(r,e,i,i.componentIndex)}}))}else for(var a=X(t)?i.get(t):q(t)?this.findComponents(t):null,s=0;a&&s\u003Ca.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=xo(t,null);return B(this._componentsMap.get(\\\"series\\\"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get(\\\"series\\\")[t]},e.prototype.getSeriesByType=function(t){return B(this._componentsMap.get(\\\"series\\\"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return B(this._componentsMap.get(\\\"series\\\"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get(\\\"series\\\")},e.prototype.eachSeries=function(t,e){Kp(this),E(this._seriesIndices,(function(n){var i=this._componentsMap.get(\\\"series\\\")[n];t.call(e,i,n)}),this)},e.prototype.eachRawSeries=function(t,e){E(this._componentsMap.get(\\\"series\\\"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){Kp(this),E(this._seriesIndices,(function(i){var r=this._componentsMap.get(\\\"series\\\")[i];r.subType===t&&e.call(n,r,i)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return E(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return Kp(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Kp(this);var n=[];E(this._seriesIndices,(function(i){var r=this._componentsMap.get(\\\"series\\\")[i];t.call(e,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=ft(n)},e.prototype.restoreData=function(t){qp(this);var e=this._componentsMap,n=[];e.each((function(t,e){Tp.hasClass(e)&&n.push(e)})),Tp.topologicalTravel(n,Tp.getAllClassMainTypes(),(function(n){E(e.get(n),(function(e){!e||\\\"series\\\"===n&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t)||e.restoreData()}))}))},e.internalField=(qp=function(t){var e=t._seriesIndices=[];E(t._componentsMap.get(\\\"series\\\"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=ft(e)},Kp=function(t){},void($p=function(t,e){t.option={},t.option[\\\"\\\\0_ec_inner\\\"]=1,t._componentsMap=ft({series:[]}),t._componentsCount=ft();var n=e.aria;q(n)&&null==n.enabled&&(n.enabled=!0),function(t,e){var n=t.color&&!t.colorLayer;E(e,(function(e,i){\\\"colorLayer\\\"===i&&n||Tp.hasClass(i)||(\\\"object\\\"==typeof e?t[i]=t[i]?C(t[i],e,!1):T(e):null==t[i]&&(t[i]=e))}))}(e,t._theme.option),C(e,Ap,!1),t._mergeOption(e,null)})),e}(dc);function rd(t,e,n){if(Y(e)){var i=ft();return E(e,(function(t){null!=t&&(null!=xo(t,null)&&i.set(t,!0))})),B(n,(function(e){return e&&i.get(e[t])}))}var r=xo(e,null);return B(n,(function(e){return e&&null!=r&&e[t]===r}))}function od(t,e){return e.hasOwnProperty(\\\"subType\\\")?B(t,(function(t){return t&&t.subType===e.subType})):t}function ad(t){var e=ft();return t&&E(ho(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}R(id,td);var sd=[\\\"getDom\\\",\\\"getZr\\\",\\\"getWidth\\\",\\\"getHeight\\\",\\\"getDevicePixelRatio\\\",\\\"dispatchAction\\\",\\\"isSSR\\\",\\\"isDisposed\\\",\\\"on\\\",\\\"off\\\",\\\"getDataURL\\\",\\\"getConnectedDataURL\\\",\\\"getOption\\\",\\\"getId\\\",\\\"updateLabelLayout\\\"],ld=function(t){E(sd,(function(e){this[e]=W(t[e],t)}),this)},ud={},hd=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];E(ud,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){E(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){ud[t]=e},t.get=function(t){return ud[t]},t}(),cd=/^(min|max)?(.+)$/,pd=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(E(ho(t.series),(function(t){t&&t.data&&$(t.data)&&ct(t.data)})),E(ho(t.dataset),(function(t){t&&t.source&&$(t.source)&&ct(t.source)}))),t=T(t);var i=this._optionBackup,r=function(t,e,n){var i,r,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((c||h)&&(t.options=t.media=null),r=t);h&&Y(u)&&E(u,(function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))}));function p(t){E(e,(function(e){e(t,n)}))}return p(r),E(l,(function(t){return p(t)})),E(o,(function(t){return p(t.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(t,e,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],T(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent(\\\"timeline\\\");i&&(e=T(n[i.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,h=o.length;u\u003Ch;u++)dd(o[u].query,i,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(\\\",\\\")!==n.join(\\\",\\\"))&&(l=z(s,(function(t){return T(-1===t?a.option:o[t].option)}))),this._currentMediaIndices=s,l},t}();function dd(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return E(t,(function(t,e){var n=e.match(cd);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return\\\"min\\\"===n?t>=e:\\\"max\\\"===n?t\u003C=e:t===e})(i[a],t,o)||(r=!1)}})),r}var fd=E,gd=q,yd=[\\\"areaStyle\\\",\\\"lineStyle\\\",\\\"nodeStyle\\\",\\\"linkStyle\\\",\\\"chordStyle\\\",\\\"label\\\",\\\"labelLine\\\"];function vd(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=yd.length;n\u003Ci;n++){var r=yd[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?C(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?C(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function md(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,k(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function xd(t){md(t,\\\"itemStyle\\\"),md(t,\\\"lineStyle\\\"),md(t,\\\"areaStyle\\\"),md(t,\\\"label\\\"),md(t,\\\"labelLine\\\"),md(t,\\\"upperLabel\\\"),md(t,\\\"edgeLabel\\\")}function _d(t,e){var n=gd(t)&&t[e],i=gd(n)&&n.textStyle;if(i){0;for(var r=0,o=po.length;r\u003Co;r++){var a=po[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}}function bd(t){t&&(xd(t),_d(t,\\\"label\\\"),t.emphasis&&_d(t.emphasis,\\\"label\\\"))}function wd(t){return Y(t)?t:t?[t]:[]}function Sd(t){return(Y(t)?t[0]:t)||{}}function Md(t,e){fd(wd(t.series),(function(t){gd(t)&&function(t){if(gd(t)){vd(t),xd(t),_d(t,\\\"label\\\"),_d(t,\\\"upperLabel\\\"),_d(t,\\\"edgeLabel\\\"),t.emphasis&&(_d(t.emphasis,\\\"label\\\"),_d(t.emphasis,\\\"upperLabel\\\"),_d(t.emphasis,\\\"edgeLabel\\\"));var e=t.markPoint;e&&(vd(e),bd(e));var n=t.markLine;n&&(vd(n),bd(n));var i=t.markArea;i&&bd(i);var r=t.data;if(\\\"graph\\\"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!$(o))for(var a=0;a\u003Co.length;a++)bd(o[a]);E(t.categories,(function(t){xd(t)}))}if(r&&!$(r))for(a=0;a\u003Cr.length;a++)bd(r[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a\u003Cs.length;a++)bd(s[a])}if((n=t.markLine)&&n.data){var l=n.data;for(a=0;a\u003Cl.length;a++)Y(l[a])?(bd(l[a][0]),bd(l[a][1])):bd(l[a])}\\\"gauge\\\"===t.type?(_d(t,\\\"axisLabel\\\"),_d(t,\\\"title\\\"),_d(t,\\\"detail\\\")):\\\"treemap\\\"===t.type?(md(t.breadcrumb,\\\"itemStyle\\\"),E(t.levels,(function(t){xd(t)}))):\\\"tree\\\"===t.type&&xd(t.leaves)}}(t)}));var n=[\\\"xAxis\\\",\\\"yAxis\\\",\\\"radiusAxis\\\",\\\"angleAxis\\\",\\\"singleAxis\\\",\\\"parallelAxis\\\",\\\"radar\\\"];e&&n.push(\\\"valueAxis\\\",\\\"categoryAxis\\\",\\\"logAxis\\\",\\\"timeAxis\\\"),fd(n,(function(e){fd(wd(t[e]),(function(t){t&&(_d(t,\\\"axisLabel\\\"),_d(t.axisPointer,\\\"label\\\"))}))})),fd(wd(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;_d(e,\\\"axisLabel\\\"),_d(e&&e.axisPointer,\\\"label\\\")})),fd(wd(t.calendar),(function(t){md(t,\\\"itemStyle\\\"),_d(t,\\\"dayLabel\\\"),_d(t,\\\"monthLabel\\\"),_d(t,\\\"yearLabel\\\")})),fd(wd(t.radar),(function(t){_d(t,\\\"name\\\"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),fd(wd(t.geo),(function(t){gd(t)&&(bd(t),fd(wd(t.regions),(function(t){bd(t)})))})),fd(wd(t.timeline),(function(t){bd(t),md(t,\\\"label\\\"),md(t,\\\"itemStyle\\\"),md(t,\\\"controlStyle\\\",!0);var e=t.data;Y(e)&&E(e,(function(t){q(t)&&(md(t,\\\"label\\\"),md(t,\\\"itemStyle\\\"))}))})),fd(wd(t.toolbox),(function(t){md(t,\\\"iconStyle\\\"),fd(t.feature,(function(t){md(t,\\\"iconStyle\\\")}))})),_d(Sd(t.axisPointer),\\\"label\\\"),_d(Sd(t.tooltip).axisPointer,\\\"label\\\")}function Id(t){t&&E(Td,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var Td=[[\\\"x\\\",\\\"left\\\"],[\\\"y\\\",\\\"top\\\"],[\\\"x2\\\",\\\"right\\\"],[\\\"y2\\\",\\\"bottom\\\"]],Cd=[\\\"grid\\\",\\\"geo\\\",\\\"parallel\\\",\\\"legend\\\",\\\"toolbox\\\",\\\"title\\\",\\\"visualMap\\\",\\\"dataZoom\\\",\\\"timeline\\\"],Dd=[[\\\"borderRadius\\\",\\\"barBorderRadius\\\"],[\\\"borderColor\\\",\\\"barBorderColor\\\"],[\\\"borderWidth\\\",\\\"barBorderWidth\\\"]];function Ad(t){var e=t&&t.itemStyle;if(e)for(var n=0;n\u003CDd.length;n++){var i=Dd[n][1],r=Dd[n][0];null!=e[i]&&(e[r]=e[i])}}function kd(t){t&&\\\"edge\\\"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Ld(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Pd(t,e){if(t)for(var n=0;n\u003Ct.length;n++)e(t[n]),t[n]&&Pd(t[n].children,e)}function Od(t,e){Md(t,e),t.series=ho(t.series),E(t.series,(function(t){if(q(t)){var e=t.type;if(\\\"line\\\"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if(\\\"pie\\\"===e||\\\"gauge\\\"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),kd(t.label),(r=t.data)&&!$(r))for(var n=0;n\u003Cr.length;n++)kd(r[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(\\\"gauge\\\"===e){var i=function(t,e){for(var n=e.split(\\\",\\\"),i=t,r=0;r\u003Cn.length&&null!=(i=i&&i[n[r]]);r++);return i}(t,\\\"pointer.color\\\");null!=i&&function(t,e,n,i){for(var r,o=e.split(\\\",\\\"),a=t,s=0;s\u003Co.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];(i||null==a[o[s]])&&(a[o[s]]=n)}(t,\\\"itemStyle.color\\\",i)}else if(\\\"bar\\\"===e){var r;if(Ad(t),Ad(t.backgroundStyle),Ad(t.emphasis),(r=t.data)&&!$(r))for(n=0;n\u003Cr.length;n++)\\\"object\\\"==typeof r[n]&&(Ad(r[n]),Ad(r[n]&&r[n].emphasis))}else if(\\\"sunburst\\\"===e){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),Ld(t),Pd(t.data,Ld)}else\\\"graph\\\"===e||\\\"sankey\\\"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus=\\\"adjacency\\\"))}(t):\\\"map\\\"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&k(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Id(t)}})),t.dataRange&&(t.visualMap=t.dataRange),E(Cd,(function(e){var n=t[e];n&&(Y(n)||(n=[n]),E(n,(function(t){Id(t)})))}))}function Rd(t){E(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex;a.modify(o,(function(o,l,u){var h,c,p=a.get(e.stackedDimension,u);if(isNaN(p))return r;s?c=a.getRawIndex(u):h=a.get(e.stackedByDimension,u);for(var d=NaN,f=n-1;f>=0;f--){var g=t[f];if(s||(c=g.data.rawIndexOf(g.stackedByDimension,h)),c>=0){var y=g.data.getByRawIndex(g.stackResultDimension,c);if(p>=0&&y>0||p\u003C=0&&y\u003C0){p=Hr(p,y),d=y;break}}}return i[0]=p,i[1]=d,i}))}))}var Nd,Ed,zd,Vd,Bd,Fd=function(t){this.data=t.data||(t.sourceFormat===Rp?{}:[]),this.sourceFormat=t.sourceFormat||Ep,this.seriesLayoutBy=t.seriesLayoutBy||zp,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n\u003Ce.length;n++){var i=e[n];null==i.type&&Xp(this,n)===Bp&&(i.type=\\\"ordinal\\\")}};function Gd(t){return t instanceof Fd}function Wd(t,e,n){n=n||Yd(t);var i=e.seriesLayoutBy,r=function(t,e,n,i,r){var o,a;if(!t)return{dimensionsDefine:Ud(r),startIndex:a,dimensionsDetectedCount:o};if(e===Pp){var s=t;\\\"auto\\\"===i||null==i?Xd((function(t){null!=t&&\\\"-\\\"!==t&&(X(t)?null==a&&(a=1):a=0)}),n,s,10):a=j(i)?i:i?1:0,r||1!==a||(r=[],Xd((function(t,e){r[e]=null!=t?t+\\\"\\\":\\\"\\\"}),n,s,1/0)),o=r?r.length:n===Vp?s.length:s[0]?s[0].length:null}else if(e===Op)r||(r=function(t){var e,n=0;for(;n\u003Ct.length&&!(e=t[n++]););if(e){var i=[];return E(e,(function(t,e){i.push(e)})),i}}(t));else if(e===Rp)r||(r=[],E(t,(function(t,e){r.push(e)})));else if(e===Lp){var l=fo(t[0]);o=Y(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Ud(r),dimensionsDetectedCount:o}}(t,n,i,e.sourceHeader,e.dimensions);return new Fd({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:T(e)})}function Hd(t){return new Fd({data:t,sourceFormat:$(t)?Np:Lp})}function Yd(t){var e=Ep;if($(t))e=Np;else if(Y(t)){0===t.length&&(e=Pp);for(var n=0,i=t.length;n\u003Ci;n++){var r=t[n];if(null!=r){if(Y(r)){e=Pp;break}if(q(r)){e=Op;break}}}}else if(q(t))for(var o in t)if(mt(t,o)&&N(t[o])){e=Rp;break}return e}function Ud(t){if(t){var e=ft();return z(t,(function(t,n){var i={name:(t=q(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+=\\\"\\\",null==i.displayName&&(i.displayName=i.name);var r=e.get(i.name);return r?i.name+=\\\"-\\\"+r.count++:e.set(i.name,{count:1}),i}))}}function Xd(t,e,n,i){if(e===Vp)for(var r=0;r\u003Cn.length&&r\u003Ci;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r\u003Co.length&&r\u003Ci;r++)t(o[r],r)}}function Zd(t){var e=t.sourceFormat;return e===Op||e===Rp}var jd=function(){function t(t,e){var n=Gd(t)?t:Hd(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Np&&(this._offset=0,this._dimSize=e,this._data=i),Bd(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;Bd=function(t,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine,h=Vd[of(a,s)];if(A(t,h),a===Np)t.getItem=e,t.count=i,t.fillStorage=n;else{var c=$d(a,s);t.getItem=W(c,null,r,l,u);var p=tf(a,s);t.count=W(p,null,r,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,r=i*t,o=0;o\u003Ci;o++)e[o]=n[r+o];return e},n=function(t,e,n,i){for(var r=this._data,o=this._dimSize,a=0;a\u003Co;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=n[a],p=0;p\u003Ch;p++){var d=r[p*o+a];c[t+p]=d,d\u003Cl&&(l=d),d>u&&(u=d)}s[0]=l,s[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e\u003Ct.length;e++)this._data.push(t[e])}(t={}).arrayRows_column={pure:!0,appendData:r},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: \\\"row\\\".')}},t.objectRows={pure:!0,appendData:r},t.keyedColumns={pure:!0,appendData:function(t){var e=this._data;E(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r\u003C(t||[]).length;r++)i.push(t[r])}))}},t.original={appendData:r},t.typedArray={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Vd=t}(),t}(),qd=function(t,e,n,i){return t[i]},Kd=((Nd={}).arrayRows_column=function(t,e,n,i){return t[i+e]},Nd.arrayRows_row=function(t,e,n,i,r){i+=e;for(var o=r||[],a=t,s=0;s\u003Ca.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Nd.objectRows=qd,Nd.keyedColumns=function(t,e,n,i,r){for(var o=r||[],a=0;a\u003Cn.length;a++){var s=n[a].name;0;var l=t[s];o[a]=l?l[i]:null}return o},Nd.original=qd,Nd);function $d(t,e){var n=Kd[of(t,e)];return n}var Jd=function(t,e,n){return t.length},Qd=((Ed={}).arrayRows_column=function(t,e,n){return Math.max(0,t.length-e)},Ed.arrayRows_row=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},Ed.objectRows=Jd,Ed.keyedColumns=function(t,e,n){var i=n[0].name;var r=t[i];return r?r.length:0},Ed.original=Jd,Ed);function tf(t,e){var n=Qd[of(t,e)];return n}var ef=function(t,e,n){return t[e]},nf=((zd={}).arrayRows=ef,zd.objectRows=function(t,e,n){return t[n]},zd.keyedColumns=ef,zd.original=function(t,e,n){var i=fo(t);return i instanceof Array?i[e]:i},zd.typedArray=ef,zd);function rf(t){var e=nf[t];return e}function of(t,e){return t===Pp?t+\\\"_\\\"+e:t}function af(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r=t.getStore(),o=r.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=r.getDimensionProperty(a);return rf(o)(i,a,s)}var l=i;return o===Lp&&(l=fo(i)),l}}}var sf=/\\\\{@(.+?)\\\\}/g,lf=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,\\\"style\\\"),l=s&&s[n.getItemVisual(t,\\\"drawType\\\")||\\\"fill\\\"],u=s&&s.stroke,h=this.mainType,c=\\\"series\\\"===h,p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:l,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:[\\\"seriesName\\\",\\\"name\\\",\\\"value\\\"]}},t.prototype.getFormattedLabel=function(t,e,n,i,r,o){e=e||\\\"normal\\\";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=i&&Y(s.value)&&(s.value=s.value[i]),r)||(r=a.getItemModel(t).get(\\\"normal\\\"===e?[\\\"label\\\",\\\"formatter\\\"]:[e,\\\"label\\\",\\\"formatter\\\"]));return U(r)?(s.status=e,s.dimensionIndex=i,r(s)):X(r)?hp(r,s).replace(sf,(function(e,n){var i=n.length,r=n;\\\"[\\\"===r.charAt(0)&&\\\"]\\\"===r.charAt(i-1)&&(r=+r.slice(1,i-1));var s=af(a,t,r);if(o&&Y(o.interpolatedValue)){var l=a.getDimensionIndex(r);l>=0&&(s=o.interpolatedValue[l])}return null!=s?s+\\\"\\\":\\\"\\\"})):void 0},t.prototype.getRawValue=function(t,e){return af(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function uf(t){var e,n;return q(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function hf(t){return new cf(t)}var cf=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var o,a=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e=\\\"reset\\\"),(this._dirty||\\\"reset\\\"===e)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,d=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!i&&(o||p\u003Cd)){var f=this._progress;if(Y(f))for(var g=0;g\u003Cf.length;g++)this._doProgress(f[g],p,d,l,u);else this._doProgress(f,p,d,l,u)}this._dueIndex=d;var y=null!=this._settedOutputEnd?this._settedOutputEnd:d;0,this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,i,r){pf.reset(e,n,i,r),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:pf.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Y(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex\u003Cthis._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),pf=function(){var t,e,n,i,r,o={reset:function(l,u,h,c){e=l,t=u,n=h,i=c,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e\u003Ct?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o\u003Ci?o:e;return e++,a}}();function df(t,e){var n=e&&e.type;return\\\"ordinal\\\"===n?t:(\\\"time\\\"!==n||j(t)||null==t||\\\"-\\\"===t||(t=+jr(t)),null==t||\\\"\\\"===t?NaN:+t)}var ff=ft({number:function(t){return parseFloat(t)},time:function(t){return+jr(t)},trim:function(t){return X(t)?ut(t):t}});function gf(t){return ff.get(t)}var yf={lt:function(t,e){return t\u003Ce},lte:function(t,e){return t\u003C=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},vf=function(){function t(t,e){if(!j(e)){var n=\\\"\\\";0,ao(n)}this._opFn=yf[t],this._rvalFloat=to(e)}return t.prototype.evaluate=function(t){return j(t)?this._opFn(t,this._rvalFloat):this._opFn(to(t),this._rvalFloat)},t}(),mf=function(){function t(t,e){var n=\\\"desc\\\"===t;this._resultLT=n?1:-1,null==e&&(e=n?\\\"min\\\":\\\"max\\\"),this._incomparable=\\\"min\\\"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=j(t)?t:to(t),i=j(e)?e:to(e),r=isNaN(n),o=isNaN(i);if(r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o){var a=X(t),s=X(e);a&&(n=s?t:0),s&&(i=a?e:0)}return n\u003Ci?this._resultLT:n>i?-this._resultLT:0},t}(),xf=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=to(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||\\\"number\\\"!==n&&\\\"number\\\"!==this._rvalTypeof||(e=to(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function _f(t,e){return\\\"eq\\\"===t||\\\"ne\\\"===t?new xf(\\\"eq\\\"===t,e):mt(yf,t)?new vf(t,e):null}var bf=function(){function t(){}return t.prototype.getRawData=function(){throw new Error(\\\"not supported\\\")},t.prototype.getRawDataItem=function(t){throw new Error(\\\"not supported\\\")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return df(t,e)},t}();function wf(t){var e=t.sourceFormat;if(!Df(e)){var n=\\\"\\\";0,ao(n)}return t.data}function Sf(t){var e=t.sourceFormat,n=t.data;if(!Df(e)){var i=\\\"\\\";0,ao(i)}if(e===Pp){for(var r=[],o=0,a=n.length;o\u003Ca;o++)r.push(n[o].slice());return r}if(e===Op){for(r=[],o=0,a=n.length;o\u003Ca;o++)r.push(A({},n[o]));return r}}function Mf(t,e,n){if(null!=n)return j(n)||!isNaN(n)&&!mt(e,n)?t[n]:mt(e,n)?e[n]:void 0}function If(t){return T(t)}var Tf=ft();function Cf(t,e,n,i){var r=\\\"\\\";e.length||ao(r),q(t)||ao(r);var o=t.type,a=Tf.get(o);a||ao(r);var s=z(e,(function(t){return function(t,e){var n=new bf,i=t.data,r=n.sourceFormat=t.sourceFormat,o=t.startIndex,a=\\\"\\\";t.seriesLayoutBy!==zp&&ao(a);var s=[],l={},u=t.dimensionsDefine;if(u)E(u,(function(t,e){var n=t.name,i={index:e,name:n,displayName:t.displayName};if(s.push(i),null!=n){var r=\\\"\\\";mt(l,n)&&ao(r),l[n]=i}}));else for(var h=0;h\u003Ct.dimensionsDetectedCount;h++)s.push({index:h});var c=$d(r,zp);e.__isBuiltIn&&(n.getRawDataItem=function(t){return c(i,o,s,t)},n.getRawData=W(wf,null,t)),n.cloneRawData=W(Sf,null,t);var p=tf(r,zp);n.count=W(p,null,i,o,s);var d=rf(r);n.retrieveValue=function(t,e){var n=c(i,o,s,t);return f(n,e)};var f=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=s[e];return n?d(t,e,n.name):void 0}};return n.getDimensionInfo=W(Mf,null,s,l),n.cloneAllDimensionInfo=W(If,null,s),n}(t,a)})),l=ho(a.transform({upstream:s[0],upstreamList:s,config:T(t.config)}));return z(l,(function(t,n){var i,r=\\\"\\\";q(t)||ao(r),t.data||ao(r),Df(Yd(t.data))||ao(r);var o=e[0];if(o&&0===n&&!t.dimensions){var a=o.startIndex;a&&(t.data=o.data.slice(0,a).concat(t.data)),i={seriesLayoutBy:zp,sourceHeader:a,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:zp,sourceHeader:0,dimensions:t.dimensions};return Wd(t.data,i,null)}))}function Df(t){return t===Pp||t===Op}var Af,kf=\\\"undefined\\\",Lf=typeof Uint32Array===kf?Array:Uint32Array,Pf=typeof Uint16Array===kf?Array:Uint16Array,Of=typeof Int32Array===kf?Array:Int32Array,Rf=typeof Float64Array===kf?Array:Float64Array,Nf={float:Rf,int:Of,ordinal:Array,number:Array,time:Rf};function Ef(t){return t>65535?Lf:Pf}function zf(t,e,n,i,r){var o=Nf[n||\\\"float\\\"];if(r){var a=t[e],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u\u003Cs;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(i)}var Vf=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ft()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),r=this.defaultDimValueGetter=Af[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[];Zd(i);this._dimensions=z(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(t);if(null!=r){if(i[r].type===e)return r}else r=i.length;return i[r]={type:e},n.set(t,r),this._chunks[r]=new Nf[e||\\\"float\\\"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length;0===o&&(r[t]=[1/0,-1/0]);for(var s=r[t],l=o;l\u003Ca;l++){var u=n[l]=e.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}i.ordinalMeta=e,i.ordinalOffset=a,i.type=\\\"ordinal\\\"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n\u003Ci&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e||0),l=0;l\u003Cr;l++){zf(n,l,(d=i[l]).type,s,!0)}for(var u=[],h=a;h\u003Cs;h++)for(var c=h-a,p=0;p\u003Cr;p++){var d=i[p],f=Af.arrayRows.call(this,t[c]||u,d.property,c,p);n[p][h]=f;var g=o[p];f\u003Cg[0]&&(g[0]=f),f>g[1]&&(g[1]=f)}return this._rawCount=this._count=s,{start:a,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=z(o,(function(t){return t.property})),u=0;u\u003Ca;u++){var h=o[u];s[u]||(s[u]=[1/0,-1/0]),zf(r,u,h.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,r,s);else for(var c=[],p=t;p\u003Ce;p++){c=i.getItem(p,c);for(var d=0;d\u003Ca;d++){var f=r[d],g=this._dimValueGetter(c,l[d],p,d);f[p]=g;var y=s[d];g\u003Cy[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e\u003Cthis._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],i=[];if(null==e){e=t,t=[];for(var r=0;r\u003Cthis._dimensions.length;r++)i.push(r)}else i=t;r=0;for(var o=i.length;r\u003Co;r++)n.push(this.get(i[r],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e\u003Cthis._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,i=this.count();n\u003Ci;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t\u003C0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n\u003Cthis._count&&n===t)return t;for(var i=0,r=this._count-1;i\u003C=r;){var o=(i+r)/2|0;if(e[o]\u003Ct)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks[t],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l\u003Cu;l++){var h=e-i[this.getRawIndex(l)],c=Math.abs(h);c\u003C=n&&((c\u003Co||c===o&&h>=0&&a\u003C0)&&(o=c,a=h,s=0),h===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var r=0;r\u003Ci;r++)t[r]=e[r]}else t=new n(e.buffer,0,i)}else{t=new(n=Ef(this._rawCount))(this.count());for(r=0;r\u003Ct.length;r++)t[r]=r}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(Ef(n._rawCount))(i),o=[],a=t.length,s=0,l=t[0],u=n._chunks,h=0;h\u003Ci;h++){var c=void 0,p=n.getRawIndex(h);if(0===a)c=e(h);else if(1===a){c=e(u[l][p],h)}else{for(var d=0;d\u003Ca;d++)o[d]=u[t[d]][p];o[d]=h,c=e.apply(null,o)}c&&(r[s++]=p)}return s\u003Ci&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=G(t),r=i.length;if(!r)return this;var o=e.count(),a=new(Ef(e._rawCount))(o),s=0,l=i[0],u=t[l][0],h=t[l][1],c=e._chunks,p=!1;if(!e._indices){var d=0;if(1===r){for(var f=c[i[0]],g=0;g\u003Cn;g++){((x=f[g])>=u&&x\u003C=h||isNaN(x))&&(a[s++]=d),d++}p=!0}else if(2===r){f=c[i[0]];var y=c[i[1]],v=t[i[1]][0],m=t[i[1]][1];for(g=0;g\u003Cn;g++){var x=f[g],_=y[g];(x>=u&&x\u003C=h||isNaN(x))&&(_>=v&&_\u003C=m||isNaN(_))&&(a[s++]=d),d++}p=!0}}if(!p)if(1===r)for(g=0;g\u003Co;g++){var b=e.getRawIndex(g);((x=c[i[0]][b])>=u&&x\u003C=h||isNaN(x))&&(a[s++]=b)}else for(g=0;g\u003Co;g++){for(var w=!0,S=(b=e.getRawIndex(g),0);S\u003Cr;S++){var M=i[S];((x=c[M][b])\u003Ct[M][0]||x>t[M][1])&&(w=!1)}w&&(a[s++]=e.getRawIndex(g))}return s\u003Co&&(e._indices=a),e._count=s,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var i=t._chunks,r=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,u=0;u\u003Ce.length;u++)l[e[u]]=[1/0,-1/0];for(var h=0;h\u003Ca;h++){for(var c=t.getRawIndex(h),p=0;p\u003Co;p++)s[p]=i[e[p]][c];s[o]=h;var d=n&&n.apply(null,s);if(null!=d){\\\"object\\\"!=typeof d&&(r[0]=d,d=r);for(u=0;u\u003Cd.length;u++){var f=e[u],g=d[u],y=l[f],v=i[f];v&&(v[c]=g),g\u003Cy[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,i,r,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,u=Math.floor(1/e),h=this.getRawIndex(0),c=new(Ef(this._rawCount))(Math.min(2*(Math.ceil(s/u)+2),s));c[l++]=h;for(var p=1;p\u003Cs-1;p+=u){for(var d=Math.min(p+u,s-1),f=Math.min(p+2*u,s),g=(f+d)/2,y=0,v=d;v\u003Cf;v++){var m=a[I=this.getRawIndex(v)];isNaN(m)||(y+=m)}y/=f-d;var x=p,_=Math.min(p+u,s),b=p-1,w=a[h];n=-1,r=x;var S=-1,M=0;for(v=x;v\u003C_;v++){var I;m=a[I=this.getRawIndex(v)];isNaN(m)?(M++,S\u003C0&&(S=I)):(i=Math.abs((b-g)*(m-w)-(b-v)*(y-w)))>n&&(n=i,r=I)}M>0&&M\u003C_-x&&(c[l++]=Math.min(S,r),r=Math.max(S,r)),c[l++]=r,h=r}return c[l++]=this.getRawIndex(s-1),o._count=l,o._indices=c,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,i){for(var r=this.clone([t],!0),o=r._chunks,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),h=r._rawExtent[t]=[1/0,-1/0],c=new(Ef(this._rawCount))(Math.ceil(u/s)),p=0,d=0;d\u003Cu;d+=s){s>u-d&&(s=u-d,a.length=s);for(var f=0;f\u003Cs;f++){var g=this.getRawIndex(d+f);a[f]=l[g]}var y=n(a),v=this.getRawIndex(Math.min(d+i(a,y)||0,u-1));l[v]=y,y\u003Ch[0]&&(h[0]=y),y>h[1]&&(h[1]=y),c[p++]=v}return r._count=p,r._indices=c,r._updateGetRawIdx(),r},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,r=0,o=this.count();r\u003Co;r++){var a=this.getRawIndex(r);switch(n){case 0:e(r);break;case 1:e(i[t[0]][a],r);break;case 2:e(i[t[0]][a],i[t[1]][a],r);break;default:for(var s=0,l=[];s\u003Cn;s++)l[s]=i[t[s]][a];l[s]=r,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s\u003Cr;s++){var l=e[this.getRawIndex(s)];l\u003Co&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,r=0;r\u003Ci.length;r++)n.push(i[r][e]);return n},t.prototype.clone=function(e,n){var i,r,o=new t,a=this._chunks,s=e&&V(e,(function(t,e){return t[e]=!0,t}),{});if(s)for(var l=0;l\u003Ca.length;l++)o._chunks[l]=s[l]?(i=a[l],r=void 0,(r=i.constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=T(this._extent),t._rawExtent=T(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i\u003Cn;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t\u003Cthis._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,i){return df(t[i],this._dimensions[i])}Af={arrayRows:t,objectRows:function(t,e,n,i){return df(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return df(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(t,e,n,i){return t[i]}}}(),t}(),Bf=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+\\\"_\\\"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(Gf(n)){var o=n,a=void 0,s=void 0,l=void 0;if(r){var u=i[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else s=$(a=o.get(\\\"data\\\",!0))?Np:Lp,e=[];var h=this._getSourceMetaRawOption()||{},c=l&&l.metaRawOption||{},p=rt(h.seriesLayoutBy,c.seriesLayoutBy)||null,d=rt(h.sourceHeader,c.sourceHeader),f=rt(h.dimensions,c.dimensions);t=p!==c.seriesLayoutBy||!!d!=!!c.sourceHeader||f?[Wd(a,{seriesLayoutBy:p,sourceHeader:d,dimensions:f},s)]:[]}else{var g=n;if(r){var y=this._applyTransform(i);t=y.sourceList,e=y.upstreamSignList}else{t=[Wd(g.get(\\\"source\\\",!0),this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get(\\\"transform\\\",!0),r=n.get(\\\"fromTransformResult\\\",!0);if(null!=r){var o=\\\"\\\";1!==t.length&&Wf(o)}var a,s=[],l=[];return E(t,(function(t){t.prepareSource();var e=t.getSource(r||0),n=\\\"\\\";null==r||e||Wf(n),s.push(e),l.push(t._getVersionSign())})),i?e=function(t,e,n){var i=ho(t),r=i.length,o=\\\"\\\";r||ao(o);for(var a=0,s=r;a\u003Cs;a++)e=Cf(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s,n.componentIndex):null!=r&&(e=[(a=s[0],new Fd({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:T(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e\u003Ct.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var a=this._getUpstreamSourceManagers()[0];Gf(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new Vf).initData(new jd(e,t.length),t),r[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Gf(t)){var e=Up(t);return e?[e.getSourceManager()]:[]}return z(function(t){return t.get(\\\"transform\\\",!0)||t.get(\\\"fromTransformResult\\\",!0)?Ao(t.ecModel,\\\"dataset\\\",{index:t.get(\\\"fromDatasetIndex\\\",!0),id:t.get(\\\"fromDatasetId\\\",!0)},Co).models:[]}(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;if(Gf(i))t=i.get(\\\"seriesLayoutBy\\\",!0),e=i.get(\\\"sourceHeader\\\",!0),n=i.get(\\\"dimensions\\\",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;t=r.get(\\\"seriesLayoutBy\\\",!0),e=r.get(\\\"sourceHeader\\\",!0),n=r.get(\\\"dimensions\\\",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function Ff(t){t.option.transform&&ct(t.option.transform)}function Gf(t){return\\\"series\\\"===t.mainType}function Wf(t){throw new Error(t)}function Hf(t,e){var n=t.color||\\\"#6e7079\\\",i=t.fontSize||12,r=t.fontWeight||\\\"400\\\",o=t.color||\\\"#464646\\\",a=t.fontSize||14,s=t.fontWeight||\\\"900\\\";return\\\"html\\\"===e?{nameStyle:\\\"font-size:\\\"+ap(i+\\\"\\\")+\\\"px;color:\\\"+ap(n)+\\\";font-weight:\\\"+ap(r+\\\"\\\"),valueStyle:\\\"font-size:\\\"+ap(a+\\\"\\\")+\\\"px;color:\\\"+ap(o)+\\\";font-weight:\\\"+ap(s+\\\"\\\")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var Yf=[0,10,20,30],Uf=[\\\"\\\",\\\"\\\\n\\\",\\\"\\\\n\\\\n\\\",\\\"\\\\n\\\\n\\\\n\\\"];function Xf(t,e){return e.type=t,e}function Zf(t){return\\\"section\\\"===t.type}function jf(t){return Zf(t)?Kf:$f}function qf(t){if(Zf(t)){var e=0,n=t.blocks.length,i=n>1||n>0&&!t.noHeader;return E(t.blocks,(function(t){var n=qf(t);n>=e&&(e=n+ +(i&&(!n||Zf(t)&&!t.noHeader)))})),e}return 0}function Kf(t,e,n,i){var r,o=e.noHeader,a=(r=qf(e),{html:Yf[r],richText:Uf[r]}),s=[],l=e.blocks||[];lt(!l||Y(l)),l=l||[];var u=t.orderMode;if(e.sortBlocks&&u){l=l.slice();var h={valueAsc:\\\"asc\\\",valueDesc:\\\"desc\\\"};if(mt(h,u)){var c=new mf(h[u],null);l.sort((function(t,e){return c.evaluate(t.sortParam,e.sortParam)}))}else\\\"seriesDesc\\\"===u&&l.reverse()}E(l,(function(n,r){var o=e.valueFormatter,l=jf(n)(o?A(A({},t),{valueFormatter:o}):t,n,r>0?a.html:0,i);null!=l&&s.push(l)}));var p=\\\"richText\\\"===t.renderMode?s.join(a.richText):Qf(s.join(\\\"\\\"),o?n:a.html);if(o)return p;var d=sp(e.header,\\\"ordinal\\\",t.useUTC),f=Hf(i,t.renderMode).nameStyle;return\\\"richText\\\"===t.renderMode?tg(t,d,f)+a.richText+p:Qf('\u003Cdiv style=\\\"'+f+\\\";\\\"+'line-height:1;\\\">'+ap(d)+\\\"\u003C/div>\\\"+p,n)}function $f(t,e,n,i){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,h=e.valueFormatter||t.valueFormatter||function(t){return z(t=Y(t)?t:[t],(function(t,e){return sp(t,Y(d)?d[e]:d,u)}))};if(!o||!a){var c=s?\\\"\\\":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||\\\"#333\\\",r),p=o?\\\"\\\":sp(l,\\\"ordinal\\\",u),d=e.valueType,f=a?[]:h(e.value),g=!s||!o,y=!s&&o,v=Hf(i,r),m=v.nameStyle,x=v.valueStyle;return\\\"richText\\\"===r?(s?\\\"\\\":c)+(o?\\\"\\\":tg(t,p,m))+(a?\\\"\\\":function(t,e,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:\\\"right\\\"}),t.markupStyleCreator.wrapRichTextStyle(Y(e)?e.join(\\\"  \\\"):e,o)}(t,f,g,y,x)):Qf((s?\\\"\\\":c)+(o?\\\"\\\":function(t,e,n){return'\u003Cspan style=\\\"'+n+\\\";\\\"+(e?\\\"margin-left:2px\\\":\\\"\\\")+'\\\">'+ap(t)+\\\"\u003C/span>\\\"}(p,!s,m))+(a?\\\"\\\":function(t,e,n,i){var r=n?\\\"10px\\\":\\\"20px\\\",o=e?\\\"float:right;margin-left:\\\"+r:\\\"\\\";return t=Y(t)?t:[t],'\u003Cspan style=\\\"'+o+\\\";\\\"+i+'\\\">'+z(t,(function(t){return ap(t)})).join(\\\"&nbsp;&nbsp;\\\")+\\\"\u003C/span>\\\"}(f,g,y,x)),n)}}function Jf(t,e,n,i,r,o){if(t)return jf(t)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function Qf(t,e){return'\u003Cdiv style=\\\"'+(\\\"margin: \\\"+e+\\\"px 0 0\\\")+\\\";\\\"+'line-height:1;\\\">'+t+'\u003Cdiv style=\\\"clear:both\\\">\u003C/div>\u003C/div>'}function tg(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function eg(t,e){return pp(t.getData().getItemVisual(e,\\\"style\\\")[t.visualDrawType])}function ng(t,e){var n=t.get(\\\"padding\\\");return null!=n?n:\\\"richText\\\"===e?[8,10]:10}var ig=function(){function t(){this.richTextStyles={},this._nextStyleNameId=no()}return t.prototype._generateStyleName=function(){return\\\"__EC_aUTo_\\\"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var i=\\\"richText\\\"===n?this._generateStyleName():null,r=cp({color:e,type:t,renderMode:n,markerId:i});return X(r)?r:(this.richTextStyles[i]=r.style,r.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};Y(e)?E(e,(function(t){return A(n,t)})):A(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,\\\"{\\\"+i+\\\"|\\\"+t+\\\"}\\\"},t}();function rg(t){var e,n,i,r,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll(\\\"defaultedTooltip\\\"),h=u.length,c=o.getRawValue(a),p=Y(c),d=eg(o,a);if(h>1||p&&!h){var f=function(t,e,n,i,r){var o=e.getData(),a=V(t,(function(t,e,n){var i=o.getDimensionInfo(n);return t||i&&!1!==i.tooltip&&null!=i.displayName}),!1),s=[],l=[],u=[];function h(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?u.push(Xf(\\\"nameValue\\\",{markerType:\\\"subItem\\\",markerColor:r,name:n.displayName,value:t,valueType:n.type})):(s.push(t),l.push(n.type)))}return i.length?E(i,(function(t){h(af(o,n,t),t)})):E(t,h),{inlineValues:s,inlineValueTypes:l,blocks:u}}(c,o,a,u,d);e=f.inlineValues,n=f.inlineValueTypes,i=f.blocks,r=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=e=af(l,a,u[0]),n=g.type}else r=e=p?c[0]:c;var y=_o(o),v=y&&o.name||\\\"\\\",m=l.getName(a),x=s?v:m;return Xf(\\\"section\\\",{header:v,noHeader:s||!y,sortParam:r,blocks:[Xf(\\\"nameValue\\\",{markerType:\\\"item\\\",markerColor:d,name:x,noName:!ut(x),value:e,valueType:n})].concat(i||[])})}var og=So();function ag(t,e){return t.getName(e)||t.getId(e)}var sg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return n(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=hf({count:ug,reset:hg}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(og(this).sourceManager=new Bf(this)).prepareSource();var i=this.getInitialData(t,n);pg(i,this),this.dataTask.context.data=i,og(this).dataBeforeProcessed=i,lg(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=bp(this),i=n?Sp(t):{},r=this.subType;Tp.hasClass(r)&&(r+=\\\"Series\\\"),C(t,e.getTheme().get(this.subType)),C(t,this.getDefaultOption()),co(t,\\\"label\\\",[\\\"show\\\"]),this.fillDataTextStyle(t.data),n&&wp(t,i,n)},e.prototype.mergeOption=function(t,e){t=C(this.option,t,!0),this.fillDataTextStyle(t.data);var n=bp(this);n&&wp(this.option,t,n);var i=og(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(t,e);pg(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,og(this).dataBeforeProcessed=r,lg(this),this._initSelectedMapFromData(r)},e.prototype.fillDataTextStyle=function(t){if(t&&!$(t))for(var e=[\\\"show\\\"],n=0;n\u003Ct.length;n++)t[n]&&t[n].label&&co(t[n],\\\"label\\\",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=fg(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return og(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=fg(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}og(this).data=t},e.prototype.getEncode=function(){var t=this.get(\\\"encode\\\",!0);if(t)return ft(t)},e.prototype.getSourceManager=function(){return og(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return og(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get(\\\"colorBy\\\")||\\\"series\\\"},e.prototype.isColorBySeries=function(){return\\\"series\\\"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return rg({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(r.node&&(!t||!t.ssr))return!1;var e=this.getShallow(\\\"animation\\\");return e&&this.getData().count()>this.getShallow(\\\"animationThreshold\\\")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel,r=td.prototype.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get(\\\"progressive\\\")},e.prototype.getProgressiveThreshold=function(){return this.get(\\\"progressiveThreshold\\\")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(e);if(\\\"series\\\"===i||\\\"all\\\"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o\u003Ct.length;o++){var a=ag(r,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i\u003Ct.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if(\\\"all\\\"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=G(t),n=[],i=0;i\u003Ce.length;i++){var r=t[e[i]];r>=0&&n.push(r)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(e);return(\\\"all\\\"===n||n[ag(i,t)])&&!i.getItemModel(t).get([\\\"select\\\",\\\"disabled\\\"])},e.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,i,r=this.option,o=r.selectedMode,a=e.length;if(o&&a)if(\\\"series\\\"===o)r.selectedMap=\\\"all\\\";else if(\\\"multiple\\\"===o){q(r.selectedMap)||(r.selectedMap={});for(var s=r.selectedMap,l=0;l\u003Ca;l++){var u=e[l];s[c=ag(t,u)]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(u)}}else if(\\\"single\\\"===o||!0===o){var h=e[a-1],c=ag(t,h);r.selectedMap=((n={})[c]=!0,n),this._selectedDataIndicesMap=((i={})[c]=t.getRawIndex(h),i)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var i=t.getRawDataItem(n);i&&i.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Tp.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type=\\\"series.__base__\\\",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol=\\\"circle\\\",t.visualStyleAccessPath=\\\"itemStyle\\\",t.visualDrawType=\\\"fill\\\"}(),e}(Tp);function lg(t){var e=t.name;_o(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll(\\\"seriesName\\\"),i=[];return E(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)})),i.join(\\\" \\\")}(t)||e)}function ug(t){return t.model.getRawData().count()}function hg(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),cg}function cg(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function pg(t,e){E(gt(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,H(dg,e))}))}function dg(t,e){var n=fg(t);return n&&n.setOutputEnd((e||this).count()),e}function fg(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}R(sg,lf),R(sg,td),zo(sg,Tp);var gg=function(){function t(){this.group=new Cr,this.uid=gc(\\\"viewComponent\\\")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){},t.prototype.updateLayout=function(t,e,n,i){},t.prototype.updateVisual=function(t,e,n,i){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();function yg(){var t=So();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&\\\"reset\\\"}}Eo(gg),Go(gg);var vg=So(),mg=yg(),xg=function(){function t(){this.group=new Cr,this.uid=gc(\\\"viewChart\\\"),this.renderTask=hf({plan:wg,reset:Sg}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){0},t.prototype.highlight=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&bg(r,i,\\\"emphasis\\\")},t.prototype.downplay=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&bg(r,i,\\\"normal\\\")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.eachRendered=function(t){Vh(this.group,t)},t.markUpdateMethod=function(t,e){vg(t).updateMethod=e},t.protoInitialize=void(t.prototype.type=\\\"chart\\\"),t}();function _g(t,e,n){t&&Fl(t)&&(\\\"emphasis\\\"===e?_l:bl)(t,n)}function bg(t,e,n){var i=wo(t,e),r=e&&null!=e.highlightKey?function(t){var e=Xs[t];return null==e&&Us\u003C=32&&(e=Xs[t]=Us++),e}(e.highlightKey):null;null!=i?E(ho(i),(function(e){_g(t.getItemGraphicEl(e),n,r)})):t.eachItemGraphicEl((function(t){_g(t,n,r)}))}function wg(t){return mg(t.model)}function Sg(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&vg(r).updateMethod,l=o?\\\"incrementalPrepareRender\\\":s&&a[s]?s:\\\"render\\\";return\\\"render\\\"!==l&&a[l](e,n,i,r),Mg[l]}Eo(xg),Go(xg);var Mg={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Ig=\\\"\\\\0__throttleOriginMethod\\\",Tg=\\\"\\\\0__throttleRate\\\",Cg=\\\"\\\\0__throttleType\\\";function Dg(t,e,n){var i,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var p=function(){for(var t=[],p=0;p\u003Carguments.length;p++)t[p]=arguments[p];i=(new Date).getTime(),o=this,a=t;var d=s||e,f=s||n;s=null,r=i-(f?l:u)-d,clearTimeout(h),f?h=setTimeout(c,d):r>=0?c():h=setTimeout(c,-r),l=i};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(t){s=t},p}function Ag(t,e,n,i){var r=t[e];if(r){var o=r[Ig]||r,a=r[Cg];if(r[Tg]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=Dg(o,n,\\\"debounce\\\"===i))[Ig]=o,r[Cg]=i,r[Tg]=n}return r}}function kg(t,e){var n=t[e];n&&n[Ig]&&(n.clear&&n.clear(),t[e]=n[Ig])}var Lg=So(),Pg={itemStyle:Wo(hc,!0),lineStyle:Wo(sc,!0)},Og={lineStyle:\\\"stroke\\\",itemStyle:\\\"fill\\\"};function Rg(t,e){var n=t.visualStyleMapper||Pg[e];return n||(console.warn(\\\"Unkown style type '\\\"+e+\\\"'.\\\"),Pg.itemStyle)}function Ng(t,e){var n=t.visualDrawType||Og[e];return n||(console.warn(\\\"Unkown style type '\\\"+e+\\\"'.\\\"),\\\"fill\\\")}var Eg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||\\\"itemStyle\\\",r=t.getModel(i),o=Rg(t,i)(r),a=r.getShallow(\\\"decal\\\");a&&(n.setVisual(\\\"decal\\\",a),a.dirty=!0);var s=Ng(t,i),l=o[s],u=U(l)?l:null,h=\\\"auto\\\"===o.fill||\\\"auto\\\"===o.stroke;if(!o[s]||u||h){var c=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[s]||(o[s]=c,n.setVisual(\\\"colorFromPalette\\\",!0)),o.fill=\\\"auto\\\"===o.fill||U(o.fill)?c:o.fill,o.stroke=\\\"auto\\\"===o.stroke||U(o.stroke)?c:o.stroke}if(n.setVisual(\\\"style\\\",o),n.setVisual(\\\"drawType\\\",s),!e.isSeriesFiltered(t)&&u)return n.setVisual(\\\"colorFromPalette\\\",!1),{dataEach:function(e,n){var i=t.getDataParams(n),r=A({},o);r[s]=u(i),e.setItemVisual(n,\\\"style\\\",r)}}}},zg=new dc,Vg={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),i=t.visualStyleAccessPath||\\\"itemStyle\\\",r=Rg(t,i),o=n.getVisual(\\\"drawType\\\");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[i]){zg.option=n[i];var a=r(zg);A(t.ensureUniqueItemVisual(e,\\\"style\\\"),a),zg.option.decal&&(t.setItemVisual(e,\\\"decal\\\",zg.option.decal),zg.option.decal.dirty=!0),o in a&&t.setItemVisual(e,\\\"colorFromPalette\\\",!1)}}:null}}}},Bg={performRawSeries:!0,overallReset:function(t){var e=ft();t.eachSeries((function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+\\\"-\\\"+n,r=e.get(i);r||(r={},e.set(i,r)),Lg(t).scope=r}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),i={},r=e.getData(),o=Lg(e).scope,a=e.visualStyleAccessPath||\\\"itemStyle\\\",s=Ng(e,a);r.each((function(t){var e=r.getRawIndex(t);i[e]=t})),n.each((function(t){var a=i[t];if(r.getItemVisual(a,\\\"colorFromPalette\\\")){var l=r.ensureUniqueItemVisual(a,\\\"style\\\"),u=n.getName(t)||t+\\\"\\\",h=n.count();l[s]=e.getColorFromPalette(u,o,h)}}))}}))}},Fg=Math.PI;var Gg=function(){function t(t,e,n,i){this._stageTaskMap=ft(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get(\\\"large\\\")&&i>=t.get(\\\"largeThreshold\\\"),a=\\\"mod\\\"===t.get(\\\"progressiveChunkMode\\\")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ft();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;E(this._allHandlers,(function(i){var r=t.get(i.uid)||t.set(i.uid,{}),o=\\\"\\\";lt(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,r,e,n),i.overallReset&&this._createOverallStageTask(i,r,e,n)}),this)},t.prototype.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,i){i=i||{};var r=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}E(t,(function(t,s){if(!i.visualType||i.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,p=h.agentStubMap;p.each((function(t){a(i,t)&&(t.dirty(),c=!0)})),c&&h.dirty(),o.updatePayload(h,n);var d=o.getPerformArgs(h,i.block);p.each((function(t){t.perform(d)})),h.perform(d)&&(r=!0)}else u&&u.each((function(s,l){a(i,s)&&s.dirty();var u=o.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){\\\"remain\\\"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,i){var r=this,o=e.seriesTaskMap,a=e.seriesTaskMap=ft(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||hf({plan:Xg,reset:Zg,count:Kg}));l.context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,i).each(u)},t.prototype._createOverallStageTask=function(t,e,n,i){var r=this,o=e.overallTask=e.overallTask||hf({reset:Wg});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=ft(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=!1,p=\\\"\\\";function d(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(c=!0,hf({reset:Hg,onDirty:Ug})));n.context={model:t,overallProgress:h},n.agent=o,n.__block=h,r._pipe(t,n)}lt(!t.createOnAllSeries,p),l?n.eachRawSeriesByType(l,d):u?u(n,i).each(d):(h=!1,E(n.getSeries(),d)),c&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},t.wrapStageHandler=function(t,e){return U(t)&&(t={overallReset:t,seriesType:$g(t)}),t.uid=gc(\\\"stageHandler\\\"),e&&(t.visualType=e),t},t}();function Wg(t){t.overallReset(t.ecModel,t.api,t.payload)}function Hg(t){return t.overallProgress&&Yg}function Yg(){this.agent.dirty(),this.getDownstream().dirty()}function Ug(){this.agent&&this.agent.dirty()}function Xg(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Zg(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=ho(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?z(e,(function(t,e){return qg(e)})):jg}var jg=qg(0);function qg(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o\u003Ce.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function Kg(t){return t.data.count()}function $g(t){Jg=null;try{t(Qg,ty)}catch(t){}return Jg}var Jg,Qg={},ty={};function ey(t,e){for(var n in e.prototype)t[n]=xt}ey(Qg,id),ey(ty,ld),Qg.eachSeriesByType=Qg.eachRawSeriesByType=function(t){Jg=t},Qg.eachComponent=function(t){\\\"series\\\"===t.mainType&&t.subType&&(Jg=t.subType)};var ny=[\\\"#37A2DA\\\",\\\"#32C5E9\\\",\\\"#67E0E3\\\",\\\"#9FE6B8\\\",\\\"#FFDB5C\\\",\\\"#ff9f7f\\\",\\\"#fb7293\\\",\\\"#E062AE\\\",\\\"#E690D1\\\",\\\"#e7bcf3\\\",\\\"#9d96f5\\\",\\\"#8378EA\\\",\\\"#96BFFF\\\"],iy={color:ny,colorLayer:[[\\\"#37A2DA\\\",\\\"#ffd85c\\\",\\\"#fd7b5f\\\"],[\\\"#37A2DA\\\",\\\"#67E0E3\\\",\\\"#FFDB5C\\\",\\\"#ff9f7f\\\",\\\"#E062AE\\\",\\\"#9d96f5\\\"],[\\\"#37A2DA\\\",\\\"#32C5E9\\\",\\\"#9FE6B8\\\",\\\"#FFDB5C\\\",\\\"#ff9f7f\\\",\\\"#fb7293\\\",\\\"#e7bcf3\\\",\\\"#8378EA\\\",\\\"#96BFFF\\\"],ny]},ry=\\\"#B9B8CE\\\",oy=\\\"#100C2A\\\",ay=function(){return{axisLine:{lineStyle:{color:ry}},splitLine:{lineStyle:{color:\\\"#484753\\\"}},splitArea:{areaStyle:{color:[\\\"rgba(255,255,255,0.02)\\\",\\\"rgba(255,255,255,0.05)\\\"]}},minorSplitLine:{lineStyle:{color:\\\"#20203B\\\"}}}},sy=[\\\"#4992ff\\\",\\\"#7cffb2\\\",\\\"#fddd60\\\",\\\"#ff6e76\\\",\\\"#58d9f9\\\",\\\"#05c091\\\",\\\"#ff8a45\\\",\\\"#8d48e3\\\",\\\"#dd79ff\\\"],ly={darkMode:!0,color:sy,backgroundColor:oy,axisPointer:{lineStyle:{color:\\\"#817f91\\\"},crossStyle:{color:\\\"#817f91\\\"},label:{color:\\\"#fff\\\"}},legend:{textStyle:{color:ry}},textStyle:{color:ry},title:{textStyle:{color:\\\"#EEF1FA\\\"},subtextStyle:{color:\\\"#B9B8CE\\\"}},toolbox:{iconStyle:{borderColor:ry}},dataZoom:{borderColor:\\\"#71708A\\\",textStyle:{color:ry},brushStyle:{color:\\\"rgba(135,163,206,0.3)\\\"},handleStyle:{color:\\\"#353450\\\",borderColor:\\\"#C5CBE3\\\"},moveHandleStyle:{color:\\\"#B0B6C3\\\",opacity:.3},fillerColor:\\\"rgba(135,163,206,0.2)\\\",emphasis:{handleStyle:{borderColor:\\\"#91B7F2\\\",color:\\\"#4D587D\\\"},moveHandleStyle:{color:\\\"#636D9A\\\",opacity:.7}},dataBackground:{lineStyle:{color:\\\"#71708A\\\",width:1},areaStyle:{color:\\\"#71708A\\\"}},selectedDataBackground:{lineStyle:{color:\\\"#87A3CE\\\"},areaStyle:{color:\\\"#87A3CE\\\"}}},visualMap:{textStyle:{color:ry}},timeline:{lineStyle:{color:ry},label:{color:ry},controlStyle:{color:ry,borderColor:ry}},calendar:{itemStyle:{color:oy},dayLabel:{color:ry},monthLabel:{color:ry},yearLabel:{color:ry}},timeAxis:ay(),logAxis:ay(),valueAxis:ay(),categoryAxis:ay(),line:{symbol:\\\"circle\\\"},graph:{color:sy},gauge:{title:{color:ry},axisLine:{lineStyle:{color:[[1,\\\"rgba(207,212,219,0.2)\\\"]]}},axisLabel:{color:ry},detail:{color:\\\"#EEF1FA\\\"}},candlestick:{itemStyle:{color:\\\"#f64e56\\\",color0:\\\"#54ea92\\\",borderColor:\\\"#f64e56\\\",borderColor0:\\\"#54ea92\\\"}}};ly.categoryAxis.splitLine.show=!1;var uy=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},i={};if(X(t)){var r=No(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=[\\\"Index\\\",\\\"Name\\\",\\\"Id\\\"],a={name:1,dataIndex:1,dataType:1};E(t,(function(t,r){for(var s=!1,l=0;l\u003Co.length;l++){var u=o[l],h=r.lastIndexOf(u);if(h>0&&h===r.length-u.length){var c=r.slice(0,h);\\\"data\\\"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(r)&&(n[r]=t,s=!0),s||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,\\\"mainType\\\")&&u(s,o,\\\"subType\\\")&&u(s,o,\\\"index\\\",\\\"componentIndex\\\")&&u(s,o,\\\"name\\\")&&u(s,o,\\\"id\\\")&&u(l,r,\\\"name\\\")&&u(l,r,\\\"dataIndex\\\")&&u(l,r,\\\"dataType\\\")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,r));function u(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),hy=[\\\"symbol\\\",\\\"symbolSize\\\",\\\"symbolRotate\\\",\\\"symbolOffset\\\"],cy=hy.concat([\\\"symbolKeepAspect\\\"]),py={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual(\\\"legendIcon\\\",t.legendIcon),t.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a\u003Chy.length;a++){var s=hy[a],l=t.get(s);U(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||t.defaultSymbol,n.setVisual(A({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get(\\\"symbolKeepAspect\\\")},i)),!e.isSeriesFiltered(t)){var u=G(r);return{dataEach:o?function(e,n){for(var i=t.getRawValue(n),o=t.getDataParams(n),a=0;a\u003Cu.length;a++){var s=u[a];e.setItemVisual(n,s,r[s](i,o))}}:null}}}}},dy={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),i=0;i\u003Ccy.length;i++){var r=cy[i],o=n.getShallow(r,!0);null!=o&&t.setItemVisual(e,r,o)}}:null}}};function fy(t,e,n){switch(n){case\\\"color\\\":return t.getItemVisual(e,\\\"style\\\")[t.getVisual(\\\"drawType\\\")];case\\\"opacity\\\":return t.getItemVisual(e,\\\"style\\\").opacity;case\\\"symbol\\\":case\\\"symbolSize\\\":case\\\"liftZ\\\":return t.getItemVisual(e,n);default:0}}function gy(t,e){switch(e){case\\\"color\\\":return t.getVisual(\\\"style\\\")[t.getVisual(\\\"drawType\\\")];case\\\"opacity\\\":return t.getVisual(\\\"style\\\").opacity;case\\\"symbol\\\":case\\\"symbolSize\\\":case\\\"liftZ\\\":return t.getVisual(e);default:0}}function yy(t,e,n,i){switch(n){case\\\"color\\\":t.ensureUniqueItemVisual(e,\\\"style\\\")[t.getVisual(\\\"drawType\\\")]=i,t.setItemVisual(e,\\\"colorFromPalette\\\",!1);break;case\\\"opacity\\\":t.ensureUniqueItemVisual(e,\\\"style\\\").opacity=i;break;case\\\"symbol\\\":case\\\"symbolSize\\\":case\\\"liftZ\\\":t.setItemVisual(e,n,i);break;default:0}}function vy(t,e){function n(e,n){var i=[];return e.eachComponent({mainType:\\\"series\\\",subType:t,query:n},(function(t){i.push(t.seriesIndex)})),i}E([[t+\\\"ToggleSelect\\\",\\\"toggleSelect\\\"],[t+\\\"Select\\\",\\\"select\\\"],[t+\\\"UnSelect\\\",\\\"unselect\\\"]],(function(t){e(t[0],(function(e,i,r){e=A({},e),r.dispatchAction(A(e,{type:t[1],seriesIndex:n(i,e)}))}))}))}function my(t,e,n,i,r){var o=t+e;n.isSilent(o)||i.eachComponent({mainType:\\\"series\\\",subType:\\\"pie\\\"},(function(t){for(var e=t.seriesIndex,i=t.option.selectedMap,a=r.selected,s=0;s\u003Ca.length;s++)if(a[s].seriesIndex===e){var l=t.getData(),u=wo(l,r.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:Y(u)?l.getName(u[0]):l.getName(u),selected:X(i)?i:A({},i)})}}))}function xy(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}var _y=Math.round(9*Math.random()),by=\\\"function\\\"==typeof Object.defineProperty,wy=function(){function t(){this._id=\\\"__ec_inner_\\\"+_y++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return by?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError(\\\"Value of WeakMap is not a non-null object.\\\");return t},t}(),Sy=gs.extend({type:\\\"triangle\\\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),My=gs.extend({type:\\\"diamond\\\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),Iy=gs.extend({type:\\\"pin\\\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),d=.6*a,f=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*d,l+s+p*d,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-h+c*d,l+s+p*d,n-h,l+s),t.closePath()}}),Ty=gs.extend({type:\\\"arrow\\\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),Cy={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},Dy={};E({line:zu,rect:Cs,roundRect:Cs,square:Cs,circle:hu,diamond:My,pin:Iy,arrow:Ty,triangle:Sy},(function(t,e){Dy[e]=new t}));var Ay=gs.extend({type:\\\"symbol\\\",shape:{symbolType:\\\"\\\",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=yr(t,e,n),r=this.shape;return r&&\\\"pin\\\"===r.symbolType&&\\\"inside\\\"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if(\\\"none\\\"!==i){var r=Dy[i];r||(r=Dy[i=\\\"rect\\\"]),Cy[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function ky(t,e){if(\\\"image\\\"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||\\\"#fff\\\",n.lineWidth=2):\\\"line\\\"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function Ly(t,e,n,i,r,o,a){var s,l=0===t.indexOf(\\\"empty\\\");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf(\\\"image://\\\")?_h(t.slice(8),new sr(e,n,i,r),a?\\\"center\\\":\\\"cover\\\"):0===t.indexOf(\\\"path://\\\")?xh(t.slice(7),{},new sr(e,n,i,r),a?\\\"center\\\":\\\"cover\\\"):new Ay({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=ky,o&&s.setColor(o),s}function Py(t){return Y(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function Oy(t,e){if(null!=t)return Y(t)||(t=[t,t]),[Er(t[0],e[0])||0,Er(rt(t[1],t[0]),e[1])||0]}function Ry(t,e,n){for(var i=\\\"radial\\\"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}(t,e,n),r=e.colorStops,o=0;o\u003Cr.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Ny(t){return parseInt(t,10)}function Ey(t,e,n){var i=[\\\"width\\\",\\\"height\\\"][e],r=[\\\"clientWidth\\\",\\\"clientHeight\\\"][e],o=[\\\"paddingLeft\\\",\\\"paddingTop\\\"][e],a=[\\\"paddingRight\\\",\\\"paddingBottom\\\"][e];if(null!=n[i]&&\\\"auto\\\"!==n[i])return parseFloat(n[i]);var s=document.defaultView.getComputedStyle(t);return(t[r]||Ny(s[i])||Ny(t.style[i]))-(Ny(s[o])||0)-(Ny(s[a])||0)|0}function zy(t){var e,n,i=t.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,n=i.lineWidth,e&&\\\"solid\\\"!==e&&n>0?\\\"dashed\\\"===e?[4*n,2*n]:\\\"dotted\\\"===e?[n]:j(e)?[e]:Y(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(r=z(r,(function(t){return t/a})),o/=a)}return[r,o]}var Vy=new qa(!0);function By(t){var e=t.stroke;return!(null==e||\\\"none\\\"===e||!(t.lineWidth>0))}function Fy(t){return\\\"string\\\"==typeof t&&\\\"none\\\"!==t}function Gy(t){var e=t.fill;return null!=e&&\\\"none\\\"!==e}function Wy(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function Hy(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function Yy(t,e,n){var i=Zo(e.image,e.__image,n);if(qo(i)){var r=t.createPattern(i,e.repeat||\\\"repeat\\\");if(\\\"function\\\"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*_t),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var Uy=[\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\"],Xy=[[\\\"lineCap\\\",\\\"butt\\\"],[\\\"lineJoin\\\",\\\"miter\\\"],[\\\"miterLimit\\\",10]];function Zy(t,e,n,i,r){var o=!1;if(!i&&e===(n=n||{}))return!1;if(i||e.opacity!==n.opacity){Ky(t,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?ua.opacity:a}(i||e.blend!==n.blend)&&(o||(Ky(t,r),o=!0),t.globalCompositeOperation=e.blend||ua.blend);for(var s=0;s\u003CUy.length;s++){var l=Uy[s];(i||e[l]!==n[l])&&(o||(Ky(t,r),o=!0),t[l]=t.dpr*(e[l]||0))}return(i||e.shadowColor!==n.shadowColor)&&(o||(Ky(t,r),o=!0),t.shadowColor=e.shadowColor||ua.shadowColor),o}function jy(t,e,n,i,r){var o=$y(e,r.inHover),a=i?null:n&&$y(n,r.inHover)||{};if(o===a)return!1;var s=Zy(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Ky(t,r),s=!0),Fy(o.fill)&&(t.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Ky(t,r),s=!0),Fy(o.stroke)&&(t.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Ky(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Ky(t,r),s=!0),t.lineWidth=l)}for(var u=0;u\u003CXy.length;u++){var h=Xy[u],c=h[0];(i||o[c]!==a[c])&&(s||(Ky(t,r),s=!0),t[c]=o[c]||h[1])}return s}function qy(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}function Ky(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill=\\\"\\\",e.batchStroke=\\\"\\\"}function $y(t,e){return e&&t.__hoverStyle||t.style}function Jy(t,e){Qy(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Qy(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,s=n.prevElClipPaths,l=!1,u=!1;if(s&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n\u003Ct.length;n++)if(t[n]!==e[n])return!0;return!1}(o,s)||(s&&s.length&&(Ky(t,n),t.restore(),u=l=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(Ky(t,n),t.save(),function(t,e,n){for(var i=!1,r=0;r\u003Ct.length;r++){var o=t[r];i=i||o.isZeroArea(),qy(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}(o,t,n),l=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var h=n.prevEl;h||(u=l=!0);var c,p,d=e instanceof gs&&e.autoBatch&&function(t){var e=Gy(t),n=By(t);return!(t.lineDash||!(+e^+n)||e&&\\\"string\\\"!=typeof t.fill||n&&\\\"string\\\"!=typeof t.stroke||t.strokePercent\u003C1||t.strokeOpacity\u003C1||t.fillOpacity\u003C1)}(e.style);l||(c=r,p=h.transform,c&&p?c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2]||c[3]!==p[3]||c[4]!==p[4]||c[5]!==p[5]:c||p)?(Ky(t,n),qy(t,e)):d||Ky(t,n);var f=$y(e,n.inHover);e instanceof gs?(1!==n.lastDrawType&&(u=!0,n.lastDrawType=1),jy(t,e,h,u,n),d&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var r,o=By(n),a=Gy(n),s=n.strokePercent,l=s\u003C1,u=!e.path;e.silent&&!l||!u||e.createPathProxy();var h=e.path||Vy,c=e.__dirty;if(!i){var p=n.fill,d=n.stroke,f=a&&!!p.colorStops,g=o&&!!d.colorStops,y=a&&!!p.image,v=o&&!!d.image,m=void 0,x=void 0,_=void 0,b=void 0,w=void 0;(f||g)&&(w=e.getBoundingRect()),f&&(m=c?Ry(t,p,w):e.__canvasFillGradient,e.__canvasFillGradient=m),g&&(x=c?Ry(t,d,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=x),y&&(_=c||!e.__canvasFillPattern?Yy(t,p,e):e.__canvasFillPattern,e.__canvasFillPattern=_),v&&(b=c||!e.__canvasStrokePattern?Yy(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=_),f?t.fillStyle=m:y&&(_?t.fillStyle=_:a=!1),g?t.strokeStyle=x:v&&(b?t.strokeStyle=b:o=!1)}var S,M,I=e.getGlobalScale();h.setScale(I[0],I[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(S=(r=zy(e))[0],M=r[1]);var T=!0;(u||4&c)&&(h.setDPR(t.dpr),l?h.setContext(null):(h.setContext(t),T=!1),h.reset(),e.buildPath(h,e.shape,i),h.toStatic(),e.pathUpdated()),T&&h.rebuildPath(t,l?s:1),S&&(t.setLineDash(S),t.lineDashOffset=M),i||(n.strokeFirst?(o&&Hy(t,n),a&&Wy(t,n)):(a&&Wy(t,n),o&&Hy(t,n))),S&&t.setLineDash([])}(t,e,f,d),d&&(n.batchFill=f.fill||\\\"\\\",n.batchStroke=f.stroke||\\\"\\\")):e instanceof vs?(3!==n.lastDrawType&&(u=!0,n.lastDrawType=3),jy(t,e,h,u,n),function(t,e,n){var i,r=n.text;if(null!=r&&(r+=\\\"\\\"),r){t.font=n.font||a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,s=void 0;t.setLineDash&&n.lineDash&&(o=(i=zy(e))[0],s=i[1]),o&&(t.setLineDash(o),t.lineDashOffset=s),n.strokeFirst?(By(n)&&t.strokeText(r,n.x,n.y),Gy(n)&&t.fillText(r,n.x,n.y)):(Gy(n)&&t.fillText(r,n.x,n.y),By(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}(t,e,f)):e instanceof _s?(2!==n.lastDrawType&&(u=!0,n.lastDrawType=2),function(t,e,n,i,r){Zy(t,$y(e,r.inHover),n&&$y(n,r.inHover),i,r)}(t,e,h,u,n),function(t,e,n){var i=e.__image=Zo(n.image,e.__image,e,e.onload);if(i&&qo(i)){var r=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(i,u,h,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var c=a-(u=n.sx),p=s-(h=n.sy);t.drawImage(i,u,h,c,p,r,o,a,s)}else t.drawImage(i,r,o,a,s)}}(t,e,f)):e.getTemporalDisplayables&&(4!==n.lastDrawType&&(u=!0,n.lastDrawType=4),function(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=i.length;o\u003Ca;o++){(h=i[o]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Qy(t,h,s,o===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}for(var l=0,u=r.length;l\u003Cu;l++){var h;(h=r[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),Qy(t,h,s,l===u-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),d&&i&&Ky(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var tv=new wy,ev=new ln(100),nv=[\\\"symbol\\\",\\\"symbolSize\\\",\\\"symbolKeepAspect\\\",\\\"color\\\",\\\"backgroundColor\\\",\\\"dashArrayX\\\",\\\"dashArrayY\\\",\\\"maxTileWidth\\\",\\\"maxTileHeight\\\"];function iv(t,e){if(\\\"none\\\"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r=\\\"svg\\\"===i.painter.type;t.dirty&&tv.delete(t);var o=tv.get(t);if(o)return o;var a=k(t,{symbol:\\\"rect\\\",symbolSize:1,symbolKeepAspect:!0,color:\\\"rgba(0, 0, 0, 0.2)\\\",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});\\\"none\\\"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:\\\"repeat\\\"};return function(t){for(var e,o=[n],s=!0,l=0;l\u003Cnv.length;++l){var u=a[nv[l]];if(null!=u&&!Y(u)&&!X(u)&&!j(u)&&\\\"boolean\\\"!=typeof u){s=!1;break}o.push(u)}if(s){e=o.join(\\\",\\\")+(r?\\\"-svg\\\":\\\"\\\");var c=ev.get(e);c&&(r?t.svgElement=c:t.image=c)}var p,d=ov(a.dashArrayX),f=function(t){if(!t||\\\"object\\\"==typeof t&&0===t.length)return[0,0];if(j(t)){var e=Math.ceil(t);return[e,e]}var n=z(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}(a.dashArrayY),g=rv(a.symbol),y=(b=d,z(b,(function(t){return av(t)}))),v=av(f),m=!r&&h.createCanvas(),x=r&&{tag:\\\"g\\\",attrs:{},key:\\\"dcl\\\",children:[]},_=function(){for(var t=1,e=0,n=y.length;e\u003Cn;++e)t=ro(t,y[e]);var i=1;for(e=0,n=g.length;e\u003Cn;++e)i=ro(i,g[e].length);t*=i;var r=v*y.length*g.length;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();var b;m&&(m.width=_.width*n,m.height=_.height*n,p=m.getContext(\\\"2d\\\"));(function(){p&&(p.clearRect(0,0,m.width,m.height),a.backgroundColor&&(p.fillStyle=a.backgroundColor,p.fillRect(0,0,m.width,m.height)));for(var t=0,e=0;e\u003Cf.length;++e)t+=f[e];if(t\u003C=0)return;var o=-v,s=0,l=0,u=0;for(;o\u003C_.height;){if(s%2==0){for(var h=l/2%g.length,c=0,y=0,b=0;c\u003C2*_.width;){var w=0;for(e=0;e\u003Cd[u].length;++e)w+=d[u][e];if(w\u003C=0)break;if(y%2==0){var S=.5*(1-a.symbolSize),M=c+d[u][y]*S,I=o+f[s]*S,T=d[u][y]*a.symbolSize,C=f[s]*a.symbolSize,D=b/2%g[h].length;A(M,I,T,C,g[h][D])}c+=d[u][y],++b,++y===d[u].length&&(y=0)}++u===d.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function A(t,e,o,s,l){var u=r?1:n,h=Ly(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);if(r){var c=i.painter.renderOneToVNode(h);c&&x.children.push(c)}else Jy(p,h)}})(),s&&ev.put(e,m||x);t.image=m,t.svgElement=x,t.svgWidth=_.width,t.svgHeight=_.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,tv.set(t,s),t.dirty=!1,s}function rv(t){if(!t||0===t.length)return[[\\\"rect\\\"]];if(X(t))return[[t]];for(var e=!0,n=0;n\u003Ct.length;++n)if(!X(t[n])){e=!1;break}if(e)return rv([t]);var i=[];for(n=0;n\u003Ct.length;++n)X(t[n])?i.push([t[n]]):i.push(t[n]);return i}function ov(t){if(!t||0===t.length)return[[0,0]];if(j(t))return[[r=Math.ceil(t),r]];for(var e=!0,n=0;n\u003Ct.length;++n)if(!j(t[n])){e=!1;break}if(e)return ov([t]);var i=[];for(n=0;n\u003Ct.length;++n)if(j(t[n])){var r=Math.ceil(t[n]);i.push([r,r])}else{(r=z(t[n],(function(t){return Math.ceil(t)}))).length%2==1?i.push(r.concat(r)):i.push(r)}return i}function av(t){for(var e=0,n=0;n\u003Ct.length;++n)e+=t[n];return t.length%2==1?2*e:e}var sv=new Xt,lv={};function uv(t){return lv[t]}var hv=\\\"undefined\\\"!=typeof window,cv=2e3,pv=4500,dv={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:cv,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:pv,ARIA:6e3,DECAL:7e3}},fv=/^[a-zA-Z0-9_]+$/,gv=\\\"__connectUpdateStatus\\\";function yv(t){return function(){for(var e=[],n=0;n\u003Carguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return mv(this,t,e);Wv(this.id)}}function vv(t){return function(){for(var e=[],n=0;n\u003Carguments.length;n++)e[n]=arguments[n];return mv(this,t,e)}}function mv(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),Xt.prototype[e].apply(t,n)}var xv,_v,bv,wv,Sv,Mv,Iv,Tv,Cv,Dv,Av,kv,Lv,Pv,Ov,Rv,Nv,Ev,zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Xt),Vv=zv.prototype;Vv.on=vv(\\\"on\\\"),Vv.off=vv(\\\"off\\\");var Bv=function(t){function e(e,n,i){var r=t.call(this,new uy)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},X(n)&&(n=jv[n]),r._dom=e;var o=\\\"canvas\\\",a=!1,s=r._zr=Lr(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:null==i.useDirtyRect?a:i.useDirtyRect});r._ssr=i.ssr,r._throttledZrFlush=Dg(W(s.flush,s),17),(n=T(n))&&Od(n,!0),r._theme=n,r._locale=function(t){if(X(t)){var e=_c[t.toUpperCase()]||{};return t===vc||t===mc?T(e):C(T(e),T(_c.EN),!1)}return C(T(t),T(_c.EN),!1)}(i.locale||wc),r._coordSysMgr=new hd;var l=r._api=Ov(r);function u(t,e){return t.__prio-e.__prio}return Ie(Zv,u),Ie(Uv,u),r._scheduler=new Gg(r,l,Uv,Zv),r._messageCenter=new zv,r._initEvents(),r.resize=W(r.resize,r),s.animation.on(\\\"frame\\\",r._onframe,r),Dv(s,r),Av(s,r),ct(r),r}return n(e,t),e.prototype._onframe=function(){if(!this._disposed){Ev(this);var t=this._scheduler;if(this.__pendingUpdate){var e=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{xv(this),wv.update.call(this,null,this.__pendingUpdate.updateParams)}catch(t){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,t}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Tv.call(this,e),Cv.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Mv(this,i),t.performVisualTasks(i),Pv(this,this._model,r,\\\"remain\\\",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this.__flagInMainProcess)if(this._disposed)Wv(this.id);else{var i,r,o;if(q(e)&&(n=e.lazyUpdate,i=e.silent,r=e.replaceMerge,o=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var a=new pd(this._api),s=this._theme,l=this._model=new id;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:r},Xv);var u={seriesTransition:o,optionChanged:!0};if(n)this.__pendingUpdate={silent:i,updateParams:u},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{xv(this),wv.update.call(this,null,u)}catch(t){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,t}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Tv.call(this,i),Cv.call(this,i)}}},e.prototype.setTheme=function(){oo()},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hv&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get(\\\"backgroundColor\\\"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;return e.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(r.svgSupported){var t=this._zr;return E(t.storage.getDisplayList(),(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;E(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var o=\\\"svg\\\"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL(\\\"image/\\\"+(t&&t.type||\\\"png\\\"));return E(i,(function(t){t.group.ignore=!1})),o}Wv(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e=\\\"svg\\\"===t.type,n=this.group,i=Math.min,r=Math.max,o=1/0;if($v[n]){var a=o,s=o,l=-1/0,u=-1/0,c=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();E(Kv,(function(o,h){if(o.group===n){var p=e?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(T(t)),d=o.getDom().getBoundingClientRect();a=i(d.left,a),s=i(d.top,s),l=r(d.right,l),u=r(d.bottom,u),c.push({dom:p,left:d.left,top:d.top})}}));var d=(l*=p)-(a*=p),f=(u*=p)-(s*=p),g=h.createCanvas(),y=Lr(g,{renderer:e?\\\"svg\\\":\\\"canvas\\\"});if(y.resize({width:d,height:f}),e){var v=\\\"\\\";return E(c,(function(t){var e=t.left-a,n=t.top-s;v+='\u003Cg transform=\\\"translate('+e+\\\",\\\"+n+')\\\">'+t.dom+\\\"\u003C/g>\\\"})),y.painter.getSvgRoot().innerHTML=v,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return t.connectedBackgroundColor&&y.add(new Cs({shape:{x:0,y:0,width:d,height:f},style:{fill:t.connectedBackgroundColor}})),E(c,(function(t){var e=new _s({style:{x:t.left*p-a,y:t.top*p-s,image:t.dom}});y.add(e)})),y.refreshImmediately(),g.toDataURL(\\\"image/\\\"+(t&&t.type||\\\"png\\\"))}return this.getDataURL(t)}Wv(this.id)},e.prototype.convertToPixel=function(t,e){return Sv(this,\\\"convertToPixel\\\",t,e)},e.prototype.convertFromPixel=function(t,e){return Sv(this,\\\"convertFromPixel\\\",t,e)},e.prototype.containPixel=function(t,e){var n;if(!this._disposed)return E(Io(this._model,t),(function(t,i){i.indexOf(\\\"Models\\\")>=0&&E(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(e);else if(\\\"seriesModels\\\"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0}),this)}),this),!!n;Wv(this.id)},e.prototype.getVisual=function(t,e){var n=Io(this._model,t,{defaultMainType:\\\"series\\\"}),i=n.seriesModel;var r=i.getData(),o=n.hasOwnProperty(\\\"dataIndexInside\\\")?n.dataIndexInside:n.hasOwnProperty(\\\"dataIndex\\\")?r.indexOfRawIndex(n.dataIndex):null;return null!=o?fy(r,o,e):gy(r,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,i=this;E(Gv,(function(t){var e=function(e){var n,r=i.getModel(),o=e.target,a=\\\"globalout\\\"===t;if(a?n={}:o&&xy(o,(function(t){var e=Hs(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=A({},e.eventData),!0}),!0),n){var s=n.componentType,l=n.componentIndex;\\\"markLine\\\"!==s&&\\\"markPoint\\\"!==s&&\\\"markArea\\\"!==s||(s=\\\"series\\\",l=n.seriesIndex);var u=s&&null!=l&&r.getComponent(s,l),h=u&&i[\\\"series\\\"===u.mainType?\\\"_chartsMap\\\":\\\"_componentsMap\\\"][u.__viewId];0,n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:u,view:h},i.trigger(t,n)}};e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)})),E(Yv,(function(t,e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),E([\\\"selectchanged\\\"],(function(t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),t=this._messageCenter,e=this,n=this._api,t.on(\\\"selectchanged\\\",(function(t){var i=n.getModel();t.isFromClick?(my(\\\"map\\\",\\\"selectchanged\\\",e,i,t),my(\\\"pie\\\",\\\"selectchanged\\\",e,i,t)):\\\"select\\\"===t.fromAction?(my(\\\"map\\\",\\\"selected\\\",e,i,t),my(\\\"pie\\\",\\\"selected\\\",e,i,t)):\\\"unselect\\\"===t.fromAction&&(my(\\\"map\\\",\\\"unselected\\\",e,i,t),my(\\\"pie\\\",\\\"unselected\\\",e,i,t))}))},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?Wv(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)Wv(this.id);else{this._disposed=!0,this.getDom()&&ko(this.getDom(),tm,\\\"\\\");var t=this,e=t._api,n=t._model;E(t._componentsViews,(function(t){t.dispose(n,e)})),E(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete Kv[t.id]}},e.prototype.resize=function(t){if(!this.__flagInMainProcess)if(this._disposed)Wv(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption(\\\"media\\\"),i=t&&t.silent;this.__pendingUpdate&&(null==i&&(i=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&xv(this),wv.update.call(this,{type:\\\"resize\\\",animation:A({duration:0},t&&t.animation)})}catch(t){throw this.__flagInMainProcess=!1,t}this.__flagInMainProcess=!1,Tv.call(this,i),Cv.call(this,i)}}},e.prototype.showLoading=function(t,e){if(this._disposed)Wv(this.id);else if(q(t)&&(e=t,t=\\\"\\\"),t=t||\\\"default\\\",this.hideLoading(),qv[t]){var n=qv[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},e.prototype.hideLoading=function(){this._disposed?Wv(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=A({},t);return e.type=Yv[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)Wv(this.id);else if(q(e)||(e={silent:!!e}),Hv[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;Iv.call(this,t,n);var i=e.flush;i?this._zr.flush():!1!==i&&r.browser.weChat&&this._throttledZrFlush(),Tv.call(this,n),Cv.call(this,n)}},e.prototype.updateLabelLayout=function(){sv.trigger(\\\"series:layoutlabels\\\",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)Wv(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function e(t){for(var e=[],n=t.currentStates,i=0;i\u003Cn.length;i++){var r=n[i];\\\"emphasis\\\"!==r&&\\\"blur\\\"!==r&&\\\"select\\\"!==r&&e.push(r)}t.selected&&t.states.select&&e.push(\\\"select\\\"),2===t.hoverState&&t.states.emphasis?e.push(\\\"emphasis\\\"):1===t.hoverState&&t.states.blur&&e.push(\\\"blur\\\"),t.useStates(e)}function i(t,e){if(!t.preventAutoZ){var n=t.get(\\\"z\\\")||0,i=t.get(\\\"zlevel\\\")||0;e.eachRendered((function(t){return o(t,n,i,-1/0),!0}))}}function o(t,e,n,i){var r=t.getTextContent(),a=t.getTextGuideLine();if(t.isGroup)for(var s=t.childrenRef(),l=0;l\u003Cs.length;l++)i=Math.max(o(s[l],e,n,i),i);else t.z=e,t.zlevel=n,i=Math.max(t.z2,i);if(r&&(r.z=e,r.zlevel=n,isFinite(i)&&(r.z2=i+2)),a){var u=t.textGuideLineConfig;a.z=e,a.zlevel=n,isFinite(i)&&(a.z2=i+(u&&u.showAbove?1:-1))}return i}function a(t,e){e.eachRendered((function(t){if(!ah(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function s(t,n){var i=t.getModel(\\\"stateAnimation\\\"),r=t.isAnimationEnabled(),o=i.get(\\\"duration\\\"),a=o>0?{duration:o,delay:i.get(\\\"delay\\\"),easing:i.get(\\\"easing\\\")}:null;n.eachRendered((function(t){if(t.states&&t.states.emphasis){if(ah(t))return;if(t instanceof gs&&function(t){var e=Zs(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(r){t.stateTransition=a;var i=t.getTextContent(),o=t.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}}))}xv=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),_v(t,!0),_v(t,!1),e.plan()},_v=function(t,e){for(var n=t._model,i=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l\u003Cr.length;l++)r[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u=\\\"_ec_\\\"+t.id+\\\"_\\\"+t.type,h=!l&&o[u];if(!h){var c=No(t.type),p=e?gg.getClass(c.main,c.sub):xg.getClass(c.sub);0,(h=new p).init(n,s),o[u]=h,r.push(h),a.add(h.group)}t.__viewId=h.__id=u,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&i.prepareView(h,t,n,s)}e?n.eachComponent((function(t,e){\\\"series\\\"!==t&&u(e)})):n.eachSeries(u);for(l=0;l\u003Cr.length;){var h=r[l];h.__alive?l++:(!e&&h.renderTask.dispose(),a.remove(h.group),h.dispose(n,s),r.splice(l,1),o[h.__id]===h&&delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}},bv=function(t,e,n,i,r){var o=t._model;if(o.setUpdatePayload(n),i){var a={};a[i+\\\"Id\\\"]=n[i+\\\"Id\\\"],a[i+\\\"Index\\\"]=n[i+\\\"Index\\\"],a[i+\\\"Name\\\"]=n[i+\\\"Name\\\"];var s={mainType:i,query:a};r&&(s.subType=r);var l,u=n.excludeSeriesId;null!=u&&(l=ft(),E(ho(u),(function(t){var e=xo(t,null);null!=e&&l.set(e,!0)}))),o&&o.eachComponent(s,(function(e){if(!(l&&null!==l.get(e.id)))if(Wl(n))if(e instanceof sg)n.type!==Js||n.notBlur||e.get([\\\"emphasis\\\",\\\"disabled\\\"])||function(t,e,n){var i=t.seriesIndex,r=t.getData(e.dataType);if(r){var o=wo(r,e);o=(Y(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l\u003Cs;)a=r.getItemGraphicEl(l++);if(a){var u=Hs(a);Dl(i,u.focus,u.blurScope,n)}else{var h=t.get([\\\"emphasis\\\",\\\"focus\\\"]),c=t.get([\\\"emphasis\\\",\\\"blurScope\\\"]);null!=h&&Dl(i,h,c,n)}}}(e,n,t._api);else{var i=kl(e.mainType,e.componentIndex,n.name,t._api),r=i.focusSelf,o=i.dispatchers;n.type===Js&&r&&!n.notBlur&&Al(e.mainType,e.componentIndex,t._api),o&&E(o,(function(t){n.type===Js?_l(t):bl(t)}))}else Gl(n)&&e instanceof sg&&(!function(t,e,n){if(Gl(e)){var i=e.dataType,r=wo(t.getData(i),e);Y(r)||(r=[r]),t[e.type===nl?\\\"toggleSelect\\\":e.type===tl?\\\"select\\\":\\\"unselect\\\"](r,i)}}(e,n,t._api),Ll(e),Nv(t))}),t),o&&o.eachComponent(s,(function(e){l&&null!==l.get(e.id)||h(t[\\\"series\\\"===i?\\\"_chartsMap\\\":\\\"_componentsMap\\\"][e.__viewId])}),t)}else E([].concat(t._componentsViews).concat(t._chartsViews),h);function h(i){i&&i.__alive&&i[e]&&i[e](i.__model,o,t._api,n)}},wv={prepareAndUpdate:function(t){xv(this),wv.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var i=this._model,r=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(i){i.setUpdatePayload(e),s.restoreData(i,e),s.performSeriesTasks(i),a.create(i,r),s.performDataProcessorTasks(i,e),Mv(this,i),a.update(i,r),t(i),s.performVisualTasks(i,e),kv(this,i,r,e,n);var l=i.get(\\\"backgroundColor\\\")||\\\"transparent\\\",u=i.get(\\\"darkMode\\\");o.setBackgroundColor(l),null!=u&&\\\"auto\\\"!==u&&o.setDarkMode(u),sv.trigger(\\\"afterupdate\\\",i,r)}},updateTransform:function(e){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(e);var o=[];i.eachComponent((function(t,a){if(\\\"series\\\"!==t){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,i,r,e);l&&l.update&&o.push(s)}else o.push(s)}}));var a=ft();i.eachSeries((function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,i,r,e);s&&s.update&&a.set(t.uid,1)}else a.set(t.uid,1)})),t(i),this._scheduler.performVisualTasks(i,e,{setDirty:!0,dirtyMap:a}),Pv(this,i,r,e,{},a),sv.trigger(\\\"afterupdate\\\",i,r)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),xg.markUpdateMethod(e,\\\"updateView\\\"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),kv(this,n,this._api,e,{}),sv.trigger(\\\"afterupdate\\\",n,this._api))},updateVisual:function(e){var n=this,i=this._model;i&&(i.setUpdatePayload(e),i.eachSeries((function(t){t.getData().clearAllVisual()})),xg.markUpdateMethod(e,\\\"updateVisual\\\"),t(i),this._scheduler.performVisualTasks(i,e,{visualType:\\\"visual\\\",setDirty:!0}),i.eachComponent((function(t,r){if(\\\"series\\\"!==t){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,e)}})),i.eachSeries((function(t){n._chartsMap[t.__viewId].updateVisual(t,i,n._api,e)})),sv.trigger(\\\"afterupdate\\\",i,this._api))},updateLayout:function(t){wv.update.call(this,t)}},Sv=function(t,e,n,i){if(t._disposed)Wv(t.id);else{for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=Io(o,n),l=0;l\u003Ca.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,i)))return r}0}},Mv=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))},Iv=function(t,e){var n=this,i=this.getModel(),r=t.type,o=t.escapeConnect,a=Hv[r],s=a.actionInfo,l=(s.update||\\\"update\\\").split(\\\":\\\"),u=l.pop(),h=null!=l[0]&&No(l[0]);this.__flagInMainProcess=!0;var c=[t],p=!1;t.batch&&(p=!0,c=z(t.batch,(function(e){return(e=k(A({},e),t)).batch=null,e})));var d,f=[],g=Gl(t),y=Wl(t);if(y&&Cl(this._api),E(c,(function(e){if((d=(d=a.action(e,n._model,n._api))||A({},e)).type=s.event||d.type,f.push(d),y){var i=To(t),r=i.queryOptionMap,o=i.mainTypeSpecified?r.keys()[0]:\\\"series\\\";bv(n,u,e,o),Nv(n)}else g?(bv(n,u,e,\\\"series\\\"),Nv(n)):h&&bv(n,u,e,h.main,h.sub)})),\\\"none\\\"!==u&&!y&&!g&&!h)try{this.__pendingUpdate?(xv(this),wv.update.call(this,t),this.__pendingUpdate=null):wv[u].call(this,t)}catch(t){throw this.__flagInMainProcess=!1,t}if(d=p?{type:s.event||r,escapeConnect:o,batch:f}:f[0],this.__flagInMainProcess=!1,!e){var v=this._messageCenter;if(v.trigger(d.type,d),g){var m={type:\\\"selectchanged\\\",escapeConnect:o,selected:Pl(i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(m.type,m)}}},Tv=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Iv.call(this,n,t)}},Cv=function(t){!t&&this.trigger(\\\"updated\\\")},Dv=function(t,e){t.on(\\\"rendered\\\",(function(n){e.trigger(\\\"rendered\\\",n),!t.animation.isFinished()||e.__pendingUpdate||e._scheduler.unfinished||e._pendingActions.length||e.trigger(\\\"finished\\\")}))},Av=function(t,e){t.on(\\\"mouseover\\\",(function(t){var n=xy(t.target,Fl);n&&(!function(t,e,n){var i=Hs(t),r=kl(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,a=r.focusSelf;o?(a&&Al(i.componentMainType,i.componentIndex,n),E(o,(function(t){return ml(t,e)}))):(Dl(i.seriesIndex,i.focus,i.blurScope,n),\\\"self\\\"===i.focus&&Al(i.componentMainType,i.componentIndex,n),ml(t,e))}(n,t,e._api),Nv(e))})).on(\\\"mouseout\\\",(function(t){var n=xy(t.target,Fl);n&&(!function(t,e,n){Cl(n);var i=Hs(t),r=kl(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?E(r,(function(t){return xl(t,e)})):xl(t,e)}(n,t,e._api),Nv(e))})).on(\\\"click\\\",(function(t){var n=xy(t.target,(function(t){return null!=Hs(t).dataIndex}),!0);if(n){var i=n.selected?\\\"unselect\\\":\\\"select\\\",r=Hs(n);e._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},kv=function(t,e,n,i,r){!function(t){var e=[],n=[],i=!1;if(t.eachComponent((function(t,r){var o=r.get(\\\"zlevel\\\")||0,a=r.get(\\\"z\\\")||0,s=r.getZLevelKey();i=i||!!s,(\\\"series\\\"===t?n:e).push({zlevel:o,z:a,idx:r.componentIndex,type:t,key:s})})),i){var r,o,a=e.concat(n);Ie(a,(function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel})),E(a,(function(e){var n=t.getComponent(e.type,e.idx),i=e.zlevel,a=e.key;null!=r&&(i=Math.max(r,i)),a?(i===r&&a!==o&&i++,o=a):o&&(i===r&&i++,o=\\\"\\\"),r=i,n.setZLevel(i)}))}}(e),Lv(t,e,n,i,r),E(t._chartsViews,(function(t){t.__alive=!1})),Pv(t,e,n,i,r),E(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},Lv=function(t,e,n,r,o,l){E(l||t._componentsViews,(function(t){var o=t.__model;a(o,t),t.render(o,e,n,r),i(o,t),s(o,t)}))},Pv=function(t,e,n,o,l,u){var h=t._scheduler;l=A(l||{},{updatedSeries:e.getSeries()}),sv.trigger(\\\"series:beforeupdate\\\",e,n,l);var c=!1;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var i=n.renderTask;h.updatePayload(i,o),a(e,n),u&&u.get(e.uid)&&i.dirty(),i.perform(h.getPerformArgs(i))&&(c=!0),n.group.silent=!!e.get(\\\"silent\\\"),function(t,e){var n=t.get(\\\"blendMode\\\")||null;e.eachRendered((function(t){t.isGroup||(t.style.blend=n)}))}(e,n),Ll(e)})),h.unfinished=c||h.unfinished,sv.trigger(\\\"series:layoutlabels\\\",e,n,l),sv.trigger(\\\"series:transition\\\",e,n,l),e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];i(e,n),s(e,n)})),function(t,e){var n=t._zr.storage,i=0;n.traverse((function(t){t.isGroup||i++})),i>e.get(\\\"hoverLayerThreshold\\\")&&!r.node&&!r.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,e),sv.trigger(\\\"series:afterupdate\\\",e,n,l)},Nv=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},Ev=function(t){t.__needsUpdateStatus&&(t.getZr().storage.traverse((function(t){ah(t)||e(t)})),t.__needsUpdateStatus=!1)},Ov=function(t){return new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},i.prototype.enterEmphasis=function(e,n){_l(e,n),Nv(t)},i.prototype.leaveEmphasis=function(e,n){bl(e,n),Nv(t)},i.prototype.enterBlur=function(e){wl(e),Nv(t)},i.prototype.leaveBlur=function(e){Sl(e),Nv(t)},i.prototype.enterSelect=function(e){Ml(e),Nv(t)},i.prototype.leaveSelect=function(e){Il(e),Nv(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},i}(ld))(t)},Rv=function(t){function e(t,e){for(var n=0;n\u003Ct.length;n++){t[n][gv]=e}}E(Yv,(function(n,i){t._messageCenter.on(i,(function(n){if($v[t.group]&&0!==t[gv]){if(n&&n.escapeConnect)return;var i=t.makeActionFromEvent(n),r=[];E(Kv,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,0),E(r,(function(t){1!==t[gv]&&t.dispatchAction(i)})),e(r,2)}}))}))}}(),e}(Xt),Fv=Bv.prototype;Fv.on=yv(\\\"on\\\"),Fv.off=yv(\\\"off\\\"),Fv.one=function(t,e,n){var i=this;oo(),this.on.call(this,t,(function n(){for(var r=[],o=0;o\u003Carguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),i.off(t,n)}),n)};var Gv=[\\\"click\\\",\\\"dblclick\\\",\\\"mouseover\\\",\\\"mouseout\\\",\\\"mousemove\\\",\\\"mousedown\\\",\\\"mouseup\\\",\\\"globalout\\\",\\\"contextmenu\\\"];function Wv(t){0}var Hv={},Yv={},Uv=[],Xv=[],Zv=[],jv={},qv={},Kv={},$v={},Jv=+new Date-0,Qv=+new Date-0,tm=\\\"_echarts_instance_\\\";function em(t){$v[t]=!1}var nm=em;function im(t){return Kv[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,tm)]}function rm(t,e){jv[t]=e}function om(t){P(Xv,t)\u003C0&&Xv.push(t)}function am(t,e){gm(Uv,t,e,2e3)}function sm(t){um(\\\"afterinit\\\",t)}function lm(t){um(\\\"afterupdate\\\",t)}function um(t,e){sv.on(t,e)}function hm(t,e,n){U(e)&&(n=e,e=\\\"\\\");var i=q(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Yv[e]||(lt(fv.test(i)&&fv.test(e)),Hv[i]||(Hv[i]={action:n,actionInfo:t}),Yv[e]=i)}function cm(t,e){hd.register(t,e)}function pm(t,e){gm(Zv,t,e,1e3,\\\"layout\\\")}function dm(t,e){gm(Zv,t,e,3e3,\\\"visual\\\")}var fm=[];function gm(t,e,n,i,r){if((U(e)||q(e))&&(n=e,e=i),!(P(fm,n)>=0)){fm.push(n);var o=Gg.wrapStageHandler(n,r);o.__prio=e,o.__raw=n,t.push(o)}}function ym(t,e){qv[t]=e}function vm(t,e,n){var i=uv(\\\"registerMap\\\");i&&i(t,e,n)}var mm=function(t){var e=(t=T(t)).type,n=\\\"\\\";e||ao(n);var i=e.split(\\\":\\\");2!==i.length&&ao(n);var r=!1;\\\"echarts\\\"===i[0]&&(e=i[1],r=!0),t.__isBuiltIn=r,Tf.set(e,t)};dm(cv,Eg),dm(pv,Vg),dm(pv,Bg),dm(cv,py),dm(pv,dy),dm(7e3,(function(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(t){var n=i.getItemVisual(t,\\\"decal\\\");n&&(i.ensureUniqueItemVisual(t,\\\"style\\\").decal=iv(n,e))}));var r=i.getVisual(\\\"decal\\\");if(r)i.getVisual(\\\"style\\\").decal=iv(r,e)}}))})),om(Od),am(900,(function(t){var e=ft();t.eachSeries((function(t){var n=t.get(\\\"stack\\\");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo(\\\"stackResultDimension\\\"),stackedOverDimension:r.getCalculationInfo(\\\"stackedOverDimension\\\"),stackedDimension:r.getCalculationInfo(\\\"stackedDimension\\\"),stackedByDimension:r.getCalculationInfo(\\\"stackedByDimension\\\"),isStackedByIndex:r.getCalculationInfo(\\\"isStackedByIndex\\\"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo(\\\"stackedOnSeries\\\",i[i.length-1].seriesModel),i.push(o)}})),e.each(Rd)})),ym(\\\"default\\\",(function(t,e){k(e=e||{},{text:\\\"loading\\\",textColor:\\\"#000\\\",fontSize:12,fontWeight:\\\"normal\\\",fontStyle:\\\"normal\\\",fontFamily:\\\"sans-serif\\\",maskColor:\\\"rgba(255, 255, 255, 0.8)\\\",showSpinner:!0,color:\\\"#5470c6\\\",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Cr,i=new Cs({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r,o=new ks({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Cs({style:{fill:\\\"none\\\"},textContent:o,textConfig:{position:\\\"right\\\",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((r=new Hu({shape:{startAngle:-Fg/2,endAngle:-Fg/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:\\\"round\\\",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Fg/2}).start(\\\"circularInOut\\\"),r.animateShape(!0).when(1e3,{startAngle:3*Fg/2}).delay(300).start(\\\"circularInOut\\\"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),u=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n})),hm({type:Js,event:Js,update:Js},xt),hm({type:Qs,event:Qs,update:Qs},xt),hm({type:tl,event:tl,update:tl},xt),hm({type:el,event:el,update:el},xt),hm({type:nl,event:nl,update:nl},xt),rm(\\\"light\\\",iy),rm(\\\"dark\\\",ly);var xm=[],_m={registerPreprocessor:om,registerProcessor:am,registerPostInit:sm,registerPostUpdate:lm,registerUpdateLifecycle:um,registerAction:hm,registerCoordinateSystem:cm,registerLayout:pm,registerVisual:dm,registerTransform:mm,registerLoading:ym,registerMap:vm,registerImpl:function(t,e){lv[t]=e},PRIORITY:dv,ComponentModel:Tp,ComponentView:gg,SeriesModel:sg,ChartView:xg,registerComponentModel:function(t){Tp.registerClass(t)},registerComponentView:function(t){gg.registerClass(t)},registerSeriesModel:function(t){sg.registerClass(t)},registerChartView:function(t){xg.registerClass(t)},registerSubTypeDefaulter:function(t,e){Tp.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Pr(t,e)}};function bm(t){Y(t)?E(t,(function(t){bm(t)})):P(xm,t)>=0||(xm.push(t),U(t)&&(t={install:t}),t.install(_m))}function wm(t){return null==t?0:t.length||1}function Sm(t){return t}var Mm=function(){function t(t,e,n,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=n||Sm,this._newKeyGetter=i||Sm,this.context=r,this._diffModeMultiple=\\\"multiple\\\"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?\\\"_executeMultiple\\\":\\\"_executeOneToOne\\\"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,i,\\\"_oldKeyGetter\\\"),this._initIndexMap(e,n,r,\\\"_newKeyGetter\\\");for(var o=0;o\u003Ct.length;o++){var a=i[o],s=n[a],l=wm(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},r=[],o=[];this._initIndexMap(t,n,r,\\\"_oldKeyGetter\\\"),this._initIndexMap(e,i,o,\\\"_newKeyGetter\\\");for(var a=0;a\u003Cr.length;a++){var s=r[a],l=n[s],u=i[s],h=wm(l),c=wm(u);if(h>1&&1===c)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===h&&c>1)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===h&&1===c)this._update&&this._update(u,l),i[s]=null;else if(h>1&&c>1)this._updateManyToMany&&this._updateManyToMany(u,l),i[s]=null;else if(h>1)for(var p=0;p\u003Ch;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n\u003Ct.length;n++){var i=t[n],r=e[i],o=wm(r);if(o>1)for(var a=0;a\u003Co;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var r=this._diffModeMultiple,o=0;o\u003Ct.length;o++){var a=\\\"_ec_\\\"+this[i](t[o],o);if(r||(n[o]=a),e){var s=e[a],l=wm(s);0===l?(e[a]=o,r&&n.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}(),Im=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function Tm(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Cm(t){return\\\"category\\\"===t?\\\"ordinal\\\":\\\"time\\\"===t?\\\"time\\\":\\\"float\\\"}var Dm=function(t){this.otherDims={},null!=t&&A(this,t)},Am=So(),km={float:\\\"f\\\",int:\\\"i\\\",ordinal:\\\"o\\\",number:\\\"n\\\",time:\\\"t\\\"},Lm=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Rm(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return rt(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Zd(this.source),n=!Nm(t),i=\\\"\\\",r=[],o=0,a=0;o\u003Ct;o++){var s=void 0,l=void 0,u=void 0,h=this.dimensions[a];if(h&&h.storeDimIndex===o)s=e?h.name:null,l=h.type,u=h.ordinalMeta,a++;else{var c=this.getSourceDimension(o);c&&(s=e?c.name:null,l=c.type)}r.push({property:s,type:l,ordinalMeta:u}),!e||null==s||h&&h.isCalculationCoord||(i+=n?s.replace(/\\\\`/g,\\\"`1\\\").replace(/\\\\$/g,\\\"`2\\\"):s),i+=\\\"$\\\",i+=km[l]||\\\"f\\\",u&&(i+=u.uid),i+=\\\"$\\\"}var p=this.source;return{dimensions:r,hash:[p.seriesLayoutBy,p.startIndex,i].join(\\\"$$\\\")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e\u003Cthis._fullDimCount;e++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===e)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Pm(t){return t instanceof Lm}function Om(t){for(var e=ft(),n=0;n\u003C(t||[]).length;n++){var i=t[n],r=q(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,n)}return e}function Rm(t){var e=Am(t);return e.dimNameMap||(e.dimNameMap=Om(t.dimensionsDefine))}function Nm(t){return t>30}var Em,zm,Vm,Bm,Fm,Gm,Wm,Hm=q,Ym=z,Um=\\\"undefined\\\"==typeof Int32Array?Array:Int32Array,Xm=[\\\"hasItemOption\\\",\\\"_nameList\\\",\\\"_idList\\\",\\\"_invertedIndicesMap\\\",\\\"_dimSummary\\\",\\\"userOutput\\\",\\\"_rawData\\\",\\\"_dimValueGetter\\\",\\\"_nameDimIdx\\\",\\\"_idDimIdx\\\",\\\"_nameRepeatCount\\\"],Zm=[\\\"_approximateExtent\\\"],jm=function(){function t(t,e){var n;this.type=\\\"list\\\",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=[\\\"cloneShallow\\\",\\\"downSample\\\",\\\"lttbDownSample\\\",\\\"map\\\"],this.CHANGABLE_METHODS=[\\\"filterSelf\\\",\\\"selectRange\\\"],this.DOWNSAMPLE_METHODS=[\\\"downSample\\\",\\\"lttbDownSample\\\"];var i=!1;Pm(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||[\\\"x\\\",\\\"y\\\"];for(var r={},o=[],a={},s=!1,l={},u=0;u\u003Cn.length;u++){var h=n[u],c=X(h)?new Dm({name:h}):h instanceof Dm?h:new Dm(h),p=c.name;c.type=c.type||\\\"float\\\",c.coordDim||(c.coordDim=p,c.coordDimIndex=0);var d=c.otherDims=c.otherDims||{};o.push(p),r[p]=c,null!=l[p]&&(s=!0),c.createInvertedIndices&&(a[p]=[]),0===d.itemName&&(this._nameDimIdx=u),0===d.itemId&&(this._idDimIdx=u),i&&(c.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var f=this._dimIdxToName=ft();E(o,(function(t){f.set(r[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(j(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)\u003C0))return+t},t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var i,r=this;if(t instanceof Vf&&(i=t),!i){var o=this.dimensions,a=Gd(t)||N(t)?new jd(t,o.length):t;i=new Vf;var s=Ym(o,(function(t){return{type:r._dimInfos[t].type,property:t}}));i.initData(a,s,n)}this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(t,e){var n={},i=n.encode={},r=ft(),o=[],a=[],s={};E(t.dimensions,(function(e){var n,l=t.getDimensionInfo(e),u=l.coordDim;if(u){var h=l.coordDimIndex;Tm(i,u)[h]=e,l.isExtraCoord||(r.set(u,1),\\\"ordinal\\\"!==(n=l.type)&&\\\"time\\\"!==n&&(o[0]=e),Tm(s,u)[h]=t.getDimensionIndex(l.name)),l.defaultTooltip&&a.push(e)}kp.each((function(t,e){var n=Tm(i,e),r=l.otherDims[e];null!=r&&!1!==r&&(n[r]=l.name)}))}));var l=[],u={};r.each((function(t,e){var n=i[e];u[e]=n[0],l=l.concat(n)})),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=z(l,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=u;var h=i.label;h&&h.length&&(o=h.slice());var c=i.tooltip;return c&&c.length?a=c.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new Im(s,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=i;a\u003Cr;a++){var s=a-i;this._nameList[a]=e[s],o&&Wm(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n\u003Ce.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Np&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,r=this._idList;if(n.getSource().sourceFormat===Lp&&!n.pure)for(var o=[],a=t;a\u003Ce;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&go(s)&&(this.hasItemOption=!0),s){var l=s.name;null==i[a]&&null!=l&&(i[a]=xo(l,null));var u=s.id;null==r[a]&&null!=u&&(r[a]=xo(u,null))}}if(this._shouldMakeIdFromName())for(a=t;a\u003Ce;a++)Wm(this,a);Em(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Hm(t)?A(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=Vm(this,this._nameDimIdx,e)),null==n&&(n=\\\"\\\"),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},t.prototype.getId=function(t){return zm(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,i=this._store;return Y(t)?i.getValues(Ym(t,(function(t){return n._getStoreDimIndex(t)})),e):i.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n\u003Ci;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e\u003Cn;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var i=n[e];return null==i||isNaN(i)?-1:i},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){U(t)&&(n=e,e=t,t=[]);var i=n||this,r=Ym(Bm(t),this._getStoreDimIndex,this);this._store.each(r,i?W(e,i):e)},t.prototype.filterSelf=function(t,e,n){U(t)&&(n=e,e=t,t=[]);var i=n||this,r=Ym(Bm(t),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?W(e,i):e),this},t.prototype.selectRange=function(t){var e=this,n={};return E(G(t),(function(i){var r=e._getStoreDimIndex(i);n[r]=t[i]})),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){U(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),n),i},t.prototype.map=function(t,e,n,i){var r=n||i||this,o=Ym(Bm(t),this._getStoreDimIndex,this),a=Gm(this);return a._store=this._store.map(o,r?W(e,r):e),a},t.prototype.modify=function(t,e,n,i){var r=n||i||this;var o=Ym(Bm(t),this._getStoreDimIndex,this);this._store.modify(o,r?W(e,r):e)},t.prototype.downSample=function(t,e,n,i){var r=Gm(this);return r._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),r},t.prototype.lttbDownSample=function(t,e){var n=Gm(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new dc(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new Mm(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return zm(t,e)}),(function(t){return zm(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Hm(t)?A(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var r=i[e];return null==r&&(Y(r=this.getVisual(e))?r=r.slice():Hm(r)&&(r=A({},r)),i[e]=r),r},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Hm(e)?A(i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){Hm(t)?A(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?A(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Ys(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){E(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Ym(this.dimensions,this._getDimInfo,this),this.hostModel)),Fm(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];U(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(at(arguments)))})},t.internalField=(Em=function(t){var e=t._invertedIndicesMap;E(e,(function(n,i){var r=t._dimInfos[i],o=r.ordinalMeta,a=t._store;if(o){n=e[i]=new Um(o.categories.length);for(var s=0;s\u003Cn.length;s++)n[s]=-1;for(s=0;s\u003Ca.count();s++)n[a.get(r.storeDimIndex,s)]=s}}))},Vm=function(t,e,n){return xo(t._getCategory(e,n),null)},zm=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=Vm(t,t._idDimIdx,e)),null==n&&(n=\\\"e\\\\0\\\\0\\\"+e),n},Bm=function(t){return Y(t)||(t=null!=t?[t]:[]),t},Gm=function(e){var n=new t(e._schema?e._schema:Ym(e.dimensions,e._getDimInfo,e),e.hostModel);return Fm(n,e),n},Fm=function(t,e){E(Xm.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,E(Zm,(function(n){t[n]=T(e[n])})),t._calculationInfo=A({},e._calculationInfo)},void(Wm=function(t,e){var n=t._nameList,i=t._idList,r=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=i[e];if(null==a&&null!=r&&(n[e]=a=Vm(t,r,e)),null==s&&null!=o&&(i[e]=s=Vm(t,o,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+=\\\"__ec__\\\"+u),i[e]=s}})),t}();function qm(t,e){Gd(t)||(t=Hd(t));var n=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||t.dimensionsDefine||[],r=ft(),o=[],a=function(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return E(e,(function(t){var e;q(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))})),r}(t,n,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Nm(a),l=i===t.dimensionsDefine,u=l?Rm(t):Om(i),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(t,a));for(var c=ft(h),p=new Of(a),d=0;d\u003Cp.length;d++)p[d]=-1;function f(t){var e=p[t];if(e\u003C0){var n=i[t],r=q(n)?n:{name:n},a=new Dm,s=r.name;null!=s&&null!=u.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var l=o.length;return p[t]=l,a.storeDimIndex=t,o.push(a),a}return o[e]}if(!s)for(d=0;d\u003Ca;d++)f(d);c.each((function(t,e){var n=ho(t).slice();if(1===n.length&&!X(n[0])&&n[0]\u003C0)c.set(e,!1);else{var i=c.set(e,[]);E(n,(function(t,n){var r=X(t)?u.get(t):t;null!=r&&r\u003Ca&&(i[n]=r,y(f(r),e,n))}))}}));var g=0;function y(t,e,n){null!=kp.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,r.set(e,!0))}E(n,(function(t){var e,n,i,r;if(X(t))e=t,r={};else{e=(r=t).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=A({},r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=c.get(e);if(!1!==s){if(!(s=ho(s)).length)for(var u=0;u\u003C(n&&n.length||1);u++){for(;g\u003Ca&&null!=f(g).coordDim;)g++;g\u003Ca&&s.push(g++)}E(s,(function(t,o){var a=f(t);if(l&&null!=r.type&&(a.type=r.type),y(k(a,r),e,o),null==a.name&&n){var s=n[o];!q(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}i&&k(a.otherDims,i)}))}}));var v=e.generateCoord,m=e.generateCoordCount,x=null!=m;m=v?m||1:0;var _=v||\\\"value\\\";function b(t){null==t.name&&(t.name=t.coordDim)}if(s)E(o,(function(t){b(t)})),o.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var w=0;w\u003Ca;w++){var S=f(w);null==S.coordDim&&(S.coordDim=Km(_,r,x),S.coordDimIndex=0,(!v||m\u003C=0)&&(S.isExtraCoord=!0),m--),b(S),null!=S.type||Xp(t,w)!==Bp&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type=\\\"ordinal\\\")}return function(t){for(var e=ft(),n=0;n\u003Ct.length;n++){var i=t[n],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}(o),new Lm({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function Km(t,e,n){var i=e.data;if(n||i.hasOwnProperty(t)){for(var r=0;i.hasOwnProperty(t+r);)r++;t+=r}return e.set(t,!0),t}var $m=function(t){this.coordSysDims=[],this.axisMap=ft(),this.categoryAxisMap=ft(),this.coordSysName=t};var Jm={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents(\\\"xAxis\\\",Co).models[0],o=t.getReferringComponents(\\\"yAxis\\\",Co).models[0];e.coordSysDims=[\\\"x\\\",\\\"y\\\"],n.set(\\\"x\\\",r),n.set(\\\"y\\\",o),Qm(r)&&(i.set(\\\"x\\\",r),e.firstCategoryDimIndex=0),Qm(o)&&(i.set(\\\"y\\\",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents(\\\"singleAxis\\\",Co).models[0];e.coordSysDims=[\\\"single\\\"],n.set(\\\"single\\\",r),Qm(r)&&(i.set(\\\"single\\\",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents(\\\"polar\\\",Co).models[0],o=r.findAxisModel(\\\"radiusAxis\\\"),a=r.findAxisModel(\\\"angleAxis\\\");e.coordSysDims=[\\\"radius\\\",\\\"angle\\\"],n.set(\\\"radius\\\",o),n.set(\\\"angle\\\",a),Qm(o)&&(i.set(\\\"radius\\\",o),e.firstCategoryDimIndex=0),Qm(a)&&(i.set(\\\"angle\\\",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=[\\\"lng\\\",\\\"lat\\\"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent(\\\"parallel\\\",t.get(\\\"parallelIndex\\\")),a=e.coordSysDims=o.dimensions.slice();E(o.parallelAxisIndex,(function(t,o){var s=r.getComponent(\\\"parallelAxis\\\",t),l=a[o];n.set(l,s),Qm(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))}))}};function Qm(t){return\\\"category\\\"===t.get(\\\"type\\\")}function tx(t,e,n){var i,r,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(t){return!Pm(t.schema)}(e)?(r=e.schema,i=r.dimensions,o=e.store):i=e;var l,u,h,c,p=!(!t||!t.get(\\\"stack\\\"));if(E(i,(function(t,e){X(t)&&(i[e]=t={name:t}),p&&!t.isExtraCoord&&(a||l||!t.ordinalMeta||(l=t),u||\\\"ordinal\\\"===t.type||\\\"time\\\"===t.type||s&&s!==t.coordDim||(u=t))})),!u||a||l||(a=!0),u){h=\\\"__\\\\0ecstackresult_\\\"+t.id,c=\\\"__\\\\0ecstackedover_\\\"+t.id,l&&(l.createInvertedIndices=!0);var d=u.coordDim,f=u.type,g=0;E(i,(function(t){t.coordDim===d&&g++}));var y={name:h,coordDim:d,coordDimIndex:g,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},v={name:c,coordDim:c,coordDimIndex:g+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(y.storeDimIndex=o.ensureCalculationDimension(c,f),v.storeDimIndex=o.ensureCalculationDimension(h,f)),r.appendCalculationDimension(y),r.appendCalculationDimension(v)):(i.push(y),i.push(v))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function ex(t,e){return!!e&&e===t.getCalculationInfo(\\\"stackedDimension\\\")}function nx(t,e){return ex(t,e)?t.getCalculationInfo(\\\"stackResultDimension\\\"):e}function ix(t,e,n){n=n||{};var i,r=e.getSourceManager(),o=!1;t?(o=!0,i=Hd(t)):o=(i=r.getSource()).sourceFormat===Lp;var a=function(t){var e=t.get(\\\"coordinateSystem\\\"),n=new $m(e),i=Jm[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(e),s=function(t,e){var n,i=t.get(\\\"coordinateSystem\\\"),r=hd.get(i);return e&&e.coordSysDims&&(n=z(e.coordSysDims,(function(t){var n={name:t},i=e.axisMap.get(t);if(i){var r=i.get(\\\"type\\\");n.type=Cm(r)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||[\\\"x\\\",\\\"y\\\"]),n}(e,a),l=n.useEncodeDefaulter,u=U(l)?l:l?H(Hp,s,e):null,h=qm(i,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(t,e,n){var i,r;return n&&E(t,(function(t,o){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=o),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(r=!0)})),r||null==i||(t[i].otherDims.itemName=0),i}(h.dimensions,n.createInvertedIndices,a),p=o?null:r.getSharedDataStore(h),d=tx(e,{schema:h,store:p}),f=new jm(h,e);f.setCalculationInfo(d);var g=null!=c&&function(t){if(t.sourceFormat===Lp){return!Y(fo(function(t){var e=0;for(;e\u003Ct.length&&null==t[e];)e++;return t[e]}(t.data||[])))}}(i)?function(t,e,n,i){return i===c?n:this.defaultDimValueGetter(t,e,n,i)}:null;return f.hasItemOption=!1,f.initData(o?i:p,null,g),f}var rx=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]\u003Ce[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]\u003C=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();Go(rx);var ox=0,ax=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++ox}return t.createByAxisModel=function(e){var n=e.option,i=n.data,r=i&&z(i,sx);return new t({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!X(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ft(this.categories))},t}();function sx(t){return q(t)&&null!=t.value?t.value:t+\\\"\\\"}function lx(t){return\\\"interval\\\"===t.type||\\\"log\\\"===t.type}function ux(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=$r(o/e,!0);null!=n&&a\u003Cn&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=cx(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),px(t,0,e),px(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(r.niceTickExtent=[zr(Math.ceil(t[0]/a)*a,s),zr(Math.floor(t[1]/a)*a,s)],t),r}function hx(t){var e=Math.pow(10,Kr(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,zr(n*e)}function cx(t){return Br(t)+2}function px(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function dx(t,e){return t>=e[0]&&t\u003C=e[1]}function fx(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function gx(t,e){return t*(e[1]-e[0])+e[0]}var yx=function(t){function e(e){var n=t.call(this,e)||this;n.type=\\\"ordinal\\\";var i=n.getSetting(\\\"ordinalMeta\\\");return i||(i=new ax({})),Y(i)&&(i=new ax({categories:z(i,(function(t){return q(t)?t.value:t}))})),n._ordinalMeta=i,n._extent=n.getSetting(\\\"extent\\\")||[0,i.categories.length-1],n}return n(e,t),e.prototype.parse=function(t){return null==t?NaN:X(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return dx(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return fx(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(gx(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n\u003C=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r\u003Ca;++r){var s=e[r];n[r]=s,i[s]=r}for(var l=0;r\u003Co;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t\u003Ce.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t\u003Ce.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?\\\"\\\":n+\\\"\\\"}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]\u003C=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type=\\\"ordinal\\\",e}(rx);rx.registerClass(yx);var vx=zr,mx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"interval\\\",e._interval=0,e._intervalPrecision=2,e}return n(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return dx(t,this._extent)},e.prototype.normalize=function(t){return fx(t,this._extent)},e.prototype.scale=function(t){return gx(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]\u003Ce[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=cx(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]\u003Ci[0]&&(t?o.push({value:vx(i[0]-e,r)}):o.push({value:n[0]}));for(var a=i[0];a\u003C=i[1]&&(o.push({value:a}),(a=vx(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(t?o.push({value:vx(s+e,r)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r\u003Ce.length;r++){for(var o=e[r],a=e[r-1],s=0,l=[],u=(o.value-a.value)/t;s\u003Ct-1;){var h=vx(a.value+(s+1)*u);h>i[0]&&h\u003Ci[1]&&l.push(h),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return\\\"\\\";var n=e&&e.precision;return null==n?n=Br(t.value)||0:\\\"auto\\\"===n&&(n=this._intervalPrecision),ep(vx(t.value,n,!0))},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r\u003C0&&(r=-r,i.reverse());var o=ux(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=vx(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=vx(Math.ceil(e[1]/r)*r))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type=\\\"interval\\\",e}(rx);rx.registerClass(mx);var xx=\\\"undefined\\\"!=typeof Float32Array,_x=xx?Float32Array:Array;function bx(t){return Y(t)?xx?new Float32Array(t):t:new _x(t)}var Sx=\\\"__ec_stack_\\\";function Mx(t){return t.get(\\\"stack\\\")||Sx+t.seriesIndex}function Ix(t){return t.dim+t.index}function Tx(t,e){var n=[];return e.eachSeriesByType(t,(function(t){Lx(t)&&n.push(t)})),n}function Cx(t){var e=function(t){var e={};E(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if(\\\"time\\\"===n.type||\\\"value\\\"===n.type)for(var i=t.getData(),r=n.dim+\\\"_\\\"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),s=0,l=a.count();s\u003Cl;++s){var u=a.get(o,s);e[r]?e[r].push(u):e[r]=[u]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort((function(t,e){return t-e}));for(var o=null,a=1;a\u003Cr.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(t),n=[];return E(t,(function(t){var i,r=t.coordinateSystem.getBaseAxis(),o=r.getExtent();if(\\\"category\\\"===r.type)i=r.getBandWidth();else if(\\\"value\\\"===r.type||\\\"time\\\"===r.type){var a=r.dim+\\\"_\\\"+r.index,s=e[a],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),h=Math.abs(u[1]-u[0]);i=s?l/h*s:l}else{var c=t.getData();i=Math.abs(o[1]-o[0])/c.count()}var p=Er(t.get(\\\"barWidth\\\"),i),d=Er(t.get(\\\"barMaxWidth\\\"),i),f=Er(t.get(\\\"barMinWidth\\\")||(Px(t)?.5:1),i),g=t.get(\\\"barGap\\\"),y=t.get(\\\"barCategoryGap\\\");n.push({bandWidth:i,barWidth:p,barMaxWidth:d,barMinWidth:f,barGap:g,barCategoryGap:y,axisKey:Ix(r),stackId:Mx(t)})})),Dx(n)}function Dx(t){var e={};E(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:\\\"20%\\\",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var h=t.barMinWidth;h&&(a[s].minWidth=h);var c=t.barGap;null!=c&&(o.gap=c);var p=t.barCategoryGap;null!=p&&(o.categoryGap=p)}));var n={};return E(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=t.categoryGap;if(null==o){var a=G(i).length;o=Math.max(35-4*a,15)+\\\"%\\\"}var s=Er(o,r),l=Er(t.gap,1),u=t.remainedWidth,h=t.autoWidthCount,c=(u-s)/(h+(h-1)*l);c=Math.max(c,0),E(i,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,u-=i+l*i,h--}else{var i=c;e&&e\u003Ci&&(i=Math.min(e,u)),n&&n>i&&(i=n),i!==c&&(t.width=i,u-=i+l*i,h--)}})),c=(u-s)/(h+(h-1)*l),c=Math.max(c,0);var p,d=0;E(i,(function(t,e){t.width||(t.width=c),p=t,d+=t.width*(1+l)})),p&&(d-=p.width*l);var f=-d/2;E(i,(function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:f,width:t.width},f+=t.width*(1+l)}))})),n}function Ax(t,e){var n=Tx(t,e),i=Cx(n);E(n,(function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),r=Mx(t),o=i[Ix(n)][r],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})}))}function kx(t){return{seriesType:t,plan:yg(),reset:function(t){if(Lx(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(r.dim)),a=e.getDimensionIndex(e.mapDimension(i.dim)),s=t.get(\\\"showBackground\\\",!0),l=e.mapDimension(r.dim),u=e.getCalculationInfo(\\\"stackResultDimension\\\"),h=ex(e,l)&&!!e.getCalculationInfo(\\\"stackedOnSeries\\\"),c=r.isHorizontal(),p=function(t,e){return e.toGlobalCoord(e.dataToCoord(\\\"log\\\"===e.type?1:0))}(0,r),d=Px(t),f=t.get(\\\"barMinHeight\\\")||0,g=u&&e.getDimensionIndex(u),y=e.getLayout(\\\"size\\\"),v=e.getLayout(\\\"offset\\\");return{progress:function(t,e){for(var i,r=t.count,l=d&&bx(3*r),u=d&&s&&bx(3*r),m=d&&bx(r),x=n.master.getRect(),_=c?x.width:x.height,b=e.getStore(),w=0;null!=(i=t.next());){var S=b.get(h?g:o,i),M=b.get(a,i),I=p,T=void 0;h&&(T=+S-b.get(o,i));var C=void 0,D=void 0,A=void 0,k=void 0;if(c){var L=n.dataToPoint([S,M]);if(h)I=n.dataToPoint([T,M])[0];C=I,D=L[1]+v,A=L[0]-I,k=y,Math.abs(A)\u003Cf&&(A=(A\u003C0?-1:1)*f)}else{L=n.dataToPoint([M,S]);if(h)I=n.dataToPoint([M,T])[1];C=L[0]+v,D=I,A=y,k=L[1]-I,Math.abs(k)\u003Cf&&(k=(k\u003C=0?-1:1)*f)}d?(l[w]=C,l[w+1]=D,l[w+2]=c?A:k,u&&(u[w]=c?x.x:C,u[w+1]=c?D:x.y,u[w+2]=_),m[i]=i):e.setItemLayout(i,{x:C,y:D,width:A,height:k}),w+=3}d&&e.setLayout({largePoints:l,largeDataIndices:m,largeBackgroundPoints:u,valueAxisHorizontal:c})}}}}}}function Lx(t){return t.coordinateSystem&&\\\"cartesian2d\\\"===t.coordinateSystem.type}function Px(t){return t.pipelineContext&&t.pipelineContext.large}var Ox=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"time\\\",n}return n(e,t),e.prototype.getLabel=function(t){var e=this.getSetting(\\\"useUTC\\\");return Vc(t.value,Pc[function(t){switch(t){case\\\"year\\\":case\\\"month\\\":return\\\"day\\\";case\\\"millisecond\\\":return\\\"millisecond\\\";default:return\\\"second\\\"}}(Ec(this._minLevelUnit))]||Pc.second,e,this.getSetting(\\\"locale\\\"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting(\\\"useUTC\\\");return function(t,e,n,i,r){var o=null;if(X(n))o=n;else if(U(n))o=n(t.value,e,{level:t.level});else{var a=A({},kc);if(t.level>0)for(var s=0;s\u003COc.length;++s)a[Oc[s]]=\\\"{primary|\\\"+a[Oc[s]]+\\\"}\\\";var l=n?!1===n.inherit?n:k(n,a):a,u=Bc(t.value,r);if(l[u])o=l[u];else if(l.inherit){for(s=Rc.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(Y(o)){var h=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[h=Math.min(h,o.length-1)]}}return Vc(new Date(t.value),o,r,i)}(t,e,n,this.getSetting(\\\"locale\\\"),i)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var i=this.getSetting(\\\"useUTC\\\"),r=function(t,e,n,i){var r=1e4,o=Rc,a=0;function s(t,e,n,r,o,a,s){for(var l=new Date(e),u=e,h=l[r]();u\u003Cn&&u\u003C=i[1];)s.push({value:u}),h+=t,l[o](h),u=l.getTime();s.push({value:u,notAdd:!0})}function l(t,r,o){var a=[],l=!r.length;if(!function(t,e,n,i){var r=jr(e),o=jr(n),a=function(t){return Fc(r,t,i)===Fc(o,t,i)},s=function(){return a(\\\"year\\\")},l=function(){return s()&&a(\\\"month\\\")},u=function(){return l()&&a(\\\"day\\\")},h=function(){return u()&&a(\\\"hour\\\")},c=function(){return h()&&a(\\\"minute\\\")},p=function(){return c()&&a(\\\"second\\\")},d=function(){return p()&&a(\\\"millisecond\\\")};switch(t){case\\\"year\\\":return s();case\\\"month\\\":return l();case\\\"day\\\":return u();case\\\"hour\\\":return h();case\\\"minute\\\":return c();case\\\"second\\\":return p();case\\\"millisecond\\\":return d()}}(Ec(t),i[0],i[1],n)){l&&(r=[{value:Fx(new Date(i[0]),t,n)},{value:i[1]}]);for(var u=0;u\u003Cr.length-1;u++){var h=r[u].value,c=r[u+1].value;if(h!==c){var p=void 0,d=void 0,f=void 0,g=!1;switch(t){case\\\"year\\\":p=Math.max(1,Math.round(e/Dc/365)),d=Gc(n),f=jc(n);break;case\\\"half-year\\\":case\\\"quarter\\\":case\\\"month\\\":p=Ex(e),d=Wc(n),f=qc(n);break;case\\\"week\\\":case\\\"half-week\\\":case\\\"day\\\":p=Nx(e),d=Hc(n),f=Kc(n),g=!0;break;case\\\"half-day\\\":case\\\"quarter-day\\\":case\\\"hour\\\":p=zx(e),d=Yc(n),f=$c(n);break;case\\\"minute\\\":p=Vx(e,!0),d=Uc(n),f=Jc(n);break;case\\\"second\\\":p=Vx(e,!1),d=Xc(n),f=Qc(n);break;case\\\"millisecond\\\":p=Bx(e),d=Zc(n),f=tp(n)}s(p,h,c,d,f,g,a),\\\"year\\\"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-p})}}for(u=0;u\u003Ca.length;u++)o.push(a[u]);return a}}for(var u=[],h=[],c=0,p=0,d=0;d\u003Co.length&&a++\u003Cr;++d){var f=Ec(o[d]);if(zc(o[d]))if(l(o[d],u[u.length-1]||[],h),f!==(o[d+1]?Ec(o[d+1]):null)){if(h.length){p=c,h.sort((function(t,e){return t.value-e.value}));for(var g=[],y=0;y\u003Ch.length;++y){var v=h[y].value;0!==y&&h[y-1].value===v||(g.push(h[y]),v>=i[0]&&v\u003C=i[1]&&c++)}var m=(i[1]-i[0])/e;if(c>1.5*m&&p>m/1.5)break;if(u.push(g),c>m||t===o[d])break}h=[]}}0;var x=B(z(u,(function(t){return B(t,(function(t){return t.value>=i[0]&&t.value\u003C=i[1]&&!t.notAdd}))})),(function(t){return t.length>0})),_=[],b=x.length-1;for(d=0;d\u003Cx.length;++d)for(var w=x[d],S=0;S\u003Cw.length;++S)_.push({value:w[S].value,level:b-d});_.sort((function(t,e){return t.value-e.value}));var M=[];for(d=0;d\u003C_.length;++d)0!==d&&_[d].value===_[d-1].value||M.push(_[d]);return M}(this._minLevelUnit,this._approxInterval,i,e);return(n=n.concat(r)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Dc,e[1]+=Dc),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Dc}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/t,null!=e&&this._approxInterval\u003Ce&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=Rx.length,a=Math.min(function(t,e,n,i){for(;n\u003Ci;){var r=n+i>>>1;t[r][1]\u003Ce?n=r+1:i=r}return n}(Rx,this._approxInterval,0,o),o-1);this._interval=Rx[a][1],this._minLevelUnit=Rx[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return j(t)?t:+jr(t)},e.prototype.contain=function(t){return dx(this.parse(t),this._extent)},e.prototype.normalize=function(t){return fx(this.parse(t),this._extent)},e.prototype.scale=function(t){return gx(t,this._extent)},e.type=\\\"time\\\",e}(mx),Rx=[[\\\"second\\\",Ic],[\\\"minute\\\",Tc],[\\\"hour\\\",Cc],[\\\"quarter-day\\\",216e5],[\\\"half-day\\\",432e5],[\\\"day\\\",10368e4],[\\\"half-week\\\",3024e5],[\\\"week\\\",6048e5],[\\\"month\\\",26784e5],[\\\"quarter\\\",8208e6],[\\\"half-year\\\",Ac/2],[\\\"year\\\",Ac]];function Nx(t,e){return(t/=Dc)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Ex(t){return(t/=2592e6)>6?6:t>3?3:t>2?2:1}function zx(t){return(t/=Cc)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Vx(t,e){return(t/=e?Tc:Ic)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Bx(t){return $r(t,!0)}function Fx(t,e,n){var i=new Date(t);switch(Ec(e)){case\\\"year\\\":case\\\"month\\\":i[qc(n)](0);case\\\"day\\\":i[Kc(n)](1);case\\\"hour\\\":i[$c(n)](0);case\\\"minute\\\":i[Jc(n)](0);case\\\"second\\\":i[Qc(n)](0),i[tp(n)](0)}return i.getTime()}rx.registerClass(Ox);var Gx=rx.prototype,Wx=mx.prototype,Hx=zr,Yx=Math.floor,Ux=Math.ceil,Xx=Math.pow,Zx=Math.log,jx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"log\\\",e.base=10,e._originalScale=new mx,e._interval=0,e}return n(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent();return z(Wx.getTicks.call(this,t),(function(t){var e=t.value,r=zr(Xx(this.base,e));return r=e===n[0]&&this._fixMin?Kx(r,i[0]):r,{value:r=e===n[1]&&this._fixMax?Kx(r,i[1]):r}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=Zx(t)/Zx(n),e=Zx(e)/Zx(n),Wx.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Gx.getExtent.call(this);e[0]=Xx(t,e[0]),e[1]=Xx(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=Kx(e[0],n[0])),this._fixMax&&(e[1]=Kx(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Zx(t[0])/Zx(e),t[1]=Zx(t[1])/Zx(e),Gx.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n\u003C=0)){var i=qr(n);for(t/n*i\u003C=.5&&(i*=10);!isNaN(i)&&Math.abs(i)\u003C1&&Math.abs(i)>0;)i*=10;var r=[zr(Ux(e[0]/i)*i),zr(Yx(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},e.prototype.calcNiceExtent=function(t){Wx.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return dx(t=Zx(t)/Zx(this.base),this._extent)},e.prototype.normalize=function(t){return fx(t=Zx(t)/Zx(this.base),this._extent)},e.prototype.scale=function(t){return t=gx(t,this._extent),Xx(this.base,t)},e.type=\\\"log\\\",e}(rx),qx=jx.prototype;function Kx(t,e){return Hx(t,Br(e))}qx.getMinorTicks=Wx.getMinorTicks,qx.getLabel=Wx.getLabel,rx.registerClass(jx);var $x=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]\u003Cn[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=\\\"ordinal\\\"===t.type;this._needCrossZero=\\\"interval\\\"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var r=this._modelMinRaw=e.get(\\\"min\\\",!0);U(r)?this._modelMinNum=e_(t,r({min:n[0],max:n[1]})):\\\"dataMin\\\"!==r&&(this._modelMinNum=e_(t,r));var o=this._modelMaxRaw=e.get(\\\"max\\\",!0);if(U(o)?this._modelMaxNum=e_(t,o({min:n[0],max:n[1]})):\\\"dataMax\\\"!==o&&(this._modelMaxNum=e_(t,o)),i)this._axisDataLen=e.getCategories().length;else{var a=e.get(\\\"boundaryGap\\\"),s=Y(a)?a:[a||0,a||0];\\\"boolean\\\"==typeof s[0]||\\\"boolean\\\"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[gr(s[0],1),gr(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a=\\\"dataMin\\\"===this._modelMinRaw?e:this._modelMinNum,s=\\\"dataMax\\\"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?i?0:NaN:e-r[0]*o),null==s&&(s=t?i?i-1:NaN:n+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var h=nt(a)||nt(s)||t&&!i;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a\u003C0&&s\u003C0&&!u&&(s=0));var c=this._determinedMin,p=this._determinedMax;return null!=c&&(a=c,l=!0),null!=p&&(s=p,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[Qx[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=Jx[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),Jx={min:\\\"_determinedMin\\\",max:\\\"_determinedMax\\\"},Qx={min:\\\"_dataMin\\\",max:\\\"_dataMax\\\"};function t_(t,e,n){var i=t.rawExtentInfo;return i||(i=new $x(t,e,n),t.rawExtentInfo=i,i)}function e_(t,e){return null==e?null:nt(e)?NaN:t.parse(e)}function n_(t,e){var n=t.type,i=t_(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&\\\"time\\\"===n){var s=Tx(\\\"bar\\\",a),l=!1;if(E(s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var u=Cx(s),h=function(t,e,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=function(t,e,n){if(t&&e){var i=t[Ix(e)];return null!=i&&null!=n?i[Mx(n)]:i}}(i,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;E(a,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;E(a,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/o)-h;return{min:t-=c*(s/u),max:e+=c*(l/u)}}(r,o,e,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function i_(t,e){var n=e,i=n_(t,n),r=i.extent,o=n.get(\\\"splitNumber\\\");t instanceof jx&&(t.base=n.get(\\\"logBase\\\"));var a=t.type,s=n.get(\\\"interval\\\"),l=\\\"interval\\\"===a||\\\"time\\\"===a;t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get(\\\"minInterval\\\"):null,maxInterval:l?n.get(\\\"maxInterval\\\"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function r_(t,e){if(e=e||t.get(\\\"type\\\"))switch(e){case\\\"category\\\":return new yx({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case\\\"time\\\":return new Ox({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get(\\\"useUTC\\\")});default:return new(rx.getClass(e)||mx)}}function o_(t){var e,n,i=t.getLabelModel().get(\\\"formatter\\\"),r=\\\"category\\\"===t.type?t.scale.getExtent()[0]:null;return\\\"time\\\"===t.scale.type?(n=i,function(e,i){return t.scale.getFormattedLabel(e,i,n)}):X(i)?function(e){return function(n){var i=t.scale.getLabel(n);return e.replace(\\\"{value}\\\",null!=i?i:\\\"\\\")}}(i):U(i)?(e=i,function(n,i){return null!=r&&(i=n.value-r),e(a_(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function a_(t,e){return\\\"category\\\"===t.type?t.scale.getLabel(e):e.value}function s_(t,e){var n=e*Math.PI/180,i=t.width,r=t.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new sr(t.x,t.y,o,a)}function l_(t){var e=t.get(\\\"interval\\\");return null==e?\\\"auto\\\":e}function u_(t){return\\\"category\\\"===t.type&&0===l_(t.getLabelModel())}function h_(t,e){var n={};return E(t.mapDimensionsAll(e),(function(e){n[nx(t,e)]=!0})),G(n)}var c_=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();var p_={isDimensionStacked:ex,enableDataStack:tx,getStackedDimension:nx};var d_=Object.freeze({__proto__:null,createList:function(t){return ix(null,t)},getLayoutRect:xp,dataStack:p_,createScale:function(t,e){var n=e;e instanceof dc||(n=new dc(e));var i=r_(n);return i.setExtent(t[0],t[1]),i_(i,n),i},mixinAxisModelCommonMethods:function(t){R(t,c_)},getECData:Hs,createTextStyle:function(t,e){return Uh(t,null,null,\\\"normal\\\"!==(e=e||{}).state)},createDimensions:function(t,e){return qm(t,e).dimensions},createSymbol:Ly,enableHoverEmphasis:Ol});function f_(t,e){return Math.abs(t-e)\u003C1e-8}function g_(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var o=1;o\u003Ct.length;o++){var a=t[o];i+=is(r[0],r[1],a[0],a[1],e,n),r=a}var s=t[0];return f_(r[0],s[0])&&f_(r[1],s[1])||(i+=is(r[0],r[1],s[0],s[1],e,n)),0!==i}var y_=[];function v_(t,e){for(var n=0;n\u003Ct.length;n++)Ft(t[n],t[n],e)}function m_(t,e,n,i){for(var r=0;r\u003Ct.length;r++){var o=t[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Gt(e,e,o),Wt(n,n,o))}}var x_=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),__=function(t,e){this.type=\\\"polygon\\\",this.exterior=t,this.interiors=e},b_=function(t){this.type=\\\"linestring\\\",this.points=t},w_=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.type=\\\"geoJSON\\\",r.geometries=n,r._center=i&&[i[0],i[1]],r}return n(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,i=0;i\u003Ce.length;i++){var r=e[i],o=r.exterior,a=o&&o.length;a>n&&(t=r,n=a)}if(t)return function(t){for(var e=0,n=0,i=0,r=t.length,o=t[r-1][0],a=t[r-1][1],s=0;s\u003Cr;s++){var l=t[s][0],u=t[s][1],h=o*u-l*a;e+=h,n+=(o+l)*h,i+=(a+u)*h,o=l,a=u}return e?[n/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],i=[-1/0,-1/0];return E(this.geometries,(function(e){\\\"polygon\\\"===e.type?m_(e.exterior,n,i,t):E(e.points,(function(e){m_(e,n,i,t)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),e=new sr(n[0],n[1],i[0]-n[0],i[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i\u003Cr;i++){var o=n[i];if(\\\"polygon\\\"===o.type){var a=o.exterior,s=o.interiors;if(g_(a,t[0],t[1])){for(var l=0;l\u003C(s?s.length:0);l++)if(g_(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new sr(t,e,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u\u003Cl.length;u++){var h=l[u];\\\"polygon\\\"===h.type?(v_(h.exterior,s),E(h.interiors,(function(t){v_(t,s)}))):E(h.points,(function(t){v_(t,s)}))}(r=this._rect).copy(a),this._center=[r.x+r.width/2,r.y+r.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(x_),S_=function(t){function e(e,n){var i=t.call(this,e)||this;return i.type=\\\"geoSVG\\\",i._elOnlyForCalculate=n,i}return n(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],i=Oi(y_),r=t;r&&!r.isGeoSVGGraphicRoot;)Ni(i,r.getLocalTransform(),i),r=r.parent;return Bi(i,i),Ft(n,n,i),n},e}(x_);function M_(t,e,n){for(var i=0;i\u003Ct.length;i++)t[i]=I_(t[i],e[i],n)}function I_(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a\u003Ct.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function T_(t,e){return z(B((t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;return null==n&&(n=1024),E(e.features,(function(t){var e=t.geometry,i=e.encodeOffsets,r=e.coordinates;if(i)switch(e.type){case\\\"LineString\\\":e.coordinates=I_(r,i,n);break;case\\\"Polygon\\\":case\\\"MultiLineString\\\":M_(r,i,n);break;case\\\"MultiPolygon\\\":E(r,(function(t,e){return M_(t,i[e],n)}))}})),e.UTF8Encoding=!1,e}(t)).features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,i=t.geometry,r=[];switch(i.type){case\\\"Polygon\\\":var o=i.coordinates;r.push(new __(o[0],o.slice(1)));break;case\\\"MultiPolygon\\\":E(i.coordinates,(function(t){t[0]&&r.push(new __(t[0],t.slice(1)))}));break;case\\\"LineString\\\":r.push(new b_([i.coordinates]));break;case\\\"MultiLineString\\\":r.push(new b_(i.coordinates))}var a=new w_(n[e||\\\"name\\\"],r,n.cp);return a.properties=n,a}))}var C_=Object.freeze({__proto__:null,linearMap:Nr,round:zr,asc:Vr,getPrecision:Br,getPrecisionSafe:Fr,getPixelPrecision:Gr,getPercentWithPrecision:Wr,MAX_SAFE_INTEGER:Yr,remRadian:Ur,isRadianAroundZero:Xr,parseDate:jr,quantity:qr,quantityExponent:Kr,nice:$r,quantile:Jr,reformIntervals:Qr,isNumeric:eo,numericToNumber:to}),D_=Object.freeze({__proto__:null,parse:jr,format:Vc}),A_=Object.freeze({__proto__:null,extendShape:fh,extendPath:yh,makePath:xh,makeImage:_h,mergePath:wh,resizePath:Sh,createIcon:Ph,updateProps:rh,initProps:oh,getTransform:Ih,clipPointsByRect:kh,clipRectByRect:Lh,registerShape:vh,getShapeClass:mh,Group:Cr,Image:_s,Text:ks,Circle:hu,Ellipse:pu,Sector:Cu,Ring:Au,Polygon:Pu,Polyline:Ru,Rect:Cs,Line:zu,BezierCurve:Gu,Arc:Hu,IncrementalDisplayable:th,CompoundPath:Yu,LinearGradient:Xu,RadialGradient:Zu,BoundingRect:sr}),k_=Object.freeze({__proto__:null,addCommas:ep,toCamelCase:np,normalizeCssArray:ip,encodeHTML:ap,formatTpl:hp,getTooltipMarker:cp,formatTime:function(t,e,n){\\\"week\\\"!==t&&\\\"month\\\"!==t&&\\\"quarter\\\"!==t&&\\\"half-year\\\"!==t&&\\\"year\\\"!==t||(t=\\\"MM-dd\\\\nyyyy\\\");var i=jr(e),r=n?\\\"getUTC\\\":\\\"get\\\",o=i[r+\\\"FullYear\\\"](),a=i[r+\\\"Month\\\"]()+1,s=i[r+\\\"Date\\\"](),l=i[r+\\\"Hours\\\"](),u=i[r+\\\"Minutes\\\"](),h=i[r+\\\"Seconds\\\"](),c=i[r+\\\"Milliseconds\\\"]();return t=t.replace(\\\"MM\\\",Nc(a,2)).replace(\\\"M\\\",a).replace(\\\"yyyy\\\",o).replace(\\\"yy\\\",o%100+\\\"\\\").replace(\\\"dd\\\",Nc(s,2)).replace(\\\"d\\\",s).replace(\\\"hh\\\",Nc(l,2)).replace(\\\"h\\\",l).replace(\\\"mm\\\",Nc(u,2)).replace(\\\"m\\\",u).replace(\\\"ss\\\",Nc(h,2)).replace(\\\"s\\\",h).replace(\\\"SSS\\\",Nc(c,3))},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},truncateText:$o,getTextRect:function(t,e,n,i,r,o,a,s){return new ks({style:{text:t,font:e,align:n,verticalAlign:i,padding:r,rich:o,overflow:a?\\\"truncate\\\":null,lineHeight:s}}).getBoundingRect()}}),L_=Object.freeze({__proto__:null,map:z,each:E,indexOf:P,inherits:O,reduce:V,filter:B,bind:W,curry:H,isArray:Y,isString:X,isObject:q,isFunction:U,extend:A,defaults:k,clone:T,merge:C}),P_=So();function O_(t){return\\\"category\\\"===t.type?function(t){var e=t.getLabelModel(),n=N_(t,e);return!e.get(\\\"show\\\")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=o_(t);return{labels:z(e,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function R_(t,e){return\\\"category\\\"===t.type?function(t,e){var n,i,r=E_(t,\\\"ticks\\\"),o=l_(e),a=z_(r,o);if(a)return a;e.get(\\\"show\\\")&&!t.scale.isBlank()||(n=[]);if(U(o))n=F_(t,o,!0);else if(\\\"auto\\\"===o){var s=N_(t,t.getLabelModel());i=s.labelCategoryInterval,n=z(s.labels,(function(t){return t.tickValue}))}else n=B_(t,i=o,!0);return V_(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:z(t.scale.getTicks(),(function(t){return t.value}))}}function N_(t,e){var n,i,r=E_(t,\\\"labels\\\"),o=l_(e),a=z_(r,o);return a||(U(o)?n=F_(t,o):(i=\\\"auto\\\"===o?function(t){var e=P_(t).autoInterval;return null!=e?e:P_(t).autoInterval=t.calculateCategoryInterval()}(t):o,n=B_(t,i)),V_(r,o,{labels:n,labelCategoryInterval:i}))}function E_(t,e){return P_(t)[e]||(P_(t)[e]=[])}function z_(t,e){for(var n=0;n\u003Ct.length;n++)if(t[n].key===e)return t[n].value}function V_(t,e,n){return t.push({key:e,value:n}),n}function B_(t,e,n){var i=o_(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=u_(t),p=a.get(\\\"showMinLabel\\\")||c,d=a.get(\\\"showMaxLabel\\\")||c;p&&u!==o[0]&&g(o[0]);for(var f=u;f\u003C=o[1];f+=l)g(f);function g(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return d&&f-l!==o[1]&&g(o[1]),s}function F_(t,e,n){var i=t.scale,r=o_(t),o=[];return E(i.getTicks(),(function(t){var a=i.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:r(t),rawLabel:a,tickValue:s})})),o}var G_=[0,1],W_=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t\u003C=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Gr(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&\\\"ordinal\\\"===i.type&&H_(n=n.slice(),i.count()),Nr(t,G_,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&\\\"ordinal\\\"===i.type&&H_(n=n.slice(),i.count());var r=Nr(t,n,G_,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=z(R_(this,e).ticks,(function(t){return{coord:this.dataToCoord(\\\"ordinal\\\"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var o,a,s=t.getExtent();if(1===r)e[0].coord=s[0],o=e[1]={coord:s[0]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;E(e,(function(t){t.coord-=u/2})),a=1+t.scale.getExtent()[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*a},e.push(o)}var h=s[0]>s[1];c(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift());i&&c(s[0],e[0].coord)&&e.unshift({coord:s[0]});c(s[1],o.coord)&&(i?o.coord=s[1]:e.pop());i&&c(o.coord,s[1])&&e.push({coord:s[1]});function c(t,e){return t=zr(t),e=zr(e),h?t>e:t\u003Ce}}(this,n,e.get(\\\"alignWithLabel\\\"),t.clamp),n},t.prototype.getMinorTicksCoords=function(){if(\\\"ordinal\\\"===this.scale.type)return[];var t=this.model.getModel(\\\"minorTick\\\").get(\\\"splitNumber\\\");return t>0&&t\u003C100||(t=5),z(this.scale.getMinorTicks(t),(function(t){return z(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return O_(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel(\\\"axisLabel\\\")},t.prototype.getTickModel=function(){return this.model.getModel(\\\"axisTick\\\")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get(\\\"rotate\\\")||0,font:e.getFont()}}(t),n=o_(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]\u003C1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(i)),c=Math.abs(u*Math.sin(i)),p=0,d=0;l\u003C=o[1];l+=s){var f,g,y=cr(n({value:l}),e.font,\\\"center\\\",\\\"top\\\");f=1.3*y.width,g=1.3*y.height,p=Math.max(p,f,7),d=Math.max(d,g,7)}var v=p/h,m=d/c;isNaN(v)&&(v=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(v,m))),_=P_(t.model),b=t.getExtent(),w=_.lastAutoInterval,S=_.lastTickCount;return null!=w&&null!=S&&Math.abs(w-x)\u003C=1&&Math.abs(S-a)\u003C=1&&w>x&&_.axisExtent0===b[0]&&_.axisExtent1===b[1]?x=w:(_.lastTickCount=a,_.lastAutoInterval=x,_.axisExtent0=b[0],_.axisExtent1=b[1]),x}(this)},t}();function H_(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var Y_=2*Math.PI,U_=qa.CMD,X_=[\\\"top\\\",\\\"right\\\",\\\"bottom\\\",\\\"left\\\"];function Z_(t,e,n,i,r){var o=n.width,a=n.height;switch(t){case\\\"top\\\":i.set(n.x+o/2,n.y-e),r.set(0,-1);break;case\\\"bottom\\\":i.set(n.x+o/2,n.y+a+e),r.set(0,1);break;case\\\"left\\\":i.set(n.x-e,n.y+a/2),r.set(-1,0);break;case\\\"right\\\":i.set(n.x+o+e,n.y+a/2),r.set(1,0)}}function j_(t,e,n,i,r,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*n+t,c=(s/=u)*n+e;if(Math.abs(i-r)%Y_\u003C1e-4)return l[0]=h,l[1]=c,u-n;if(o){var p=i;i=ts(r),r=ts(p)}else i=ts(i),r=ts(r);i>r&&(r+=Y_);var d=Math.atan2(s,a);if(d\u003C0&&(d+=Y_),d>=i&&d\u003C=r||d+Y_>=i&&d+Y_\u003C=r)return l[0]=h,l[1]=c,u-n;var f=n*Math.cos(i)+t,g=n*Math.sin(i)+e,y=n*Math.cos(r)+t,v=n*Math.sin(r)+e,m=(f-a)*(f-a)+(g-s)*(g-s),x=(y-a)*(y-a)+(v-s)*(v-s);return m\u003Cx?(l[0]=f,l[1]=g,Math.sqrt(m)):(l[0]=y,l[1]=v,Math.sqrt(x))}function q_(t,e,n,i,r,o,a,s){var l=r-t,u=o-e,h=n-t,c=i-e,p=Math.sqrt(h*h+c*c),d=(l*(h/=p)+u*(c/=p))/p;s&&(d=Math.min(Math.max(d,0),1)),d*=p;var f=a[0]=t+d*h,g=a[1]=e+d*c;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function K_(t,e,n,i,r,o,a){n\u003C0&&(t+=n,n=-n),i\u003C0&&(e+=i,i=-i);var s=t+n,l=e+i,u=a[0]=Math.min(Math.max(r,t),s),h=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var $_=[];function J_(t,e,n){var i=K_(e.x,e.y,e.width,e.height,t.x,t.y,$_);return n.set($_[0],$_[1]),i}function Q_(t,e,n){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=e.data,c=t.x,p=t.y,d=0;d\u003Ch.length;){var f=h[d++];1===d&&(s=o=h[d],l=a=h[d+1]);var g=u;switch(f){case U_.M:o=s=h[d++],a=l=h[d++];break;case U_.L:g=q_(o,a,h[d],h[d+1],c,p,$_,!0),o=h[d++],a=h[d++];break;case U_.C:g=je(o,a,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],c,p,$_),o=h[d++],a=h[d++];break;case U_.Q:g=tn(o,a,h[d++],h[d++],h[d],h[d+1],c,p,$_),o=h[d++],a=h[d++];break;case U_.A:var y=h[d++],v=h[d++],m=h[d++],x=h[d++],_=h[d++],b=h[d++];d+=1;var w=!!(1-h[d++]);i=Math.cos(_)*m+y,r=Math.sin(_)*x+v,d\u003C=1&&(s=i,l=r),g=j_(y,v,x,_,_+b,w,(c-y)*x/m+y,p,$_),o=Math.cos(_+b)*m+y,a=Math.sin(_+b)*x+v;break;case U_.R:g=K_(s=o=h[d++],l=a=h[d++],h[d++],h[d++],c,p,$_);break;case U_.Z:g=q_(o,a,s,l,c,p,$_,!0),o=s,a=l}g\u003Cu&&(u=g,n.set($_[0],$_[1]))}return u}var tb=new Ji,eb=new Ji,nb=new Ji,ib=new Ji,rb=new Ji;function ob(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||X_,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=t.getComputedTransform(),c=h&&Bi([],h),p=e.get(\\\"length2\\\")||0;u&&nb.copy(u);for(var d=0;d\u003Ca.length;d++){Z_(a[d],0,s,tb,ib),Ji.scaleAndAdd(eb,tb,ib,p),eb.transform(c);var f=t.getBoundingRect(),g=u?u.distance(eb):t instanceof gs?Q_(eb,t.path,nb):J_(eb,f,nb);g\u003Cl&&(l=g,eb.transform(h),nb.transform(h),nb.toArray(o[0]),eb.toArray(o[1]),tb.toArray(o[2]))}lb(o,e.get(\\\"minTurnAngle\\\")),n.setShape({points:o})}}}var ab=[],sb=new Ji;function lb(t,e){if(e\u003C=180&&e>0){e=e/180*Math.PI,tb.fromArray(t[0]),eb.fromArray(t[1]),nb.fromArray(t[2]),Ji.sub(ib,tb,eb),Ji.sub(rb,nb,eb);var n=ib.len(),i=rb.len();if(!(n\u003C.001||i\u003C.001)){ib.scale(1/n),rb.scale(1/i);var r=ib.dot(rb);if(Math.cos(e)\u003Cr){var o=q_(eb.x,eb.y,nb.x,nb.y,tb.x,tb.y,ab,!1);sb.fromArray(ab),sb.scaleAndAdd(rb,o/Math.tan(Math.PI-e));var a=nb.x!==eb.x?(sb.x-eb.x)/(nb.x-eb.x):(sb.y-eb.y)/(nb.y-eb.y);if(isNaN(a))return;a\u003C0?Ji.copy(sb,eb):a>1&&Ji.copy(sb,nb),sb.toArray(t[1])}}}}function ub(t,e,n){if(n\u003C=180&&n>0){n=n/180*Math.PI,tb.fromArray(t[0]),eb.fromArray(t[1]),nb.fromArray(t[2]),Ji.sub(ib,eb,tb),Ji.sub(rb,nb,eb);var i=ib.len(),r=rb.len();if(!(i\u003C.001||r\u003C.001))if(ib.scale(1/i),rb.scale(1/r),ib.dot(e)\u003CMath.cos(n)){var o=q_(eb.x,eb.y,nb.x,nb.y,tb.x,tb.y,ab,!1);sb.fromArray(ab);var a=Math.PI/2,s=a+Math.acos(rb.dot(e))-n;if(s>=a)Ji.copy(sb,nb);else{sb.scaleAndAdd(rb,o/Math.tan(Math.PI/2-s));var l=nb.x!==eb.x?(sb.x-eb.x)/(nb.x-eb.x):(sb.y-eb.y)/(nb.y-eb.y);if(isNaN(l))return;l\u003C0?Ji.copy(sb,eb):l>1&&Ji.copy(sb,nb)}sb.toArray(t[1])}}}function hb(t,e,n,i){var r=\\\"normal\\\"===n,o=r?t:t.ensureState(n);o.ignore=e;var a=i.get(\\\"smooth\\\");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel(\\\"lineStyle\\\").getLineStyle();r?t.useStyle(s):o.style=s}function cb(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=Et(i[0],i[1]),o=Et(i[1],i[2]);if(!r||!o)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=Bt([],i[1],i[0],a/r),l=Bt([],i[1],i[2],a/o),u=Bt([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h\u003Ci.length;h++)t.lineTo(i[h][0],i[h][1])}function pb(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get(\\\"show\\\"),s=r.ignore,l=0;l\u003CKs.length;l++){var u=Ks[l],h=e[u],c=\\\"normal\\\"===u;if(h){var p=h.get(\\\"show\\\");if((c?s:rt(r.states[u]&&r.states[u].ignore,s))||!rt(p,a)){var d=c?i:i&&i.states[u];d&&(d.ignore=!0);continue}i||(i=new Ru,t.setTextGuideLine(i),c||!s&&a||hb(i,!0,\\\"normal\\\",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),hb(i,!1,u,h)}}if(i){k(i.style,n),i.style.fill=null;var f=o.get(\\\"showAbove\\\");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=f||!1,i.buildPath=cb}}else i&&t.removeTextGuideLine()}function db(t,e){e=e||\\\"labelLine\\\";for(var n={normal:t.getModel(e)},i=0;i\u003Cqs.length;i++){var r=qs[i];n[r]=t.getModel([r,e])}return n}function fb(t){for(var e=[],n=0;n\u003Ct.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]\u003C1e-5&&o[2]\u003C1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new Ju(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function gb(t,e,n,i,r,o){var a=t.length;if(!(a\u003C2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,l=0,u=!1,h=0,c=0;c\u003Ca;c++){var p=t[c],d=p.rect;(s=d[e]-l)\u003C0&&(d[e]-=s,p.label[e]-=s,u=!0),h+=Math.max(-s,0),l=d[e]+d[n]}h>0&&o&&_(-h/a,0,a);var f,g,y=t[0],v=t[a-1];return m(),f\u003C0&&b(-f,.8),g\u003C0&&b(g,.8),m(),x(f,g,1),x(g,f,-1),m(),f\u003C0&&w(-f),g\u003C0&&w(g),u}function m(){f=y.rect[e]-i,g=r-v.rect[e]-v.rect[n]}function x(t,e,n){if(t\u003C0){var i=Math.min(e,-t);if(i>0){_(i*n,0,a);var r=i+t;r\u003C0&&b(-r*n,1)}else b(-t*n,1)}}function _(n,i,r){0!==n&&(u=!0);for(var o=i;o\u003Cr;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function b(i,r){for(var o=[],s=0,l=1;l\u003Ca;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(h),s+=h}if(s){var c=Math.min(Math.abs(i)/s,r);if(i>0)for(l=0;l\u003Ca-1;l++){_(o[l]*c,0,l+1)}else for(l=a-1;l>0;l--){_(-(o[l-1]*c),l,a)}}}function w(t){var e=t\u003C0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),i=0;i\u003Ca-1;i++)if(e>0?_(n,0,i+1):_(-n,a-i-1,a),(t-=n)\u003C=0)return}}function yb(t,e,n,i){return gb(t,\\\"y\\\",\\\"height\\\",e,n,i)}function vb(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new sr(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState(\\\"emphasis\\\");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r\u003Ct.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=o.obb,p=!1,d=0;d\u003Ce.length;d++){var f=e[d];if(n.intersect(f.rect)){if(a&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new Ju(f.localRect,f.transform)),c||(c=new Ju(s,l)),c.intersect(f.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr(\\\"ignore\\\",o.defaultAttr.ignore),h&&h.attr(\\\"ignore\\\",o.defaultAttr.labelGuideIgnore),e.push(o))}}function mb(t){if(t){for(var e=[],n=0;n\u003Ct.length;n++)e.push(t[n].slice());return e}}function xb(t,e){var n=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:mb(i&&i.shape.points)}}var _b=[\\\"align\\\",\\\"verticalAlign\\\",\\\"width\\\",\\\"height\\\",\\\"fontSize\\\"],bb=new qi,wb=So(),Sb=So();function Mb(t,e,n){for(var i=0;i\u003Cn.length;i++){var r=n[i];null!=e[r]&&(t[r]=e[r])}}var Ib=[\\\"x\\\",\\\"y\\\",\\\"rotation\\\"],Tb=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,i,r){var o=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();sr.applyTransform(l,l,s),s?bb.setLocalTransform(s):(bb.x=bb.y=bb.rotation=bb.originX=bb.originY=0,bb.scaleX=bb.scaleY=1);var u,h=i.__hostTarget;if(h){u=h.getBoundingRect().plain();var c=h.getComputedTransform();sr.applyTransform(u,u,c)}var p=u&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:t,dataType:e,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:bb.x,y:bb.y,scaleX:bb.scaleX,scaleY:bb.scaleY,rotation:bb.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get(\\\"labelLayout\\\");(U(i)||G(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=Hs(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,r,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(t,e){return function(){ob(t,e)}}for(var r=0;r\u003Cthis._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u=U(o.layoutOption)?o.layoutOption(xb(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*h:l.attachedRot,offset:[u.dx||0,u.dy||0]});var c=!1;if(null!=u.x?(a.x=Er(u.x,e),a.setStyle(\\\"x\\\",0),c=!0):(a.x=l.x,a.setStyle(\\\"x\\\",l.style.x)),null!=u.y?(a.y=Er(u.y,n),a.setStyle(\\\"y\\\",0),c=!0):(a.y=l.y,a.setStyle(\\\"y\\\",l.style.y)),u.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),c=!1)}wb(a).needsUpdateLabelLine=c,a.rotation=null!=u.rotate?u.rotate*h:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var d=0;d\u003C_b.length;d++){var f=_b[d];a.setStyle(f,null!=u[f]?u[f]:l.style[f])}if(u.draggable){if(a.draggable=!0,a.cursor=\\\"move\\\",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on(\\\"drag\\\",i(s,g.getModel(\\\"labelLine\\\")))}}else a.off(\\\"drag\\\"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),i=t.getHeight(),r=fb(this._labelList),o=B(r,(function(t){return\\\"shiftX\\\"===t.layoutOption.moveOverlap})),a=B(r,(function(t){return\\\"shiftY\\\"===t.layoutOption.moveOverlap}));gb(o,\\\"x\\\",\\\"width\\\",0,n,e),yb(a,0,i),vb(B(r,(function(t){return t.layoutOption.hideOverlap})))},t.prototype.processLabelsOverall=function(){var t=this;E(this._chartViewList,(function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,r=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!i,a=e.getTextContent();!o&&a&&(o=wb(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),r&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=Hs(t),r=i.dataIndex;if(n&&null!=r){var o=e.getData(i.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,\\\"style\\\"),u=o.getVisual(\\\"drawType\\\");s.stroke=l[u];var h=a.getModel(\\\"labelLine\\\");pb(t,db(a),s),ob(t,h)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!ah(t))){var r=(d=wb(n)).oldLayout,o=Hs(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=e.getData(o.dataType);if(r){n.attr(r);var u=t.prevStates;u&&(P(u,\\\"select\\\")>=0&&n.attr(d.oldLayoutSelect),P(u,\\\"emphasis\\\")>=0&&n.attr(d.oldLayoutEmphasis)),rh(n,s,e,a)}else if(n.attr(s),!Jh(n).valueAnimation){var h=rt(n.style.opacity,1);n.style.opacity=0,oh(n,{style:{opacity:h}},e,a)}if(d.oldLayout=s,n.states.select){var c=d.oldLayoutSelect={};Mb(c,s,Ib),Mb(c,n.states.select,Ib)}if(n.states.emphasis){var p=d.oldLayoutEmphasis={};Mb(p,s,Ib),Mb(p,n.states.emphasis,Ib)}tc(n,a,l,e,e)}if(i&&!i.ignore&&!i.invisible){r=(d=Sb(i)).oldLayout;var d,f={points:i.shape.points};r?(i.attr({shape:r}),rh(i,{shape:f},e)):(i.setShape(f),i.style.strokePercent=0,oh(i,{style:{strokePercent:1}},e)),d.oldLayout=f}},t}(),Cb=So();var Db=Math.sin,Ab=Math.cos,kb=Math.PI,Lb=2*Math.PI,Pb=180/kb,Ob=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str=\\\"\\\",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add(\\\"M\\\",t,e)},t.prototype.lineTo=function(t,e){this._add(\\\"L\\\",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._add(\\\"C\\\",t,e,n,i,r,o)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add(\\\"Q\\\",t,e,n,i)},t.prototype.arc=function(t,e,n,i,r,o){this.ellipse(t,e,n,n,0,i,r,o)},t.prototype.ellipse=function(t,e,n,i,r,o,a,s){var l=a-o,u=!s,h=Math.abs(l),c=En(h-Lb)||(u?l>=Lb:-l>=Lb),p=l>0?l%Lb:l%Lb+Lb,d=!1;d=!!c||!En(h)&&p>=kb==!!u;var f=t+n*Ab(o),g=e+i*Db(o);this._start&&this._add(\\\"M\\\",f,g);var y=Math.round(r*Pb);if(c){var v=1/this._p,m=(u?1:-1)*(Lb-v);this._add(\\\"A\\\",n,i,y,1,+u,t+n*Ab(o+m),e+i*Db(o+m)),v>.01&&this._add(\\\"A\\\",n,i,y,0,+u,f,g)}else{var x=t+n*Ab(a),_=e+i*Db(a);this._add(\\\"A\\\",n,i,y,+d,+u,x,_)}},t.prototype.rect=function(t,e,n,i){this._add(\\\"M\\\",t,e),this._add(\\\"l\\\",n,0),this._add(\\\"l\\\",0,i),this._add(\\\"l\\\",-n,0),this._add(\\\"Z\\\")},t.prototype.closePath=function(){this._d.length>0&&this._add(\\\"Z\\\")},t.prototype._add=function(t,e,n,i,r,o,a,s,l){for(var u=[],h=this._p,c=1;c\u003Carguments.length;c++){var p=arguments[c];if(isNaN(p))return void(this._invalid=!0);u.push(Math.round(p*h)/h)}this._d.push(t+u.join(\\\" \\\")),this._start=\\\"Z\\\"===t},t.prototype.generateStr=function(){this._str=this._invalid?\\\"\\\":this._d.join(\\\"\\\"),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Rb=\\\"none\\\",Nb=Math.round;var Eb=[\\\"lineCap\\\",\\\"miterLimit\\\",\\\"lineJoin\\\"],zb=z(Eb,(function(t){return\\\"stroke-\\\"+t.toLowerCase()}));function Vb(t,e,n,i){var r=null==e.opacity?1:e.opacity;if(n instanceof _s)t(\\\"opacity\\\",r);else{if(function(t){var e=t.fill;return null!=e&&e!==Rb}(e)){var o=Rn(e.fill);t(\\\"fill\\\",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a\u003C1)&&t(\\\"fill-opacity\\\",a)}else t(\\\"fill\\\",Rb);if(function(t){var e=t.stroke;return null!=e&&e!==Rb}(e)){var s=Rn(e.stroke);t(\\\"stroke\\\",s.color);var l=e.strokeNoScale?n.getLineScale():1,u=l?(e.lineWidth||0)/l:0,h=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,c=e.strokeFirst;if((i||1!==u)&&t(\\\"stroke-width\\\",u),(i||c)&&t(\\\"paint-order\\\",c?\\\"stroke\\\":\\\"fill\\\"),(i||h\u003C1)&&t(\\\"stroke-opacity\\\",h),e.lineDash){var p=zy(n),d=p[0],f=p[1];d&&(f=Nb(f||0),t(\\\"stroke-dasharray\\\",d.join(\\\",\\\")),(f||i)&&t(\\\"stroke-dashoffset\\\",f))}else i&&t(\\\"stroke-dasharray\\\",Rb);for(var g=0;g\u003CEb.length;g++){var y=Eb[g];if(i||e[y]!==ps[y]){var v=e[y]||ps[y];v&&t(zb[g],v)}}}else i&&t(\\\"stroke\\\",Rb)}}var Bb=\\\"http://www.w3.org/2000/svg\\\",Fb=\\\"http://www.w3.org/1999/xlink\\\";function Gb(t){return document.createElementNS(Bb,t)}function Wb(t,e,n,i,r){return{tag:t,attrs:n||{},children:i,text:r,key:e}}function Hb(t,e){var n=(e=e||{}).newline?\\\"\\\\n\\\":\\\"\\\";return function t(e){var i=e.children,r=e.tag;return function(t,e){var n=[];if(e)for(var i in e){var r=e[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='=\\\"'+r+'\\\"'),n.push(o))}return\\\"\u003C\\\"+t+\\\" \\\"+n.join(\\\" \\\")+\\\">\\\"}(r,e.attrs)+(e.text||\\\"\\\")+(i?\\\"\\\"+n+z(i,(function(e){return t(e)})).join(n)+n:\\\"\\\")+(\\\"\u003C/\\\"+r+\\\">\\\")}(t)}function Yb(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Ub(t,e,n,i){return Wb(\\\"svg\\\",\\\"root\\\",{width:t,height:e,xmlns:Bb,\\\"xmlns:xlink\\\":Fb,version:\\\"1.1\\\",baseProfile:\\\"full\\\",viewBox:!!i&&\\\"0 0 \\\"+t+\\\" \\\"+e},n)}var Xb={cubicIn:\\\"0.32,0,0.67,0\\\",cubicOut:\\\"0.33,1,0.68,1\\\",cubicInOut:\\\"0.65,0,0.35,1\\\",quadraticIn:\\\"0.11,0,0.5,0\\\",quadraticOut:\\\"0.5,1,0.89,1\\\",quadraticInOut:\\\"0.45,0,0.55,1\\\",quarticIn:\\\"0.5,0,0.75,0\\\",quarticOut:\\\"0.25,1,0.5,1\\\",quarticInOut:\\\"0.76,0,0.24,1\\\",quinticIn:\\\"0.64,0,0.78,0\\\",quinticOut:\\\"0.22,1,0.36,1\\\",quinticInOut:\\\"0.83,0,0.17,1\\\",sinusoidalIn:\\\"0.12,0,0.39,0\\\",sinusoidalOut:\\\"0.61,1,0.88,1\\\",sinusoidalInOut:\\\"0.37,0,0.63,1\\\",exponentialIn:\\\"0.7,0,0.84,0\\\",exponentialOut:\\\"0.16,1,0.3,1\\\",exponentialInOut:\\\"0.87,0,0.13,1\\\",circularIn:\\\"0.55,0,1,0.45\\\",circularOut:\\\"0,0.55,0.45,1\\\",circularInOut:\\\"0.85,0,0.15,1\\\"},Zb=\\\"transform-origin\\\";function jb(t,e,n){var i=A({},t.shape);A(i,e),t.buildPath(n,i);var r=new Ob;return r.reset(Yn(t)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function qb(t,e){var n=e.originX,i=e.originY;(n||i)&&(t[Zb]=n+\\\"px \\\"+i+\\\"px\\\")}var Kb={fill:\\\"fill\\\",opacity:\\\"opacity\\\",lineWidth:\\\"stroke-width\\\",lineDashOffset:\\\"stroke-dashoffset\\\"};function $b(t,e){var n=e.zrId+\\\"-ani-\\\"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function Jb(t){return X(t)?Xb[t]?\\\"cubic-bezier(\\\"+Xb[t]+\\\")\\\":rn(t)?t:\\\"\\\":\\\"\\\"}function Qb(t,e,n,i){var r=t.animators,o=r.length,a=[];if(t instanceof Yu){if(y=function(t,e,n){var i,r,o=t.shape.paths,a={};if(E(o,(function(t){var e=Yb(n.zrId);e.animation=!0,Qb(t,{},e,!0);var o=e.cssAnims,s=e.cssNodes,l=G(o),u=l.length;if(u){var h=o[r=l[u-1]];for(var c in h){var p=h[c];a[c]=a[c]||{d:\\\"\\\"},a[c].d+=p.d||\\\"\\\"}for(var d in s){var f=s[d].animation;f.indexOf(r)>=0&&(i=f)}}})),i){e.d=!1;var s=$b(a,n);return i.replace(r,s)}}(t,e,n))a.push(y);else if(!o)return}else if(!o)return;for(var s={},l=0;l\u003Co;l++){var u=r[l],h=[u.getMaxTime()/1e3+\\\"s\\\"],c=Jb(u.getClip().easing),p=u.getDelay();c?h.push(c):h.push(\\\"linear\\\"),p&&h.push(p/1e3+\\\"s\\\"),u.getLoop()&&h.push(\\\"infinite\\\");var d=h.join(\\\" \\\");s[d]=s[d]||[d,[]],s[d][1].push(u)}function f(r){var o,a=r[1],s=a.length,l={},u={},h={};function c(t,e,n){for(var i=t.getTracks(),r=t.getMaxTime(),o=0;o\u003Ci.length;o++){var a=i[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(n&&(l=n(l)),l)for(var u=0;u\u003Cs.length;u++){var h=s[u],c=Math.round(h.time/r*100)+\\\"%\\\",p=Jb(h.easing),d=h.rawValue;(X(d)||j(d))&&(e[c]=e[c]||{},e[c][l]=h.rawValue,p&&(e[c][\\\"animation-timing-function\\\"]=p))}}}}for(var p=0;p\u003Cs;p++){(w=(b=a[p]).targetName)?\\\"shape\\\"===w&&c(b,u):!i&&c(b,l)}for(var d in l){var f={};$i(f,t),A(f,l[d]);var g=Un(f),y=l[d][\\\"animation-timing-function\\\"];h[d]=g?{transform:g}:{},qb(h[d],f),y&&(h[d][\\\"animation-timing-function\\\"]=y)}var v=!0;for(var d in u){h[d]=h[d]||{};var m=!o;y=u[d][\\\"animation-timing-function\\\"];m&&(o=new qa);var x=o.len();o.reset(),h[d].d=jb(t,u[d],o);var _=o.len();if(!m&&x!==_){v=!1;break}y&&(h[d][\\\"animation-timing-function\\\"]=y)}if(!v)for(var d in h)delete h[d].d;if(!i)for(p=0;p\u003Cs;p++){var b,w;\\\"style\\\"===(w=(b=a[p]).targetName)&&c(b,h,(function(t){return Kb[t]}))}var S,M=G(h),I=!0;for(p=1;p\u003CM.length;p++){var T=M[p-1],C=M[p];if(h[T][Zb]!==h[C][Zb]){I=!1;break}S=h[T][Zb]}if(I&&S){for(var d in h)h[d][Zb]&&delete h[d][Zb];e[Zb]=S}if(B(M,(function(t){return G(h[t]).length>0})).length)return $b(h,n)+\\\" \\\"+r[0]+\\\" both\\\"}for(var g in s){var y;(y=f(s[g]))&&a.push(y)}if(a.length){var v=n.zrId+\\\"-cls-\\\"+n.cssClassIdx++;n.cssNodes[\\\".\\\"+v]={animation:a.join(\\\",\\\")},e.class=v}}var tw=Math.round;function ew(t){return t&&X(t.src)}function nw(t){return t&&U(t.toDataURL)}function iw(t,e,n,i){Vb((function(r,o){var a=\\\"fill\\\"===r||\\\"stroke\\\"===r;a&&function(t){return t&&(\\\"linear\\\"===t.type||\\\"radial\\\"===t.type)}(o)?function(t,e,n,i){var r,o=t[n],a={gradientUnits:o.global?\\\"userSpaceOnUse\\\":\\\"objectBoundingBox\\\"};if(Gn(o))r=\\\"linearGradient\\\",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Wn(o))return void 0;r=\\\"radialGradient\\\",a.cx=rt(o.x,.5),a.cy=rt(o.y,.5),a.r=rt(o.r,.5)}for(var s=o.colorStops,l=[],u=0,h=s.length;u\u003Ch;++u){var c=100*Vn(s[u].offset)+\\\"%\\\",p=Rn(s[u].color),d=p.color,f=p.opacity,g={offset:c};g[\\\"stop-color\\\"]=d,f\u003C1&&(g[\\\"stop-opacity\\\"]=f),l.push(Wb(\\\"stop\\\",u+\\\"\\\",g))}var y=Hb(Wb(r,\\\"\\\",a,l)),v=i.gradientCache,m=v[y];m||(m=i.zrId+\\\"-g\\\"+i.gradientIdx++,v[y]=m,a.id=m,i.defs[m]=Wb(r,m,a,l));e[n]=Hn(m)}(e,t,r,i):a&&function(t){return Fn(t)||function(t){return t&&!!t.svgElement}(t)}(o)?function(t,e,n,i){var r,o=t.style[n],a={patternUnits:\\\"userSpaceOnUse\\\"};if(Fn(o)){var s=o.imageWidth,l=o.imageHeight,u=void 0,h=o.image;if(X(h)?u=h:ew(h)?u=h.src:nw(h)&&(u=h.toDataURL()),\\\"undefined\\\"==typeof Image){var c=\\\"Image width/height must been given explictly in svg-ssr renderer.\\\";lt(s,c),lt(l,c)}else if(null==s||null==l){var p=function(t,e){if(t){var n=t.elm,i=t.attrs.width=s||e.width,r=t.attrs.height=l||e.height;n&&(n.setAttribute(\\\"width\\\",i),n.setAttribute(\\\"height\\\",r))}},d=Zo(u,null,t,(function(t){p(f,t),p(r,t)}));d&&d.width&&d.height&&(s=s||d.width,l=l||d.height)}r=Wb(\\\"image\\\",\\\"img\\\",{href:u,width:s,height:l}),a.width=s,a.height=l}else o.svgElement&&(r=T(o.svgElement),a.width=o.svgWidth,a.height=o.svgHeight);if(!r)return;a.patternTransform=Un(o);var f=Wb(\\\"pattern\\\",\\\"\\\",a,[r]),g=Hb(f),y=i.patternCache,v=y[g];v||(v=i.zrId+\\\"-p\\\"+i.patternIdx++,y[g]=v,a.id=v,f=i.defs[v]=Wb(\\\"pattern\\\",v,a,[r]));e[n]=Hn(v)}(n,t,r,i):t[r]=o}),e,n,!1),function(t,e,n){var i=t.style;if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(i)){var r=function(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(\\\",\\\")}(t),o=n.shadowCache,a=o[r];if(!a){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var h=i.shadowOffsetX||0,c=i.shadowOffsetY||0,p=i.shadowBlur,d=Rn(i.shadowColor),f=d.opacity,g=d.color,y=p/2/l+\\\" \\\"+p/2/u;a=n.zrId+\\\"-s\\\"+n.shadowIdx++,n.defs[a]=Wb(\\\"filter\\\",a,{id:a,x:\\\"-100%\\\",y:\\\"-100%\\\",width:\\\"300%\\\",height:\\\"300%\\\"},[Wb(\\\"feDropShadow\\\",\\\"\\\",{dx:h/l,dy:c/u,stdDeviation:y,\\\"flood-color\\\":g,\\\"flood-opacity\\\":f})]),o[r]=a}e.filter=Hn(a)}}(n,t,i)}function rw(t){return En(t[0]-1)&&En(t[1])&&En(t[2])&&En(t[3]-1)}function ow(t,e,n){if(e&&(!function(t){return En(t[4])&&En(t[5])}(e)||!rw(e))){var i=n?10:1e4;t.transform=rw(e)?\\\"translate(\\\"+tw(e[4]*i)/i+\\\" \\\"+tw(e[5]*i)/i+\\\")\\\":function(t){return\\\"matrix(\\\"+zn(t[0])+\\\",\\\"+zn(t[1])+\\\",\\\"+zn(t[2])+\\\",\\\"+zn(t[3])+\\\",\\\"+Vn(t[4])+\\\",\\\"+Vn(t[5])+\\\")\\\"}(e)}}function aw(t,e,n){for(var i=t.points,r=[],o=0;o\u003Ci.length;o++)r.push(tw(i[o][0]*n)/n),r.push(tw(i[o][1]*n)/n);e.points=r.join(\\\" \\\")}function sw(t){return!t.smooth}var lw,uw,hw={circle:[(lw=[\\\"cx\\\",\\\"cy\\\",\\\"r\\\"],uw=z(lw,(function(t){return\\\"string\\\"==typeof t?[t,t]:t})),function(t,e,n){for(var i=0;i\u003Cuw.length;i++){var r=uw[i],o=t[r[0]];null!=o&&(e[r[1]]=tw(o*n)/n)}})],polyline:[aw,sw],polygon:[aw,sw]};function cw(t,e){var n=t.style,i=t.shape,r=hw[t.type],o={},a=e.animation,s=\\\"path\\\",l=t.style.strokePercent,u=e.compress&&Yn(t)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function(t){for(var e=t.animators,n=0;n\u003Ce.length;n++)if(\\\"shape\\\"===e[n].targetName)return!0;return!1}(t)||l\u003C1){t.path||t.createPathProxy();var h=t.path;t.shapeChanged()&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var c=h.getVersion(),p=t,d=p.__svgPathBuilder;p.__svgPathVersion===c&&d&&l===p.__svgPathStrokePercent||(d||(d=p.__svgPathBuilder=new Ob),d.reset(u),h.rebuildPath(d,l),d.generateStr(),p.__svgPathVersion=c,p.__svgPathStrokePercent=l),o.d=d.getStr()}else{s=t.type;var f=Math.pow(10,u);r[0](i,o,f)}return ow(o,t.transform),iw(o,n,t,e),e.animation&&Qb(t,o,e),Wb(s,t.id+\\\"\\\",o)}function pw(t,e){return t instanceof gs?cw(t,e):t instanceof _s?function(t,e){var n=t.style,i=n.image;if(i&&!X(i)&&(ew(i)?i=i.src:nw(i)&&(i=i.toDataURL())),i){var r=n.x||0,o=n.y||0,a={href:i,width:n.width,height:n.height};return r&&(a.x=r),o&&(a.y=o),ow(a,t.transform),iw(a,n,t,e),e.animation&&Qb(t,a,e),Wb(\\\"image\\\",t.id+\\\"\\\",a)}}(t,e):t instanceof vs?function(t,e){var n=t.style,i=n.text;if(null!=i&&(i+=\\\"\\\"),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||a,s=n.x||0,l=function(t,e,n){return\\\"top\\\"===n?t+=e/2:\\\"bottom\\\"===n&&(t-=e/2),t}(n.y||0,fr(r),n.textBaseline),u={\\\"dominant-baseline\\\":\\\"central\\\",\\\"text-anchor\\\":Bn[n.textAlign]||n.textAlign};if(Es(n)){var h=\\\"\\\",c=n.fontStyle,p=Rs(n.fontSize);if(!parseFloat(p))return;var d=n.fontFamily||o,f=n.fontWeight;h+=\\\"font-size:\\\"+p+\\\";font-family:\\\"+d+\\\";\\\",c&&\\\"normal\\\"!==c&&(h+=\\\"font-style:\\\"+c+\\\";\\\"),f&&\\\"normal\\\"!==f&&(h+=\\\"font-weight:\\\"+f+\\\";\\\"),u.style=h}else u.style=\\\"font: \\\"+r;return i.match(/\\\\s/)&&(u[\\\"xml:space\\\"]=\\\"preserve\\\"),s&&(u.x=s),l&&(u.y=l),ow(u,t.transform),iw(u,n,t,e),e.animation&&Qb(t,u,e),Wb(\\\"text\\\",t.id+\\\"\\\",u,void 0,i)}}(t,e):void 0}function dw(t,e,n){var i=n.clipPathCache,r=n.defs,o=i[t.id];if(!o){var a={id:o=n.zrId+\\\"-c\\\"+n.clipPathIdx++};i[t.id]=o,r[o]=Wb(\\\"clipPath\\\",o,a,[cw(t,n)])}e[\\\"clip-path\\\"]=Hn(o)}function fw(t){return document.createTextNode(t)}function gw(t,e,n){t.insertBefore(e,n)}function yw(t,e){t.removeChild(e)}function vw(t,e){t.appendChild(e)}function mw(t){return t.parentNode}function xw(t){return t.nextSibling}function _w(t,e){t.textContent=e}var bw=Wb(\\\"\\\",\\\"\\\");function ww(t){return void 0===t}function Sw(t){return void 0!==t}function Mw(t,e,n){for(var i={},r=e;r\u003C=n;++r){var o=t[r].key;void 0!==o&&(i[o]=r)}return i}function Iw(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function Tw(t){var e,n=t.children,i=t.tag;if(Sw(i)){var r=t.elm=Gb(i);if(Aw(bw,t),Y(n))for(e=0;e\u003Cn.length;++e){var o=n[e];null!=o&&vw(r,Tw(o))}else Sw(t.text)&&!q(t.text)&&vw(r,fw(t.text))}else t.elm=fw(t.text);return t.elm}function Cw(t,e,n,i,r){for(;i\u003C=r;++i){var o=n[i];null!=o&&gw(t,Tw(o),e)}}function Dw(t,e,n,i){for(;n\u003C=i;++n){var r=e[n];if(null!=r)if(Sw(r.tag))yw(mw(r.elm),r.elm);else yw(t,r.elm)}}function Aw(t,e){var n,i=e.elm,r=t&&t.attrs||{},o=e.attrs||{};if(r!==o){for(n in o){var a=o[n];r[n]!==a&&(!0===a?i.setAttribute(n,\\\"\\\"):!1===a?i.removeAttribute(n):120!==n.charCodeAt(0)?i.setAttribute(n,a):\\\"xmlns:xlink\\\"===n||\\\"xmlns\\\"===n?i.setAttributeNS(\\\"http://www.w3.org/2000/xmlns/\\\",n,a):58===n.charCodeAt(3)?i.setAttributeNS(\\\"http://www.w3.org/XML/1998/namespace\\\",n,a):58===n.charCodeAt(5)?i.setAttributeNS(Fb,n,a):i.setAttribute(n,a))}for(n in r)n in o||i.removeAttribute(n)}}function kw(t,e){var n=e.elm=t.elm,i=t.children,r=e.children;t!==e&&(Aw(t,e),ww(e.text)?Sw(i)&&Sw(r)?i!==r&&function(t,e,n){for(var i,r,o,a=0,s=0,l=e.length-1,u=e[0],h=e[l],c=n.length-1,p=n[0],d=n[c];a\u003C=l&&s\u003C=c;)null==u?u=e[++a]:null==h?h=e[--l]:null==p?p=n[++s]:null==d?d=n[--c]:Iw(u,p)?(kw(u,p),u=e[++a],p=n[++s]):Iw(h,d)?(kw(h,d),h=e[--l],d=n[--c]):Iw(u,d)?(kw(u,d),gw(t,u.elm,xw(h.elm)),u=e[++a],d=n[--c]):Iw(h,p)?(kw(h,p),gw(t,h.elm,u.elm),h=e[--l],p=n[++s]):(ww(i)&&(i=Mw(e,a,l)),ww(r=i[p.key])||(o=e[r]).tag!==p.tag?gw(t,Tw(p),u.elm):(kw(o,p),e[r]=void 0,gw(t,o.elm,u.elm)),p=n[++s]);(a\u003C=l||s\u003C=c)&&(a>l?Cw(t,null==n[c+1]?null:n[c+1].elm,n,s,c):Dw(t,e,a,l))}(n,i,r):Sw(r)?(Sw(t.text)&&_w(n,\\\"\\\"),Cw(n,null,r,0,r.length-1)):Sw(i)?Dw(n,i,0,i.length-1):Sw(t.text)&&_w(n,\\\"\\\"):t.text!==e.text&&(Sw(i)&&Dw(n,i,0,i.length-1),_w(n,e.text)))}var Lw=0,Pw=function(){function t(t,e,n){if(this.type=\\\"svg\\\",this.refreshHover=Ow(\\\"refreshHover\\\"),this.configLayer=Ow(\\\"configLayer\\\"),this.storage=e,this._opts=n=A({},n),this.root=t,this._id=\\\"zr\\\"+Lw++,this._oldVNode=Ub(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement(\\\"div\\\");i.style.cssText=\\\"position:relative;overflow:hidden\\\";var r=this._svgDom=this._oldVNode.elm=Gb(\\\"svg\\\");Aw(null,this._oldVNode),i.appendChild(r),t.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style=\\\"position:absolute;left:0;top:0;user-select:none\\\",function(t,e){if(Iw(t,e))kw(t,e);else{var n=t.elm,i=mw(n);Tw(e),null!==i&&(gw(i,e.elm,xw(n)),Dw(i,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return pw(t,Yb(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._backgroundColor,i=this._width,r=this._height,o=Yb(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var a=[];if(n&&\\\"none\\\"!==n){var s=Rn(n),l=s.color,u=s.opacity;this._bgVNode=Wb(\\\"rect\\\",\\\"bg\\\",{width:i,height:r,x:\\\"0\\\",y:\\\"0\\\",id:\\\"0\\\",fill:l,\\\"fill-opacity\\\":u}),a.push(this._bgVNode)}else this._bgVNode=null;var h=t.compress?null:this._mainVNode=Wb(\\\"g\\\",\\\"main\\\",{},[]);this._paintList(e,o,h?h.children:a),h&&a.push(h);var c=z(G(o.defs),(function(t){return o.defs[t]}));if(c.length&&a.push(Wb(\\\"defs\\\",\\\"defs\\\",{},c)),t.animation){var p=function(t,e,n){var i=(n=n||{}).newline?\\\"\\\\n\\\":\\\"\\\",r=\\\" {\\\"+i,o=i+\\\"}\\\",a=z(G(t),(function(e){return e+r+z(G(t[e]),(function(n){return n+\\\":\\\"+t[e][n]+\\\";\\\"})).join(i)+o})).join(i),s=z(G(e),(function(t){return\\\"@keyframes \\\"+t+r+z(G(e[t]),(function(n){return n+r+z(G(e[t][n]),(function(i){var r=e[t][n][i];return\\\"d\\\"===i&&(r='path(\\\"'+r+'\\\")'),i+\\\":\\\"+r+\\\";\\\"})).join(i)+o})).join(i)+o})).join(i);return a||s?[\\\"\u003C![CDATA[\\\",a,s,\\\"]]>\\\"].join(i):\\\"\\\"}(o.cssNodes,o.cssAnims,{newline:!0});if(p){var d=Wb(\\\"style\\\",\\\"stl\\\",{},[],p);a.push(d)}}return Ub(i,r,a,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},Hb(this.renderToVNode({animation:rt(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:rt(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var e=this._bgVNode;if(e&&e.elm){var n=Rn(t),i=n.color,r=n.opacity;e.elm.setAttribute(\\\"fill\\\",i),r\u003C1&&e.elm.setAttribute(\\\"fill-opacity\\\",r)}},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var i,r,o=t.length,a=[],s=0,l=0,u=0;u\u003Co;u++){var h=t[u];if(!h.invisible){var c=h.__clipPaths,p=c&&c.length||0,d=r&&r.length||0,f=void 0;for(f=Math.max(p-1,d-1);f>=0&&(!c||!r||c[f]!==r[f]);f--);for(var g=d-1;g>f;g--)i=a[--s-1];for(var y=f+1;y\u003Cp;y++){var v={};dw(c[y],v,e);var m=Wb(\\\"g\\\",\\\"clip-g-\\\"+l++,v,[]);(i?i.children:n).push(m),a[s++]=m,i=m}r=c;var x=pw(h,e);x&&(i?i.children:n).push(x)}}},t.prototype.resize=function(t,e){var n=this._opts,i=this.root,r=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),i&&r&&(r.style.display=\\\"none\\\",t=Ey(i,0,n),e=Ey(i,1,n),r.style.display=\\\"\\\"),this._width!==t||this._height!==e){if(this._width=t,this._height=e,r){var o=r.style;o.width=t+\\\"px\\\",o.height=e+\\\"px\\\"}var a=this._svgDom;a&&(a.setAttribute(\\\"width\\\",t),a.setAttribute(\\\"height\\\",e))}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=\\\"\\\"),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=encodeURIComponent(this.renderToString()),n=\\\"data:image/svg+xml;\\\";return t?(e=Xn(e))&&n+\\\"base64,\\\"+e:n+\\\"charset=UTF-8,\\\"+e},t}();function Ow(t){return function(){0}}function Rw(t,e,n){var i=h.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position=\\\"absolute\\\",a.left=\\\"0\\\",a.top=\\\"0\\\",a.width=r+\\\"px\\\",a.height=o+\\\"px\\\",i.setAttribute(\\\"data-zr-dom-id\\\",t)),i.width=r*n,i.height=o*n,i}var Nw=function(t){function e(e,n,i){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||Ai,\\\"string\\\"==typeof e?r=Rw(e,n,i):q(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(vt(r),r.onselectstart=function(){return!1},a.padding=\\\"0\\\",a.margin=\\\"0\\\",a.borderWidth=\\\"0\\\"),o.painter=n,o.dpr=i,o}return n(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext(\\\"2d\\\"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Rw(\\\"back-\\\"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(\\\"2d\\\"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new sr(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new sr(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,i=1/0,r=0,u=0;u\u003Co.length;++u){var h=o[u];if(h.intersect(t)){var c=new sr(0,0,0,0);c.copy(h),c.union(t),o[u]=c,n=!0;break}if(s){l.copy(t),l.union(h);var p=t.width*t.height,d=h.width*h.height,f=l.width*l.height-p-d;f\u003Ci&&(i=f,r=u)}}if(s&&(o[r].union(t),n=!0),!n)(e=new sr(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var h=this.__startIndex;h\u003Cthis.__endIndex;++h){if(d=t[h]){var c=d.shouldBePainted(n,i,!0,!0);(f=d.__isRendered&&(1&d.__dirty||!c)?d.getPrevPaintRect():null)&&u(f);var p=c&&(1&d.__dirty||!d.__isRendered)?d.getPaintRect():null;p&&u(p)}}for(h=this.__prevStartIndex;h\u003Cthis.__prevEndIndex;++h){var d,f;c=(d=e[h]).shouldBePainted(n,i,!0,!0);if(d&&(!c||!d.__zr)&&d.__isRendered)(f=d.getPrevPaintRect())&&u(f)}do{r=!1;for(h=0;h\u003Co.length;)if(o[h].isZero())o.splice(h,1);else{for(var g=h+1;g\u003Co.length;)o[h].intersect(o[g])?(r=!0,o[h].union(o[g]),o.splice(g,1)):g++;h++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+\\\"px\\\",r.height=e+\\\"px\\\"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,h=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\\\"copy\\\",this.ctxBack.drawImage(i,0,0,o/u,a/u));var c=this.domBack;function p(t,n,i,o){if(r.clearRect(t,n,i,o),e&&\\\"transparent\\\"!==e){var a=void 0;Q(e)?(a=e.__canvasGradient||Ry(r,e,{x:0,y:0,width:i,height:o}),e.__canvasGradient=a):tt(e)&&(a=Yy(r,e,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}})),r.save(),r.fillStyle=a||e,r.fillRect(t,n,i,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(c,t,n,i,o),r.restore())}!n||s?p(0,0,o,a):n.length&&E(n,(function(t){p(t.x*u,t.y*u,t.width*u,t.height*u)}))},e}(Xt),Ew=1e5,zw=314159,Vw=.01;var Bw=function(){function t(t,e,n,i){this.type=\\\"canvas\\\",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type=\\\"canvas\\\";var r=!t.nodeName||\\\"CANVAS\\\"===t.nodeName.toUpperCase();this._opts=n=A({},n||{}),this.dpr=n.devicePixelRatio||Ai,this._singleCanvas=r,this.root=t,t.style&&(vt(t),t.innerHTML=\\\"\\\"),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(r){var s=t,l=s.width,u=s.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,s.width=l*this.dpr,s.height=u*this.dpr,this._width=l,this._height=u;var h=new Nw(s,this,this.dpr);h.__builtin__=!0,h.initContext(),a[314159]=h,h.zlevel=zw,o.push(zw),this._domRoot=t}else{this._width=Ey(t,0,n),this._height=Ey(t,1,n);var c=this._domRoot=function(t,e){var n=document.createElement(\\\"div\\\");return n.style.cssText=[\\\"position:relative\\\",\\\"width:\\\"+t+\\\"px\\\",\\\"height:\\\"+e+\\\"px\\\",\\\"padding:0\\\",\\\"margin:0\\\",\\\"border-width:0\\\"].join(\\\";\\\")+\\\";\\\",n}(this._width,this._height);t.appendChild(c)}}return t.prototype.getType=function(){return\\\"canvas\\\"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var r=0;r\u003Ci.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o\u003Ce;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Ew)),i||(i=n.ctx).save(),Qy(i,a,r,o===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(Ew)},t.prototype.paintOne=function(t,e){Jy(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;ke((function(){s._paintList(t,e,n,i)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(zw).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s\u003Cthis._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var h=!0,c=!1,p=function(r){var s,l=o[r],u=l.ctx,p=a&&l.createRepaintRects(t,e,d._width,d._height),f=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,y=g&&Date.now(),v=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(f===l.__startIndex){var m=t[f];m.incremental&&m.notClear&&!n||l.clear(!1,v,p)}-1===f&&(console.error(\\\"For some unknown reason. drawIndex is -1\\\"),f=l.__startIndex);var x=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=f;s\u003Cl.__endIndex;s++){var r=t[s];if(r.__inHover&&(c=!0),i._doPaintEl(r,l,a,e,n,s===l.__endIndex-1),g)if(Date.now()-y>15)break}n.prevElClipPaths&&u.restore()};if(p)if(0===p.length)s=l.__endIndex;else for(var _=d.dpr,b=0;b\u003Cp.length;++b){var w=p[b];u.save(),u.beginPath(),u.rect(w.x*_,w.y*_,w.width*_,w.height*_),u.clip(),x(w),u.restore()}else u.save(),x(),u.restore();l.__drawIndex=s,l.__drawIndex\u003Cl.__endIndex&&(h=!1)},d=this,f=0;f\u003Co.length;f++)p(f);return r.wxa&&E(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:h,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,n,i,r,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&(Qy(a,t,r,o),t.setPrevPaintRect(s))}else Qy(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=zw);var n=this._layers[t];return n||((n=new Nw(\\\"zr_\\\"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?C(n,this._layerConfig[t],!0):this._layerConfig[t-Vw]&&C(n,this._layerConfig[t-Vw],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||\\\"function\\\"==typeof t.resize&&\\\"function\\\"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s\u003Cr-1&&!(i[s]\u003Ct&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i\u003Cn.length;i++){var r=n[i];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i\u003Cn.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i\u003Cn.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n\u003Ct.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,a=0;for(r=0;r\u003Ct.length;r++){var s,l=(s=t[r]).zlevel,u=void 0;i!==l&&(i=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?Vw:0),this._needsManuallyCompositing),u.__builtin__||I(\\\"ZLevel \\\"+l+\\\" has been used by unkown layer \\\"+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),1&s.__dirty&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex\u003C0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex\u003C0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,E(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?C(n[t],e,!0):n[t]=e;for(var i=0;i\u003Cthis._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+Vw)C(this._layers[r],n[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(P(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display=\\\"none\\\";var i=this._opts,r=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=Ey(r,0,i),e=Ey(r,1,i),n.style.display=\\\"\\\",this._width!==t||e!==this._height){for(var o in n.style.width=t+\\\"px\\\",n.style.height=e+\\\"px\\\",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(zw).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML=\\\"\\\",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Nw(\\\"image\\\",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio\u003C=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s\u003Cl;s++){var u=a[s];Qy(n,u,o,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();var Fw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.getInitialData=function(t){return ix(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new Cr,n=Ly(\\\"line\\\",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var i=this.getData().getVisual(\\\"symbol\\\"),r=this.getData().getVisual(\\\"symbolRotate\\\"),o=\\\"none\\\"===i?\\\"circle\\\":i,a=.8*t.itemHeight,s=Ly(o,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l=\\\"inherit\\\"===t.iconRotate?r:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf(\\\"empty\\\")>-1&&(s.style.stroke=s.style.fill,s.style.fill=\\\"#fff\\\",s.style.lineWidth=2),e},e.type=\\\"series.line\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\"],e.defaultOption={z:3,coordinateSystem:\\\"cartesian2d\\\",legendHoverLink:!0,clip:!0,label:{position:\\\"top\\\"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:\\\"solid\\\"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:\\\"emptyCircle\\\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:\\\"auto\\\",connectNulls:!1,sampling:\\\"none\\\",animationEasing:\\\"linear\\\",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:\\\"clone\\\"},triggerLineEvent:!1},e}(sg);function Gw(t,e){var n=t.mapDimensionsAll(\\\"defaultedLabel\\\"),i=n.length;if(1===i){var r=af(t,e,n[0]);return null!=r?r+\\\"\\\":null}if(i){for(var o=[],a=0;a\u003Cn.length;a++)o.push(af(t,e,n[a]));return o.join(\\\" \\\")}}function Ww(t,e){var n=t.mapDimensionsAll(\\\"defaultedLabel\\\");if(!Y(e))return e+\\\"\\\";for(var i=[],r=0;r\u003Cn.length;r++){var o=t.getDimensionIndex(n[r]);o>=0&&i.push(e[o])}return i.join(\\\" \\\")}var Hw=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.updateData(e,n,i,r),o}return n(e,t),e.prototype._createSymbol=function(t,e,n,i,r){this.removeAll();var o=Ly(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=Yw,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){_l(this.childAt(0))},e.prototype.downplay=function(){bl(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?\\\"move\\\":e.cursor},e.prototype.updateData=function(t,n,i,r){this.silent=!1;var o=t.getItemVisual(n,\\\"symbol\\\")||\\\"circle\\\",a=t.hostModel,s=e.getSymbolSize(t,n),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var h=t.getItemVisual(n,\\\"symbolKeepAspect\\\");this._createSymbol(o,t,n,s,h)}else{(p=this.childAt(0)).silent=!1;var c={scaleX:s[0]/2,scaleY:s[1]/2};u?p.attr(c):rh(p,c,a,n),hh(p)}if(this._updateCommon(t,n,s,i,r),l){var p=this.childAt(0);if(!u){c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,oh(p,c,a,n)}}u&&this.childAt(0).stopAnimation(\\\"leave\\\")},e.prototype._updateCommon=function(t,e,n,i,r){var o,a,s,l,u,h,c,p,d,f=this.childAt(0),g=t.hostModel;if(i&&(o=i.emphasisItemStyle,a=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,u=i.blurScope,c=i.labelStatesModels,p=i.hoverScale,d=i.cursorStyle,h=i.emphasisDisabled),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(e),v=y.getModel(\\\"emphasis\\\");o=v.getModel(\\\"itemStyle\\\").getItemStyle(),s=y.getModel([\\\"select\\\",\\\"itemStyle\\\"]).getItemStyle(),a=y.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle(),l=v.get(\\\"focus\\\"),u=v.get(\\\"blurScope\\\"),h=v.get(\\\"disabled\\\"),c=Yh(y),p=v.getShallow(\\\"scale\\\"),d=y.getShallow(\\\"cursor\\\")}var m=t.getItemVisual(e,\\\"symbolRotate\\\");f.attr(\\\"rotation\\\",(m||0)*Math.PI/180||0);var x=Oy(t.getItemVisual(e,\\\"symbolOffset\\\"),n);x&&(f.x=x[0],f.y=x[1]),d&&f.attr(\\\"cursor\\\",d);var _=t.getItemVisual(e,\\\"style\\\"),b=_.fill;if(f instanceof _s){var w=f.style;f.useStyle(A({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},_))}else f.__isEmptyBrush?f.useStyle(A({},_)):f.useStyle(_),f.style.decal=null,f.setColor(b,r&&r.symbolInnerColor),f.style.strokeNoScale=!0;var S=t.getItemVisual(e,\\\"liftZ\\\"),M=this._z2;null!=S?null==M&&(this._z2=f.z2,f.z2+=S):null!=M&&(f.z2=M,this._z2=null);var I=r&&r.useNameLabel;Hh(f,c,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return I?t.getName(e):Gw(t,e)},inheritColor:b,defaultOpacity:_.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=f.ensureState(\\\"emphasis\\\");if(T.style=o,f.ensureState(\\\"select\\\").style=s,f.ensureState(\\\"blur\\\").style=a,p){var C=Math.max(j(p)?p:1.1,3/this._sizeY);T.scaleX=this._sizeX*C,T.scaleY=this._sizeY*C}this.setSymbolScale(1),Rl(this,l,u,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var i=this.childAt(0),r=Hs(this).dataIndex,o=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var a=i.getTextContent();a&&sh(a,{style:{opacity:0}},e,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();sh(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return Py(t.getItemVisual(e,\\\"symbolSize\\\"))},e}(Cr);function Yw(t,e){this.parent.drift(t,e)}function Uw(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&\\\"none\\\"!==t.getItemVisual(n,\\\"symbol\\\")}function Xw(t){return null==t||q(t)||(t={isIgnore:t}),t||{}}function Zw(t){var e=t.hostModel,n=e.getModel(\\\"emphasis\\\");return{emphasisItemStyle:n.getModel(\\\"itemStyle\\\").getItemStyle(),blurItemStyle:e.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle(),selectItemStyle:e.getModel([\\\"select\\\",\\\"itemStyle\\\"]).getItemStyle(),focus:n.get(\\\"focus\\\"),blurScope:n.get(\\\"blurScope\\\"),emphasisDisabled:n.get(\\\"disabled\\\"),hoverScale:n.get(\\\"scale\\\"),labelStatesModels:Yh(e),cursorStyle:e.get(\\\"cursor\\\")}}var jw=function(){function t(t){this.group=new Cr,this._SymbolCtor=t||Hw}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=Xw(e);var n=this.group,i=t.hostModel,r=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=Zw(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||n.removeAll(),t.diff(r).add((function(i){var r=u(i);if(Uw(t,r,i,e)){var a=new o(t,i,s,l);a.setPosition(r),t.setItemGraphicEl(i,a),n.add(a)}})).update((function(h,c){var p=r.getItemGraphicEl(c),d=u(h);if(Uw(t,d,h,e)){var f=t.getItemVisual(h,\\\"symbol\\\")||\\\"circle\\\",g=p&&p.getSymbolType&&p.getSymbolType();if(!p||g&&g!==f)n.remove(p),(p=new o(t,h,s,l)).setPosition(d);else{p.updateData(t,h,s,l);var y={x:d[0],y:d[1]};a?p.attr(y):rh(p,y,i)}n.add(p),t.setItemGraphicEl(h,p)}else n.remove(p)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}),i)})).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var i=t._getSymbolPoint(n);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Zw(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState(\\\"emphasis\\\").hoverLayer=!0)}this._progressiveEls=[],n=Xw(n);for(var r=t.start;r\u003Ct.end;r++){var o=e.getItemLayout(r);if(Uw(e,o,r,n)){var a=new this._SymbolCtor(e,r,this._seriesScope);a.traverse(i),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(r,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),n.hostModel)})):e.removeAll()},t}();function qw(t,e,n){var i=t.getBaseAxis(),r=t.getOtherAxis(i),o=function(t,e){var n=0,i=t.scale.getExtent();\\\"start\\\"===e?n=i[0]:\\\"end\\\"===e?n=i[1]:j(e)&&!isNaN(e)?n=e:i[0]>0?n=i[0]:i[1]\u003C0&&(n=i[1]);return n}(r,n),a=i.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(a),h=\\\"x\\\"===s||\\\"radius\\\"===s?1:0,c=z(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,d=e.getCalculationInfo(\\\"stackResultDimension\\\");return ex(e,c[0])&&(p=!0,c[0]=d),ex(e,c[1])&&(p=!0,c[1]=d),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo(\\\"stackedOverDimension\\\")}}function Kw(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo(\\\"stackedOverDimension\\\"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var $w=Math.min,Jw=Math.max;function Qw(t,e){return isNaN(t)||isNaN(e)}function tS(t,e,n,i,r,o,a,s,l){for(var u,h,c,p,d,f,g=n,y=0;y\u003Ci;y++){var v=e[2*g],m=e[2*g+1];if(g>=r||g\u003C0)break;if(Qw(v,m)){if(l){g+=o;continue}break}if(g===n)t[o>0?\\\"moveTo\\\":\\\"lineTo\\\"](v,m),c=v,p=m;else{var x=v-u,_=m-h;if(x*x+_*_\u003C.5){g+=o;continue}if(a>0){for(var b=g+o,w=e[2*b],S=e[2*b+1];w===v&&S===m&&y\u003Ci;)y++,g+=o,w=e[2*(b+=o)],S=e[2*b+1],x=(v=e[2*g])-u,_=(m=e[2*g+1])-h;var M=y+1;if(l)for(;Qw(w,S)&&M\u003Ci;)M++,w=e[2*(b+=o)],S=e[2*b+1];var I=.5,T=0,C=0,D=void 0,A=void 0;if(M>=i||Qw(w,S))d=v,f=m;else{T=w-u,C=S-h;var k=v-u,L=w-v,P=m-h,O=S-m,R=void 0,N=void 0;if(\\\"x\\\"===s){var E=T>0?1:-1;d=v-E*(R=Math.abs(k))*a,f=m,D=v+E*(N=Math.abs(L))*a,A=m}else if(\\\"y\\\"===s){var z=C>0?1:-1;d=v,f=m-z*(R=Math.abs(P))*a,D=v,A=m+z*(N=Math.abs(O))*a}else R=Math.sqrt(k*k+P*P),d=v-T*a*(1-(I=(N=Math.sqrt(L*L+O*O))/(N+R))),f=m-C*a*(1-I),A=m+C*a*I,D=$w(D=v+T*a*I,Jw(w,v)),A=$w(A,Jw(S,m)),D=Jw(D,$w(w,v)),f=m-(C=(A=Jw(A,$w(S,m)))-m)*R/N,d=$w(d=v-(T=D-v)*R/N,Jw(u,v)),f=$w(f,Jw(h,m)),D=v+(T=v-(d=Jw(d,$w(u,v))))*N/R,A=m+(C=m-(f=Jw(f,$w(h,m))))*N/R}t.bezierCurveTo(c,p,d,f,v,m),c=D,p=A}else t.lineTo(v,m)}u=v,h=m,g+=o}return y}var eS=function(){this.smooth=0,this.smoothConstraint=!0},nS=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"ec-polyline\\\",n}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new eS},e.prototype.buildPath=function(t,e){var n=e.points,i=0,r=n.length/2;if(e.connectNulls){for(;r>0&&Qw(n[2*r-2],n[2*r-1]);r--);for(;i\u003Cr&&Qw(n[2*i],n[2*i+1]);i++);}for(;i\u003Cr;)i+=tS(t,n,i,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=qa.CMD,a=\\\"x\\\"===e,s=[],l=0;l\u003Cr.length;){var u=void 0,h=void 0,c=void 0,p=void 0,d=void 0,f=void 0,g=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(u=r[l++],h=r[l++],(g=a?(t-n)/(u-n):(t-i)/(h-i))\u003C=1&&g>=0){var y=a?(h-i)*g+i:(u-n)*g+n;return a?[t,y]:[y,t]}n=u,i=h;break;case o.C:u=r[l++],h=r[l++],c=r[l++],p=r[l++],d=r[l++],f=r[l++];var v=a?Ue(n,u,c,d,t,s):Ue(i,h,p,f,t,s);if(v>0)for(var m=0;m\u003Cv;m++){var x=s[m];if(x\u003C=1&&x>=0){y=a?He(i,h,p,f,x):He(n,u,c,d,x);return a?[t,y]:[y,t]}}n=d,i=f}}},e}(gs),iS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(eS),rS=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"ec-polygon\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new iS},e.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&Qw(n[2*o-2],n[2*o-1]);o--);for(;r\u003Co&&Qw(n[2*r],n[2*r+1]);r++);}for(;r\u003Co;){var s=tS(t,n,r,o,o,1,e.smooth,a,e.connectNulls);tS(t,i,r+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),r+=s+1,t.closePath()}},e}(gs);function oS(t,e,n,i,r){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=n.get([\\\"lineStyle\\\",\\\"width\\\"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new Cs({shape:{x:a,y:s,width:l,height:u}});if(e){var p=t.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0);var g=U(r)?function(t){r(t,c)}:null;oh(c,{shape:{width:l,height:u,x:a,y:s}},n,null,i,g)}return c}function aS(t,e,n){var i=t.getArea(),r=zr(i.r0,1),o=zr(i.r,1),a=new Cu({shape:{cx:zr(t.cx,1),cy:zr(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&(\\\"angle\\\"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,oh(a,{shape:{endAngle:i.endAngle,r:o}},n));return a}function sS(t,e,n,i,r){return t?\\\"polar\\\"===t.type?aS(t,e,n):\\\"cartesian2d\\\"===t.type?oS(t,e,n,i,r):null:null}function lS(t,e){return t.type===e}function uS(t,e){if(t.length===e.length){for(var n=0;n\u003Ct.length;n++)if(t[n]!==e[n])return;return!0}}function hS(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o\u003Ct.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[e,n],[i,r]]}function cS(t,e){var n=hS(t),i=n[0],r=n[1],o=hS(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function pS(t){return j(t)?t:t?.5:0}function dS(t,e,n,i){var r=e.getBaseAxis(),o=\\\"x\\\"===r.dim||\\\"radius\\\"===r.dim?0:1,a=[],s=0,l=[],u=[],h=[],c=[];if(i){for(s=0;s\u003Ct.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||c.push(t[s],t[s+1]);t=c}for(s=0;s\u003Ct.length-2;s+=2)switch(h[0]=t[s+2],h[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],a.push(u[0],u[1]),n){case\\\"end\\\":l[o]=h[o],l[1-o]=u[1-o],a.push(l[0],l[1]);break;case\\\"middle\\\":var p=(u[o]+h[o])/2,d=[];l[o]=d[o]=p,l[1-o]=u[1-o],d[1-o]=h[1-o],a.push(l[0],l[1]),a.push(d[0],d[1]);break;default:l[o]=u[o],l[1-o]=h[1-o],a.push(l[0],l[1])}return a.push(t[s++],t[s++]),a}function fS(t,e,n){var i=t.getVisual(\\\"visualMeta\\\");if(i&&i.length&&t.count()&&\\\"cartesian2d\\\"===e.type){for(var r,o,a=i.length-1;a>=0;a--){var s=t.getDimensionInfo(i[a].dimension);if(\\\"x\\\"===(r=s&&s.coordDim)||\\\"y\\\"===r){o=i[a];break}}if(o){var l=e.getAxis(r),u=z(o.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),h=u.length,c=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(t,e){var n,i,r=[],o=t.length;function a(t,e,n){var i=t.coord;return{coord:n,color:Tn((n-i)/(e.coord-i),[t.color,e.color])}}for(var s=0;s\u003Co;s++){var l=t[s],u=l.coord;if(u\u003C0)n=l;else{if(u>e){i?r.push(a(i,l,e)):n&&r.push(a(n,l,0),a(n,l,e));break}n&&(r.push(a(n,l,0)),n=null),r.push(l),i=l}}return r}(u,\\\"x\\\"===r?n.getWidth():n.getHeight()),d=p.length;if(!d&&h)return u[0].coord\u003C0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var f=p[0].coord-10,g=p[d-1].coord+10,y=g-f;if(y\u003C.001)return\\\"transparent\\\";E(p,(function(t){t.offset=(t.coord-f)/y})),p.push({offset:d?p[d-1].offset:.5,color:c[1]||\\\"transparent\\\"}),p.unshift({offset:d?p[0].offset:.5,color:c[0]||\\\"transparent\\\"});var v=new Xu(0,0,0,0,p,!0);return v[r]=f,v[r+\\\"2\\\"]=g,v}}}function gS(t,e,n){var i=t.get(\\\"showAllSymbol\\\"),r=\\\"auto\\\"===i;if(!i||r){var o=n.getAxesByScale(\\\"ordinal\\\")[0];if(o&&(!r||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a\u003Cr;a+=o)if(1.5*Hw.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return E(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function yS(t,e){return[t[2*e],t[2*e+1]]}function vS(t){if(t.get([\\\"endLabel\\\",\\\"show\\\"]))return!0;for(var e=0;e\u003Cqs.length;e++)if(t.get([qs[e],\\\"endLabel\\\",\\\"show\\\"]))return!0;return!1}function mS(t,e,n,i){if(lS(e,\\\"cartesian2d\\\")){var r=i.getModel(\\\"endLabel\\\"),o=r.get(\\\"valueAnimation\\\"),a=i.getData(),s={lastFrameIndex:0},l=vS(i)?function(n,i){t._endLabelOnDuring(n,i,a,s,o,r,e)}:null,u=e.getBaseAxis().isHorizontal(),h=oS(e,n,i,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!i.get(\\\"clip\\\",!0)){var c=h.shape,p=Math.max(c.width,c.height);u?(c.y-=p,c.height+=2*p):(c.x-=p,c.width+=2*p)}return l&&l(1,h),h}return aS(e,n,i)}var xS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){var t=new Cr,e=new jw;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel(\\\"lineStyle\\\"),l=t.getModel(\\\"areaStyle\\\"),u=a.getLayout(\\\"points\\\")||[],h=\\\"polar\\\"===r.type,c=this._coordSys,p=this._symbolDraw,d=this._polyline,f=this._polygon,g=this._lineGroup,y=t.get(\\\"animation\\\"),v=!l.isEmpty(),m=l.get(\\\"origin\\\"),x=qw(r,a,m),_=v&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),r=bx(2*i),o=0;o\u003Ci;o++){var a=Kw(n,t,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(r,a,x),b=t.get(\\\"showSymbol\\\"),w=t.get(\\\"connectNulls\\\"),S=b&&!h&&gS(t,a,r),M=this._data;M&&M.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),M.setItemGraphicEl(e,null))})),b||p.remove(),o.add(g);var I,T=!h&&t.get(\\\"step\\\");r&&r.getArea&&t.get(\\\"clip\\\",!0)&&(null!=(I=r.getArea()).width?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var C=fS(a,r,n)||a.getVisual(\\\"style\\\")[a.getVisual(\\\"drawType\\\")];if(d&&c.type===r.type&&T===this._step){v&&!f?f=this._newPolygon(u,_):f&&!v&&(g.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(t,r,pp(C));var D=g.getClipPath();if(D)oh(D,{shape:mS(this,r,!1,t).shape},t);else g.setClipPath(mS(this,r,!0,t));b&&p.updateData(a,{isIgnore:S,clipShape:I,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),uS(this._stackedOnPoints,_)&&uS(this._points,u)||(y?this._doUpdateAnimation(a,_,r,n,T,m,w):(T&&(u=dS(u,r,T,w),_&&(_=dS(_,r,T,w))),d.setShape({points:u}),f&&f.setShape({points:u,stackedOnPoints:_})))}else b&&p.updateData(a,{isIgnore:S,clipShape:I,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),y&&this._initSymbolLabelAnimation(a,r,I),T&&(u=dS(u,r,T,w),_&&(_=dS(_,r,T,w))),d=this._newPolyline(u),v&&(f=this._newPolygon(u,_)),h||this._initOrUpdateEndLabel(t,r,pp(C)),g.setClipPath(mS(this,r,!0,t));var A=t.getModel(\\\"emphasis\\\"),L=A.get(\\\"focus\\\"),P=A.get(\\\"blurScope\\\"),O=A.get(\\\"disabled\\\");(d.useStyle(k(s.getLineStyle(),{fill:\\\"none\\\",stroke:C,lineJoin:\\\"bevel\\\"})),Vl(d,t,\\\"lineStyle\\\"),d.style.lineWidth>0&&\\\"bolder\\\"===t.get([\\\"emphasis\\\",\\\"lineStyle\\\",\\\"width\\\"]))&&(d.getState(\\\"emphasis\\\").style.lineWidth=+d.style.lineWidth+1);Hs(d).seriesIndex=t.seriesIndex,Rl(d,L,P,O);var R=pS(t.get(\\\"smooth\\\")),N=t.get(\\\"smoothMonotone\\\");if(d.setShape({smooth:R,smoothMonotone:N,connectNulls:w}),f){var E=a.getCalculationInfo(\\\"stackedOnSeries\\\"),z=0;f.useStyle(k(l.getAreaStyle(),{fill:C,opacity:.7,lineJoin:\\\"bevel\\\",decal:a.getVisual(\\\"style\\\").decal})),E&&(z=pS(E.get(\\\"smooth\\\"))),f.setShape({smooth:R,stackedOnSmooth:z,smoothMonotone:N,connectNulls:w}),Vl(f,t,\\\"areaStyle\\\"),Hs(f).seriesIndex=t.seriesIndex,Rl(f,L,P,O)}var V=function(t){i._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=V)})),this._polyline.onHoverStateChange=V,this._data=a,this._coordSys=r,this._stackedOnPoints=_,this._points=u,this._step=T,this._valueOrigin=m,t.get(\\\"triggerLineEvent\\\")&&(this.packEventData(t,d),f&&this.packEventData(t,f))},e.prototype.packEventData=function(t,e){Hs(e).eventData={componentType:\\\"series\\\",componentSubType:\\\"line\\\",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:\\\"line\\\"}},e.prototype.highlight=function(t,e,n,i){var r=t.getData(),o=wo(r,i);if(this._changePolyState(\\\"emphasis\\\"),!(o instanceof Array)&&null!=o&&o>=0){var a=r.getLayout(\\\"points\\\"),s=r.getItemGraphicEl(o);if(!s){var l=a[2*o],u=a[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var h=t.get(\\\"zlevel\\\"),c=t.get(\\\"z\\\");(s=new Hw(r,o)).x=l,s.y=u,s.setZ(h,c);var p=s.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=c,p.z2=this._polyline.z2+1),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else xg.prototype.highlight.call(this,t,e,n,i)},e.prototype.downplay=function(t,e,n,i){var r=t.getData(),o=wo(r,i);if(this._changePolyState(\\\"normal\\\"),null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else xg.prototype.downplay.call(this,t,e,n,i)},e.prototype._changePolyState=function(t){var e=this._polygon;gl(this._polyline,t),e&&gl(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new nS({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new rS({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var i,r,o=e.getBaseAxis(),a=o.inverse;\\\"cartesian2d\\\"===e.type?(i=o.isHorizontal(),r=!1):\\\"polar\\\"===e.type&&(i=\\\"angle\\\"===o.dim,r=!0);var s=t.hostModel,l=s.get(\\\"animationDuration\\\");U(l)&&(l=l(null));var u=s.get(\\\"animationDelay\\\")||0,h=U(u)?u(null):u;t.eachItemGraphicEl((function(t,o){var s=t;if(s){var c=[t.x,t.y],p=void 0,d=void 0,f=void 0;if(n)if(r){var g=n,y=e.pointToCoord(c);i?(p=g.startAngle,d=g.endAngle,f=-y[1]/180*Math.PI):(p=g.r0,d=g.r,f=y[0])}else{var v=n;i?(p=v.x,d=v.x+v.width,f=t.x):(p=v.y+v.height,d=v.y,f=t.y)}var m=d===p?0:(f-p)/(d-p);a&&(m=1-m);var x=U(u)?u(o):l*m+h,_=s.getSymbolPath(),b=_.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:x}),_.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var i=t.getModel(\\\"endLabel\\\");if(vS(t)){var r=t.getData(),o=this._polyline,a=r.getLayout(\\\"points\\\");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new ks({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(t){for(var e,n,i=t.length/2;i>0&&(e=t[2*i-2],n=t[2*i-1],isNaN(e)||isNaN(n));i--);return i-1}(a);l>=0&&(Hh(o,Yh(t,\\\"endLabel\\\"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?Ww(r,n):Gw(r,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?\\\"right\\\":\\\"left\\\":\\\"center\\\",a=i?\\\"middle\\\":r?\\\"top\\\":\\\"bottom\\\";return{normal:{align:t.get(\\\"align\\\")||o,verticalAlign:t.get(\\\"verticalAlign\\\")||a}}}(i,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,i,r,o,a){var s=this._endLabel,l=this._polyline;if(s){t\u003C1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var u=n.getLayout(\\\"points\\\"),h=n.hostModel,c=h.get(\\\"connectNulls\\\"),p=o.get(\\\"precision\\\"),d=o.get(\\\"distance\\\")||0,f=a.getBaseAxis(),g=f.isHorizontal(),y=f.inverse,v=e.shape,m=y?g?v.x:v.y+v.height:g?v.x+v.width:v.y,x=(g?d:0)*(y?-1:1),_=(g?0:-d)*(y?-1:1),b=g?\\\"x\\\":\\\"y\\\",w=function(t,e,n){for(var i,r,o=t.length/2,a=\\\"x\\\"===n?0:1,s=0,l=-1,u=0;u\u003Co;u++)if(r=t[2*u+a],!isNaN(r)&&!isNaN(t[2*u+1-a]))if(0!==u){if(i\u003C=e&&r>=e||i>=e&&r\u003C=e){l=u;break}s=u,i=r}else i=r;return{range:[s,l],t:(e-i)/(r-i)}}(u,m,b),S=w.range,M=S[1]-S[0],I=void 0;if(M>=1){if(M>1&&!c){var T=yS(u,S[0]);s.attr({x:T[0]+x,y:T[1]+_}),r&&(I=h.getRawValue(S[0]))}else{(T=l.getPointOn(m,b))&&s.attr({x:T[0]+x,y:T[1]+_});var C=h.getRawValue(S[0]),D=h.getRawValue(S[1]);r&&(I=Po(n,p,C,D,w.t))}i.lastFrameIndex=S[0]}else{var A=1===t||i.lastFrameIndex>0?S[0]:0;T=yS(u,A);r&&(I=h.getRawValue(A)),s.attr({x:T[0]+x,y:T[1]+_})}r&&Jh(s).setLabelText(I)}},e.prototype._doUpdateAnimation=function(t,e,n,i,r,o,a){var s=this._polyline,l=this._polygon,u=t.hostModel,h=function(t,e,n,i,r,o,a,s){for(var l=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:\\\"+\\\",idx:t})})).update((function(t,e){n.push({cmd:\\\"=\\\",idx:e,idx1:t})})).remove((function(t){n.push({cmd:\\\"-\\\",idx:t})})).execute(),n}(t,e),u=[],h=[],c=[],p=[],d=[],f=[],g=[],y=qw(r,e,a),v=t.getLayout(\\\"points\\\")||[],m=e.getLayout(\\\"points\\\")||[],x=0;x\u003Cl.length;x++){var _=l[x],b=!0,w=void 0,S=void 0;switch(_.cmd){case\\\"=\\\":w=2*_.idx,S=2*_.idx1;var M=v[w],I=v[w+1],T=m[S],C=m[S+1];(isNaN(M)||isNaN(I))&&(M=T,I=C),u.push(M,I),h.push(T,C),c.push(n[w],n[w+1]),p.push(i[S],i[S+1]),g.push(e.getRawIndex(_.idx1));break;case\\\"+\\\":var D=_.idx,A=y.dataDimsForPoint,k=r.dataToPoint([e.get(A[0],D),e.get(A[1],D)]);S=2*D,u.push(k[0],k[1]),h.push(m[S],m[S+1]);var L=Kw(y,r,e,D);c.push(L[0],L[1]),p.push(i[S],i[S+1]),g.push(e.getRawIndex(D));break;case\\\"-\\\":b=!1}b&&(d.push(_),f.push(f.length))}f.sort((function(t,e){return g[t]-g[e]}));var P=u.length,O=bx(P),R=bx(P),N=bx(P),E=bx(P),z=[];for(x=0;x\u003Cf.length;x++){var V=f[x],B=2*x,F=2*V;O[B]=u[F],O[B+1]=u[F+1],R[B]=h[F],R[B+1]=h[F+1],N[B]=c[F],N[B+1]=c[F+1],E[B]=p[F],E[B+1]=p[F+1],z[x]=d[V]}return{current:O,next:R,stackedOnCurrent:N,stackedOnNext:E,status:z}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),c=h.current,p=h.stackedOnCurrent,d=h.next,f=h.stackedOnNext;if(r&&(c=dS(h.current,n,r,a),p=dS(h.stackedOnCurrent,n,r,a),d=dS(h.next,n,r,a),f=dS(h.stackedOnNext,n,r,a)),cS(c,d)>3e3||l&&cS(p,f)>3e3)return s.stopAnimation(),s.setShape({points:d}),void(l&&(l.stopAnimation(),l.setShape({points:d,stackedOnPoints:f})));s.shape.__points=h.current,s.shape.points=c;var g={shape:{points:d}};h.current!==c&&(g.shape.__points=h.next),s.stopAnimation(),rh(s,g,u),l&&(l.setShape({points:c,stackedOnPoints:p}),l.stopAnimation(),rh(l,{shape:{stackedOnPoints:f}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var y=[],v=h.status,m=0;m\u003Cv.length;m++){if(\\\"=\\\"===v[m].cmd){var x=t.getItemGraphicEl(v[m].idx1);x&&y.push({el:x,ptIdx:m})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e\u003Cy.length;e++){var n=y[e].el,i=2*y[e].ptIdx;n.x=t[i],n.y=t[i+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type=\\\"line\\\",e}(xg);function _S(t,e){return{seriesType:t,plan:yg(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext,o=e||r.large;if(i){var a=z(i.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=a.length,l=n.getCalculationInfo(\\\"stackResultDimension\\\");ex(n,a[0])&&(a[0]=l),ex(n,a[1])&&(a[1]=l);var u=n.getStore(),h=n.getDimensionIndex(a[0]),c=n.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,r=o&&bx(n*s),a=[],l=[],p=t.start,d=0;p\u003Ct.end;p++){var f=void 0;if(1===s){var g=u.get(h,p);f=i.dataToPoint(g,null,l)}else a[0]=u.get(h,p),a[1]=u.get(c,p),f=i.dataToPoint(a,null,l);o?(r[d++]=f[0],r[d++]=f[1]):e.setItemLayout(p,f.slice())}o&&e.setLayout(\\\"points\\\",r)}}}}}}var bS={average:function(t){for(var e=0,n=0,i=0;i\u003Ct.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n\u003Ct.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n\u003Ct.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n\u003Ct.length;n++)t[n]\u003Ce&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},wS=function(t){return Math.round(t.length/2)};function SS(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),r=t.get(\\\"sampling\\\"),o=t.coordinateSystem,a=i.count();if(a>10&&\\\"cartesian2d\\\"===o.type&&r){var s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),h=n.getDevicePixelRatio(),c=Math.abs(u[1]-u[0])*(h||1),p=Math.round(a/c);if(isFinite(p)&&p>1){\\\"lttb\\\"===r&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/p));var d=void 0;X(r)?d=bS[r]:U(r)&&(d=r),d&&t.setData(i.downSample(i.mapDimension(l.dim),1/p,d,wS))}}}}}var MS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){return ix(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout(\\\"offset\\\"),o=i.getLayout(\\\"size\\\");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},e.type=\\\"series.__base_bar__\\\",e.defaultOption={z:2,coordinateSystem:\\\"cartesian2d\\\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:\\\"mod\\\"},e}(sg);sg.registerClass(MS);var IS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(){return ix(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get(\\\"realtimeSort\\\",!0)||null})},e.prototype.getProgressive=function(){return!!this.get(\\\"large\\\")&&this.get(\\\"progressive\\\")},e.prototype.getProgressiveThreshold=function(){var t=this.get(\\\"progressiveThreshold\\\"),e=this.get(\\\"largeThreshold\\\");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type=\\\"series.bar\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\"],e.defaultOption=yc(MS.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:\\\"rgba(180, 180, 180, 0.2)\\\",borderColor:null,borderWidth:0,borderType:\\\"solid\\\",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:\\\"#212121\\\"}},realtimeSort:!1}),e}(MS),TS=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},CS=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"sausage\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new TS},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=2*Math.PI,p=h?u-l\u003Cc:l-u\u003Cc;p||(l=u-(h?c:-c));var d=Math.cos(l),f=Math.sin(l),g=Math.cos(u),y=Math.sin(u);p?(t.moveTo(d*r+n,f*r+i),t.arc(d*s+n,f*s+i,a,-Math.PI+l,l,!h)):t.moveTo(d*o+n,f*o+i),t.arc(n,i,o,l,u,!h),t.arc(g*s+n,y*s+i,a,u-2*Math.PI,u-Math.PI,!h),0!==r&&t.arc(n,i,r,u,l,h)},e}(gs);function DS(t,e,n){return e*Math.sin(t)*(n?-1:1)}function AS(t,e,n){return e*Math.cos(t)*(n?1:-1)}var kS=Math.max,LS=Math.min;var PS=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return n(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get(\\\"coordinateSystem\\\");(\\\"cartesian2d\\\"===r||\\\"polar\\\"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();\\\"cartesian2d\\\"===l.type?r=u.isHorizontal():\\\"polar\\\"===l.type&&(r=\\\"angle\\\"===u.dim);var h=t.isAnimationEnabled()?t:null,c=function(t,e){var n=t.get(\\\"realtimeSort\\\",!0),i=e.getBaseAxis();0;if(n&&\\\"category\\\"===i.type&&\\\"cartesian2d\\\"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);c&&this._enableRealtimeSort(c,a,n);var p=t.get(\\\"clip\\\",!0)||c,d=function(t,e){var n=t.getArea&&t.getArea();if(lS(t,\\\"cartesian2d\\\")){var i=t.getBaseAxis();if(\\\"category\\\"!==i.type||!i.onBand){var r=e.getLayout(\\\"bandWidth\\\");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var f=t.get(\\\"roundCap\\\",!0),g=t.get(\\\"showBackground\\\",!0),y=t.getModel(\\\"backgroundStyle\\\"),v=y.get(\\\"borderRadius\\\")||0,m=[],x=this._backgroundEls,_=i&&i.isInitSort,b=i&&\\\"changeAxisOrder\\\"===i.type;function w(t){var e=FS[l.type](a,t),n=function(t,e,n){return new(\\\"polar\\\"===t.type?Cu:Cs)({shape:ZS(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(y.getItemStyle()),\\\"cartesian2d\\\"===l.type&&n.setShape(\\\"r\\\",v),m[t]=n,n}a.diff(s).add((function(e){var n=a.getItemModel(e),i=FS[l.type](a,e,n);if(g&&w(e),a.hasValue(e)&&BS[l.type](i)){var s=!1;p&&(s=OS[l.type](d,i));var y=RS[l.type](t,a,e,i,r,h,u.model,!1,f);c&&(y.forceLabelAnimation=!0),WS(y,a,e,n,i,t,r,\\\"polar\\\"===l.type),_?y.attr({shape:i}):c?NS(c,h,y,i,e,r,!1,!1):oh(y,{shape:i},t,e),a.setItemGraphicEl(e,y),o.add(y),y.ignore=s}})).update((function(e,n){var i=a.getItemModel(e),S=FS[l.type](a,e,i);if(g){var M=void 0;0===x.length?M=w(n):((M=x[n]).useStyle(y.getItemStyle()),\\\"cartesian2d\\\"===l.type&&M.setShape(\\\"r\\\",v),m[e]=M);var I=FS[l.type](a,e);rh(M,{shape:ZS(r,I,l)},h,e)}var T=s.getItemGraphicEl(n);if(a.hasValue(e)&&BS[l.type](S)){var C=!1;if(p&&(C=OS[l.type](d,S))&&o.remove(T),T?hh(T):T=RS[l.type](t,a,e,S,r,h,u.model,!!T,f),c&&(T.forceLabelAnimation=!0),b){var D=T.getTextContent();if(D){var A=Jh(D);null!=A.prevValue&&(A.prevValue=A.value)}}else WS(T,a,e,i,S,t,r,\\\"polar\\\"===l.type);_?T.attr({shape:S}):c?NS(c,h,T,S,e,r,!0,b):rh(T,{shape:S},t,e,null),a.setItemGraphicEl(e,T),T.ignore=C,o.add(T)}else o.remove(T)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&uh(n,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Cr);S.removeAll();for(var M=0;M\u003Cm.length;++M)S.add(m[M]);o.add(S),this._backgroundEls=m,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),US(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),US(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get(\\\"clip\\\",!0)&&sS(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,o,r,n)},n.getZr().on(\\\"rendered\\\",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:z(i,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a\u003Cs;++a){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(a)),u=l\u003C0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r\u003C=o;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:\\\"changeAxisOrder\\\",componentType:n.dim+\\\"Axis\\\",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:\\\"changeAxisOrder\\\",componentType:i.dim+\\\"Axis\\\",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off(\\\"rendered\\\",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){uh(e,t,Hs(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type=\\\"bar\\\",e}(xg),OS={cartesian2d:function(t,e){var n=e.width\u003C0?-1:1,i=e.height\u003C0?-1:1;n\u003C0&&(e.x+=e.width,e.width=-e.width),i\u003C0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,o=t.y+t.height,a=kS(e.x,t.x),s=LS(e.x+e.width,r),l=kS(e.y,t.y),u=LS(e.y+e.height,o),h=s\u003Ca,c=u\u003Cl;return e.x=h&&a>r?s:a,e.y=c&&l>o?u:l,e.width=h?0:s-a,e.height=c?0:u-l,n\u003C0&&(e.x+=e.width,e.width=-e.width),i\u003C0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(t,e){var n=e.r0\u003C=e.r?1:-1;if(n\u003C0){var i=e.r;e.r=e.r0,e.r0=i}var r=LS(e.r,t.r),o=kS(e.r0,t.r0);e.r=r,e.r0=o;var a=r-o\u003C0;if(n\u003C0){i=e.r;e.r=e.r0,e.r0=i}return a}},RS={cartesian2d:function(t,e,n,i,r,o,a,s,l){var u=new Cs({shape:A({},i),z2:1});(u.__dataIndex=n,u.name=\\\"item\\\",o)&&(u.shape[r?\\\"height\\\":\\\"width\\\"]=0);return u},polar:function(t,e,n,i,r,o,a,s,l){var u=!r&&l?CS:Cu,h=new u({shape:i,z2:1});h.name=\\\"item\\\";var c,p,d=GS(r);if(h.calculateTextPosition=(c=d,p=({isRoundCap:u===CS}||{}).isRoundCap,function(t,e,n){var i=e.position;if(!i||i instanceof Array)return yr(t,e,n);var r=c(i),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,u=a.r,h=a.r0,d=(u+h)/2,f=a.startAngle,g=a.endAngle,y=(f+g)/2,v=p?Math.abs(u-h)/2:0,m=Math.cos,x=Math.sin,_=s+u*m(f),b=l+u*x(f),w=\\\"left\\\",S=\\\"top\\\";switch(r){case\\\"startArc\\\":_=s+(h-o)*m(y),b=l+(h-o)*x(y),w=\\\"center\\\",S=\\\"top\\\";break;case\\\"insideStartArc\\\":_=s+(h+o)*m(y),b=l+(h+o)*x(y),w=\\\"center\\\",S=\\\"bottom\\\";break;case\\\"startAngle\\\":_=s+d*m(f)+DS(f,o+v,!1),b=l+d*x(f)+AS(f,o+v,!1),w=\\\"right\\\",S=\\\"middle\\\";break;case\\\"insideStartAngle\\\":_=s+d*m(f)+DS(f,-o+v,!1),b=l+d*x(f)+AS(f,-o+v,!1),w=\\\"left\\\",S=\\\"middle\\\";break;case\\\"middle\\\":_=s+d*m(y),b=l+d*x(y),w=\\\"center\\\",S=\\\"middle\\\";break;case\\\"endArc\\\":_=s+(u+o)*m(y),b=l+(u+o)*x(y),w=\\\"center\\\",S=\\\"bottom\\\";break;case\\\"insideEndArc\\\":_=s+(u-o)*m(y),b=l+(u-o)*x(y),w=\\\"center\\\",S=\\\"top\\\";break;case\\\"endAngle\\\":_=s+d*m(g)+DS(g,o+v,!0),b=l+d*x(g)+AS(g,o+v,!0),w=\\\"left\\\",S=\\\"middle\\\";break;case\\\"insideEndAngle\\\":_=s+d*m(g)+DS(g,-o+v,!0),b=l+d*x(g)+AS(g,-o+v,!0),w=\\\"right\\\",S=\\\"middle\\\";break;default:return yr(t,e,n)}return(t=t||{}).x=_,t.y=b,t.align=w,t.verticalAlign=S,t}),o){var f=r?\\\"r\\\":\\\"endAngle\\\",g={};h.shape[f]=r?0:i.startAngle,g[f]=i[f],(s?rh:oh)(h,{shape:g},o)}return h}};function NS(t,e,n,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?rh:oh)(n,{shape:l},e,r,null),(a?rh:oh)(n,{shape:u},e?t.baseAxis.model:null,r)}function ES(t,e){for(var n=0;n\u003Ce.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var zS=[\\\"x\\\",\\\"y\\\",\\\"width\\\",\\\"height\\\"],VS=[\\\"cx\\\",\\\"cy\\\",\\\"r\\\",\\\"startAngle\\\",\\\"endAngle\\\"],BS={cartesian2d:function(t){return!ES(t,zS)},polar:function(t){return!ES(t,VS)}},FS={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get([\\\"itemStyle\\\",\\\"borderColor\\\"]);if(!n||\\\"none\\\"===n)return 0;var i=t.get([\\\"itemStyle\\\",\\\"borderWidth\\\"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function GS(t){return function(t){var e=t?\\\"Arc\\\":\\\"Angle\\\";return function(t){switch(t){case\\\"start\\\":case\\\"insideStart\\\":case\\\"end\\\":case\\\"insideEnd\\\":return t+e;default:return t}}}(t)}function WS(t,e,n,i,r,o,a,s){var l=e.getItemVisual(n,\\\"style\\\");s||t.setShape(\\\"r\\\",i.get([\\\"itemStyle\\\",\\\"borderRadius\\\"])||0),t.useStyle(l);var u=i.getShallow(\\\"cursor\\\");u&&t.attr(\\\"cursor\\\",u);var h=s?a?r.r>=r.r0?\\\"endArc\\\":\\\"startArc\\\":r.endAngle>=r.startAngle?\\\"endAngle\\\":\\\"startAngle\\\":a?r.height>=0?\\\"bottom\\\":\\\"top\\\":r.width>=0?\\\"right\\\":\\\"left\\\",c=Yh(i);Hh(t,c,{labelFetcher:o,labelDataIndex:n,defaultText:Gw(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=t.getTextContent();if(s&&p){var d=i.get([\\\"label\\\",\\\"position\\\"]);t.textConfig.inside=\\\"middle\\\"===d||null,function(t,e,n,i){if(j(i))t.setTextConfig({rotation:i});else if(Y(e))t.setTextConfig({rotation:0});else{var r,o=t.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,l=(a+s)/2,u=n(e);switch(u){case\\\"startArc\\\":case\\\"insideStartArc\\\":case\\\"middle\\\":case\\\"insideEndArc\\\":case\\\"endArc\\\":r=l;break;case\\\"startAngle\\\":case\\\"insideStartAngle\\\":r=a;break;case\\\"endAngle\\\":case\\\"insideEndAngle\\\":r=s;break;default:return void t.setTextConfig({rotation:0})}var h=1.5*Math.PI-r;\\\"middle\\\"===u&&h>Math.PI/2&&h\u003C1.5*Math.PI&&(h-=Math.PI),t.setTextConfig({rotation:h})}}(t,\\\"outside\\\"===d?h:d,GS(a),i.get([\\\"label\\\",\\\"rotate\\\"]))}Qh(p,c,o.getRawValue(n),(function(t){return Ww(e,t)}));var f=i.getModel([\\\"emphasis\\\"]);Rl(t,f.get(\\\"focus\\\"),f.get(\\\"blurScope\\\"),f.get(\\\"disabled\\\")),Vl(t,i),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(r)&&(t.style.fill=\\\"none\\\",t.style.stroke=\\\"none\\\",E(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke=\\\"none\\\")})))}var HS=function(){},YS=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"largeBar\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new HS},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l\u003Cn.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],t.rect(o[0],o[1],a[0],a[1])},e}(gs);function US(t,e,n,i){var r=t.getData(),o=r.getLayout(\\\"valueAxisHorizontal\\\")?1:0,a=r.getLayout(\\\"largeDataIndices\\\"),s=r.getLayout(\\\"size\\\"),l=t.getModel(\\\"backgroundStyle\\\"),u=r.getLayout(\\\"largeBackgroundPoints\\\");if(u){var h=new YS({shape:{points:u},incremental:!!i,silent:!0,z2:0});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,h.useStyle(l.getItemStyle()),e.add(h),n&&n.push(h)}var c=new YS({shape:{points:r.getLayout(\\\"largePoints\\\")},incremental:!!i,z2:1});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,e.add(c),c.useStyle(r.getVisual(\\\"style\\\")),Hs(c).seriesIndex=t.seriesIndex,t.get(\\\"silent\\\")||(c.on(\\\"mousedown\\\",XS),c.on(\\\"mousemove\\\",XS)),n&&n.push(c)}var XS=Dg((function(t){var e=function(t,e,n){for(var i=t.baseDimIdx,r=1-i,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],u=t.barWidth,h=0,c=o.length/3;h\u003Cc;h++){var p=3*h;if(l[i]=u,l[r]=o[p+2],s[i]=o[p+i],s[r]=o[p+r],l[r]\u003C0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e\u003C=s[0]+l[0]&&n>=s[1]&&n\u003C=s[1]+l[1])return a[h]}return-1}(this,t.offsetX,t.offsetY);Hs(this).dataIndex=e>=0?e:null}),30,!1);function ZS(t,e,n){if(lS(n,\\\"cartesian2d\\\")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var o=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:o.r0,r:t?r.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var jS=2*Math.PI,qS=Math.PI/180;function KS(t,e){return xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function $S(t,e){var n=KS(t,e),i=t.get(\\\"center\\\"),r=t.get(\\\"radius\\\");Y(r)||(r=[0,r]),Y(i)||(i=[i,i]);var o=Er(n.width,e.getWidth()),a=Er(n.height,e.getHeight()),s=Math.min(o,a);return{cx:Er(i[0],o)+n.x,cy:Er(i[1],a)+n.y,r0:Er(r[0],s/2),r:Er(r[1],s/2)}}function JS(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension(\\\"value\\\"),r=KS(t,n),o=$S(t,n),a=o.cx,s=o.cy,l=o.r,u=o.r0,h=-t.get(\\\"startAngle\\\")*qS,c=t.get(\\\"minAngle\\\")*qS,p=0;e.each(i,(function(t){!isNaN(t)&&p++}));var d=e.getSum(i),f=Math.PI/(d||p)*2,g=t.get(\\\"clockwise\\\"),y=t.get(\\\"roseType\\\"),v=t.get(\\\"stillShowZeroSum\\\"),m=e.getDataExtent(i);m[0]=0;var x=jS,_=0,b=h,w=g?1:-1;if(e.setLayout({viewRect:r,r:l}),e.each(i,(function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:a,cy:s,r0:u,r:y?NaN:l});else{(i=\\\"area\\\"!==y?0===d&&v?f:t*f:jS/p)\u003Cc?(i=c,x-=c):_+=t;var r=b+w*i;e.setItemLayout(n,{angle:i,startAngle:b,endAngle:r,clockwise:g,cx:a,cy:s,r0:u,r:y?Nr(t,m,[u,l]):l}),b=r}})),x\u003CjS&&p)if(x\u003C=.001){var S=jS/p;e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=S,i.startAngle=h+w*n*S,i.endAngle=h+w*(n+1)*S}}))}else f=x/_,b=h,e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===c?c:t*f;i.startAngle=b,i.endAngle=b+w*r,b+=w*r}}))}))}function QS(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:\\\"legend\\\"});if(n&&n.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),r=0;r\u003Cn.length;r++)if(!n[r].isSelected(e))return!1;return!0}))}}}}var tM=Math.PI/180;function eM(t,e,n,i,r,o,a,s,l,u){if(!(t.length\u003C2)){for(var h=t.length,c=0;c\u003Ch;c++)if(\\\"outer\\\"===t[c].position&&\\\"labelLine\\\"===t[c].labelAlignTo){var p=t[c].label.x-u;t[c].linePoints[1][0]+=p,t[c].label.x=u}yb(t,l,l+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s\u003Ct.length;s++)if(\\\"none\\\"===t[s].labelAlignTo){var l=t[s],u=l.label.y>n?a:o,h=Math.abs(l.label.y-n);if(h>=u.maxY){var c=l.label.x-e-l.len2*r,p=i+l.len,f=Math.abs(c)\u003Cp?Math.sqrt(h*h/(1-c*c/p/p)):p;u.rB=f,u.maxY=h}u.list.push(l)}d(o),d(a)}(t)}function d(t){for(var o=t.rB,a=o*o,s=0;s\u003Ct.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),h=i+l.len,c=h*h,p=Math.sqrt((1-Math.abs(u*u/a))*c),d=e+(p+l.len2)*r,f=d-l.label.x;nM(l,l.targetTextWidth-f*r,!0),l.label.x=d}}}function nM(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var i=t.label,r=i.style,o=t.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,h=o.width+(a?0:l);if(e\u003Ch||n){var c=o.height;if(u&&u.match(\\\"break\\\")){i.setStyle(\\\"backgroundColor\\\",null),i.setStyle(\\\"width\\\",e-l);var p=i.getBoundingRect();i.setStyle(\\\"width\\\",Math.ceil(p.width)),i.setStyle(\\\"backgroundColor\\\",a)}else{var d=e-l,f=e\u003Ch?d:n?d>t.unconstrainedWidth?null:d:null;i.setStyle(\\\"width\\\",f)}var g=i.getBoundingRect();o.width=g.width;var y=(i.style.margin||0)+2.1;o.height=g.height+y,o.y-=(o.height-c)/2}}}function iM(t){return\\\"center\\\"===t.position}function rM(t){var e,n,i=t.getData(),r=[],o=!1,a=(t.get(\\\"minShowLabelAngle\\\")||0)*tM,s=i.getLayout(\\\"viewRect\\\"),l=i.getLayout(\\\"r\\\"),u=s.width,h=s.x,c=s.y,p=s.height;function d(t){t.ignore=!0}i.each((function(t){var s=i.getItemGraphicEl(t),c=s.shape,p=s.getTextContent(),f=s.getTextGuideLine(),g=i.getItemModel(t),y=g.getModel(\\\"label\\\"),v=y.get(\\\"position\\\")||g.get([\\\"emphasis\\\",\\\"label\\\",\\\"position\\\"]),m=y.get(\\\"distanceToLabelLine\\\"),x=y.get(\\\"alignTo\\\"),_=Er(y.get(\\\"edgeDistance\\\"),u),b=y.get(\\\"bleedMargin\\\"),w=g.getModel(\\\"labelLine\\\"),S=w.get(\\\"length\\\");S=Er(S,u);var M=w.get(\\\"length2\\\");if(M=Er(M,u),Math.abs(c.endAngle-c.startAngle)\u003Ca)return E(p.states,d),void(p.ignore=!0);if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(p)){var I,T,C,D,A=(c.startAngle+c.endAngle)/2,k=Math.cos(A),L=Math.sin(A);e=c.cx,n=c.cy;var P=\\\"inside\\\"===v||\\\"inner\\\"===v;if(\\\"center\\\"===v)I=c.cx,T=c.cy,D=\\\"center\\\";else{var O=(P?(c.r+c.r0)/2*k:c.r*k)+e,R=(P?(c.r+c.r0)/2*L:c.r*L)+n;if(I=O+3*k,T=R+3*L,!P){var N=O+k*(S+l-c.r),z=R+L*(S+l-c.r),V=N+(k\u003C0?-1:1)*M;I=\\\"edge\\\"===x?k\u003C0?h+_:h+u-_:V+(k\u003C0?-m:m),T=z,C=[[O,R],[N,z],[V,z]]}D=P?\\\"center\\\":\\\"edge\\\"===x?k>0?\\\"right\\\":\\\"left\\\":k>0?\\\"left\\\":\\\"right\\\"}var B=Math.PI,F=0,G=y.get(\\\"rotate\\\");if(j(G))F=G*(B/180);else if(\\\"center\\\"===v)F=0;else if(\\\"radial\\\"===G||!0===G){F=k\u003C0?-A+B:-A}else if(\\\"tangential\\\"===G&&\\\"outside\\\"!==v&&\\\"outer\\\"!==v){var W=Math.atan2(k,L);W\u003C0&&(W=2*B+W),L>0&&(W=B+W),F=W-B}if(o=!!F,p.x=I,p.y=T,p.rotation=F,p.setStyle({verticalAlign:\\\"middle\\\"}),P){p.setStyle({align:D});var H=p.states.select;H&&(H.x+=p.x,H.y+=p.y)}else{var Y=p.getBoundingRect().clone();Y.applyTransform(p.getComputedTransform());var U=(p.style.margin||0)+2.1;Y.y-=U/2,Y.height+=U,r.push({label:p,labelLine:f,position:v,len:S,len2:M,minTurnAngle:w.get(\\\"minTurnAngle\\\"),maxSurfaceAngle:w.get(\\\"maxSurfaceAngle\\\"),surfaceNormal:new Ji(k,L),linePoints:C,textAlign:D,labelDistance:m,labelAlignTo:x,edgeDistance:_,bleedMargin:b,rect:Y,unconstrainedWidth:Y.width,labelStyleWidth:p.style.width})}s.setTextConfig({inside:P})}})),!o&&t.get(\\\"avoidLabelOverlap\\\")&&function(t,e,n,i,r,o,a,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p\u003Ct.length;p++){var d=t[p].label;iM(t[p])||(d.x\u003Ce?(h=Math.min(h,d.x),l.push(t[p])):(c=Math.max(c,d.x),u.push(t[p])))}for(p=0;p\u003Ct.length;p++)if(!iM(y=t[p])&&y.linePoints){if(null!=y.labelStyleWidth)continue;d=y.label;var f=y.linePoints,g=void 0;g=\\\"edge\\\"===y.labelAlignTo?d.x\u003Ce?f[2][0]-y.labelDistance-a-y.edgeDistance:a+r-y.edgeDistance-f[2][0]-y.labelDistance:\\\"labelLine\\\"===y.labelAlignTo?d.x\u003Ce?h-a-y.bleedMargin:a+r-c-y.bleedMargin:d.x\u003Ce?d.x-a-y.bleedMargin:a+r-d.x-y.bleedMargin,y.targetTextWidth=g,nM(y,g)}for(eM(u,e,n,i,1,0,o,0,s,c),eM(l,e,n,i,-1,0,o,0,s,h),p=0;p\u003Ct.length;p++){var y;if(!iM(y=t[p])&&y.linePoints){d=y.label,f=y.linePoints;var v=\\\"edge\\\"===y.labelAlignTo,m=d.style.padding,x=m?m[1]+m[3]:0,_=d.style.backgroundColor?0:x,b=y.rect.width+_,w=f[1][0]-f[2][0];v?d.x\u003Ce?f[2][0]=a+y.edgeDistance+b+y.labelDistance:f[2][0]=a+r-y.edgeDistance-b-y.labelDistance:(d.x\u003Ce?f[2][0]=d.x+y.labelDistance:f[2][0]=d.x-y.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=d.y}}}(r,e,n,l,u,p,h,c);for(var f=0;f\u003Cr.length;f++){var g=r[f],y=g.label,v=g.labelLine,m=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),m&&(E(y.states,d),y.ignore=!0);var x=y.states.select;x&&(x.x+=y.x,x.y+=y.y)}if(v){var _=g.linePoints;m||!_?(E(v.states,d),v.ignore=!0):(lb(_,g.minTurnAngle),ub(_,g.surfaceNormal,g.maxSurfaceAngle),v.setShape({points:_}),y.__hostTarget.textGuideLineConfig={anchor:new Ji(_[0][0],_[0][1])})}}}function oM(t,e,n){var i=t.get(\\\"borderRadius\\\");if(null==i)return n?{cornerRadius:0}:null;Y(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:z(i,(function(t){return gr(t,r)}))}}var aM=function(t){function e(e,n,i){var r=t.call(this)||this;r.z2=2;var o=new ks;return r.setTextContent(o),r.updateData(e,n,i,!0),r}return n(e,t),e.prototype.updateData=function(t,e,n,i){var r=this,o=t.hostModel,a=t.getItemModel(e),s=a.getModel(\\\"emphasis\\\"),l=t.getItemLayout(e),u=A(oM(a.getModel(\\\"itemStyle\\\"),l,!0),l);if(isNaN(u.startAngle))r.setShape(u);else{if(i){r.setShape(u);var h=o.getShallow(\\\"animationType\\\");o.ecModel.ssr?(oh(r,{scaleX:0,scaleY:0},o,{dataIndex:e,isFrom:!0}),r.originX=u.cx,r.originY=u.cy):\\\"scale\\\"===h?(r.shape.r=l.r0,oh(r,{shape:{r:l.r}},o,e)):null!=n?(r.setShape({startAngle:n,endAngle:n}),oh(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,e)):(r.shape.endAngle=l.startAngle,rh(r,{shape:{endAngle:l.endAngle}},o,e))}else hh(r),rh(r,{shape:u},o,e);r.useStyle(t.getItemVisual(e,\\\"style\\\")),Vl(r,a);var c=(l.startAngle+l.endAngle)/2,p=o.get(\\\"selectedOffset\\\"),d=Math.cos(c)*p,f=Math.sin(c)*p,g=a.getShallow(\\\"cursor\\\");g&&r.attr(\\\"cursor\\\",g),this._updateLabel(o,t,e),r.ensureState(\\\"emphasis\\\").shape=A({r:l.r+(s.get(\\\"scale\\\")&&s.get(\\\"scaleSize\\\")||0)},oM(s.getModel(\\\"itemStyle\\\"),l)),A(r.ensureState(\\\"select\\\"),{x:d,y:f,shape:oM(a.getModel([\\\"select\\\",\\\"itemStyle\\\"]),l)}),A(r.ensureState(\\\"blur\\\"),{shape:oM(a.getModel([\\\"blur\\\",\\\"itemStyle\\\"]),l)});var y=r.getTextGuideLine(),v=r.getTextContent();y&&A(y.ensureState(\\\"select\\\"),{x:d,y:f}),A(v.ensureState(\\\"select\\\"),{x:d,y:f}),Rl(this,s.get(\\\"focus\\\"),s.get(\\\"blurScope\\\"),s.get(\\\"disabled\\\"))}},e.prototype._updateLabel=function(t,e,n){var i=this,r=e.getItemModel(n),o=r.getModel(\\\"labelLine\\\"),a=e.getItemVisual(n,\\\"style\\\"),s=a&&a.fill,l=a&&a.opacity;Hh(i,Yh(r),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(n,\\\"normal\\\")||e.getName(n)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var h=t.get([\\\"label\\\",\\\"position\\\"]);if(\\\"outside\\\"!==h&&\\\"outer\\\"!==h)i.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new Ru,this.setTextGuideLine(c)),pb(this,db(r),{stroke:s,opacity:ot(o.get([\\\"lineStyle\\\",\\\"opacity\\\"]),l,1)})}},e}(Cu),sM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return n(e,t),e.prototype.render=function(t,e,n,i){var r,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u\u003Co.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&t.get(\\\"showEmptyCircle\\\")){var h=new Cu({shape:$S(t,n)});h.useStyle(t.getModel(\\\"emptyCircleStyle\\\").getItemStyle()),this._emptyCircleSector=h,s.add(h)}o.diff(a).add((function(t){var e=new aM(o,t,r);o.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,r),n.off(\\\"click\\\"),s.add(n),o.setItemGraphicEl(t,n)})).remove((function(e){uh(a.getItemGraphicEl(e),t,e)})).execute(),rM(t),\\\"expansion\\\"!==t.get(\\\"animationTypeUpdate\\\")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o\u003C=n.r&&o>=n.r0}},e.type=\\\"pie\\\",e}(xg);function lM(t,e,n){e=Y(e)&&{coordDimensions:e}||A({encodeDefine:t.getEncode()},e);var i=t.getSource(),r=qm(i,e).dimensions,o=new jm(r,t);return o.initData(i,n),o}var uM=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),hM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new uM(W(this.getData,this),W(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return lM(this,{coordDimensions:[\\\"value\\\"],encodeDefaulter:H(Yp,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=[];return n.each(n.mapDimension(\\\"value\\\"),(function(t){r.push(t)})),i.percent=Wr(r,e,n.hostModel.get(\\\"percentPrecision\\\")),i.$vars.push(\\\"percent\\\"),i},e.prototype._defaultLabelLine=function(t){co(t,\\\"labelLine\\\",[\\\"show\\\"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type=\\\"series.pie\\\",e.defaultOption={z:2,legendHoverLink:!0,colorBy:\\\"data\\\",center:[\\\"50%\\\",\\\"50%\\\"],radius:[0,\\\"75%\\\"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:\\\"truncate\\\",position:\\\"outer\\\",alignTo:\\\"none\\\",edgeDistance:\\\"25%\\\",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:\\\"solid\\\"}},itemStyle:{borderWidth:1,borderJoin:\\\"round\\\"},showEmptyCircle:!0,emptyCircleStyle:{color:\\\"lightgray\\\",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:\\\"expansion\\\",animationDuration:1e3,animationTypeUpdate:\\\"transition\\\",animationEasingUpdate:\\\"cubicInOut\\\",animationDurationUpdate:500,animationEasing:\\\"cubicInOut\\\"},e}(sg);var cM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){return ix(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get(\\\"progressive\\\"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get(\\\"progressiveThreshold\\\"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:\\\"\\\"},e.type=\\\"series.scatter\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\",\\\"geo\\\",\\\"singleAxis\\\",\\\"calendar\\\"],e.defaultOption={coordinateSystem:\\\"cartesian2d\\\",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:\\\"#212121\\\"}},universalTransition:{divideShape:\\\"clone\\\"}},e}(sg),pM=function(){},dM=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return n(e,t),e.prototype.getDefaultShape=function(){return new pM},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,i=e.points,r=e.size,o=this.symbolProxy,a=o.shape,s=t.getContext?t.getContext():t,l=s&&r[0]\u003C4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n\u003Ci.length;){var h=i[n++],c=i[n++];isNaN(h)||isNaN(c)||(u&&!u.contain(h,c)||(a.x=h-r[0]/2,a.y=c-r[1]/2,a.width=r[0],a.height=r[1],o.buildPath(t,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,r=this._ctx,o=this.softClipShape;if(r){for(t=this._off;t\u003Cn.length;){var a=n[t++],s=n[t++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||r.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,h=i[l+1]-a/2;if(t>=u&&e>=h&&t\u003C=u+o&&e\u003C=h+a)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,i=e.size,r=i[0],o=i[1],a=1/0,s=1/0,l=-1/0,u=-1/0,h=0;h\u003Cn.length;){var c=n[h++],p=n[h++];a=Math.min(c,a),l=Math.max(c,l),s=Math.min(p,s),u=Math.max(p,u)}t=this._rect=new sr(a-r/2,s-o/2,l-a+r,u-s+o)}return t},e}(gs),fM=function(){function t(){this.group=new Cr}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout(\\\"points\\\")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout(\\\"points\\\");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape(\\\"points\\\",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],r=e.getLayout(\\\"points\\\"),o=i&&i.shape.points;if(o&&o.length\u003C2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new dM({cursor:\\\"default\\\"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var r=e.getVisual(\\\"symbolSize\\\");t.setShape(\\\"size\\\",r instanceof Array?r:[r,r]),t.softClipShape=n.clipShape||null,t.symbolProxy=Ly(e.getVisual(\\\"symbol\\\"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]\u003C4;t.useStyle(i.getModel(\\\"itemStyle\\\").getItemStyle(o?[\\\"color\\\",\\\"shadowBlur\\\",\\\"shadowColor\\\"]:[\\\"color\\\"]));var a=e.getVisual(\\\"style\\\"),s=a&&a.fill;s&&t.setColor(s);var l=Hs(t);l.seriesIndex=i.seriesIndex,t.on(\\\"mousemove\\\",(function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),gM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=_S(\\\"\\\").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get(\\\"clip\\\",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new fM:new jw,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type=\\\"scatter\\\",e}(xg),yM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.type=\\\"grid\\\",e.dependencies=[\\\"xAxis\\\",\\\"yAxis\\\"],e.layoutMode=\\\"box\\\",e.defaultOption={show:!1,z:0,left:\\\"10%\\\",top:60,right:\\\"10%\\\",bottom:70,containLabel:!1,backgroundColor:\\\"rgba(0,0,0,0)\\\",borderWidth:1,borderColor:\\\"#ccc\\\"},e}(Tp),vM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents(\\\"grid\\\",Co).models[0]},e.type=\\\"cartesian2dAxis\\\",e}(Tp);R(vM,c_);var mM={show:!0,z:0,inverse:!1,name:\\\"\\\",nameLocation:\\\"end\\\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\\\"...\\\",placeholder:\\\".\\\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\\\"#6E7079\\\",width:1,type:\\\"solid\\\"},symbol:[\\\"none\\\",\\\"none\\\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\\\"#E0E6F1\\\"],width:1,type:\\\"solid\\\"}},splitArea:{show:!1,areaStyle:{color:[\\\"rgba(250,250,250,0.2)\\\",\\\"rgba(210,219,238,0.2)\\\"]}}},xM=C({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\\\"auto\\\"},axisLabel:{interval:\\\"auto\\\"}},mM),_M=C({boundaryGap:[0,0],axisLine:{show:\\\"auto\\\"},axisTick:{show:\\\"auto\\\"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:\\\"#F4F7FD\\\",width:1}}},mM),bM={category:xM,value:_M,time:C({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:\\\"bold\\\"}}},splitLine:{show:!1}},_M),log:k({logBase:10},_M)},wM={value:1,category:1,time:1,log:1};function SM(t,e,i,r){E(wM,(function(o,a){var s=C(C({},bM[a],!0),r,!0),l=function(t){function i(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+\\\"Axis.\\\"+a,n}return n(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var n=bp(this),i=n?Sp(t):{};C(t,e.getTheme().get(a+\\\"Axis\\\")),C(t,this.getDefaultOption()),t.type=MM(t),n&&wp(t,i,n)},i.prototype.optionUpdated=function(){\\\"category\\\"===this.option.type&&(this.__ordinalMeta=ax.createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if(\\\"category\\\"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+\\\"Axis.\\\"+a,i.defaultOption=s,i}(i);t.registerComponentModel(l)})),t.registerSubTypeDefaulter(e+\\\"Axis\\\",MM)}function MM(t){return t.type||(t.data?\\\"category\\\":\\\"value\\\")}var IM=function(){function t(t){this.type=\\\"cartesian\\\",this._dimList=[],this._axes={},this.name=t||\\\"\\\"}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return z(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),B(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),TM=[\\\"x\\\",\\\"y\\\"];function CM(t){return\\\"interval\\\"===t.type||\\\"time\\\"===t.type}var DM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"cartesian2d\\\",e.dimensions=TM,e}return n(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis(\\\"x\\\").scale,e=this.getAxis(\\\"y\\\").scale;if(CM(t)&&CM(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,u=(o[1]-r[1])/s,h=r[0]-n[0]*l,c=r[1]-i[0]*u,p=this._transform=[l,0,0,u,h,c];this._invTransform=Bi([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale(\\\"ordinal\\\")[0]||this.getAxesByScale(\\\"time\\\")[0]||this.getAxis(\\\"x\\\")},e.prototype.containPoint=function(t){var e=this.getAxis(\\\"x\\\"),n=this.getAxis(\\\"y\\\");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis(\\\"x\\\").containData(t[0])&&this.getAxis(\\\"y\\\").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return Ft(n,t,this._transform);var o=this.getAxis(\\\"x\\\"),a=this.getAxis(\\\"y\\\");return n[0]=o.toGlobalCoord(o.dataToCoord(i,e)),n[1]=a.toGlobalCoord(a.dataToCoord(r,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis(\\\"x\\\").scale,i=this.getAxis(\\\"y\\\").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return Ft(n,t,this._invTransform);var i=this.getAxis(\\\"x\\\"),r=this.getAxis(\\\"y\\\");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=r.coordToData(r.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis(\\\"x\\\"===t.dim?\\\"y\\\":\\\"x\\\")},e.prototype.getArea=function(){var t=this.getAxis(\\\"x\\\").getGlobalExtent(),e=this.getAxis(\\\"y\\\").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-i;return new sr(n,i,r,o)},e}(IM),AM=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.index=0,a.type=r||\\\"value\\\",a.position=o||\\\"bottom\\\",a}return n(e,t),e.prototype.isHorizontal=function(){var t=this.position;return\\\"top\\\"===t||\\\"bottom\\\"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t[\\\"x\\\"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if(\\\"category\\\"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(W_);function kM(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?\\\"onZero\\\":s,u=r.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get(\\\"offset\\\")||0,f=\\\"x\\\"===u?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=[\\\"y\\\"===u?f[p[l]]:c[0],\\\"x\\\"===u?f[p[l]]:c[3]],o.rotation=Math.PI/2*(\\\"x\\\"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?f[p[s]]-f[p.onZero]:0,e.get([\\\"axisTick\\\",\\\"inside\\\"])&&(o.tickDirection=-o.tickDirection),it(n.labelInside,e.get([\\\"axisLabel\\\",\\\"inside\\\"]))&&(o.labelDirection=-o.labelDirection);var y=e.get([\\\"axisLabel\\\",\\\"rotate\\\"]);return o.labelRotate=\\\"top\\\"===l?-y:y,o.z2=1,o}function LM(t){return\\\"cartesian2d\\\"===t.get(\\\"coordinateSystem\\\")}function PM(t){var e={xAxisModel:null,yAxisModel:null};return E(e,(function(n,i){var r=i.replace(/Model$/,\\\"\\\"),o=t.getReferringComponents(r,Co).models[0];e[i]=o})),e}var OM=Math.log;function RM(t,e,n){var i=mx.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),a=r.length-1,s=i.getInterval.call(n),l=n_(t,e),u=l.extent,h=l.fixMin,c=l.fixMax;if(\\\"log\\\"===t.type){var p=OM(t.base);u=[OM(u[0])/p,OM(u[1])/p]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:a,fixMin:h,fixMax:c});var d=i.getExtent.call(t);h&&(u[0]=d[0]),c&&(u[1]=d[1]);var f=i.getInterval.call(t),g=u[0],y=u[1];if(h&&c)f=(y-g)/a;else if(h)for(y=u[0]+f*a;y\u003Cu[1]&&isFinite(y)&&isFinite(u[1]);)f=hx(f),y=u[0]+f*a;else if(c)for(g=u[1]-f*a;g>u[0]&&isFinite(g)&&isFinite(u[0]);)f=hx(f),g=u[1]-f*a;else{t.getTicks().length-1>a&&(f=hx(f));var v=f*a;(g=zr((y=Math.ceil(u[1]/f)*f)-v))\u003C0&&u[0]>=0?(g=0,y=zr(v)):y>0&&u[1]\u003C=0&&(y=0,g=-zr(v))}var m=(r[0].value-o[0].value)/s,x=(r[a].value-o[a].value)/s;i.setExtent.call(t,g+f*m,y+f*x),i.setInterval.call(t,f),(m||x)&&i.setNiceExtent.call(t,g+f,y-f)}var NM=function(){function t(t,e,n){this.type=\\\"grid\\\",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=TM,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=G(t),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var a=t[+n[o]],s=a.model,l=a.scale;lx(l)&&s.get(\\\"alignTicks\\\")&&null==s.get(\\\"interval\\\")?r.push(a):(i_(l,s),lx(l)&&(e=a))}r.length&&(e||i_((e=r.pop()).scale,e.model),E(r,(function(t){RM(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),i(n.x),i(n.y);var r={};E(n.x,(function(t){zM(n,\\\"y\\\",t,r)})),E(n.y,(function(t){zM(n,\\\"x\\\",t,r)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),r=!n&&t.get(\\\"containLabel\\\"),o=xp(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){E(a,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord=\\\"x\\\"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=\\\"x\\\"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)}))}s(),r&&(E(a,(function(t){if(!t.model.get([\\\"axisLabel\\\",\\\"inside\\\"])){var e=function(t){var e=t.model,n=t.scale;if(e.get([\\\"axisLabel\\\",\\\"show\\\"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof yx?n.count():(i=n.getTicks()).length;var a,s=t.getLabelModel(),l=o_(t),u=1;r>40&&(u=Math.ceil(r/40));for(var h=0;h\u003Cr;h+=u){var c=l(i?i[h]:{value:o[0]+h},h),p=s_(s.getTextRect(c),s.get(\\\"rotate\\\")||0);a?a.union(p):a=p}return a}}(t);if(e){var n=t.isHorizontal()?\\\"height\\\":\\\"width\\\",i=t.model.get([\\\"axisLabel\\\",\\\"margin\\\"]);o[n]-=e[n]+i,\\\"top\\\"===t.position?o.y+=e.height+i:\\\"left\\\"===t.position&&(o.x+=e.width+i)}}})),s()),E(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n=\\\"x\\\"+t+\\\"y\\\"+e;return this._coordsMap[n]}q(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i\u003Cr.length;i++)if(r[i].getAxis(\\\"x\\\").index===t||r[i].getAxis(\\\"y\\\").index===e)return r[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents(\\\"xAxis\\\",Co).models[0],o=t.yAxisModel||i&&i.getReferringComponents(\\\"yAxis\\\",Co).models[0],a=t.gridModel,s=this._coordsList;if(i)P(s,e=i.coordinateSystem)\u003C0&&(e=null);else if(r&&o)e=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis(\\\"x\\\",r.componentIndex);else if(o)n=this.getAxis(\\\"y\\\",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent(\\\"xAxis\\\",l(\\\"x\\\"),this),e.eachComponent(\\\"yAxis\\\",l(\\\"y\\\"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(EM(n,t)){var l=n.get(\\\"position\\\");\\\"x\\\"===e?\\\"top\\\"!==l&&\\\"bottom\\\"!==l&&(l=o.bottom?\\\"top\\\":\\\"bottom\\\"):\\\"left\\\"!==l&&\\\"right\\\"!==l&&(l=o.left?\\\"right\\\":\\\"left\\\"),o[l]=!0;var u=new AM(e,r_(n),[0,0],n.get(\\\"type\\\"),l),h=\\\"category\\\"===u.type;u.onBand=h&&n.get(\\\"boundaryGap\\\"),u.inverse=n.get(\\\"inverse\\\"),n.axis=u,u.model=n,u.grid=r,u.index=i,r._axesList.push(u),a[e][i]=u,s[e]++}}}this._axesMap=a,E(a.x,(function(e,n){E(a.y,(function(r,o){var a=\\\"x\\\"+n+\\\"y\\\"+o,s=new DM(a);s.master=i,s.model=t,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(r)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){E(h_(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}E(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),\\\"category\\\"===t.type){var e=t.model.get(\\\"categorySortInfo\\\");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(LM(t)){var i=PM(t),r=i.xAxisModel,o=i.yAxisModel;if(!EM(r,e)||!EM(o,e))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis(\\\"x\\\"),u=a.getAxis(\\\"y\\\");n(s,l),n(s,u)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return E(this.getCartesians(),(function(i){var r=null!=t&&\\\"auto\\\"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);P(e,r)\u003C0&&e.push(r),P(n,o)\u003C0&&n.push(o)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent(\\\"grid\\\",(function(r,o){var a=new t(r,e,n);a.name=\\\"grid_\\\"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)})),e.eachSeries((function(t){if(LM(t)){var e=PM(t),n=e.xAxisModel,i=e.yAxisModel,r=n.getCoordSysModel();0;var o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=TM,t}();function EM(t,e){return t.getCoordSysModel()===e}function zM(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get([\\\"axisLine\\\",\\\"onZero\\\"]),l=a.get([\\\"axisLine\\\",\\\"onZeroAxisIndex\\\"]);if(s){if(null!=l)VM(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&VM(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(t){return t.dim+\\\"_\\\"+t.index}}function VM(t){return t&&\\\"category\\\"!==t.type&&\\\"time\\\"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n\u003C0&&i\u003C0)}(t)}var BM=Math.PI,FM=function(){function t(t,e){this.group=new Cr,this.opt=e,this.axisModel=t,k(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Cr({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!GM[t]},t.prototype.add=function(t){GM[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,r,o=Ur(e-t);return Xr(o)?(r=n>0?\\\"top\\\":\\\"bottom\\\",i=\\\"center\\\"):Xr(o-BM)?(r=n>0?\\\"bottom\\\":\\\"top\\\",i=\\\"center\\\"):(r=\\\"middle\\\",i=o>0&&o\u003CBM?n>0?\\\"right\\\":\\\"left\\\":n>0?\\\"left\\\":\\\"right\\\"),{rotation:o,textAlign:i,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+\\\"Index\\\"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get(\\\"tooltip\\\");return t.get(\\\"silent\\\")||!(t.get(\\\"triggerEvent\\\")||e&&e.show)},t}(),GM={axisLine:function(t,e,n,i){var r=e.get([\\\"axisLine\\\",\\\"show\\\"]);if(\\\"auto\\\"===r&&t.handleAutoShown&&(r=t.handleAutoShown(\\\"axisLine\\\")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(Ft(s,s,a),Ft(l,l,a));var u=A({lineCap:\\\"round\\\"},e.getModel([\\\"axisLine\\\",\\\"lineStyle\\\"]).getLineStyle()),h=new zu({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});h.anid=\\\"line\\\",n.add(h);var c=e.get([\\\"axisLine\\\",\\\"symbol\\\"]);if(null!=c){var p=e.get([\\\"axisLine\\\",\\\"symbolSize\\\"]);X(c)&&(c=[c,c]),(X(p)||j(p))&&(p=[p,p]);var d=Oy(e.get([\\\"axisLine\\\",\\\"symbolOffset\\\"])||0,p),f=p[0],g=p[1];E([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,i){if(\\\"none\\\"!==c[i]&&null!=c[i]){var r=Ly(c[i],-f/2,-g/2,f,g,u.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:s[0]+o*Math.cos(t.rotation),y:s[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(r)}}))}}},axisTickLabel:function(t,e,n,i){var r=function(t,e,n,i){var r=n.axis,o=n.getModel(\\\"axisTick\\\"),a=o.get(\\\"show\\\");\\\"auto\\\"===a&&i.handleAutoShown&&(a=i.handleAutoShown(\\\"axisTick\\\"));if(!a||r.scale.isBlank())return;for(var s=o.getModel(\\\"lineStyle\\\"),l=i.tickDirection*o.get(\\\"length\\\"),u=UM(r.getTicksCoords(),e.transform,l,k(s.getLineStyle(),{stroke:n.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"])}),\\\"ticks\\\"),h=0;h\u003Cu.length;h++)t.add(u[h]);return u}(n,i,e,t),o=function(t,e,n,i){var r=n.axis;if(!it(i.axisLabelShow,n.get([\\\"axisLabel\\\",\\\"show\\\"]))||r.scale.isBlank())return;var o=n.getModel(\\\"axisLabel\\\"),a=o.get(\\\"margin\\\"),s=r.getViewLabels(),l=(it(i.labelRotate,o.get(\\\"rotate\\\"))||0)*BM/180,u=FM.innerTextLayout(i.rotation,l,i.labelDirection),h=n.getCategories&&n.getCategories(!0),c=[],p=FM.isLabelSilent(n),d=n.get(\\\"triggerEvent\\\");return E(s,(function(s,l){var f=\\\"ordinal\\\"===r.scale.type?r.scale.getRawOrdinalNumber(s.tickValue):s.tickValue,g=s.formattedLabel,y=s.rawLabel,v=o;if(h&&h[f]){var m=h[f];q(m)&&m.textStyle&&(v=new dc(m.textStyle,o,n.ecModel))}var x=v.getTextColor()||n.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"]),_=r.dataToCoord(f),b=new ks({x:_,y:i.labelOffset+i.labelDirection*a,rotation:u.rotation,silent:p,z2:10+(s.level||0),style:Uh(v,{text:g,align:v.getShallow(\\\"align\\\",!0)||u.textAlign,verticalAlign:v.getShallow(\\\"verticalAlign\\\",!0)||v.getShallow(\\\"baseline\\\",!0)||u.textVerticalAlign,fill:U(x)?x(\\\"category\\\"===r.type?y:\\\"value\\\"===r.type?f+\\\"\\\":f,l):x})});if(b.anid=\\\"label_\\\"+f,d){var w=FM.makeAxisEventDataBase(n);w.targetType=\\\"axisLabel\\\",w.value=y,w.tickIndex=l,\\\"category\\\"===r.type&&(w.dataIndex=f),Hs(b).eventData=w}e.add(b),b.updateTransform(),c.push(b),t.add(b),b.decomposeTransform()})),c}(n,i,e,t);(function(t,e,n){if(u_(t.axis))return;var i=t.get([\\\"axisLabel\\\",\\\"showMinLabel\\\"]),r=t.get([\\\"axisLabel\\\",\\\"showMaxLabel\\\"]);n=n||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],p=n[n.length-2];!1===i?(WM(o),WM(u)):HM(o,a)&&(i?(WM(a),WM(h)):(WM(o),WM(u)));!1===r?(WM(s),WM(c)):HM(l,s)&&(r?(WM(l),WM(p)):(WM(s),WM(c)))}(e,o,r),function(t,e,n,i){var r=n.axis,o=n.getModel(\\\"minorTick\\\");if(!o.get(\\\"show\\\")||r.scale.isBlank())return;var a=r.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel(\\\"lineStyle\\\"),l=i*o.get(\\\"length\\\"),u=k(s.getLineStyle(),k(n.getModel(\\\"axisTick\\\").getLineStyle(),{stroke:n.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"])})),h=0;h\u003Ca.length;h++)for(var c=UM(a[h],e.transform,l,u,\\\"minorticks_\\\"+h),p=0;p\u003Cc.length;p++)t.add(c[p])}(n,i,e,t.tickDirection),e.get([\\\"axisLabel\\\",\\\"hideOverlap\\\"]))&&vb(fb(z(o,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}))))},axisName:function(t,e,n,i){var r=it(t.axisName,e.get(\\\"name\\\"));if(r){var o,a,s=e.get(\\\"nameLocation\\\"),l=t.nameDirection,u=e.getModel(\\\"nameTextStyle\\\"),h=e.get(\\\"nameGap\\\")||0,c=e.axis.getExtent(),p=c[0]>c[1]?-1:1,d=[\\\"start\\\"===s?c[0]-p*h:\\\"end\\\"===s?c[1]+p*h:(c[0]+c[1])/2,YM(s)?t.labelOffset+l*h:0],f=e.get(\\\"nameRotate\\\");null!=f&&(f=f*BM/180),YM(s)?o=FM.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(o=function(t,e,n,i){var r,o,a=Ur(n-t),s=i[0]>i[1],l=\\\"start\\\"===e&&!s||\\\"start\\\"!==e&&s;Xr(a-BM/2)?(o=l?\\\"bottom\\\":\\\"top\\\",r=\\\"center\\\"):Xr(a-1.5*BM)?(o=l?\\\"top\\\":\\\"bottom\\\",r=\\\"center\\\"):(o=\\\"middle\\\",r=a\u003C1.5*BM&&a>BM/2?l?\\\"left\\\":\\\"right\\\":l?\\\"right\\\":\\\"left\\\");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,s,f||0,c),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),y=e.get(\\\"nameTruncate\\\",!0)||{},v=y.ellipsis,m=it(t.nameTruncateMaxWidth,y.maxWidth,a),x=new ks({x:d[0],y:d[1],rotation:o.rotation,silent:FM.isLabelSilent(e),style:Uh(u,{text:r,font:g,overflow:\\\"truncate\\\",width:m,ellipsis:v,fill:u.getTextColor()||e.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"]),align:u.get(\\\"align\\\")||o.textAlign,verticalAlign:u.get(\\\"verticalAlign\\\")||o.textVerticalAlign}),z2:1});if(Eh({el:x,componentModel:e,itemName:r}),x.__fullText=r,x.anid=\\\"name\\\",e.get(\\\"triggerEvent\\\")){var _=FM.makeAxisEventDataBase(e);_.targetType=\\\"axisName\\\",_.name=r,Hs(x).eventData=_}i.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function WM(t){t&&(t.ignore=!0)}function HM(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=Oi([]);return zi(r,r,-t.rotation),n.applyTransform(Ni([],r,t.getLocalTransform())),i.applyTransform(Ni([],r,e.getLocalTransform())),n.intersect(i)}}function YM(t){return\\\"middle\\\"===t||\\\"center\\\"===t}function UM(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l\u003Ct.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&(Ft(a,a,e),Ft(s,s,e));var h=new zu({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+\\\"_\\\"+t[l].tickValue,o.push(h)}return o}function XM(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var i=e.getComponent(\\\"tooltip\\\"),r=e.getComponent(\\\"axisPointer\\\"),o=r.get(\\\"link\\\",!0)||[],a=[];E(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=$M(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var u=n.model.getModel(\\\"tooltip\\\",i);if(E(n.getAxes(),H(d,!1,null)),n.getTooltipAxes&&i&&u.get(\\\"show\\\")){var h=\\\"axis\\\"===u.get(\\\"trigger\\\"),c=\\\"cross\\\"===u.get([\\\"axisPointer\\\",\\\"type\\\"]),p=n.getTooltipAxes(u.get([\\\"axisPointer\\\",\\\"axis\\\"]));(h||c)&&E(p.baseAxes,H(d,!c||\\\"cross\\\",h)),c&&E(p.otherAxes,H(d,\\\"cross\\\",!1))}}function d(i,s,h){var c=h.model.getModel(\\\"axisPointer\\\",r),p=c.get(\\\"show\\\");if(p&&(\\\"auto\\\"!==p||i||KM(c))){null==s&&(s=c.get(\\\"triggerTooltip\\\"));var d=(c=i?function(t,e,n,i,r,o){var a=e.getModel(\\\"axisPointer\\\"),s={};E([\\\"type\\\",\\\"snap\\\",\\\"lineStyle\\\",\\\"shadowStyle\\\",\\\"label\\\",\\\"animation\\\",\\\"animationDurationUpdate\\\",\\\"animationEasingUpdate\\\",\\\"z\\\"],(function(t){s[t]=T(a.get(t))})),s.snap=\\\"category\\\"!==t.type&&!!o,\\\"cross\\\"===a.get(\\\"type\\\")&&(s.type=\\\"line\\\");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),\\\"cross\\\"===r){var u=a.get([\\\"label\\\",\\\"show\\\"]);if(l.show=null==u||u,!o){var h=s.lineStyle=a.get(\\\"crossStyle\\\");h&&k(l,h.textStyle)}}return t.model.getModel(\\\"axisPointer\\\",new dc(s,n,i))}(h,u,r,e,i,s):c).get(\\\"snap\\\"),f=$M(h.model),g=s||d||\\\"category\\\"===h.type,y=t.axesInfo[f]={key:f,axis:h,coordSys:n,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:d,useHandle:KM(c),seriesModels:[],linkGroup:null};l[f]=y,t.seriesInvolved=t.seriesInvolved||g;var v=function(t,e){for(var n=e.model,i=e.dim,r=0;r\u003Ct.length;r++){var o=t[r]||{};if(ZM(o[i+\\\"AxisId\\\"],n.id)||ZM(o[i+\\\"AxisIndex\\\"],n.componentIndex)||ZM(o[i+\\\"AxisName\\\"],n.name))return r}}(o,h);if(null!=v){var m=a[v]||(a[v]={axesInfo:{}});m.axesInfo[f]=y,m.mapper=o[v].mapper,y.linkGroup=m}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get([\\\"tooltip\\\",\\\"trigger\\\"],!0),r=e.get([\\\"tooltip\\\",\\\"show\\\"],!0);n&&\\\"none\\\"!==i&&!1!==i&&\\\"item\\\"!==i&&!1!==r&&!1!==e.get([\\\"axisPointer\\\",\\\"show\\\"],!0)&&E(t.coordSysAxesInfo[$M(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function ZM(t,e){return\\\"all\\\"===t||Y(t)&&P(t,e)>=0||t===e}function jM(t){var e=qM(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get(\\\"status\\\"),a=n.get(\\\"value\\\");null!=a&&(a=i.parse(a));var s=KM(n);null==o&&(r.status=s?\\\"show\\\":\\\"hide\\\");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a\u003Cl[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?\\\"hide\\\":\\\"show\\\")}}function qM(t){var e=(t.ecModel.getComponent(\\\"axisPointer\\\")||{}).coordSysAxesInfo;return e&&e.axesInfo[$M(t)]}function KM(t){return!!t.get([\\\"handle\\\",\\\"show\\\"])}function $M(t){return t.type+\\\"||\\\"+t.id}var JM={},QM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(e,n,i,r){this.axisPointerClass&&jM(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(t){var e=qM(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new r)).render(t,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){JM[t]=e},e.getAxisPointerClass=function(t){return t&&JM[t]},e.type=\\\"axis\\\",e}(gg),tI=So();function eI(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel(\\\"splitArea\\\"),a=o.getModel(\\\"areaStyle\\\"),s=a.get(\\\"color\\\"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=tI(t).splitAreaColors,p=ft(),d=0;if(c)for(var f=0;f\u003Cu.length;f++){var g=c.get(u[f].tickValue);if(null!=g){d=(g+(h-1)*f)%h;break}}var y=r.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=Y(s)?s:[s];for(f=1;f\u003Cu.length;f++){var m=r.toGlobalCoord(u[f].coord),x=void 0,_=void 0,b=void 0,w=void 0;r.isHorizontal()?(x=y,_=l.y,b=m-x,w=l.height,y=x+b):(x=l.x,_=y,b=l.width,y=_+(w=m-_));var S=u[f-1].tickValue;null!=S&&p.set(S,d),e.add(new Cs({anid:null!=S?\\\"area_\\\"+S:null,shape:{x:x,y:_,width:b,height:w},style:k({fill:s[d]},v),autoBatch:!0,silent:!0})),d=(d+1)%h}tI(t).splitAreaColors=p}}}function nI(t){tI(t).splitAreaColors=null}var iI=[\\\"axisLine\\\",\\\"axisTickLabel\\\",\\\"axisName\\\"],rI=[\\\"splitArea\\\",\\\"splitLine\\\",\\\"minorSplitLine\\\"],oI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass=\\\"CartesianAxisPointer\\\",n}return n(e,t),e.prototype.render=function(e,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Cr,this.group.add(this._axisGroup),e.get(\\\"show\\\")){var a=e.getCoordSysModel(),s=kM(a,e),l=new FM(e,A({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),i=0;i\u003Cn.length;i++)if(lx(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},s));E(iI,l.add,l),this._axisGroup.add(l.getGroup()),E(rI,(function(t){e.get([t,\\\"show\\\"])&&aI[t](this,this._axisGroup,e,a)}),this),r&&\\\"changeAxisOrder\\\"===r.type&&r.isInitSort||Ah(o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)}},e.prototype.remove=function(){nI(this)},e.type=\\\"cartesianAxis\\\",e}(QM),aI={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel(\\\"splitLine\\\"),a=o.getModel(\\\"lineStyle\\\"),s=a.get(\\\"color\\\");s=Y(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),p=[],d=[],f=a.getLineStyle(),g=0;g\u003Cc.length;g++){var y=r.toGlobalCoord(c[g].coord);u?(p[0]=y,p[1]=l.y,d[0]=y,d[1]=l.y+l.height):(p[0]=l.x,p[1]=y,d[0]=l.x+l.width,d[1]=y);var v=h++%s.length,m=c[g].tickValue;e.add(new zu({anid:null!=m?\\\"line_\\\"+c[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:k({stroke:s[v]},f),silent:!0}))}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel(\\\"minorSplitLine\\\").getModel(\\\"lineStyle\\\"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),p=0;p\u003Cl.length;p++)for(var d=0;d\u003Cl[p].length;d++){var f=r.toGlobalCoord(l[p][d].coord);s?(u[0]=f,u[1]=a.y,h[0]=f,h[1]=a.y+a.height):(u[0]=a.x,u[1]=f,h[0]=a.x+a.width,h[1]=f),e.add(new zu({anid:\\\"minor_line_\\\"+l[p][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0}))}},splitArea:function(t,e,n,i){eI(t,e,n,i)}},sI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"xAxis\\\",e}(oI),lI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=sI.type,e}return n(e,t),e.type=\\\"yAxis\\\",e}(oI),uI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"grid\\\",e}return n(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get(\\\"show\\\")&&this.group.add(new Cs({shape:t.coordinateSystem.getRect(),style:k({fill:t.get(\\\"backgroundColor\\\")},t.getItemStyle()),silent:!0,z2:-1}))},e.type=\\\"grid\\\",e}(gg),hI={offset:0};function cI(t){t.registerComponentView(uI),t.registerComponentModel(yM),t.registerCoordinateSystem(\\\"cartesian2d\\\",NM),SM(t,\\\"x\\\",vM,hI),SM(t,\\\"y\\\",vM,hI),t.registerComponentView(sI),t.registerComponentView(lI),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function pI(t){t.eachSeriesByType(\\\"radar\\\",(function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var r=i.getIndicatorAxes();E(r,(function(t,o){e.each(e.mapDimension(r[o].dim),(function(t,e){n[e]=n[e]||[];var r=i.dataToPoint(t,o);n[e][o]=dI(r)?r:fI(i)}))})),e.each((function(t){var r=F(n[t],(function(t){return dI(t)}))||fI(i);n[t].push(r.slice()),e.setItemLayout(t,n[t])}))}}))}function dI(t){return!isNaN(t[0])&&!isNaN(t[1])}function fI(t){return[t.cx,t.cy]}function gI(t){var e=t.polar;if(e){Y(e)||(e=[e]);var n=[];E(e,(function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],Y(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}E(t.series,(function(t){t&&\\\"radar\\\"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var yI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,r=this.group,o=t.getData(),a=this._data;function s(t,e){var n=t.getItemVisual(e,\\\"symbol\\\")||\\\"circle\\\";if(\\\"none\\\"!==n){var i=Py(t.getItemVisual(e,\\\"symbolSize\\\")),r=Ly(n,-1,-1,2,2),o=t.getItemVisual(e,\\\"symbolRotate\\\")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function l(e,n,i,r,o,a){i.removeAll();for(var l=0;l\u003Cn.length-1;l++){var u=s(r,o);u&&(u.__dimIdx=l,e[l]?(u.setPosition(e[l]),Bh[a?\\\"initProps\\\":\\\"updateProps\\\"](u,{x:n[l][0],y:n[l][1]},t,o)):u.setPosition(n[l]),i.add(u))}}function u(t){return z(t,(function(t){return[i.cx,i.cy]}))}o.diff(a).add((function(e){var n=o.getItemLayout(e);if(n){var i=new Pu,r=new Ru,a={shape:{points:n}};i.shape.points=u(n),r.shape.points=u(n),oh(i,a,t,e),oh(r,a,t,e);var s=new Cr,h=new Cr;s.add(r),s.add(i),s.add(h),l(r.shape.points,n,h,o,e,!0),o.setItemGraphicEl(e,s)}})).update((function(e,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),u=i.childAt(2),h={shape:{points:o.getItemLayout(e)}};h.shape.points&&(l(r.shape.points,h.shape.points,u,o,e,!1),hh(s),hh(r),rh(r,h,t),rh(s,h,t),o.setItemGraphicEl(e,i))})).remove((function(t){r.remove(a.getItemGraphicEl(t))})).execute(),o.eachItemGraphicEl((function(t,e){var n=o.getItemModel(e),i=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=o.getItemVisual(e,\\\"style\\\"),u=l.fill;r.add(t),i.useStyle(k(n.getModel(\\\"lineStyle\\\").getLineStyle(),{fill:\\\"none\\\",stroke:u})),Vl(i,n,\\\"lineStyle\\\"),Vl(a,n,\\\"areaStyle\\\");var h=n.getModel(\\\"areaStyle\\\"),c=h.isEmpty()&&h.parentModel.isEmpty();a.ignore=c,E([\\\"emphasis\\\",\\\"select\\\",\\\"blur\\\"],(function(t){var e=n.getModel([t,\\\"areaStyle\\\"]),i=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=i&&c})),a.useStyle(k(h.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var p=n.getModel(\\\"emphasis\\\"),d=p.getModel(\\\"itemStyle\\\").getItemStyle();s.eachChild((function(t){if(t instanceof _s){var i=t.style;t.useStyle(A({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else t.useStyle(l),t.setColor(u),t.style.strokeNoScale=!0;t.ensureState(\\\"emphasis\\\").style=T(d);var r=o.getStore().get(o.getDimensionIndex(t.__dimIdx),e);(null==r||isNaN(r))&&(r=\\\"\\\"),Hh(t,Yh(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:r,inheritColor:u,defaultOpacity:l.opacity})})),Rl(t,p.get(\\\"focus\\\"),p.get(\\\"blurScope\\\"),p.get(\\\"disabled\\\"))})),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type=\\\"radar\\\",e}(xg),vI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new uM(W(this.getData,this),W(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return lM(this,{generateCoord:\\\"indicator_\\\",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=\\\"\\\"===o?this.name:o,s=eg(this,t);return Xf(\\\"section\\\",{header:a,sortBlocks:!0,blocks:z(r,(function(e){var n=i.get(i.mapDimension(e.dim),t);return Xf(\\\"nameValue\\\",{markerType:\\\"subItem\\\",markerColor:s,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(z(n.dimensions,(function(t){return e.mapDimension(t)})),t),r=0,o=i.length;r\u003Co;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},e.type=\\\"series.radar\\\",e.dependencies=[\\\"radar\\\"],e.defaultOption={z:2,colorBy:\\\"data\\\",coordinateSystem:\\\"radar\\\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\\\"solid\\\",join:\\\"round\\\"},label:{position:\\\"top\\\"},symbolSize:8},e}(sg),mI=bM.value;function xI(t,e){return k({show:e},t)}var _I=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){var t=this.get(\\\"boundaryGap\\\"),e=this.get(\\\"splitNumber\\\"),n=this.get(\\\"scale\\\"),i=this.get(\\\"axisLine\\\"),r=this.get(\\\"axisTick\\\"),o=this.get(\\\"axisLabel\\\"),a=this.get(\\\"axisName\\\"),s=this.get([\\\"axisName\\\",\\\"show\\\"]),l=this.get([\\\"axisName\\\",\\\"formatter\\\"]),u=this.get(\\\"axisNameGap\\\"),h=this.get(\\\"triggerEvent\\\"),c=z(this.get(\\\"indicator\\\")||[],(function(c){null!=c.max&&c.max>0&&!c.min?c.min=0:null!=c.min&&c.min\u003C0&&!c.max&&(c.max=0);var p=a;null!=c.color&&(p=k({color:c.color},a));var d=C(T(c),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:c.text,showName:s,nameLocation:\\\"end\\\",nameGap:u,nameTextStyle:p,triggerEvent:h},!1);if(s||(d.name=\\\"\\\"),X(l)){var f=d.name;d.name=l.replace(\\\"{value}\\\",null!=f?f:\\\"\\\")}else U(l)&&(d.name=l(d.name,d));var g=new dc(d,null,this.ecModel);return R(g,c_.prototype),g.mainType=\\\"radar\\\",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=c},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type=\\\"radar\\\",e.defaultOption={z:0,center:[\\\"50%\\\",\\\"50%\\\"],radius:\\\"75%\\\",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:\\\"polygon\\\",axisLine:C({lineStyle:{color:\\\"#bbb\\\"}},mI.axisLine),axisLabel:xI(mI.axisLabel,!1),axisTick:xI(mI.axisTick,!1),splitLine:xI(mI.splitLine,!0),splitArea:xI(mI.splitArea,!0),indicator:[]},e}(Tp),bI=[\\\"axisLine\\\",\\\"axisTickLabel\\\",\\\"axisName\\\"],wI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem;E(z(e.getIndicatorAxes(),(function(t){var n=t.model.get(\\\"showName\\\")?t.name:\\\"\\\";return new FM(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(t){E(bI,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get(\\\"shape\\\"),r=t.getModel(\\\"splitLine\\\"),o=t.getModel(\\\"splitArea\\\"),a=r.getModel(\\\"lineStyle\\\"),s=o.getModel(\\\"areaStyle\\\"),l=r.get(\\\"show\\\"),u=o.get(\\\"show\\\"),h=a.get(\\\"color\\\"),c=s.get(\\\"color\\\"),p=Y(h)?h:[h],d=Y(c)?c:[c],f=[],g=[];if(\\\"circle\\\"===i)for(var y=n[0].getTicksCoords(),v=e.cx,m=e.cy,x=0;x\u003Cy.length;x++){if(l)f[C(f,p,x)].push(new hu({shape:{cx:v,cy:m,r:y[x].coord}}));if(u&&x\u003Cy.length-1)g[C(g,d,x)].push(new Au({shape:{cx:v,cy:m,r0:y[x].coord,r:y[x+1].coord}}))}else{var _,b=z(n,(function(t,n){var i=t.getTicksCoords();return _=null==_?i.length-1:Math.min(i.length-1,_),z(i,(function(t){return e.coordToPoint(t.coord,n)}))})),w=[];for(x=0;x\u003C=_;x++){for(var S=[],M=0;M\u003Cn.length;M++)S.push(b[M][x]);if(S[0]&&S.push(S[0].slice()),l)f[C(f,p,x)].push(new Ru({shape:{points:S}}));if(u&&w)g[C(g,d,x-1)].push(new Pu({shape:{points:S.concat(w)}}));w=S.slice().reverse()}}var I=a.getLineStyle(),T=s.getAreaStyle();E(g,(function(t,e){this.group.add(wh(t,{style:k({stroke:\\\"none\\\",fill:d[e%d.length]},T),silent:!0}))}),this),E(f,(function(t,e){this.group.add(wh(t,{style:k({fill:\\\"none\\\",stroke:p[e%p.length]},I),silent:!0}))}),this)}function C(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type=\\\"radar\\\",e}(gg),SI=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type=\\\"value\\\",r.angle=0,r.name=\\\"\\\",r}return n(e,t),e}(W_),MI=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=z(t.getIndicatorModels(),(function(t,e){var n=\\\"indicator_\\\"+e,i=new SI(n,new mx);return i.name=t.get(\\\"name\\\"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l\u003Cthis._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(o-u.angle);h\u003Ca&&(r=u,s=l,a=h)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get(\\\"center\\\"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r)/2;this.cx=Er(n[0],i),this.cy=Er(n[1],r),this.startAngle=t.get(\\\"startAngle\\\")*Math.PI/180;var a=t.get(\\\"radius\\\");(X(a)||j(a))&&(a=[0,a]),this.r0=Er(a[0],o),this.r=Er(a[1],o),E(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;E(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType(\\\"radar\\\",(function(e,r){if(\\\"radar\\\"===e.get(\\\"coordinateSystem\\\")&&t.getComponent(\\\"radar\\\",e.get(\\\"radarIndex\\\"))===i){var o=e.getData();E(n,(function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))}))}}),this);var r=i.get(\\\"splitNumber\\\"),o=new mx;o.setExtent(0,r),o.setInterval(1),E(n,(function(t,e){RM(t.scale,t.model,o)}))},t.prototype.convertToPixel=function(t,e,n){return console.warn(\\\"Not implemented.\\\"),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn(\\\"Not implemented.\\\"),null},t.prototype.containPoint=function(t){return console.warn(\\\"Not implemented.\\\"),!1},t.create=function(e,n){var i=[];return e.eachComponent(\\\"radar\\\",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeriesByType(\\\"radar\\\",(function(t){\\\"radar\\\"===t.get(\\\"coordinateSystem\\\")&&(t.coordinateSystem=i[t.get(\\\"radarIndex\\\")||0])})),i},t.dimensions=[],t}();function II(t){t.registerCoordinateSystem(\\\"radar\\\",MI),t.registerComponentModel(_I),t.registerComponentView(wI),t.registerVisual({seriesType:\\\"radar\\\",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,\\\"legendIcon\\\",\\\"roundRect\\\")})),e.setVisual(\\\"legendIcon\\\",\\\"roundRect\\\")}})}var TI=\\\"\\\\0_ec_interaction_mutex\\\";function CI(t,e){return!!DI(t)[e]}function DI(t){return t[TI]||(t[TI]={})}hm({type:\\\"takeGlobalCursor\\\",event:\\\"globalCursorTaken\\\",update:\\\"update\\\"},xt);var AI=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=W(n._mousedownHandler,n),r=W(n._mousemoveHandler,n),o=W(n._mouseupHandler,n),a=W(n._mousewheelHandler,n),s=W(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=k(T(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&\\\"move\\\"!==t&&\\\"pan\\\"!==t||(e.on(\\\"mousedown\\\",i),e.on(\\\"mousemove\\\",r),e.on(\\\"mouseup\\\",o)),!0!==t&&\\\"scale\\\"!==t&&\\\"zoom\\\"!==t||(e.on(\\\"mousewheel\\\",a),e.on(\\\"pinch\\\",s))},n.disable=function(){e.off(\\\"mousedown\\\",i),e.off(\\\"mousemove\\\",r),e.off(\\\"mouseup\\\",o),e.off(\\\"mousewheel\\\",a),e.off(\\\"pinch\\\",s)},n}return n(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(le(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&PI(\\\"moveOnMouseMove\\\",t,this._opt)&&\\\"pinch\\\"!==t.gestureEvent&&!CI(this._zr,\\\"globalPan\\\")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,o=e-i,a=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&se(t.event),LI(this,\\\"pan\\\",\\\"moveOnMouseMove\\\",t,{dx:o,dy:a,oldX:i,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){le(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=PI(\\\"zoomOnMouseWheel\\\",t,this._opt),n=PI(\\\"moveOnMouseWheel\\\",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;kI(this,\\\"zoom\\\",\\\"zoomOnMouseWheel\\\",t,{scale:i>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(i);kI(this,\\\"scrollMove\\\",\\\"moveOnMouseWheel\\\",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){CI(this._zr,\\\"globalPan\\\")||kI(this,\\\"zoom\\\",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(Xt);function kI(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(se(i.event),LI(t,e,n,i,r))}function LI(t,e,n,i,r){r.isAvailableBehavior=W(PI,null,n,i),t.trigger(e,r)}function PI(t,e,n){var i=n[t];return!t||i&&(!X(i)||e.event[i+\\\"Key\\\"])}function OI(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function RI(t,e,n,i){var r=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,r.x-=(n-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var NI,EI={axisPointer:1,tooltip:1,brush:1};function zI(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!EI.hasOwnProperty(i.mainType)&&r&&r.model!==n}function VI(t){X(t)&&(t=(new DOMParser).parseFromString(t,\\\"text/xml\\\"));var e=t;for(9===e.nodeType&&(e=e.firstChild);\\\"svg\\\"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var BI={fill:\\\"fill\\\",stroke:\\\"stroke\\\",\\\"stroke-width\\\":\\\"lineWidth\\\",opacity:\\\"opacity\\\",\\\"fill-opacity\\\":\\\"fillOpacity\\\",\\\"stroke-opacity\\\":\\\"strokeOpacity\\\",\\\"stroke-dasharray\\\":\\\"lineDash\\\",\\\"stroke-dashoffset\\\":\\\"lineDashOffset\\\",\\\"stroke-linecap\\\":\\\"lineCap\\\",\\\"stroke-linejoin\\\":\\\"lineJoin\\\",\\\"stroke-miterlimit\\\":\\\"miterLimit\\\",\\\"font-family\\\":\\\"fontFamily\\\",\\\"font-size\\\":\\\"fontSize\\\",\\\"font-style\\\":\\\"fontStyle\\\",\\\"font-weight\\\":\\\"fontWeight\\\",\\\"text-anchor\\\":\\\"textAlign\\\",visibility:\\\"visibility\\\",display:\\\"display\\\"},FI=G(BI),GI={\\\"alignment-baseline\\\":\\\"textBaseline\\\",\\\"stop-color\\\":\\\"stopColor\\\"},WI=G(GI),HI=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=VI(t);this._defsUsePending=[];var i=new Cr;this._root=i;var r=[],o=n.getAttribute(\\\"viewBox\\\")||\\\"\\\",a=parseFloat(n.getAttribute(\\\"width\\\")||e.width),s=parseFloat(n.getAttribute(\\\"height\\\")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),qI(n,i,null,!0,!1);for(var l,u,h=n.firstChild;h;)this._parseNode(h,i,r,null,!1,!1),h=h.nextSibling;if(function(t,e){for(var n=0;n\u003Ce.length;n++){var i=e[n];i[0].style[i[1]]=t[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var c=QI(o);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&null!=a&&null!=s&&(u=rT(l,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var p=i;(i=new Cr).add(p),p.scaleX=p.scaleY=u.scale,p.x=u.x,p.y=u.y}return e.ignoreRootClip||null==a||null==s||i.setClipPath(new Cs({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:r}},t.prototype._parseNode=function(t,e,n,i,r,o){var a,s=t.nodeName.toLowerCase(),l=i;if(\\\"defs\\\"===s&&(r=!0),\\\"text\\\"===s&&(o=!0),\\\"defs\\\"===s||\\\"switch\\\"===s)a=e;else{if(!r){var u=NI[s];if(u&&mt(NI,s)){a=u.call(this,t,e);var h=t.getAttribute(\\\"name\\\");if(h){var c={name:h,namedFrom:null,svgNodeTagLower:s,el:a};n.push(c),\\\"g\\\"===s&&(l=c)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:a});e.add(a)}}var p=YI[s];if(p&&mt(YI,s)){var d=p.call(this,t),f=t.getAttribute(\\\"id\\\");f&&(this._defs[f]=d)}}if(a&&a.isGroup)for(var g=t.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,l,r,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},t.prototype._parseText=function(t,e){var n=new vs({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),function(t,e){var n=e.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&\\\"auto\\\"!==i?\\\"baseline\\\"===i?r=\\\"alphabetic\\\":\\\"before-edge\\\"===i||\\\"text-before-edge\\\"===i?r=\\\"top\\\":\\\"after-edge\\\"===i||\\\"text-after-edge\\\"===i?r=\\\"bottom\\\":\\\"central\\\"!==i&&\\\"mathematical\\\"!==i||(r=\\\"middle\\\"):r=\\\"alphabetic\\\",t.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&(\\\"middle\\\"===a&&(s=\\\"center\\\"),t.style.textAlign=s)}}(n,e);var i=n.style,r=i.fontSize;r&&r\u003C9&&(i.fontSize=9,n.scaleX*=r/9,n.scaleY*=r/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+\\\"px\\\",i.fontFamily||\\\"sans-serif\\\"].join(\\\" \\\");i.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=void(NI={g:function(t,e){var n=new Cr;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new Cs;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute(\\\"x\\\")||\\\"0\\\"),y:parseFloat(t.getAttribute(\\\"y\\\")||\\\"0\\\"),width:parseFloat(t.getAttribute(\\\"width\\\")||\\\"0\\\"),height:parseFloat(t.getAttribute(\\\"height\\\")||\\\"0\\\")}),n.silent=!0,n},circle:function(t,e){var n=new hu;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute(\\\"cx\\\")||\\\"0\\\"),cy:parseFloat(t.getAttribute(\\\"cy\\\")||\\\"0\\\"),r:parseFloat(t.getAttribute(\\\"r\\\")||\\\"0\\\")}),n.silent=!0,n},line:function(t,e){var n=new zu;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute(\\\"x1\\\")||\\\"0\\\"),y1:parseFloat(t.getAttribute(\\\"y1\\\")||\\\"0\\\"),x2:parseFloat(t.getAttribute(\\\"x2\\\")||\\\"0\\\"),y2:parseFloat(t.getAttribute(\\\"y2\\\")||\\\"0\\\")}),n.silent=!0,n},ellipse:function(t,e){var n=new pu;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute(\\\"cx\\\")||\\\"0\\\"),cy:parseFloat(t.getAttribute(\\\"cy\\\")||\\\"0\\\"),rx:parseFloat(t.getAttribute(\\\"rx\\\")||\\\"0\\\"),ry:parseFloat(t.getAttribute(\\\"ry\\\")||\\\"0\\\")}),n.silent=!0,n},polygon:function(t,e){var n,i=t.getAttribute(\\\"points\\\");i&&(n=jI(i));var r=new Pu({shape:{points:n||[]},silent:!0});return ZI(e,r),qI(t,r,this._defsUsePending,!1,!1),r},polyline:function(t,e){var n,i=t.getAttribute(\\\"points\\\");i&&(n=jI(i));var r=new Ru({shape:{points:n||[]},silent:!0});return ZI(e,r),qI(t,r,this._defsUsePending,!1,!1),r},image:function(t,e){var n=new _s;return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute(\\\"xlink:href\\\")||t.getAttribute(\\\"href\\\"),x:+t.getAttribute(\\\"x\\\"),y:+t.getAttribute(\\\"y\\\"),width:+t.getAttribute(\\\"width\\\"),height:+t.getAttribute(\\\"height\\\")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute(\\\"x\\\")||\\\"0\\\",i=t.getAttribute(\\\"y\\\")||\\\"0\\\",r=t.getAttribute(\\\"dx\\\")||\\\"0\\\",o=t.getAttribute(\\\"dy\\\")||\\\"0\\\";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new Cr;return ZI(e,a),qI(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var n=t.getAttribute(\\\"x\\\"),i=t.getAttribute(\\\"y\\\");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute(\\\"dx\\\")||\\\"0\\\",o=t.getAttribute(\\\"dy\\\")||\\\"0\\\",a=new Cr;return ZI(e,a),qI(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),a},path:function(t,e){var n=su(t.getAttribute(\\\"d\\\")||\\\"\\\");return ZI(e,n),qI(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),t}(),YI={lineargradient:function(t){var e=parseInt(t.getAttribute(\\\"x1\\\")||\\\"0\\\",10),n=parseInt(t.getAttribute(\\\"y1\\\")||\\\"0\\\",10),i=parseInt(t.getAttribute(\\\"x2\\\")||\\\"10\\\",10),r=parseInt(t.getAttribute(\\\"y2\\\")||\\\"0\\\",10),o=new Xu(e,n,i,r);return UI(t,o),XI(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute(\\\"cx\\\")||\\\"0\\\",10),n=parseInt(t.getAttribute(\\\"cy\\\")||\\\"0\\\",10),i=parseInt(t.getAttribute(\\\"r\\\")||\\\"0\\\",10),r=new Zu(e,n,i);return UI(t,r),XI(t,r),r}};function UI(t,e){\\\"userSpaceOnUse\\\"===t.getAttribute(\\\"gradientUnits\\\")&&(e.global=!0)}function XI(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&\\\"stop\\\"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute(\\\"offset\\\"),r=void 0;r=i&&i.indexOf(\\\"%\\\")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};iT(n,o,o);var a=o.stopColor||n.getAttribute(\\\"stop-color\\\")||\\\"#000000\\\";e.colorStops.push({offset:r,color:a})}n=n.nextSibling}}function ZI(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),k(e.__inheritedStyle,t.__inheritedStyle))}function jI(t){for(var e=QI(t),n=[],i=0;i\u003Ce.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}function qI(t,e,n,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===t.nodeType&&(function(t,e){var n=t.getAttribute(\\\"transform\\\");if(n){n=n.replace(/,/g,\\\" \\\");var i=[],r=null;n.replace(tT,(function(t,e,n){return i.push(e,n),\\\"\\\"}));for(var o=i.length-1;o>0;o-=2){var a=i[o],s=i[o-1],l=QI(a);switch(r=r||[1,0,0,1,0,0],s){case\\\"translate\\\":Ei(r,r,[parseFloat(l[0]),parseFloat(l[1]||\\\"0\\\")]);break;case\\\"scale\\\":Vi(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case\\\"rotate\\\":zi(r,r,-parseFloat(l[0])*eT);break;case\\\"skewX\\\":Ni(r,[1,0,Math.tan(parseFloat(l[0])*eT),1,0,0],r);break;case\\\"skewY\\\":Ni(r,[1,Math.tan(parseFloat(l[0])*eT),0,1,0,0],r);break;case\\\"matrix\\\":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(t,e),iT(t,a,s),i||function(t,e,n){for(var i=0;i\u003CFI.length;i++){var r=FI[i];null!=(o=t.getAttribute(r))&&(e[BI[r]]=o)}for(i=0;i\u003CWI.length;i++){var o;r=WI[i];null!=(o=t.getAttribute(r))&&(n[GI[r]]=o)}}(t,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=$I(o,\\\"fill\\\",a.fill,n)),null!=a.stroke&&(o.style.stroke=$I(o,\\\"stroke\\\",a.stroke,n)),E([\\\"lineWidth\\\",\\\"opacity\\\",\\\"fillOpacity\\\",\\\"strokeOpacity\\\",\\\"miterLimit\\\",\\\"fontSize\\\"],(function(t){null!=a[t]&&(o.style[t]=parseFloat(a[t]))})),E([\\\"lineDashOffset\\\",\\\"lineCap\\\",\\\"lineJoin\\\",\\\"fontWeight\\\",\\\"fontFamily\\\",\\\"fontStyle\\\",\\\"textAlign\\\"],(function(t){null!=a[t]&&(o.style[t]=a[t])})),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=z(QI(a.lineDash),(function(t){return parseFloat(t)}))),\\\"hidden\\\"!==a.visibility&&\\\"collapse\\\"!==a.visibility||(o.invisible=!0),\\\"none\\\"===a.display&&(o.ignore=!0)}var KI=/^url\\\\(\\\\s*#(.*?)\\\\)/;function $I(t,e,n,i){var r=n&&n.match(KI);if(!r)return\\\"none\\\"===n&&(n=null),n;var o=ut(r[1]);i.push([t,e,o])}var JI=/-?([0-9]*\\\\.)?[0-9]+([eE]-?[0-9]+)?/g;function QI(t){return t.match(JI)||[]}var tT=/(translate|scale|rotate|skewX|skewY|matrix)\\\\(([\\\\-\\\\s0-9\\\\.eE,]*)\\\\)/g,eT=Math.PI/180;var nT=/([^\\\\s:;]+)\\\\s*:\\\\s*([^:;]+)/g;function iT(t,e,n){var i,r=t.getAttribute(\\\"style\\\");if(r)for(nT.lastIndex=0;null!=(i=nT.exec(r));){var o=i[1],a=mt(BI,o)?BI[o]:null;a&&(e[a]=i[2]);var s=mt(GI,o)?GI[o]:null;s&&(n[s]=i[2])}}function rT(t,e){var n=e.width/t.width,i=e.height/t.height,r=Math.min(n,i);return{scale:r,x:-(t.x+t.width/2)*r+(e.x+e.width/2),y:-(t.y+t.height/2)*r+(e.y+e.height/2)}}var oT=ft([\\\"rect\\\",\\\"circle\\\",\\\"line\\\",\\\"ellipse\\\",\\\"polygon\\\",\\\"polyline\\\",\\\"path\\\",\\\"text\\\",\\\"tspan\\\",\\\"g\\\"]),aT=function(){function t(t,e){this.type=\\\"geoSVG\\\",this._usedGraphicMap=ft(),this._freedGraphics=[],this._mapName=t,this._parsedXML=VI(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(t){var e=[],n=ft();return E(t,(function(t){if(null==t.namedFrom){var i=new S_(t.name,t.el);e.push(i),n.set(t.name,i)}})),{regions:e,regionsMap:n}}(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n,i,r;try{lt(null!=(n=(e=t&&(i=t,r={ignoreViewBox:!0,ignoreRootClip:!0},(new HI).parse(i,r))||{}).root))}catch(t){throw new Error(\\\"Invalid svg format\\\\n\\\"+t.message)}var o=new Cr;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,l=e.viewBoxRect,u=this._boundingRect;if(!u){var h=void 0,c=void 0,p=void 0,d=void 0;if(null!=a?(h=0,p=a):l&&(h=l.x,p=l.width),null!=s?(c=0,d=s):l&&(c=l.y,d=l.height),null==h||null==c){var f=n.getBoundingRect();null==h&&(h=f.x,p=f.width),null==c&&(c=f.y,d=f.height)}u=this._boundingRect=new sr(h,c,p,d)}if(l){var g=rT(l,u);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}o.setClipPath(new Cs({shape:u.plain()}));var y=[];return E(e.named,(function(t){var e;null!=oT.get(t.svgNodeTagLower)&&(y.push(t),(e=t.el).silent=!1,e.isGroup&&e.traverse((function(t){t.silent=!1})))})),{root:o,boundingRect:u,named:y}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();for(var sT=[126,25],lT=\\\"南海诸岛\\\",uT=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],hT=0;hT\u003CuT.length;hT++)for(var cT=0;cT\u003CuT[hT].length;cT++)uT[hT][cT][0]/=10.5,uT[hT][cT][1]/=-14,uT[hT][cT][0]+=sT[0],uT[hT][cT][1]+=sT[1];var pT={\\\"南海诸岛\\\":[32,80],\\\"广东\\\":[0,-10],\\\"香港\\\":[10,5],\\\"澳门\\\":[-10,10],\\\"天津\\\":[5,5]};var dT=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var fT=function(){function t(t,e,n){var i;this.type=\\\"geoJSON\\\",this._parsedMap=ft(),this._mapName=t,this._specialAreas=n,this._geoJSON=X(i=e)?\\\"undefined\\\"!=typeof JSON&&JSON.parse?JSON.parse(i):new Function(\\\"return (\\\"+i+\\\");\\\")():i}return t.prototype.load=function(t,e){e=e||\\\"name\\\";var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:gT(i)})}var r=ft(),o=[];return E(n.regions,(function(e){var n=e.name;t&&mt(t,n)&&(e=e.cloneShallow(n=t[n])),o.push(e),r.set(n,e)})),{regions:o,boundingRect:n.boundingRect||new sr(0,0,0,0),regionsMap:r}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?T_(i,t):[]}catch(t){throw new Error(\\\"Invalid geoJson format\\\\n\\\"+t.message)}return function(t,e){if(\\\"china\\\"===t){for(var n=0;n\u003Ce.length;n++)if(e[n].name===lT)return;e.push(new w_(lT,z(uT,(function(t){return{type:\\\"polygon\\\",exterior:t}})),sT))}}(n,e),E(e,(function(t){var e=t.name;!function(t,e){if(\\\"china\\\"===t){var n=pT[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}(n,t),function(t,e){\\\"china\\\"===t&&\\\"台湾\\\"===e.name&&e.geometries.push({type:\\\"polygon\\\",exterior:dT[0]})}(n,t);var i=this._specialAreas&&this._specialAreas[e];i&&t.transformTo(i.left,i.top,i.width,i.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function gT(t){for(var e,n=0;n\u003Ct.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}var yT=ft(),vT=function(t,e,n){if(e.svg){var i=new aT(t,e.svg);yT.set(t,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?n=e.specialAreas:r=e;i=new fT(t,r,n);yT.set(t,i)}},mT=function(t){return yT.get(t)},xT=function(t){var e=yT.get(t);return e&&\\\"geoJSON\\\"===e.type&&e.getMapForUser()},_T=function(t,e,n){var i=yT.get(t);if(i)return i.load(e,n)},bT=[\\\"rect\\\",\\\"circle\\\",\\\"line\\\",\\\"ellipse\\\",\\\"polygon\\\",\\\"polyline\\\",\\\"path\\\"],wT=ft(bT),ST=ft(bT.concat([\\\"g\\\"])),MT=ft(bT.concat([\\\"g\\\"])),IT=So();function TT(t){var e=t.getItemStyle(),n=t.get(\\\"areaColor\\\");return null!=n&&(e.fill=n),e}function CT(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var DT=function(){function t(t){var e=new Cr;this.uid=gc(\\\"ec_map_draw\\\"),this._controller=new AI(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Cr),e.add(this._svgGroup=new Cr)}return t.prototype.draw=function(t,e,n,i,r){var o=\\\"geo\\\"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:\\\"series\\\",subType:\\\"map\\\"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,u=this.group,h=s.getTransformInfo(),c=h.raw,p=h.roam;!l.childAt(0)||r?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):rh(u,p,t);var d=a&&a.getVisual(\\\"visualMeta\\\")&&a.getVisual(\\\"visualMeta\\\").length>0,f={api:n,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:d,isGeo:o,transformInfoRaw:c};\\\"geoJSON\\\"===s.resourceType?this._buildGeoJSON(f):\\\"geoSVG\\\"===s.resourceType&&this._buildSVG(f),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ft(),n=ft(),i=this._regionsGroup,r=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=t.geo.projection,l=s&&s.stream;function u(t,e){return e&&(t=e(t)),t&&[t[0]*r.scaleX+r.x,t[1]*r.scaleY+r.y]}function h(t){for(var e=[],n=!l&&s&&s.project,i=0;i\u003Ct.length;++i){var r=u(t[i],n);r&&e.push(r)}return e}function c(t){return{shape:{points:h(t)}}}i.removeAll(),E(t.geo.regions,(function(r){var h=r.name,p=e.get(h),d=n.get(h)||{},f=d.dataIdx,g=d.regionModel;p||(p=e.set(h,new Cr),i.add(p),f=a?a.indexOfName(h):null,g=t.isGeo?o.getRegionModel(h):a?a.getItemModel(f):null,n.set(h,{dataIdx:f,regionModel:g}));var y=[],v=[];E(r.geometries,(function(t){if(\\\"polygon\\\"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=RT(e,l)),E(e,(function(t){y.push(new Pu(c(t)))}))}else{var n=t.points;l&&(n=RT(n,l,!0)),E(n,(function(t){v.push(new Ru(c(t)))}))}}));var m=u(r.getCenter(),s&&s.project);function x(e,n){if(e.length){var i=new Yu({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});p.add(i),AT(t,i,f,g),kT(t,i,h,g,o,f,m),n&&(CT(i),E(i.states,CT))}}x(y),x(v,!0)})),e.each((function(e,i){var r=n.get(i),a=r.dataIdx,s=r.regionModel;LT(t,e,i,s,o,a),PT(t,e,i,s,o),OT(t,e,i,s,o)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=ft(),r=!1;E(this._svgGraphicRecord.named,(function(e){var n=e.name,o=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,l=e.el,u=a?a.indexOfName(n):null,h=o.getRegionModel(n);(null!=wT.get(s)&&l instanceof da&&AT(t,l,u,h),l instanceof da&&(l.culling=!0),l.z2EmphasisLift=0,e.namedFrom)||(null!=MT.get(s)&&kT(t,l,n,h,o,u,null),LT(t,l,n,h,o,u),PT(t,l,n,h,o),null!=ST.get(s)&&(\\\"self\\\"===OT(t,l,n,h,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(r,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){vl(t);var e=t.ensureState(\\\"blur\\\").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState(\\\"emphasis\\\")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if(\\\"geoJSON\\\"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(t);return r?[r]:[]}}else if(\\\"geoSVG\\\"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=mT(t);if(e&&\\\"geoSVG\\\"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=mT(t);e&&\\\"geoSVG\\\"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=t.get(\\\"scaleLimit\\\"),o.zoom=i.getZoom(),r.enable(t.get(\\\"roam\\\")||!1);var a=t.mainType;function s(){var e={type:\\\"geoRoam\\\",componentType:a};return e[a+\\\"Id\\\"]=t.id,e}r.off(\\\"pan\\\").on(\\\"pan\\\",(function(t){this._mouseDownFlag=!1,OI(o,t.dx,t.dy),n.dispatchAction(A(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),r.off(\\\"zoom\\\").on(\\\"zoom\\\",(function(t){this._mouseDownFlag=!1,RI(o,t.scale,t.originX,t.originY),n.dispatchAction(A(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(e,r,o){return i.containPoint([r,o])&&!zI(e,n,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=IT(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,n,i){var r=this;e.off(\\\"mousedown\\\"),e.off(\\\"click\\\"),t.get(\\\"selectedMode\\\")&&(e.on(\\\"mousedown\\\",(function(){r._mouseDownFlag=!0})),e.on(\\\"click\\\",(function(t){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},t}();function AT(t,e,n,i){var r=i.getModel(\\\"itemStyle\\\"),o=i.getModel([\\\"emphasis\\\",\\\"itemStyle\\\"]),a=i.getModel([\\\"blur\\\",\\\"itemStyle\\\"]),s=i.getModel([\\\"select\\\",\\\"itemStyle\\\"]),l=TT(r),u=TT(o),h=TT(s),c=TT(a),p=t.data;if(p){var d=p.getItemVisual(n,\\\"style\\\"),f=p.getItemVisual(n,\\\"decal\\\");t.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),f&&(l.decal=iv(f,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState(\\\"emphasis\\\").style=u,e.ensureState(\\\"select\\\").style=h,e.ensureState(\\\"blur\\\").style=c,vl(e)}function kT(t,e,n,i,r,o,a){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension(\\\"value\\\"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?n:o,p=void 0;(!s||o>=0)&&(p=r);var d=a?{normal:{align:\\\"center\\\",verticalAlign:\\\"middle\\\"}}:null;Hh(e,Yh(i),{labelFetcher:p,labelDataIndex:c,defaultText:n},d);var f=e.getTextContent();if(f&&(IT(f).ignore=f.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+\\\"%\\\",(a[1]-g.y)/g.height*100+\\\"%\\\"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function LT(t,e,n,i,r,o){t.data?t.data.setItemGraphicEl(o,e):Hs(e).eventData={componentType:\\\"geo\\\",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function PT(t,e,n,i,r){t.data||Eh({el:e,componentModel:r,itemName:n,itemTooltipOption:i.get(\\\"tooltip\\\")})}function OT(t,e,n,i,r){e.highDownSilentOnTouch=!!r.get(\\\"selectedMode\\\");var o=i.getModel(\\\"emphasis\\\"),a=o.get(\\\"focus\\\");return Rl(e,a,o.get(\\\"blurScope\\\"),o.get(\\\"disabled\\\")),t.isGeo&&function(t,e,n){var i=Hs(t);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=n}(e,r,n),a}function RT(t,e,n){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),E(t,(function(t){s.lineStart();for(var e=0;e\u003Ct.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!n&&s.polygonEnd(),r}var NT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){if(!i||\\\"mapToggleSelect\\\"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&\\\"geoRoam\\\"===i.type&&this._mapDraw.resetForLabelLayout(),i&&\\\"geoRoam\\\"===i.type&&\\\"series\\\"===i.componentType&&i.seriesId===t.id)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new DT(n);r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get(\\\"showLegendSymbol\\\")&&e.getComponent(\\\"legend\\\")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,r=this.group;i.each(i.mapDimension(\\\"value\\\"),(function(e,n){if(!isNaN(e)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new hu({style:{fill:t.getData().getVisual(\\\"style\\\").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:11)});if(!s){var u=t.mainSeries.getData(),h=i.getName(n),c=u.indexOfName(h),p=i.getItemModel(n),d=p.getModel(\\\"label\\\"),f=u.getItemGraphicEl(c);Hh(l,Yh(p),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(c,n)}},defaultText:h}),l.disableLabelAnimation=!0,d.get(\\\"position\\\")||l.setTextConfig({position:\\\"bottom\\\"}),f.onHoverStateChange=function(t){gl(l,t)}}r.add(l)}}}))},e.type=\\\"map\\\",e}(xg),ET=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.getCenter())}},n}return n(e,t),e.prototype.getInitialData=function(t){for(var e=lM(this,{coordDimensions:[\\\"value\\\"],encodeDefaulter:H(Yp,this)}),n=ft(),i=[],r=0,o=e.count();r\u003Co;r++){var a=e.getName(r);n.set(a,!0)}return E(_T(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(t){var e=t.name;n.get(e)||i.push(e)})),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent(\\\"geo\\\",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension(\\\"value\\\"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),r=this.getRawValue(t),o=i.getName(t),a=this.seriesGroup,s=[],l=0;l\u003Ca.length;l++){var u=a[l].originalData.indexOfName(o),h=i.mapDimension(\\\"value\\\");isNaN(a[l].originalData.get(h,u))||s.push(a[l].name)}return Xf(\\\"section\\\",{header:s.join(\\\", \\\"),noHeader:!s.length,blocks:[Xf(\\\"nameValue\\\",{name:o,value:r})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||\\\"roundRect\\\",n=Ly(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke=\\\"none\\\",e.indexOf(\\\"empty\\\")>-1&&(n.style.stroke=n.style.fill,n.style.fill=\\\"#fff\\\",n.style.lineWidth=2),n},e.type=\\\"series.map\\\",e.dependencies=[\\\"geo\\\"],e.layoutMode=\\\"box\\\",e.defaultOption={z:2,coordinateSystem:\\\"geo\\\",map:\\\"\\\",left:\\\"center\\\",top:\\\"center\\\",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:\\\"#000\\\"},itemStyle:{borderWidth:.5,borderColor:\\\"#444\\\",areaColor:\\\"#eee\\\"},emphasis:{label:{show:!0,color:\\\"rgb(100,0,0)\\\"},itemStyle:{areaColor:\\\"rgba(255,215,0,0.8)\\\"}},select:{label:{show:!0,color:\\\"rgb(100,0,0)\\\"},itemStyle:{color:\\\"rgba(255,215,0,0.8)\\\"}},nameProperty:\\\"name\\\"},e}(sg);function zT(t){var e={};t.eachSeriesByType(\\\"map\\\",(function(t){var n=t.getHostGeoModel(),i=n?\\\"o\\\"+n.id:\\\"i\\\"+t.getMapType();(e[i]=e[i]||[]).push(t)})),E(e,(function(t,e){for(var n,i,r,o=(n=z(t,(function(t){return t.getData()})),i=t[0].get(\\\"mapValueCalculation\\\"),r={},E(n,(function(t){t.each(t.mapDimension(\\\"value\\\"),(function(e,n){var i=\\\"ec-\\\"+t.getName(n);r[i]=r[i]||[],isNaN(e)||r[i].push(e)}))})),n[0].map(n[0].mapDimension(\\\"value\\\"),(function(t,e){for(var o=\\\"ec-\\\"+n[0].getName(e),a=0,s=1/0,l=-1/0,u=r[o].length,h=0;h\u003Cu;h++)s=Math.min(s,r[o][h]),l=Math.max(l,r[o][h]),a+=r[o][h];return 0===u?NaN:\\\"min\\\"===i?s:\\\"max\\\"===i?l:\\\"average\\\"===i?a/u:a}))),a=0;a\u003Ct.length;a++)t[a].originalData=t[a].getData();for(a=0;a\u003Ct.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]}))}function VT(t){var e={};t.eachSeriesByType(\\\"map\\\",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var r={};E(n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get(\\\"showLegendSymbol\\\")&&t.getComponent(\\\"legend\\\")&&i.each(i.mapDimension(\\\"value\\\"),(function(t,e){var o=i.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=r[o]||0,l=n.dataToPoint(a.getCenter());r[o]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!r[e],o.setItemLayout(t,n)})),e[i]=!0}}))}var BT=Ft,FT=function(t){function e(e){var n=t.call(this)||this;return n.type=\\\"view\\\",n.dimensions=[\\\"x\\\",\\\"y\\\"],n._roamTransformable=new qi,n._rawTransformable=new qi,n.name=e,n}return n(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new sr(t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new sr(t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new sr(t,e,n,i));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=Ft([],i,t),n=Ft([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),Ri(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Bi(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new qi;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?BT(n,t,i):St(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?BT([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=GT(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=GT(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=[\\\"x\\\",\\\"y\\\"],e}(qi);function GT(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var WT={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},HT=[\\\"lng\\\",\\\"lat\\\"],YT=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.dimensions=HT,r.type=\\\"geo\\\",r._nameCoordMap=ft(),r.map=n;var o,a=i.projection,s=_T(n,i.nameMap,i.nameProperty),l=mT(n),u=(r.resourceType=l?l.type:null,r.regions=s.regions),h=WT[l.type];if(r._regionsMap=s.regionsMap,r.regions=s.regions,r.projection=a,a)for(var c=0;c\u003Cu.length;c++){var p=u[c].getBoundingRect(a);(o=o||p.clone()).union(p)}else o=s.boundingRect;return r.setBoundingRect(o.x,o.y,o.width,o.height),r.aspectScale=a?1:rt(i.aspectScale,h.aspectScale),r._invertLongitute=!a&&h.invertLongitute,r}return n(e,t),e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new sr(t,e,n,i));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n\u003Ce.length;n++){var i=e[n];if(\\\"geoJSON\\\"===i.type&&i.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(X(t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,i){return t.prototype.dataToPoint.call(this,e,n,i)},e.prototype.convertToPixel=function(t,e,n){var i=UT(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=UT(e);return i===this?i.pointToData(n):null},e}(FT);function UT(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents(\\\"geo\\\",Co).models[0]||{}).coordinateSystem:null}function XT(t,e){var n=t.get(\\\"boundingCoords\\\");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var h=function(t,e,n,a){for(var s=n-t,l=a-e,u=0;u\u003C=100;u++){var h=u/100,c=o.project([t+s*h,e+l*h]);Gt(i,i,c),Wt(r,r,c)}};h(a,s,l,s),h(l,s,l,u),h(l,u,a,u),h(a,u,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else 0}var c,p,d,f=this.getBoundingRect(),g=t.get(\\\"layoutCenter\\\"),y=t.get(\\\"layoutSize\\\"),v=e.getWidth(),m=e.getHeight(),x=f.width/f.height*this.aspectScale,_=!1;if(g&&y&&(c=[Er(g[0],v),Er(g[1],m)],p=Er(y,Math.min(v,m)),isNaN(c[0])||isNaN(c[1])||isNaN(p)||(_=!0)),_)d={},x>1?(d.width=p,d.height=p/x):(d.height=p,d.width=p*x),d.y=c[1]-d.height/2,d.x=c[0]-d.width/2;else{var b=t.getBoxLayoutParams();b.aspect=x,d=xp(b,{width:v,height:m})}this.setViewRect(d.x,d.y,d.width,d.height),this.setCenter(t.get(\\\"center\\\")),this.setZoom(t.get(\\\"zoom\\\"))}R(YT,FT);var ZT=new(function(){function t(){this.dimensions=HT}return t.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get(\\\"nameProperty\\\"),aspectScale:t.get(\\\"aspectScale\\\"),projection:t.get(\\\"projection\\\")}}t.eachComponent(\\\"geo\\\",(function(t,r){var o=t.get(\\\"map\\\"),a=new YT(o+r,o,A({nameMap:t.get(\\\"nameMap\\\")},i(t)));a.zoomLimit=t.get(\\\"scaleLimit\\\"),n.push(a),t.coordinateSystem=a,a.model=t,a.resize=XT,a.resize(t,e)})),t.eachSeries((function(t){if(\\\"geo\\\"===t.get(\\\"coordinateSystem\\\")){var e=t.get(\\\"geoIndex\\\")||0;t.coordinateSystem=n[e]}}));var r={};return t.eachSeriesByType(\\\"map\\\",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}})),E(r,(function(t,r){var o=z(t,(function(t){return t.get(\\\"nameMap\\\")})),a=new YT(r,r,A({nameMap:D(o)},i(t[0])));a.zoomLimit=it.apply(null,z(t,(function(t){return t.get(\\\"scaleLimit\\\")}))),n.push(a),a.resize=XT,a.resize(t[0],e),E(t,(function(t){t.coordinateSystem=a,function(t,e){E(e.get(\\\"geoCoord\\\"),(function(e,n){t.addGeoCoord(n,e)}))}(a,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n,i){for(var r=(t||[]).slice(),o=ft(),a=0;a\u003Cr.length;a++)o.set(r[a].name,r[a]);return E(_T(e,n,i).regions,(function(t){var e=t.name;!o.get(e)&&r.push({name:e})})),r},t}()),jT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e,n){var i=mT(t.map);if(i&&\\\"geoJSON\\\"===i.type){var r=t.itemStyle=t.itemStyle||{};\\\"color\\\"in r||(r.color=\\\"#eee\\\")}this.mergeDefaultAndTheme(t,n),co(t,\\\"label\\\",[\\\"show\\\"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=ZT.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=V(e.regions||[],(function(e,i){var r=i.name;return r&&(e.set(r,new dc(i,t,t.ecModel)),i.selected&&(n[r]=!0)),e}),ft()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new dc(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i=\\\"normal\\\"===e?n.get([\\\"label\\\",\\\"formatter\\\"]):n.get([\\\"emphasis\\\",\\\"label\\\",\\\"formatter\\\"]),r={name:t};return U(i)?(r.status=e,i(r)):X(i)?i.replace(\\\"{a}\\\",null!=t?t:\\\"\\\"):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&(\\\"multiple\\\"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?\\\"unSelect\\\":\\\"select\\\"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type=\\\"geo\\\",e.layoutMode=\\\"box\\\",e.defaultOption={z:0,show:!0,left:\\\"center\\\",top:\\\"center\\\",aspectScale:null,silent:!1,map:\\\"\\\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\\\"#000\\\"},itemStyle:{borderWidth:.5,borderColor:\\\"#444\\\"},emphasis:{label:{show:!0,color:\\\"rgb(100,0,0)\\\"},itemStyle:{color:\\\"rgba(255,215,0,0.8)\\\"}},select:{label:{show:!0,color:\\\"rgb(100,0,0)\\\"},itemStyle:{color:\\\"rgba(255,215,0,0.8)\\\"}},regions:[]},e}(Tp);function qT(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function KT(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.projectedToPoint?t.projectedToPoint(r):t.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(a[0]-=e.dx,a[1]-=e.dy,t.setCenter(qT(t,a))),null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}t.scaleX*=o,t.scaleY*=o;var u=(e.originX-t.x)*(o-1),h=(e.originY-t.y)*(o-1);t.x-=u,t.y-=h,t.updateTransform(),t.setCenter(qT(t,a)),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var $T=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return n(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,i){if(this._model=t,!t.get(\\\"show\\\"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new DT(n));var r=this._mapDraw;r.draw(t,e,n,this,i),r.group.on(\\\"click\\\",this._handleRegionClick,this),r.group.silent=t.get(\\\"silent\\\"),this.group.add(r.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;xy(t.target,(function(t){return null!=(e=Hs(t).eventData)}),!0),e&&this._api.dispatchAction({type:\\\"geoToggleSelect\\\",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=Hs(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type=\\\"geo\\\",e}(gg);function JT(t,e,n){vT(t,e,n)}function QT(t){function e(e,n){n.update=\\\"geo:updateSelectStatus\\\",t.registerAction(n,(function(t,n){var i={},r=[];return n.eachComponent({mainType:\\\"geo\\\",query:t},(function(n){n[e](t.name),E(n.coordinateSystem.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}));var o=[];E(i,(function(t,e){i[e]&&o.push(e)})),r.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:r,name:t.name}}))}t.registerCoordinateSystem(\\\"geo\\\",ZT),t.registerComponentModel(jT),t.registerComponentView($T),t.registerImpl(\\\"registerMap\\\",JT),t.registerImpl(\\\"getMap\\\",(function(t){return xT(t)})),e(\\\"toggleSelected\\\",{type:\\\"geoToggleSelect\\\",event:\\\"geoselectchanged\\\"}),e(\\\"select\\\",{type:\\\"geoSelect\\\",event:\\\"geoselected\\\"}),e(\\\"unSelect\\\",{type:\\\"geoUnSelect\\\",event:\\\"geounselected\\\"}),t.registerAction({type:\\\"geoRoam\\\",event:\\\"geoRoam\\\",update:\\\"updateTransform\\\"},(function(t,e){var n=t.componentType||\\\"series\\\";e.eachComponent({mainType:n,query:t},(function(e){var i=e.coordinateSystem;if(\\\"geo\\\"===i.type){var r=KT(i,t,e.get(\\\"scaleLimit\\\"));e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom),\\\"series\\\"===n&&E(e.seriesGroup,(function(t){t.setCenter(r.center),t.setZoom(r.zoom)}))}}))}))}function tC(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,i=0,r=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,o=t,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,u=o.hierNode.modifier,h=a.hierNode.modifier,c=s.hierNode.modifier;s=rC(s),o=oC(o),s&&o;){r=rC(r),a=oC(a),r.hierNode.ancestor=t;var p=s.hierNode.prelim+c-o.hierNode.prelim-u+i(s,o);p>0&&(sC(aC(s,t,n),t,p),u+=p,l+=p),c+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,h+=a.hierNode.modifier}s&&!rC(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=c-l),o&&!oC(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-h,n=t)}return n}(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function eC(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function nC(t){return arguments.length?t:lC}function iC(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function rC(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function oC(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function aC(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function sC(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function lC(t,e){return t.parentNode===e.parentNode?1:2}var uC=function(){this.parentPoint=[],this.childPoints=[]},hC=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new uC},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,o=n[0],a=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l=\\\"TB\\\"===s||\\\"BT\\\"===s?0:1,u=1-l,h=Er(e.forkPosition,1),c=[];c[l]=r[l],c[u]=r[u]+(a[u]-r[u])*h,t.moveTo(r[0],r[1]),t.lineTo(c[0],c[1]),t.moveTo(o[0],o[1]),c[l]=o[l],t.lineTo(c[0],c[1]),c[l]=a[l],t.lineTo(c[0],c[1]),t.lineTo(a[0],a[1]);for(var p=1;p\u003Ci-1;p++){var d=n[p];t.moveTo(d[0],d[1]),c[l]=d[l],t.lineTo(c[0],c[1])}},e}(gs),cC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new Cr,n}return n(e,t),e.prototype.init=function(t,e){this._controller=new AI(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),r=t.layoutInfo,o=this._mainGroup;\\\"radial\\\"===t.get(\\\"layout\\\")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(t),this._updateController(t,e,n);var a=this._data;i.diff(a).add((function(e){pC(i,e)&&dC(i,e,null,o,t)})).update((function(e,n){var r=a.getItemGraphicEl(n);pC(i,e)?dC(i,e,r,o,t):r&&yC(a,n,r,o,t)})).remove((function(e){var n=a.getItemGraphicEl(e);n&&yC(a,e,n,o,t)})).execute(),this._nodeScaleRatio=t.get(\\\"nodeScaleRatio\\\"),this._updateNodeAndLinkScale(t),!0===t.get(\\\"expandAndCollapse\\\")&&i.eachItemGraphicEl((function(e,i){e.off(\\\"click\\\").on(\\\"click\\\",(function(){n.dispatchAction({type:\\\"treeExpandAndCollapse\\\",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t){var e=t.getData(),n=[];e.each((function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])}));var i=[],r=[];Ma(n,i,r);var o=this._min,a=this._max;r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1);var s=t.coordinateSystem=new FT;s.zoomLimit=t.get(\\\"scaleLimit\\\"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(t.get(\\\"center\\\")),s.setZoom(t.get(\\\"zoom\\\")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=i,this._max=r},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!zI(e,n,t)})),r.enable(t.get(\\\"roam\\\")),o.zoomLimit=t.get(\\\"scaleLimit\\\"),o.zoom=t.coordinateSystem.getZoom(),r.off(\\\"pan\\\").off(\\\"zoom\\\").on(\\\"pan\\\",(function(e){OI(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:\\\"treeRoam\\\",dx:e.dx,dy:e.dy})})).on(\\\"zoom\\\",(function(e){RI(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:\\\"treeRoam\\\",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if(\\\"view\\\"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1;return((e.getZoom()-1)*n+1)/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type=\\\"tree\\\",e}(xg);function pC(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function dC(t,e,n,i,r){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual(\\\"style\\\").fill,u=!1===a.isExpand&&0!==a.children.length?l:\\\"#fff\\\",h=t.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=t.getItemGraphicEl(c.dataIndex),d=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:d,g=a.getLayout();o?((n=new Hw(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,rh(n,{x:g.x,y:g.y},r);var y=n.getSymbolPath();if(\\\"radial\\\"===r.get(\\\"layout\\\")){var v=h.children[0],m=v.getLayout(),x=v.children.length,_=void 0,b=void 0;if(g.x===m.x&&!0===a.isExpand){var w={x:(v.children[0].getLayout().x+v.children[x-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[x-1].getLayout().y)/2};(_=Math.atan2(w.y-m.y,w.x-m.x))\u003C0&&(_=2*Math.PI+_),(b=w.x\u003Cm.x)&&(_-=Math.PI)}else(_=Math.atan2(g.y-m.y,g.x-m.x))\u003C0&&(_=2*Math.PI+_),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(b=g.x\u003Cm.x)&&(_-=Math.PI):(b=g.x>m.x)||(_-=Math.PI);var S=b?\\\"left\\\":\\\"right\\\",M=s.getModel(\\\"label\\\"),I=M.get(\\\"rotate\\\"),T=I*(Math.PI/180),C=y.getTextContent();C&&(y.setTextConfig({position:M.get(\\\"position\\\")||S,rotation:null==I?-_:T,origin:\\\"center\\\"}),C.setStyle(\\\"verticalAlign\\\",\\\"middle\\\"))}var D=s.get([\\\"emphasis\\\",\\\"focus\\\"]),A=\\\"ancestor\\\"===D?a.getAncestorsIndices():\\\"descendant\\\"===D?a.getDescendantIndices():null;A&&(Hs(n).focus=A),function(t,e,n,i,r,o,a,s){var l=e.getModel(),u=t.get(\\\"edgeShape\\\"),h=t.get(\\\"layout\\\"),c=t.getOrient(),p=t.get([\\\"lineStyle\\\",\\\"curveness\\\"]),d=t.get(\\\"edgeForkPosition\\\"),f=l.getModel(\\\"lineStyle\\\").getLineStyle(),g=i.__edge;if(\\\"curve\\\"===u)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new Gu({shape:vC(h,c,p,r,r)})),rh(g,{shape:vC(h,c,p,o,a)},t));else if(\\\"polyline\\\"===u)if(\\\"orthogonal\\\"===h){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var y=e.children,v=[],m=0;m\u003Cy.length;m++){var x=y[m].getLayout();v.push([x.x,x.y])}g||(g=i.__edge=new hC({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:c,forkPosition:d}})),rh(g,{shape:{parentPoint:[a.x,a.y],childPoints:v}},t)}}else 0;g&&(g.useStyle(k({strokeNoScale:!0,fill:null},f)),Vl(g,l,\\\"lineStyle\\\"),vl(g),s.add(g))}(r,a,h,n,f,d,g,i),n.__edge&&(n.onHoverStateChange=function(e){if(\\\"blur\\\"!==e){var i=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);i&&1===i.hoverState||gl(n.__edge,e)}})}function fC(t,e,n,i,r){var o=gC(e.tree.root,t),a=o.source,s=o.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var u=e.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),c=i.get(\\\"edgeShape\\\"),p=i.get(\\\"layout\\\"),d=i.get(\\\"orient\\\"),f=i.get([\\\"lineStyle\\\",\\\"curveness\\\"]);h&&(\\\"curve\\\"===c?sh(h,{shape:vC(p,d,f,s,s),style:{opacity:0}},i,{cb:function(){n.remove(h)},removeOpt:r}):\\\"polyline\\\"===c&&\\\"orthogonal\\\"===i.get(\\\"layout\\\")&&sh(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){n.remove(h)},removeOpt:r}))}}function gC(t,e){for(var n,i=e.parentNode===t?e:e.parentNode||e;null==(n=i.getLayout());)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:n}}function yC(t,e,n,i,r){var o=t.tree.getNodeByDataIndex(e),a=gC(t.tree.root,o).sourceLayout,s={duration:r.get(\\\"animationDurationUpdate\\\"),easing:r.get(\\\"animationEasingUpdate\\\")};sh(n,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(e){fC(e,t,i,r,s)})),fC(o,t,i,r,s)}function vC(t,e,n,i,r){var o,a,s,l,u,h,c,p;if(\\\"radial\\\"===t){u=i.rawX,c=i.rawY,h=r.rawX,p=r.rawY;var d=iC(u,c),f=iC(u,c+(p-c)*n),g=iC(h,p+(c-p)*n),y=iC(h,p);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=i.x,c=i.y,h=r.x,p=r.y,\\\"LR\\\"!==e&&\\\"RL\\\"!==e||(o=u+(h-u)*n,a=c,s=h+(u-h)*n,l=p),\\\"TB\\\"!==e&&\\\"BT\\\"!==e||(o=u,a=c+(p-c)*n,s=h,l=p+(c-p)*n),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var mC=So();function xC(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:\\\"data\\\"}),t.datas=t.mainData=null,IC(e,n,t),E(n,(function(n){E(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,H(_C,t))}))})),e.wrapMethod(\\\"cloneShallow\\\",H(wC,t)),E(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,H(bC,t))})),lt(n[e.dataType]===e)}function _C(t,e){if(mC(i=this).mainData===i){var n=A({},mC(this).datas);n[this.dataType]=e,IC(e,n,t)}else TC(e,this.dataType,mC(this).mainData,t);var i;return e}function bC(t,e){return t.struct&&t.struct.update(),e}function wC(t,e){return E(mC(e).datas,(function(n,i){n!==e&&TC(n.cloneShallow(),i,e,t)})),e}function SC(t){var e=mC(this).mainData;return null==t||null==e?e:mC(e).datas[t]}function MC(){var t=mC(this).mainData;return null==t?[{data:t}]:z(G(mC(t).datas),(function(e){return{type:e,data:mC(t).datas[e]}}))}function IC(t,e,n){mC(t).datas={},E(e,(function(e,i){TC(e,i,t,n)}))}function TC(t,e,n,i){mC(n).datas[e]=t,mC(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=SC,t.getLinkedDataAll=MC}var CC=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||\\\"\\\",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex\u003C0},t.prototype.eachNode=function(t,e,n){U(t)&&(n=e,e=t,t=null),X(t=t||{})&&(t={order:t});var i,r=t.order||\\\"preorder\\\",o=this[t.attr||\\\"children\\\"];\\\"preorder\\\"===r&&(i=e.call(n,this));for(var a=0;!i&&a\u003Co.length;a++)o[a].eachNode(t,e,n);\\\"postorder\\\"===r&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n\u003Cthis.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e\u003Ci;e++){var r=n[e].getNodeById(t);if(r)return r}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e\u003Ci;e++){var r=n[e].contains(t);if(r)return r}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||\\\"value\\\"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex\u003C0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e\u003Ct.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),DC=function(){function t(t){this.type=\\\"tree\\\",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n\u003Ci;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n\u003Ci;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,i){var r=new t(n),o=[],a=1;!function t(e,n){var i=e.value;a=Math.max(a,Y(i)?i.length:1),o.push(e);var s=new CC(xo(e.name,\\\"\\\"),r);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):r.root=s,r._nodes.push(s);var l=e.children;if(l)for(var u=0;u\u003Cl.length;u++)t(l[u],s)}(e),r.root.updateDepthAndHeight(0);var s=qm(o,{coordDimensions:[\\\"value\\\"],dimensionsCount:a}).dimensions,l=new jm(s,n);return l.initData(o),i&&i(l),xC({mainData:l,struct:r,structAttr:\\\"tree\\\"}),r.update(),r},t}();function AC(t,e,n){if(t&&P(e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if(X(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=t.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function kC(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function LC(t,e){return P(kC(t),e)>=0}function PC(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var OC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return n(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new dc(n,this,this.ecModel),r=DC.createTree(e,this,(function(t){t.wrapMethod(\\\"getItemModel\\\",(function(t,e){var n=r.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=i),t}))}));var o=0;r.eachNode(\\\"preorder\\\",(function(t){t.depth>o&&(o=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode(\\\"preorder\\\",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth\u003C=a})),r.data},e.prototype.getOrient=function(){var t=this.get(\\\"orient\\\");return\\\"horizontal\\\"===t?t=\\\"LR\\\":\\\"vertical\\\"===t&&(t=\\\"TB\\\"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==r;)s=o.parentNode.name+\\\".\\\"+s,o=o.parentNode;return Xf(\\\"nameValue\\\",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=PC(i,this),n.collapsed=!i.isExpand,n},e.type=\\\"series.tree\\\",e.layoutMode=\\\"box\\\",e.defaultOption={z:2,coordinateSystem:\\\"view\\\",left:\\\"12%\\\",top:\\\"12%\\\",right:\\\"12%\\\",bottom:\\\"12%\\\",layout:\\\"orthogonal\\\",edgeShape:\\\"curve\\\",edgeForkPosition:\\\"50%\\\",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:\\\"LR\\\",symbol:\\\"emptyCircle\\\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\\\"#ccc\\\",width:1.5,curveness:.5},itemStyle:{color:\\\"lightsteelblue\\\",borderWidth:1.5},label:{show:!0},animationEasing:\\\"linear\\\",animationDuration:700,animationDurationUpdate:500},e}(sg);function RC(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function NC(t,e){t.eachSeriesByType(\\\"tree\\\",(function(t){!function(t,e){var n=function(t,e){return xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var i=t.get(\\\"layout\\\"),r=0,o=0,a=null;\\\"radial\\\"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=nC((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(r=n.width,o=n.height,a=nC());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[e];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(a)}}(s),function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s\u003Ca.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)}(l,tC,a),s.hierNode.modifier=-l.hierNode.prelim,RC(l,eC);var u=l,h=l,c=l;RC(l,(function(t){var e=t.getLayout().x;e\u003Cu.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)}));var p=u===h?1:a(u,h)/2,d=p-u.getLayout().x,f=0,g=0,y=0,v=0;if(\\\"radial\\\"===i)f=r/(h.getLayout().x+p+d),g=o/(c.depth-1||1),RC(l,(function(t){y=(t.getLayout().x+d)*f,v=(t.depth-1)*g;var e=iC(y,v);t.setLayout({x:e.x,y:e.y,rawX:y,rawY:v},!0)}));else{var m=t.getOrient();\\\"RL\\\"===m||\\\"LR\\\"===m?(g=o/(h.getLayout().x+p+d),f=r/(c.depth-1||1),RC(l,(function(t){v=(t.getLayout().x+d)*g,y=\\\"LR\\\"===m?(t.depth-1)*f:r-(t.depth-1)*f,t.setLayout({x:y,y:v},!0)}))):\\\"TB\\\"!==m&&\\\"BT\\\"!==m||(f=r/(h.getLayout().x+p+d),g=o/(c.depth-1||1),RC(l,(function(t){y=(t.getLayout().x+d)*f,v=\\\"TB\\\"===m?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:y,y:v},!0)})))}}}(t,e)}))}function EC(t){t.eachSeriesByType(\\\"tree\\\",(function(t){var e=t.getData();e.tree.eachNode((function(t){var n=t.getModel().getModel(\\\"itemStyle\\\").getItemStyle();A(e.ensureUniqueItemVisual(t.dataIndex,\\\"style\\\"),n)}))}))}var zC=[\\\"treemapZoomToNode\\\",\\\"treemapRender\\\",\\\"treemapMove\\\"];function VC(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var i=e;i&&i.depth>1;)i=i.parentNode;var r=ed(t.ecModel,i.name||i.dataIndex+\\\"\\\",n);e.setVisual(\\\"decal\\\",r)}))}var BC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};FC(n);var i=t.levels||[],r=this.designatedVisualItemStyle={},o=new dc({itemStyle:r},this,e),a=z((i=t.levels=function(t,e){var n,i,r=ho(e.get(\\\"color\\\")),o=ho(e.get([\\\"aria\\\",\\\"decal\\\",\\\"decals\\\"]));if(!r)return;E(t=t||[],(function(t){var e=new dc(t),r=e.get(\\\"color\\\"),o=e.get(\\\"decal\\\");(e.get([\\\"itemStyle\\\",\\\"color\\\"])||r&&\\\"none\\\"!==r)&&(n=!0),(e.get([\\\"itemStyle\\\",\\\"decal\\\"])||o&&\\\"none\\\"!==o)&&(i=!0)}));var a=t[0]||(t[0]={});n||(a.color=r.slice());!i&&o&&(a.decal=o.slice());return t}(i,e))||[],(function(t){return new dc(t,o,e)}),this),s=DC.createTree(n,this,(function(t){t.wrapMethod(\\\"getItemModel\\\",(function(t,e){var n=s.getNodeByDataIndex(e),i=n?a[n.depth]:null;return t.parentModel=i||o,t}))}));return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t);return Xf(\\\"nameValue\\\",{name:i.getName(t),value:r})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=PC(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},A(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=ft(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){VC(this)},e.type=\\\"series.treemap\\\",e.layoutMode=\\\"box\\\",e.defaultOption={progressive:0,left:\\\"center\\\",top:\\\"middle\\\",width:\\\"80%\\\",height:\\\"80%\\\",sort:!0,clipWindow:\\\"origin\\\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\\\"▶\\\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\\\"zoomToNode\\\",animation:!0,animationDurationUpdate:900,animationEasing:\\\"quinticInOut\\\",breadcrumb:{show:!0,height:22,left:\\\"center\\\",top:\\\"bottom\\\",emptyItemWidth:25,itemStyle:{color:\\\"rgba(0,0,0,0.7)\\\",textStyle:{color:\\\"#fff\\\"}}},label:{show:!0,distance:0,padding:5,position:\\\"inside\\\",color:\\\"#fff\\\",overflow:\\\"truncate\\\"},upperLabel:{show:!1,position:[0,\\\"50%\\\"],height:20,overflow:\\\"truncate\\\",verticalAlign:\\\"middle\\\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\\\"#fff\\\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\\\"50%\\\"],overflow:\\\"truncate\\\",verticalAlign:\\\"middle\\\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\\\"index\\\",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(sg);function FC(t){var e=0;E(t.children,(function(t){FC(t);var n=t.value;Y(n)&&(n=n[0]),e+=n}));var n=t.value;Y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n\u003C0&&(n=0),Y(t.value)?t.value[0]=n:t.value=n}var GC=function(){function t(t){this.group=new Cr,t.add(this.group)}return t.prototype.render=function(t,e,n,i){var r=t.getModel(\\\"breadcrumb\\\"),o=this.group;if(o.removeAll(),r.get(\\\"show\\\")&&n){var a=r.getModel(\\\"itemStyle\\\"),s=a.getModel(\\\"textStyle\\\"),l={pos:{left:r.get(\\\"left\\\"),right:r.get(\\\"right\\\"),top:r.get(\\\"top\\\"),bottom:r.get(\\\"bottom\\\")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get(\\\"emptyItemWidth\\\"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(t,l,a,s,i),_p(o,l.pos,l.box)}},t.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=xo(i.getModel().get(\\\"name\\\"),\\\"\\\"),o=n.getTextRect(r),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:i,text:r,width:a})}},t.prototype._renderContent=function(t,e,n,i,r){for(var o,a,s,l,u,h,c,p,d,f=0,g=e.emptyItemWidth,y=t.get([\\\"breadcrumb\\\",\\\"height\\\"]),v=(o=e.pos,a=e.box,l=a.width,u=a.height,h=Er(o.left,l),c=Er(o.top,u),p=Er(o.right,l),d=Er(o.bottom,u),(isNaN(h)||isNaN(parseFloat(o.left)))&&(h=0),(isNaN(p)||isNaN(parseFloat(o.right)))&&(p=l),(isNaN(c)||isNaN(parseFloat(o.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(o.bottom)))&&(d=u),s=ip(s||0),{width:Math.max(p-h-s[1]-s[3],0),height:Math.max(d-c-s[0]-s[2],0)}),m=e.totalWidth,x=e.renderList,_=x.length-1;_>=0;_--){var b=x[_],w=b.node,S=b.width,M=b.text;m>v.width&&(m-=S-g,S=g,M=null);var I=new Pu({shape:{points:WC(f,0,S,y,_===x.length-1,0===_)},style:k(n.getItemStyle(),{lineJoin:\\\"bevel\\\"}),textContent:new ks({style:{text:M,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:\\\"inside\\\"},z2:1e5,onclick:H(r,w)});I.disableLabelAnimation=!0,this.group.add(I),HC(I,t,w),f+=S+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function WC(t,e,n,i,r,o){var a=[[r?t:t-5,e],[t+n,e],[t+n,e+i],[r?t:t-5,e+i]];return!o&&a.splice(2,0,[t+n+5,e+i/2]),!r&&a.push([t,e+i/2]),a}function HC(t,e,n){Hs(t).eventData={componentType:\\\"series\\\",componentSubType:\\\"treemap\\\",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:\\\"treemap\\\",selfType:\\\"breadcrumb\\\",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&PC(n,e)}}var YC=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,i,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e\u003C=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,r=this._storage.length;i\u003Cr;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var UC=Cr,XC=Cs,ZC=\\\"label\\\",jC=\\\"upperLabel\\\",qC=Wo([[\\\"fill\\\",\\\"color\\\"],[\\\"stroke\\\",\\\"strokeColor\\\"],[\\\"lineWidth\\\",\\\"strokeWidth\\\"],[\\\"shadowBlur\\\"],[\\\"shadowOffsetX\\\"],[\\\"shadowOffsetY\\\"],[\\\"shadowColor\\\"]]),KC=function(t){var e=qC(t);return e.stroke=e.fill=e.lineWidth=null,e},$C=So(),JC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state=\\\"ready\\\",n._storage={nodeGroup:[],background:[],content:[]},n}return n(e,t),e.prototype.render=function(t,e,n,i){if(!(P(e.findComponents({mainType:\\\"series\\\",subType:\\\"treemap\\\",query:i}),t)\u003C0)){this.seriesModel=t,this.api=n,this.ecModel=e;var r=AC(i,[\\\"treemapZoomToNode\\\",\\\"treemapRootToNode\\\"],t),o=i&&i.type,a=t.layoutInfo,s=!this._oldTree,l=this._storage,u=\\\"treemapRootToNode\\\"===o&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(a),c=t.get(\\\"animation\\\"),p=this._doRender(h,t,u);!c||s||o&&\\\"treemapZoomToNode\\\"!==o&&\\\"treemapRootToNode\\\"!==o?p.renderFinally():this._doAnimation(h,p,t,u),this._resetController(n),this._renderBreadcrumb(t,n,r)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new UC,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var i=e.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,i,r,u){return function(t,e,n,i,r,o,a,s,l,u){if(!a)return;var h=a.getLayout(),c=t.getData(),p=a.getModel();if(c.setItemGraphicEl(a.dataIndex,null),!h||!h.isInView)return;var d=h.width,f=h.height,g=h.borderWidth,y=h.invisible,v=a.getRawIndex(),m=s&&s.getRawIndex(),x=a.viewChildren,_=h.upperHeight,b=x&&x.length,w=p.getModel(\\\"itemStyle\\\"),S=p.getModel([\\\"emphasis\\\",\\\"itemStyle\\\"]),M=p.getModel([\\\"blur\\\",\\\"itemStyle\\\"]),I=p.getModel([\\\"select\\\",\\\"itemStyle\\\"]),T=w.get(\\\"borderRadius\\\")||0,C=G(\\\"nodeGroup\\\",UC);if(!C)return;if(l.add(C),C.x=h.x||0,C.y=h.y||0,C.markRedraw(),$C(C).nodeWidth=d,$C(C).nodeHeight=f,h.isAboveViewRoot)return C;var D=G(\\\"background\\\",XC,u,20);D&&E(C,D,b&&h.upperLabelHeight);var k=p.getModel(\\\"emphasis\\\"),L=k.get(\\\"focus\\\"),P=k.get(\\\"blurScope\\\"),O=k.get(\\\"disabled\\\"),R=\\\"ancestor\\\"===L?a.getAncestorsIndices():\\\"descendant\\\"===L?a.getDescendantIndices():L;if(b)Fl(C)&&Bl(C,!1),D&&(Bl(D,!O),c.setItemGraphicEl(a.dataIndex,D),Nl(D,R,P));else{var N=G(\\\"content\\\",XC,u,30);N&&z(C,N),D.disableMorphing=!0,D&&Fl(D)&&Bl(D,!1),Bl(C,!O),c.setItemGraphicEl(a.dataIndex,C),Nl(C,R,P)}return C;function E(e,n,i){var r=Hs(n);if(r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:d,height:f,r:T}),y)V(n);else{n.invisible=!1;var o=a.getVisual(\\\"style\\\"),s=o.stroke,l=KC(w);l.fill=s;var u=qC(S);u.fill=S.get(\\\"borderColor\\\");var h=qC(M);h.fill=M.get(\\\"borderColor\\\");var c=qC(I);if(c.fill=I.get(\\\"borderColor\\\"),i){var p=d-2*g;B(n,s,o.opacity,{x:g,y:0,width:p,height:_})}else n.removeTextContent();n.setStyle(l),n.ensureState(\\\"emphasis\\\").style=u,n.ensureState(\\\"blur\\\").style=h,n.ensureState(\\\"select\\\").style=c,vl(n)}e.add(n)}function z(e,n){var i=Hs(n);i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex;var r=Math.max(d-2*g,0),o=Math.max(f-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:o,r:T}),y)V(n);else{n.invisible=!1;var s=a.getVisual(\\\"style\\\"),l=s.fill,u=KC(w);u.fill=l,u.decal=s.decal;var h=qC(S),c=qC(M),p=qC(I);B(n,l,s.opacity,null),n.setStyle(u),n.ensureState(\\\"emphasis\\\").style=h,n.ensureState(\\\"blur\\\").style=c,n.ensureState(\\\"select\\\").style=p,vl(n)}e.add(n)}function V(t){!t.invisible&&o.push(t)}function B(e,n,i,r){var o=p.getModel(r?jC:ZC),s=xo(p.get(\\\"name\\\"),null),l=o.getShallow(\\\"show\\\");Hh(e,Yh(p,r?jC:ZC),{defaultText:l?s:null,inheritColor:n,defaultOpacity:i,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var c=u.style,d=st(c.padding||0);r&&(e.setTextConfig({layoutRect:r}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((r?r.width:e.shape.width)-d[1]-d[3],0),n=Math.max((r?r.height:e.shape.height)-d[0]-d[2],0);c.width===t&&c.height===n||u.setStyle({width:t,height:n})},c.truncateMinChar=2,c.lineOverflow=\\\"truncate\\\",F(c,r,h);var f=u.getState(\\\"emphasis\\\");F(f?f.style:null,r,h)}}function F(e,n,i){var r=e?e.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=t.get(\\\"drillDownIcon\\\",!0);e.text=o?o+\\\" \\\"+r:r}}function G(t,i,o,a){var s=null!=m&&n[t][m],l=r[t];return s?(n[t][m]=null,W(l,s)):y||((s=new i)instanceof da&&(s.z2=function(t,e){return 100*t+e}(o,a)),H(l,s)),e[t][v]=s}function W(t,e){var n=t[v]={};e instanceof UC?(n.oldX=e.x,n.oldY=e.y):n.oldShape=A({},e.shape)}function H(t,e){var n=t[v]={},o=a.parentNode,s=e instanceof Cr;if(o&&(!i||\\\"drillDown\\\"===i.direction)){var l=0,u=0,h=r.background[o.getRawIndex()];!i&&h&&h.oldShape&&(l=h.oldShape.width,u=h.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}}(e,a,s,n,o,l,t,i,r,u)}!function t(e,n,i,r,o){r?(n=e,E(e,(function(t,e){!t.isRemoved()&&s(e,e)}))):new Mm(n,e,a,a).add(s).update(s).remove(H(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,h=null!=s?n[s]:null,c=u(l,h,i,o);c&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],c,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var h=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&E(t,(function(t,n){var i=e[n];E(t,(function(t){t&&(i.push(t),$C(t).willDelete=!0)}))})),e}(s);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:h,renderFinally:function(){E(h,(function(t){E(t,(function(t){t.parent&&t.parent.remove(t)}))})),E(l,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,n,i){var r=n.get(\\\"animationDurationUpdate\\\"),o=n.get(\\\"animationEasing\\\"),a=(U(r)?0:r)||0,s=(U(o)?null:o)||\\\"cubicOut\\\",l=new YC;E(e.willDeleteEls,(function(t,e){E(t,(function(t,n){if(!t.invisible){var r,o=t.parent,u=$C(o);if(i&&\\\"drillDown\\\"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;u.willDelete||(h=u.nodeWidth/2,c=u.nodeHeight/2),r=\\\"nodeGroup\\\"===e?{x:h,y:c,style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}r&&l.add(t,r,a,0,s)}}))})),E(this._storage,(function(t,n){E(t,(function(t,i){var r=e.lastsForAnimation[n][i],o={};r&&(t instanceof Cr?null!=r.oldX&&(o.x=t.x,o.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(o.shape=A({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle(\\\"opacity\\\",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))}))}),this),this._state=\\\"animating\\\",l.finished(W((function(){this._state=\\\"ready\\\",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new AI(t.getZr())).enable(this.seriesModel.get(\\\"roam\\\")),e.on(\\\"pan\\\",W(this._onPan,this)),e.on(\\\"zoom\\\",W(this._onZoom,this)));var n=new sr(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(\\\"animating\\\"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:\\\"treemapMove\\\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if(\\\"animating\\\"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new sr(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];Ei(s,s,[-(e-=a.x),-(n-=a.y)]),Vi(s,s,[t.scale,t.scale]),Ei(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:\\\"treemapRender\\\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on(\\\"click\\\",(function(t){if(\\\"ready\\\"===e._state){var n=e.seriesModel.get(\\\"nodeClick\\\",!0);if(n){var i=e.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)e._rootToNode(i);else if(\\\"zoomToNode\\\"===n)e._zoomToNode(i);else if(\\\"link\\\"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get(\\\"link\\\",!0),s=o.get(\\\"target\\\",!0)||\\\"blank\\\";a&&dp(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var i=this;n||(n=null!=t.get(\\\"leafDepth\\\",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new GC(this.group))).render(t,e,n.node,(function(e){\\\"animating\\\"!==i._state&&(LC(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\\\"ready\\\",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:\\\"treemapZoomToNode\\\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:\\\"treemapRootToNode\\\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:\\\"viewChildren\\\",order:\\\"preorder\\\"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x\u003C=o[0]&&o[0]\u003C=a.x+a.width&&a.y\u003C=o[1]&&o[1]\u003C=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n},e.type=\\\"treemap\\\",e}(xg);var QC=E,tD=q,eD=-1,nD=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=T(e);this.type=i,this.mappingMethod=n,this._normalizeData=pD[n];var o=t.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],\\\"piecewise\\\"===n?(iD(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,E(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):\\\"category\\\"===n?r.categories?function(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(QC(e,(function(t,e){n[t]=e})),!Y(i)){var r=[];q(i)?QC(i,(function(t,e){var i=n[e];r[null!=i?i:eD]=t})):r[-1]=i,i=cD(t,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete n[e[o]],e.pop())}(r):iD(r,!0):(lt(\\\"linear\\\"!==n||r.dataExtent),iD(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return W(this._normalizeData,this)},t.listVisualTypes=function(){return G(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){q(t)?E(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,o=Y(e)?[]:q(e)?{}:(r=!0,null);return t.eachVisual(e,(function(t,e){var a=n.call(i,t,e);r?o=a:o[e]=a})),o},t.retrieveVisuals=function(e){var n,i={};return e&&QC(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)})),n?i:null},t.prepareVisualTypes=function(t){if(Y(t))t=t.slice();else{if(!tD(t))return[];var e=[];QC(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return\\\"color\\\"===e&&\\\"color\\\"!==t&&0===t.indexOf(\\\"color\\\")?1:-1})),t},t.dependsOn=function(t,e){return\\\"color\\\"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,o=0,a=e.length;o\u003Ca;o++){var s=e[o].value;if(null!=s){if(s===t||X(s)&&s===t+\\\"\\\")return o;n&&c(s,o)}}for(o=0,a=e.length;o\u003Ca;o++){var l=e[o],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(dD(h[1],t,u[1]))return o}else if(u[1]===1/0){if(dD(h[0],u[0],t))return o}else if(dD(h[0],u[0],t)&&dD(h[1],t,u[1]))return o;n&&c(u[0],o),n&&c(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function c(e,n){var o=Math.abs(e-t);o\u003Cr&&(r=o,i=n)}},t.visualHandlers={color:{applyVisual:aD(\\\"color\\\"),getColorMapper:function(){var t=this.option;return W(\\\"category\\\"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),sD.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=Mn(e,t.parsedVisual,i),r?i:kn(i,\\\"rgba\\\")},this)},_normalizedToVisual:{linear:function(t){return kn(Mn(t,this.option.parsedVisual),\\\"rgba\\\")},category:sD,piecewise:function(t,e){var n=hD.call(this,e);return null==n&&(n=kn(Mn(t,this.option.parsedVisual),\\\"rgba\\\")),n},fixed:lD}},colorHue:rD((function(t,e){return Dn(t,e)})),colorSaturation:rD((function(t,e){return Dn(t,null,e)})),colorLightness:rD((function(t,e){return Dn(t,null,null,e)})),colorAlpha:rD((function(t,e){return An(t,e)})),decal:{applyVisual:aD(\\\"decal\\\"),_normalizedToVisual:{linear:null,category:sD,piecewise:null,fixed:null}},opacity:{applyVisual:aD(\\\"opacity\\\"),_normalizedToVisual:uD([0,1])},liftZ:{applyVisual:aD(\\\"liftZ\\\"),_normalizedToVisual:{linear:lD,category:lD,piecewise:lD,fixed:lD}},symbol:{applyVisual:function(t,e,n){n(\\\"symbol\\\",this.mapValueToVisual(t))},_normalizedToVisual:{linear:oD,category:sD,piecewise:function(t,e){var n=hD.call(this,e);return null==n&&(n=oD.call(this,t)),n},fixed:lD}},symbolSize:{applyVisual:aD(\\\"symbolSize\\\"),_normalizedToVisual:uD([0,1])}},t}();function iD(t,e){var n=t.visual,i=[];q(n)?QC(n,(function(t){i.push(t)})):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),cD(t,i)}function rD(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i(\\\"color\\\",t(n(\\\"color\\\"),r))},_normalizedToVisual:uD([0,1])}}function oD(t){var e=this.option.visual;return e[Math.round(Nr(t,[0,1],[0,e.length-1],!0))]||{}}function aD(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function sD(t){var e=this.option.visual;return e[this.option.loop&&t!==eD?t%e.length:t]}function lD(){return this.option.visual[0]}function uD(t){return{linear:function(e){return Nr(e,t,this.option.visual,!0)},category:sD,piecewise:function(e,n){var i=hD.call(this,n);return null==i&&(i=Nr(e,t,this.option.visual,!0)),i},fixed:lD}}function hD(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[nD.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function cD(t,e){return t.visual=e,\\\"color\\\"===t.type&&(t.parsedVisual=z(e,(function(t){var e=bn(t);return e||[0,0,0,1]}))),e}var pD={linear:function(t){return Nr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=nD.findPieceIndex(t,e,!0);if(null!=n)return Nr(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?eD:e},fixed:xt};function dD(t,e,n){return t?e\u003C=n:e\u003Cn}var fD=So(),gD={seriesType:\\\"treemap\\\",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||yD(e,{},t.getViewRoot().getAncestors(),t)}};function yD(t,e,n,i){var r=t.getModel(),o=t.getLayout(),a=t.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel(\\\"itemStyle\\\"),u=function(t,e,n){var i=A({},e),r=n.designatedVisualItemStyle;return E([\\\"color\\\",\\\"colorAlpha\\\",\\\"colorSaturation\\\"],(function(n){r[n]=e[n];var o=t.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(l,e,i),h=a.ensureUniqueItemVisual(t.dataIndex,\\\"style\\\"),c=l.get(\\\"borderColor\\\"),p=l.get(\\\"borderColorSaturation\\\");null!=p&&(c=function(t,e){return null!=e?Dn(e,null,null,t):null}(p,s=vD(u))),h.stroke=c;var d=t.viewChildren;if(d&&d.length){var f=function(t,e,n,i,r,o){if(!o||!o.length)return;var a=xD(e,\\\"color\\\")||null!=r.color&&\\\"none\\\"!==r.color&&(xD(e,\\\"colorAlpha\\\")||xD(e,\\\"colorSaturation\\\"));if(!a)return;var s=e.get(\\\"visualMin\\\"),l=e.get(\\\"visualMax\\\"),u=n.dataExtent.slice();null!=s&&s\u003Cu[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get(\\\"colorMappingBy\\\"),c={type:a.name,dataExtent:u,visual:a.range};\\\"color\\\"!==c.type||\\\"index\\\"!==h&&\\\"id\\\"!==h?c.mappingMethod=\\\"linear\\\":(c.mappingMethod=\\\"category\\\",c.loop=!0);var p=new nD(c);return fD(p).drColorMappingBy=h,p}(0,r,o,0,u,d);E(d,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var o=function(t,e,n,i,r,o){var a=A({},e);if(r){var s=r.type,l=\\\"color\\\"===s&&fD(r).drColorMappingBy,u=\\\"index\\\"===l?i:\\\"id\\\"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get(\\\"visualDimension\\\"));a[s]=r.mapValueToVisual(u)}return a}(r,u,t,e,f,i);yD(t,o,n,i)}}))}else s=vD(u),h.fill=s}}function vD(t){var e=mD(t,\\\"color\\\");if(e){var n=mD(t,\\\"colorAlpha\\\"),i=mD(t,\\\"colorSaturation\\\");return i&&(e=Dn(e,null,null,i)),n&&(e=An(e,n)),e}}function mD(t,e){var n=t[e];if(null!=n&&\\\"none\\\"!==n)return n}function xD(t,e){var n=t.get(e);return Y(n)&&n.length?{name:e,range:n}:null}var _D=Math.max,bD=Math.min,wD=it,SD=E,MD=[\\\"itemStyle\\\",\\\"borderWidth\\\"],ID=[\\\"itemStyle\\\",\\\"gapWidth\\\"],TD=[\\\"upperLabel\\\",\\\"show\\\"],CD=[\\\"upperLabel\\\",\\\"height\\\"],DD={seriesType:\\\"treemap\\\",reset:function(t,e,n,i){var r=n.getWidth(),o=n.getHeight(),a=t.option,s=xp(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=Er(wD(s.width,l[0]),r),h=Er(wD(s.height,l[1]),o),c=i&&i.type,p=AC(i,[\\\"treemapZoomToNode\\\",\\\"treemapRootToNode\\\"],t),d=\\\"treemapRender\\\"===c||\\\"treemapMove\\\"===c?i.rootRect:null,f=t.getViewRoot(),g=kC(f);if(\\\"treemapMove\\\"!==c){var y=\\\"treemapZoomToNode\\\"===c?function(t,e,n,i,r){var o,a=(e||{}).node,s=[i,r];if(!a||a===n)return s;var l=i*r,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var h=0,c=o.children,p=0,d=c.length;p\u003Cd;p++)h+=c[p].getValue();var f=a.getValue();if(0===f)return s;u*=h/f;var g=o.getModel(),y=g.get(MD);(u+=4*y*y+(3*y+Math.max(y,OD(g)))*Math.pow(u,.5))>Yr&&(u=Yr),a=o}u\u003Cl&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(t,p,f,u,h):d?[d.width,d.height]:[u,h],v=a.sort;v&&\\\"asc\\\"!==v&&\\\"desc\\\"!==v&&(v=\\\"desc\\\");var m={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};f.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};f.setLayout(x),AD(f,m,!1,0),x=f.getLayout(),SD(g,(function(t,e){var n=(g[e+1]||f).getValue();t.setLayout(A({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var _=t.getData().tree.root;_.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,d,p),!0),t.setLayoutInfo(s),PD(_,new sr(-s.x,-s.y,r,o),g,f,0)}};function AD(t,e,n,i){var r,o;if(!t.isRemoved()){var a=t.getLayout();r=a.width,o=a.height;var s=t.getModel(),l=s.get(MD),u=s.get(ID)/2,h=OD(s),c=Math.max(l,h),p=l-u,d=c-u;t.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var f=(r=_D(r-2*p,0))*(o=_D(o-p-d,0)),g=function(t,e,n,i,r,o){var a=t.children||[],s=i.sort;\\\"asc\\\"!==s&&\\\"desc\\\"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth\u003C=o;if(r&&!l)return t.viewChildren=[];!function(t,e){e&&t.sort((function(t,n){var i=\\\"asc\\\"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?\\\"asc\\\"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}))}(a=B(a,(function(t){return!t.isRemoved()})),s);var u=function(t,e,n){for(var i=0,r=0,o=e.length;r\u003Co;r++)i+=e[r].getValue();var a,s=t.get(\\\"visualDimension\\\");e&&e.length?\\\"value\\\"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],\\\"asc\\\"===n&&a.reverse()):(a=[1/0,-1/0],SD(e,(function(t){var e=t.getValue(s);e\u003Ca[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN];return{sum:i,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get(\\\"visibleMin\\\"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r[\\\"asc\\\"===i?a-l-1:l].getValue();u/n*e\u003Co&&(s=l,n-=u)}return\\\"asc\\\"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var h=0,c=a.length;h\u003Cc;h++){var p=a[h].getValue()/u.sum*n;a[h].setLayout({area:p})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(t,s,f,e,n,i);if(g.length){var y={x:p,y:d,width:r,height:o},v=bD(r,o),m=1/0,x=[];x.area=0;for(var _=0,b=g.length;_\u003Cb;){var w=g[_];x.push(w),x.area+=w.getLayout().area;var S=kD(x,v,e.squareRatio);S\u003C=m?(_++,m=S):(x.area-=x.pop().getLayout().area,LD(x,v,y,u,!1),v=bD(y.width,y.height),x.length=x.area=0,m=1/0)}if(x.length&&LD(x,v,y,u,!0),!n){var M=s.get(\\\"childrenVisibleMin\\\");null!=M&&f\u003CM&&(n=!0)}for(_=0,b=g.length;_\u003Cb;_++)AD(g[_],e,n,i+1)}}}function kD(t,e,n){for(var i=0,r=1/0,o=0,a=void 0,s=t.length;o\u003Cs;o++)(a=t[o].getLayout().area)&&(a\u003Cr&&(r=a),a>i&&(i=a));var l=t.area*t.area,u=e*e*n;return l?_D(u*i/l,l/(u*r)):1/0}function LD(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=[\\\"x\\\",\\\"y\\\"],l=[\\\"width\\\",\\\"height\\\"],u=n[s[o]],h=e?t.area/e:0;(r||h>n[l[a]])&&(h=n[l[a]]);for(var c=0,p=t.length;c\u003Cp;c++){var d=t[c],f={},g=h?d.getLayout().area/h:0,y=f[l[a]]=_D(h-2*i,0),v=n[s[o]]+n[l[o]]-u,m=c===p-1||v\u003Cg?v:g,x=f[l[o]]=_D(m-2*i,0);f[s[a]]=n[s[a]]+bD(i,y/2),f[s[o]]=u+bD(i,x/2),u+=m,d.setLayout(f,!0)}n[s[a]]+=h,n[l[a]]-=h}function PD(t,e,n,i,r){var o=t.getLayout(),a=n[r],s=a&&a===t;if(!(a&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new sr(e.x-o.x,e.y-o.y,e.width,e.height);SD(t.viewChildren||[],(function(t){PD(t,l,n,i,r+1)}))}}function OD(t){return t.get(TD)?t.get(CD):0}function RD(t){var e=t.findComponents({mainType:\\\"legend\\\"});e&&e.length&&t.eachSeriesByType(\\\"graph\\\",(function(t){var n=t.getCategoriesData(),i=t.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(t){var n=i.getItemModel(t).getShallow(\\\"category\\\");if(null!=n){j(n)&&(n=r[n]);for(var o=0;o\u003Ce.length;o++)if(!e[o].isSelected(n))return!1}return!0}))}))}function ND(t){var e={};t.eachSeriesByType(\\\"graph\\\",(function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each((function(i){var o=n.getName(i);r[\\\"ec-\\\"+o]=i;var a=n.getItemModel(i),s=a.getModel(\\\"itemStyle\\\").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(i,\\\"style\\\",s);for(var l=[\\\"symbol\\\",\\\"symbolSize\\\",\\\"symbolKeepAspect\\\"],u=0;u\u003Cl.length;u++){var h=a.getShallow(l[u],!0);null!=h&&n.setItemVisual(i,l[u],h)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t).getShallow(\\\"category\\\");if(null!=e){X(e)&&(e=r[\\\"ec-\\\"+e]);var o=n.getItemVisual(e,\\\"style\\\");A(i.ensureUniqueItemVisual(t,\\\"style\\\"),o);for(var a=[\\\"symbol\\\",\\\"symbolSize\\\",\\\"symbolKeepAspect\\\"],s=0;s\u003Ca.length;s++)i.setItemVisual(t,a[s],n.getItemVisual(e,a[s]))}}))}))}function ED(t){return t instanceof Array||(t=[t,t]),t}function zD(t){t.eachSeriesByType(\\\"graph\\\",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=ED(t.get(\\\"edgeSymbol\\\")),r=ED(t.get(\\\"edgeSymbolSize\\\"));n.setVisual(\\\"fromSymbol\\\",i&&i[0]),n.setVisual(\\\"toSymbol\\\",i&&i[1]),n.setVisual(\\\"fromSymbolSize\\\",r&&r[0]),n.setVisual(\\\"toSymbolSize\\\",r&&r[1]),n.setVisual(\\\"style\\\",t.getModel(\\\"lineStyle\\\").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),r=e.getEdgeByIndex(t),o=ED(i.getShallow(\\\"symbol\\\",!0)),a=ED(i.getShallow(\\\"symbolSize\\\",!0)),s=i.getModel(\\\"lineStyle\\\").getLineStyle(),l=n.ensureUniqueItemVisual(t,\\\"style\\\");switch(A(l,s),l.stroke){case\\\"source\\\":var u=r.node1.getVisual(\\\"style\\\");l.stroke=u&&u.fill;break;case\\\"target\\\":u=r.node2.getVisual(\\\"style\\\");l.stroke=u&&u.fill}o[0]&&r.setVisual(\\\"fromSymbol\\\",o[0]),o[1]&&r.setVisual(\\\"toSymbol\\\",o[1]),a[0]&&r.setVisual(\\\"fromSymbolSize\\\",a[0]),a[1]&&r.setVisual(\\\"toSymbolSize\\\",a[1])}))}))}var VD=\\\"--\\\\x3e\\\",BD=function(t){return t.get(\\\"autoCurveness\\\")||null},FD=function(t,e){var n=BD(t),i=20,r=[];if(j(n))i=n;else if(Y(n))return void(t.__curvenessList=n);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a\u003Co;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=r},GD=function(t,e,n){var i=[t.id,t.dataIndex].join(\\\".\\\"),r=[e.id,e.dataIndex].join(\\\".\\\");return[n.uid,i,r].join(VD)},WD=function(t){var e=t.split(VD);return[e[0],e[2],e[1]].join(VD)},HD=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function YD(t,e,n,i){var r=BD(e),o=Y(r);if(!r)return null;var a=function(t,e){var n=GD(t.node1,t.node2,e);return e.__edgeMap[n]}(t,e);if(!a)return null;for(var s=-1,l=0;l\u003Ca.length;l++)if(a[l]===n){s=l;break}var u=function(t,e){return HD(GD(t.node1,t.node2,e),e)+HD(GD(t.node2,t.node1,e),e)}(t,e);FD(e,u),t.lineStyle=t.lineStyle||{};var h=GD(t.node1,t.node2,e),c=e.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var d=WD(h),f=HD(d,e),g=c[s+f+p];return i?o?r&&0===r[0]?(f+p)%2?g:-g:((f%2?0:1)+p)%2?g:-g:(f+p)%2?g:-g:c[s+f+p]}function UD(t){var e=t.coordinateSystem;if(!e||\\\"view\\\"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get(\\\"x\\\"),+e.get(\\\"y\\\")])})),XD(n,t)}}function XD(t,e){t.eachEdge((function(t,n){var i=ot(t.getModel().get([\\\"lineStyle\\\",\\\"curveness\\\"]),-YD(t,e,n,!0),0),r=Mt(t.node1.getLayout()),o=Mt(t.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),t.setLayout(a)}))}function ZD(t,e){t.eachSeriesByType(\\\"graph\\\",(function(t){var e=t.get(\\\"layout\\\"),n=t.coordinateSystem;if(n&&\\\"view\\\"!==n.type){var i=t.getData(),r=[];E(n.dimensions,(function(t){r=r.concat(i.mapDimensionsAll(t))}));for(var o=0;o\u003Ci.count();o++){for(var a=[],s=!1,l=0;l\u003Cr.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}XD(i.graph,t)}else e&&\\\"none\\\"!==e||UD(t)}))}function jD(t){var e=t.coordinateSystem;if(\\\"view\\\"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*n+1)/i}function qD(t){var e=t.getVisual(\\\"symbolSize\\\");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var KD=Math.PI,$D=[];function JD(t,e){var n=t.coordinateSystem;if(!n||\\\"view\\\"===n.type){var i=n.getBoundingRect(),r=t.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(QD[e](t,o,r,l,a,s,u),o.eachEdge((function(e,n){var i,r=ot(e.getModel().get([\\\"lineStyle\\\",\\\"curveness\\\"]),YD(e,t,n),0),o=Mt(e.node1.getLayout()),l=Mt(e.node2.getLayout()),u=(o[0]+l[0])/2,h=(o[1]+l[1])/2;+r&&(i=[a*(r*=3)+u*(1-r),s*r+h*(1-r)]),e.setLayout([o,l,i])})))}}var QD={value:function(t,e,n,i,r,o,a){var s=0,l=n.getSum(\\\"value\\\"),u=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue(\\\"value\\\"),n=u*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=n}))},symbolSize:function(t,e,n,i,r,o,a){var s=0;$D.length=a;var l=jD(t);e.eachNode((function(t){var e=qD(t);isNaN(e)&&(e=2),e\u003C0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=KD/2),$D[t.dataIndex]=n,s+=2*n}));var u=(2*KD-s)/a/2,h=0;e.eachNode((function(t){var e=u+$D[t.dataIndex];h+=e,t.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=e}))}};function tA(t){t.eachSeriesByType(\\\"graph\\\",(function(t){\\\"circular\\\"===t.get(\\\"layout\\\")&&JD(t,\\\"symbolSize\\\")}))}var eA=Ct;function nA(t){t.eachSeriesByType(\\\"graph\\\",(function(t){var e=t.coordinateSystem;if(!e||\\\"view\\\"===e.type)if(\\\"force\\\"===t.get(\\\"layout\\\")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,o=i.edgeData,a=t.getModel(\\\"force\\\"),s=a.get(\\\"initLayout\\\");t.preservedPoints?r.each((function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])})):s&&\\\"none\\\"!==s?\\\"circular\\\"===s&&JD(t,\\\"value\\\"):UD(t);var l=r.getDataExtent(\\\"value\\\"),u=o.getDataExtent(\\\"value\\\"),h=a.get(\\\"repulsion\\\"),c=a.get(\\\"edgeLength\\\"),p=Y(h)?h:[h,h],d=Y(c)?c:[c,c];d=[d[1],d[0]];var f=r.mapArray(\\\"value\\\",(function(t,e){var n=r.getItemLayout(e),i=Nr(t,l,p);return isNaN(i)&&(i=(p[0]+p[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get(\\\"fixed\\\"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=o.mapArray(\\\"value\\\",(function(e,n){var r=i.getEdgeByIndex(n),o=Nr(e,u,d);isNaN(o)&&(o=(d[0]+d[1])/2);var a=r.getModel(),s=ot(r.getModel().get([\\\"lineStyle\\\",\\\"curveness\\\"]),-YD(r,t,n,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get(\\\"ignoreForceLayout\\\")}})),y=e.getBoundingRect(),v=function(t,e,n){for(var i=t,r=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,h=0;h\u003Ci.length;h++){var c=i[h];c.p||(c.p=wt(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=Mt(c.p),c.edges=null}var p,d,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){p=t},afterStep:function(t){d=t},step:function(t){p&&p(i,r);for(var e=[],n=i.length,o=0;o\u003Cr.length;o++){var a=r[o];if(!a.ignoreForceLayout){var s=a.n1;Dt(e,(y=a.n2).p,s.p);var h=At(e)-a.d,c=y.w/(s.w+y.w);isNaN(c)&&(c=0),Rt(e,e),!s.fixed&&eA(s.p,s.p,e,c*h*g),!y.fixed&&eA(y.p,y.p,e,-(1-c)*h*g)}}for(o=0;o\u003Cn;o++)(x=i[o]).fixed||(Dt(e,l,x.p),eA(x.p,x.p,e,u*g));for(o=0;o\u003Cn;o++){s=i[o];for(var f=o+1;f\u003Cn;f++){var y;Dt(e,(y=i[f]).p,s.p),0===(h=At(e))&&(It(e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+y.rep)/h/h;!s.fixed&&eA(s.pp,s.pp,e,v),!y.fixed&&eA(y.pp,y.pp,e,-v)}}var m=[];for(o=0;o\u003Cn;o++){var x;(x=i[o]).fixed||(Dt(m,x.p,x.pp),eA(x.p,x.p,m,g),St(x.pp,x.p))}var _=(g*=.992)\u003C.01;d&&d(i,r,_),t&&t(_)}}}(f,g,{rect:y,gravity:a.get(\\\"gravity\\\"),friction:a.get(\\\"friction\\\")});v.beforeStep((function(t,e){for(var n=0,r=t.length;n\u003Cr;n++)t[n].fixed&&St(t[n].p,i.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,o){for(var a=0,s=t.length;a\u003Cs;a++)t[a].fixed||i.getNodeByIndex(a).setLayout(t[a].p),n[r.getId(a)]=t[a].p;for(a=0,s=e.length;a\u003Cs;a++){var l=e[a],u=i.getEdgeByIndex(a),h=l.n1.p,c=l.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],St(p[0],h),St(p[1],c),+l.curveness&&(p[2]=[(h[0]+c[0])/2-(h[1]-c[1])*l.curveness,(h[1]+c[1])/2-(c[0]-h[0])*l.curveness]),u.setLayout(p)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function iA(t,e){var n=[];return t.eachSeriesByType(\\\"graph\\\",(function(t){var i=t.get(\\\"coordinateSystem\\\");if(!i||\\\"view\\\"===i){var r=t.getData(),o=[],a=[];Ma(r.mapArray((function(t){var e=r.getItemModel(t);return[+e.get(\\\"x\\\"),+e.get(\\\"y\\\")]})),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,n){return xp(A(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],h=a[1]-o[1],c=l.width,p=l.height,d=t.coordinateSystem=new FT;d.zoomLimit=t.get(\\\"scaleLimit\\\"),d.setBoundingRect(o[0],o[1],u,h),d.setViewRect(l.x,l.y,c,p),d.setCenter(t.get(\\\"center\\\")),d.setZoom(t.get(\\\"zoom\\\")),n.push(d)}})),n}var rA=zu.prototype,oA=Gu.prototype,aA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}n(e,t)}(aA);function sA(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var lA=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"ec-line\\\",n}return n(e,t),e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new aA},e.prototype.buildPath=function(t,e){sA(e)?rA.buildPath.call(this,t,e):oA.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return sA(this.shape)?rA.pointAt.call(this,t):oA.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=sA(e)?[e.x2-e.x1,e.y2-e.y1]:oA.tangentAt.call(this,t);return Rt(n,n)},e}(gs),uA=[\\\"fromSymbol\\\",\\\"toSymbol\\\"];function hA(t){return\\\"_\\\"+t+\\\"Type\\\"}function cA(t,e,n){var i=e.getItemVisual(n,t);if(i&&\\\"none\\\"!==i){var r=e.getItemVisual(n,t+\\\"Size\\\"),o=e.getItemVisual(n,t+\\\"Rotate\\\"),a=e.getItemVisual(n,t+\\\"Offset\\\"),s=e.getItemVisual(n,t+\\\"KeepAspect\\\"),l=Py(r),u=Oy(a||0,l),h=Ly(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=t,h}}function pA(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var dA=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createLine(e,n,i),r}return n(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,r=function(t){var e=new lA({name:\\\"line\\\",subPixelOptimize:!0});return pA(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,oh(r,{shape:{percent:1}},i,e),this.add(r),E(uA,(function(n){var i=cA(n,t,e);this.add(i),this[hA(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childOfName(\\\"line\\\"),o=t.getItemLayout(e),a={shape:{}};pA(a.shape,o),rh(r,a,i,e),E(uA,(function(n){var i=t.getItemVisual(e,n),r=hA(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=cA(n,t,e);this.add(o)}this[r]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName(\\\"line\\\"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,h=n&&n.focus,c=n&&n.blurScope;if(!n||t.hasItemOption){var p=t.getItemModel(e),d=p.getModel(\\\"emphasis\\\");o=d.getModel(\\\"lineStyle\\\").getLineStyle(),a=p.getModel([\\\"blur\\\",\\\"lineStyle\\\"]).getLineStyle(),s=p.getModel([\\\"select\\\",\\\"lineStyle\\\"]).getLineStyle(),u=d.get(\\\"disabled\\\"),h=d.get(\\\"focus\\\"),c=d.get(\\\"blurScope\\\"),l=Yh(p)}var f=t.getItemVisual(e,\\\"style\\\"),g=f.stroke;r.useStyle(f),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState(\\\"emphasis\\\").style=o,r.ensureState(\\\"blur\\\").style=a,r.ensureState(\\\"select\\\").style=s,E(uA,(function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=f.opacity;for(var n=0;n\u003Cqs.length;n++){var i=qs[n],o=r.getState(i);if(o){var a=o.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?\\\"stroke\\\":\\\"fill\\\"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var y=i.getRawValue(e);Hh(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||\\\"#000\\\",defaultOpacity:f.opacity,defaultText:(null==y?t.getName(e):isFinite(y)?zr(y):y)+\\\"\\\"});var v=this.getTextContent();if(v){var m=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=m.get(\\\"position\\\")||\\\"middle\\\";var x=m.get(\\\"distance\\\");Y(x)||(x=[x,x]),v.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),Rl(this,h,c,u)},e.prototype.highlight=function(){_l(this)},e.prototype.downplay=function(){bl(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName(\\\"line\\\");pA(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName(\\\"fromSymbol\\\"),n=t.childOfName(\\\"toSymbol\\\"),i=t.getTextContent();if(e||n||i&&!i.ignore){for(var r=1,o=this.parent;o;)o.scaleX&&(r/=o.scaleX),o=o.parent;var a=t.childOfName(\\\"line\\\");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),h=Dt([],u,l);if(Rt(h,h),e&&(e.setPosition(l),S(e,0),e.scaleX=e.scaleY=r*s,e.markRedraw()),n&&(n.setPosition(u),S(n,1),n.scaleX=n.scaleY=r*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var c=void 0,p=void 0,d=i.__labelDistance,f=d[0]*r,g=d[1]*r,y=s/2,v=a.tangentAt(y),m=[v[1],-v[0]],x=a.pointAt(y);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]);var _=v[0]\u003C0?-1:1;if(\\\"start\\\"!==i.__position&&\\\"end\\\"!==i.__position){var b=-Math.atan2(v[1],v[0]);u[0]\u003Cl[0]&&(b=Math.PI+b),i.rotation=b}var w=void 0;switch(i.__position){case\\\"insideStartTop\\\":case\\\"insideMiddleTop\\\":case\\\"insideEndTop\\\":case\\\"middle\\\":w=-g,p=\\\"bottom\\\";break;case\\\"insideStartBottom\\\":case\\\"insideMiddleBottom\\\":case\\\"insideEndBottom\\\":w=g,p=\\\"top\\\";break;default:w=0,p=\\\"middle\\\"}switch(i.__position){case\\\"end\\\":i.x=h[0]*f+u[0],i.y=h[1]*g+u[1],c=h[0]>.8?\\\"left\\\":h[0]\u003C-.8?\\\"right\\\":\\\"center\\\",p=h[1]>.8?\\\"top\\\":h[1]\u003C-.8?\\\"bottom\\\":\\\"middle\\\";break;case\\\"start\\\":i.x=-h[0]*f+l[0],i.y=-h[1]*g+l[1],c=h[0]>.8?\\\"right\\\":h[0]\u003C-.8?\\\"left\\\":\\\"center\\\",p=h[1]>.8?\\\"bottom\\\":h[1]\u003C-.8?\\\"top\\\":\\\"middle\\\";break;case\\\"insideStartTop\\\":case\\\"insideStart\\\":case\\\"insideStartBottom\\\":i.x=f*_+l[0],i.y=l[1]+w,c=v[0]\u003C0?\\\"right\\\":\\\"left\\\",i.originX=-f*_,i.originY=-w;break;case\\\"insideMiddleTop\\\":case\\\"insideMiddle\\\":case\\\"insideMiddleBottom\\\":case\\\"middle\\\":i.x=x[0],i.y=x[1]+w,c=\\\"center\\\",i.originY=-w;break;case\\\"insideEndTop\\\":case\\\"insideEnd\\\":case\\\"insideEndBottom\\\":i.x=-f*_+u[0],i.y=u[1]+w,c=v[0]>=0?\\\"right\\\":\\\"left\\\",i.originX=f*_,i.originY=-w}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||p,align:i.__align||c})}}}function S(t,e){var n=t.__specifiedRotation;if(null==n){var i=a.tangentAt(e);t.attr(\\\"rotation\\\",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr(\\\"rotation\\\",n)}},e}(Cr),fA=function(){function t(t){this.group=new Cr,this._LineCtor=t||dA}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,r=n._lineData;n._lineData=t,r||i.removeAll();var o=gA(t);t.diff(r).add((function(n){e._doAdd(t,n,o)})).update((function(n,i){e._doUpdate(r,t,i,n,o)})).remove((function(t){i.remove(r.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=gA(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState(\\\"emphasis\\\").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i\u003Ct.end;i++){if(vA(e.getItemLayout(i))){var r=new this._LineCtor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(vA(t.getItemLayout(e))){var i=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,i),this.group.add(i)}},t.prototype._doUpdate=function(t,e,n,i,r){var o=t.getItemGraphicEl(n);vA(e.getItemLayout(i))?(o?o.updateData(e,i,r):o=new this._LineCtor(e,i,r),e.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},t}();function gA(t){var e=t.hostModel,n=e.getModel(\\\"emphasis\\\");return{lineStyle:e.getModel(\\\"lineStyle\\\").getLineStyle(),emphasisLineStyle:n.getModel([\\\"lineStyle\\\"]).getLineStyle(),blurLineStyle:e.getModel([\\\"blur\\\",\\\"lineStyle\\\"]).getLineStyle(),selectLineStyle:e.getModel([\\\"select\\\",\\\"lineStyle\\\"]).getLineStyle(),emphasisDisabled:n.get(\\\"disabled\\\"),blurScope:n.get(\\\"blurScope\\\"),focus:n.get(\\\"focus\\\"),labelStatesModels:Yh(e)}}function yA(t){return isNaN(t[0])||isNaN(t[1])}function vA(t){return t&&!yA(t[0])&&!yA(t[1])}var mA=[],xA=[],_A=[],bA=Ke,wA=Vt,SA=Math.abs;function MA(t,e,n){for(var i,r=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,h=.1;h\u003C=.9;h+=.1){mA[0]=bA(r[0],o[0],a[0],h),mA[1]=bA(r[1],o[1],a[1],h),(d=SA(wA(mA,e)-l))\u003Cs&&(s=d,i=h)}for(var c=0;c\u003C32;c++){var p=i+u;xA[0]=bA(r[0],o[0],a[0],i),xA[1]=bA(r[1],o[1],a[1],i),_A[0]=bA(r[0],o[0],a[0],p),_A[1]=bA(r[1],o[1],a[1],p);var d=wA(xA,e)-l;if(SA(d)\u003C.01)break;var f=wA(_A,e)-l;u/=2,d\u003C0?f>=0?i+=u:i-=u:f>=0?i-=u:i+=u}return i}function IA(t,e){var n=[],i=Qe,r=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),u=t.getVisual(\\\"fromSymbol\\\"),h=t.getVisual(\\\"toSymbol\\\");l.__original||(l.__original=[Mt(l[0]),Mt(l[1])],l[2]&&l.__original.push(Mt(l[2])));var c=l.__original;if(null!=l[2]){if(St(r[0],c[0]),St(r[1],c[2]),St(r[2],c[1]),u&&\\\"none\\\"!==u){var p=qD(t.node1),d=MA(r,c[0],p*e);i(r[0][0],r[1][0],r[2][0],d,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],d,n),r[0][1]=n[3],r[1][1]=n[4]}if(h&&\\\"none\\\"!==h){p=qD(t.node2),d=MA(r,c[1],p*e);i(r[0][0],r[1][0],r[2][0],d,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],d,n),r[1][1]=n[1],r[2][1]=n[2]}St(l[0],r[0]),St(l[1],r[2]),St(l[2],r[1])}else{if(St(o[0],c[0]),St(o[1],c[1]),Dt(a,o[1],o[0]),Rt(a,a),u&&\\\"none\\\"!==u){p=qD(t.node1);Ct(o[0],o[0],a,p*e)}if(h&&\\\"none\\\"!==h){p=qD(t.node2);Ct(o[1],o[1],a,-p*e)}St(l[0],o[0]),St(l[1],o[1])}}))}function TA(t){return\\\"view\\\"===t.type}var CA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){var n=new jw,i=new fA,r=this.group;this._controller=new AI(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(TA(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):rh(s,l,t)}IA(t.getGraph(),jD(t));var u=t.getData();o.updateData(u);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,p=t.get([\\\"force\\\",\\\"layoutAnimation\\\"]);c&&this._startForceLayoutIteration(c,p),u.graph.eachNode((function(t){var e=t.dataIndex,n=t.getGraphicEl(),r=t.getModel();if(n){n.off(\\\"drag\\\").off(\\\"dragend\\\");var o=r.get(\\\"draggable\\\");o&&n.on(\\\"drag\\\",(function(){c&&(c.warmUp(),!i._layouting&&i._startForceLayoutIteration(c,p),c.setFixed(e),u.setItemLayout(e,[n.x,n.y]))})).on(\\\"dragend\\\",(function(){c&&c.setUnfixed(e)})),n.setDraggable(o&&!!c),\\\"adjacency\\\"===r.get([\\\"emphasis\\\",\\\"focus\\\"])&&(Hs(n).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get([\\\"emphasis\\\",\\\"focus\\\"]);e&&\\\"adjacency\\\"===n&&(Hs(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var d=\\\"circular\\\"===t.get(\\\"layout\\\")&&t.get([\\\"circular\\\",\\\"rotateLabel\\\"]),f=u.getLayout(\\\"cx\\\"),g=u.getLayout(\\\"cy\\\");u.eachItemGraphicEl((function(t,e){var n=u.getItemModel(e).get([\\\"label\\\",\\\"rotate\\\"])||0,i=t.getSymbolPath();if(d){var r=u.getItemLayout(e),o=Math.atan2(r[1]-g,r[0]-f);o\u003C0&&(o=2*Math.PI+o);var a=r[0]\u003Cf;a&&(o-=Math.PI);var s=a?\\\"left\\\":\\\"right\\\";i.setTextConfig({rotation:-o,position:s,origin:\\\"center\\\"});var l=i.ensureState(\\\"emphasis\\\");A(l.textConfig||(l.textConfig={}),{position:s})}else i.setTextConfig({rotation:n*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))}()},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!zI(e,n,t)})),TA(t.coordinateSystem)?(r.enable(t.get(\\\"roam\\\")),o.zoomLimit=t.get(\\\"scaleLimit\\\"),o.zoom=t.coordinateSystem.getZoom(),r.off(\\\"pan\\\").off(\\\"zoom\\\").on(\\\"pan\\\",(function(e){OI(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:\\\"graphRoam\\\",dx:e.dx,dy:e.dy})})).on(\\\"zoom\\\",(function(e){RI(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:\\\"graphRoam\\\",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),IA(t.getGraph(),jD(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=jD(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){IA(t.getGraph(),jD(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type=\\\"graph\\\",e}(xg);function DA(t){return\\\"_EC_\\\"+t}var AA=function(){function t(t){this.type=\\\"graph\\\",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?\\\"\\\"+e:\\\"\\\"+t;var n=this._nodesMap;if(!n[DA(t)]){var i=new kA(t,e);return i.hostGraph=this,this.nodes.push(i),n[DA(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[DA(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(j(t)&&(t=this.nodes[t]),j(e)&&(e=this.nodes[e]),t instanceof kA||(t=i[DA(t)]),e instanceof kA||(e=i[DA(e)]),t&&e){var o=t.id+\\\"-\\\"+e.id,a=new LA(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),r[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof kA&&(t=t.id),e instanceof kA&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+\\\"-\\\"+e]:n[t+\\\"-\\\"+e]||n[e+\\\"-\\\"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r\u003Ci;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r\u003Ci;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof kA||(e=this._nodesMap[DA(e)]),e){for(var r=\\\"out\\\"===n?\\\"outEdges\\\":\\\"in\\\"===n?\\\"inEdges\\\":\\\"edges\\\",o=0;o\u003Cthis.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[r];for(o=0;o\u003Cl.length;o++){var u=l[o],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;a.push(h),h.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r\u003Co;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r\u003Co;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r\u003Co;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r\u003Co;r++)i[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,r=0;r\u003Cn.length;r++)e.addNode(n[r].id,n[r].dataIndex);for(r=0;r\u003Ci.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),kA=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?\\\"\\\":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex\u003C0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e\u003Cthis.edges.length;e++){var n=this.edges[e];n.dataIndex\u003C0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),LA=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex\u003C0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function PA(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||\\\"value\\\"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}function OA(t,e,n,i,r){for(var o=new AA(i),a=0;a\u003Ct.length;a++)o.addNode(it(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a\u003Ce.length;a++){var h=e[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(it(xo(h.id,null),c+\\\" > \\\"+p)),u++)}var d,f=n.get(\\\"coordinateSystem\\\");if(\\\"cartesian2d\\\"===f||\\\"polar\\\"===f)d=ix(t,n);else{var g=hd.get(f),y=g&&g.dimensions||[];P(y,\\\"value\\\")\u003C0&&y.concat([\\\"value\\\"]);var v=qm(t,{coordDimensions:y,encodeDefine:n.getEncode()}).dimensions;(d=new jm(v,n)).initData(t)}var m=new jm([\\\"value\\\"],n);return m.initData(l,s),r&&r(d,m),xC({mainData:d,struct:o,structAttr:\\\"graph\\\",datas:{node:d,edge:m},datasAttr:{node:\\\"data\\\",edge:\\\"edgeData\\\"}}),o.update(),o}R(kA,PA(\\\"hostGraph\\\",\\\"data\\\")),R(LA,PA(\\\"hostGraph\\\",\\\"edgeData\\\"));var RA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new uM(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),co(e,\\\"edgeLabel\\\",[\\\"show\\\"])},e.prototype.getInitialData=function(t,e){var n,i=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&i){BD(n=this)&&(n.__curvenessList=[],n.__edgeMap={},FD(n));var a=OA(r,i,this,!0,(function(t,e){t.wrapMethod(\\\"getItemModel\\\",(function(t){var e=o._categoriesModels[t.getShallow(\\\"category\\\")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=dc.prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=r,i}function r(t){if(t&&(\\\"label\\\"===t[0]||\\\"label\\\"===t[1])){var e=t.slice();return\\\"label\\\"===t[0]?e[0]=\\\"edgeLabel\\\":\\\"label\\\"===t[1]&&(e[1]=\\\"edgeLabel\\\"),e}return t}e.wrapMethod(\\\"getItemModel\\\",(function(t){return t.resolveParentPath=r,t.getModel=i,t}))}));return E(a.edges,(function(t){!function(t,e,n,i){if(BD(n)){var r=GD(t,e,n),o=n.__edgeMap,a=o[WD(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if(\\\"edge\\\"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),Xf(\\\"nameValue\\\",{name:l.join(\\\" > \\\"),value:r.value,noValue:null==r.value})}return rg({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=z(this.option.categories||[],(function(t){return null!=t.value?t:A({value:0},t)})),e=new jm([\\\"value\\\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(\\\"force\\\"===this.get(\\\"layout\\\")&&this.get([\\\"force\\\",\\\"layoutAnimation\\\"]))},e.type=\\\"series.graph\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\",\\\"geo\\\",\\\"singleAxis\\\",\\\"calendar\\\"],e.defaultOption={z:2,coordinateSystem:\\\"view\\\",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:\\\"center\\\",top:\\\"center\\\",symbol:\\\"circle\\\",symbolSize:10,edgeSymbol:[\\\"none\\\",\\\"none\\\"],edgeSymbolSize:10,edgeLabel:{position:\\\"middle\\\",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\\\"{b}\\\"},itemStyle:{},lineStyle:{color:\\\"#aaa\\\",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:\\\"#212121\\\"}}},e}(sg),NA={type:\\\"graphRoam\\\",event:\\\"graphRoam\\\",update:\\\"none\\\"};var EA=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},zA=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"pointer\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new EA},e.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),l=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)},e}(gs);function VA(t,e){var n=null==t?\\\"\\\":t+\\\"\\\";return e&&(X(e)?n=e.replace(\\\"{value}\\\",n):U(e)&&(n=e(t))),n}var BA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var i=t.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"]),r=function(t,e){var n=t.get(\\\"center\\\"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:Er(n[0],e.getWidth()),cy:Er(n[1],e.getHeight()),r:Er(t.get(\\\"radius\\\"),o/2)}}(t,n);this._renderMain(t,e,n,i,r),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,i,r){var o=this.group,a=t.get(\\\"clockwise\\\"),s=-t.get(\\\"startAngle\\\")/180*Math.PI,l=-t.get(\\\"endAngle\\\")/180*Math.PI,u=t.getModel(\\\"axisLine\\\"),h=u.get(\\\"roundCap\\\")?CS:Cu,c=u.get(\\\"show\\\"),p=u.getModel(\\\"lineStyle\\\"),d=p.get(\\\"width\\\"),f=[s,l];ja(f,!a);for(var g=(l=f[1])-(s=f[0]),y=s,v=0;c&&v\u003Ci.length;v++){var m=new h({shape:{startAngle:y,endAngle:l=s+g*Math.min(Math.max(i[v][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-d,r:r.r},silent:!0});m.setStyle({fill:i[v][1]}),m.setStyle(p.getLineStyle([\\\"color\\\",\\\"width\\\"])),o.add(m),y=l}var x=function(t){if(t\u003C=0)return i[0][1];var e;for(e=0;e\u003Ci.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])\u003Ct)return i[e][1];return i[e-1][1]};this._renderTicks(t,e,n,x,r,s,l,a,d),this._renderTitleAndDetail(t,e,n,x,r),this._renderAnchor(t,r),this._renderPointer(t,e,n,x,r,s,l,a,d)},e.prototype._renderTicks=function(t,e,n,i,r,o,a,s,l){for(var u,h,c=this.group,p=r.cx,d=r.cy,f=r.r,g=+t.get(\\\"min\\\"),y=+t.get(\\\"max\\\"),v=t.getModel(\\\"splitLine\\\"),m=t.getModel(\\\"axisTick\\\"),x=t.getModel(\\\"axisLabel\\\"),_=t.get(\\\"splitNumber\\\"),b=m.get(\\\"splitNumber\\\"),w=Er(v.get(\\\"length\\\"),f),S=Er(m.get(\\\"length\\\"),f),M=o,I=(a-o)/_,T=I/b,C=v.getModel(\\\"lineStyle\\\").getLineStyle(),D=m.getModel(\\\"lineStyle\\\").getLineStyle(),A=v.get(\\\"distance\\\"),k=0;k\u003C=_;k++){if(u=Math.cos(M),h=Math.sin(M),v.get(\\\"show\\\")){var L=new zu({shape:{x1:u*(f-(P=A?A+l:l))+p,y1:h*(f-P)+d,x2:u*(f-w-P)+p,y2:h*(f-w-P)+d},style:C,silent:!0});\\\"auto\\\"===C.stroke&&L.setStyle({stroke:i(k/_)}),c.add(L)}if(x.get(\\\"show\\\")){var P=x.get(\\\"distance\\\")+A,O=VA(zr(k/_*(y-g)+g),x.get(\\\"formatter\\\")),R=i(k/_);c.add(new ks({style:Uh(x,{text:O,x:u*(f-w-P)+p,y:h*(f-w-P)+d,verticalAlign:h\u003C-.8?\\\"top\\\":h>.8?\\\"bottom\\\":\\\"middle\\\",align:u\u003C-.4?\\\"left\\\":u>.4?\\\"right\\\":\\\"center\\\"},{inheritColor:R}),silent:!0}))}if(m.get(\\\"show\\\")&&k!==_){P=(P=m.get(\\\"distance\\\"))?P+l:l;for(var N=0;N\u003C=b;N++){u=Math.cos(M),h=Math.sin(M);var E=new zu({shape:{x1:u*(f-P)+p,y1:h*(f-P)+d,x2:u*(f-S-P)+p,y2:h*(f-S-P)+d},silent:!0,style:D});\\\"auto\\\"===D.stroke&&E.setStyle({stroke:i((k+N/b)/_)}),c.add(E),M+=T}M-=T}else M+=I}},e.prototype._renderPointer=function(t,e,n,i,r,o,a,s,l){var u=this.group,h=this._data,c=this._progressEls,p=[],d=t.get([\\\"pointer\\\",\\\"show\\\"]),f=t.getModel(\\\"progress\\\"),g=f.get(\\\"show\\\"),y=t.getData(),v=y.mapDimension(\\\"value\\\"),m=+t.get(\\\"min\\\"),x=+t.get(\\\"max\\\"),_=[m,x],b=[o,a];function w(e,n){var i,o=y.getItemModel(e).getModel(\\\"pointer\\\"),a=Er(o.get(\\\"width\\\"),r.r),s=Er(o.get(\\\"length\\\"),r.r),l=t.get([\\\"pointer\\\",\\\"icon\\\"]),u=o.get(\\\"offsetCenter\\\"),h=Er(u[0],r.r),c=Er(u[1],r.r),p=o.get(\\\"keepAspect\\\");return(i=l?Ly(l,h-a/2,c-s,a,s,null,p):new zA({shape:{angle:-Math.PI/2,width:a,r:s,x:h,y:c}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function S(t,e){var n=f.get(\\\"roundCap\\\")?CS:Cu,i=f.get(\\\"overlap\\\"),a=i?f.get(\\\"width\\\"):l/y.count(),u=i?r.r-a:r.r-(t+1)*a,h=i?r.r:r.r-t*a,c=new n({shape:{startAngle:o,endAngle:e,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:h}});return i&&(c.z2=x-y.get(v,t)%x),c}(g||d)&&(y.diff(h).add((function(e){var n=y.get(v,e);if(d){var i=w(e,o);oh(i,{rotation:-((isNaN(+n)?b[0]:Nr(n,_,b,!0))+Math.PI/2)},t),u.add(i),y.setItemGraphicEl(e,i)}if(g){var r=S(e,o),a=f.get(\\\"clip\\\");oh(r,{shape:{endAngle:Nr(n,_,b,a)}},t),u.add(r),Ys(t.seriesIndex,y.dataType,e,r),p[e]=r}})).update((function(e,n){var i=y.get(v,e);if(d){var r=h.getItemGraphicEl(n),a=r?r.rotation:o,s=w(e,a);s.rotation=a,rh(s,{rotation:-((isNaN(+i)?b[0]:Nr(i,_,b,!0))+Math.PI/2)},t),u.add(s),y.setItemGraphicEl(e,s)}if(g){var l=c[n],m=S(e,l?l.shape.endAngle:o),x=f.get(\\\"clip\\\");rh(m,{shape:{endAngle:Nr(i,_,b,x)}},t),u.add(m),Ys(t.seriesIndex,y.dataType,e,m),p[e]=m}})).execute(),y.each((function(t){var e=y.getItemModel(t),n=e.getModel(\\\"emphasis\\\"),r=n.get(\\\"focus\\\"),o=n.get(\\\"blurScope\\\"),a=n.get(\\\"disabled\\\");if(d){var s=y.getItemGraphicEl(t),l=y.getItemVisual(t,\\\"style\\\"),u=l.fill;if(s instanceof _s){var h=s.style;s.useStyle(A({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},l))}else s.useStyle(l),\\\"pointer\\\"!==s.type&&s.setColor(u);s.setStyle(e.getModel([\\\"pointer\\\",\\\"itemStyle\\\"]).getItemStyle()),\\\"auto\\\"===s.style.fill&&s.setStyle(\\\"fill\\\",i(Nr(y.get(v,t),_,[0,1],!0))),s.z2EmphasisLift=0,Vl(s,e),Rl(s,r,o,a)}if(g){var c=p[t];c.useStyle(y.getItemVisual(t,\\\"style\\\")),c.setStyle(e.getModel([\\\"progress\\\",\\\"itemStyle\\\"]).getItemStyle()),c.z2EmphasisLift=0,Vl(c,e),Rl(c,r,o,a)}})),this._progressEls=p)},e.prototype._renderAnchor=function(t,e){var n=t.getModel(\\\"anchor\\\");if(n.get(\\\"show\\\")){var i=n.get(\\\"size\\\"),r=n.get(\\\"icon\\\"),o=n.get(\\\"offsetCenter\\\"),a=n.get(\\\"keepAspect\\\"),s=Ly(r,e.cx-i/2+Er(o[0],e.r),e.cy-i/2+Er(o[1],e.r),i,i,null,a);s.z2=n.get(\\\"showAbove\\\")?1:0,s.setStyle(n.getModel(\\\"itemStyle\\\").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,i,r){var o=this,a=t.getData(),s=a.mapDimension(\\\"value\\\"),l=+t.get(\\\"min\\\"),u=+t.get(\\\"max\\\"),h=new Cr,c=[],p=[],d=t.isAnimationEnabled(),f=t.get([\\\"pointer\\\",\\\"showAbove\\\"]);a.diff(this._data).add((function(t){c[t]=new ks({silent:!0}),p[t]=new ks({silent:!0})})).update((function(t,e){c[t]=o._titleEls[e],p[t]=o._detailEls[e]})).execute(),a.each((function(e){var n=a.getItemModel(e),o=a.get(s,e),g=new Cr,y=i(Nr(o,[l,u],[0,1],!0)),v=n.getModel(\\\"title\\\");if(v.get(\\\"show\\\")){var m=v.get(\\\"offsetCenter\\\"),x=r.cx+Er(m[0],r.r),_=r.cy+Er(m[1],r.r);(D=c[e]).attr({z2:f?0:2,style:Uh(v,{x:x,y:_,text:a.getName(e),align:\\\"center\\\",verticalAlign:\\\"middle\\\"},{inheritColor:y})}),g.add(D)}var b=n.getModel(\\\"detail\\\");if(b.get(\\\"show\\\")){var w=b.get(\\\"offsetCenter\\\"),S=r.cx+Er(w[0],r.r),M=r.cy+Er(w[1],r.r),I=Er(b.get(\\\"width\\\"),r.r),T=Er(b.get(\\\"height\\\"),r.r),C=t.get([\\\"progress\\\",\\\"show\\\"])?a.getItemVisual(e,\\\"style\\\").fill:y,D=p[e],A=b.get(\\\"formatter\\\");D.attr({z2:f?0:2,style:Uh(b,{x:S,y:M,text:VA(o,A),width:isNaN(I)?null:I,height:isNaN(T)?null:T,align:\\\"center\\\",verticalAlign:\\\"middle\\\"},{inheritColor:C})}),Qh(D,{normal:b},o,(function(t){return VA(t,A)})),d&&tc(D,e,a,t,{getFormattedLabel:function(t,e,n,i,r,a){return VA(a?a.interpolatedValue:o,A)}}),g.add(D)}h.add(g)})),this.group.add(h),this._titleEls=c,this._detailEls=p},e.type=\\\"gauge\\\",e}(xg),FA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath=\\\"itemStyle\\\",n}return n(e,t),e.prototype.getInitialData=function(t,e){return lM(this,[\\\"value\\\"])},e.type=\\\"series.gauge\\\",e.defaultOption={z:2,colorBy:\\\"data\\\",center:[\\\"50%\\\",\\\"50%\\\"],legendHoverLink:!0,radius:\\\"75%\\\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,\\\"#E6EBF8\\\"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:\\\"#63677A\\\",width:3,type:\\\"solid\\\"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:\\\"#63677A\\\",width:1,type:\\\"solid\\\"}},axisLabel:{show:!0,distance:15,color:\\\"#464646\\\",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:\\\"60%\\\",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:\\\"circle\\\",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:\\\"#fff\\\",borderWidth:0,borderColor:\\\"#5470c6\\\"}},title:{show:!0,offsetCenter:[0,\\\"20%\\\"],color:\\\"#464646\\\",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:\\\"rgba(0,0,0,0)\\\",borderWidth:0,borderColor:\\\"#ccc\\\",width:100,height:null,padding:[5,10],offsetCenter:[0,\\\"40%\\\"],color:\\\"#464646\\\",fontSize:30,fontWeight:\\\"bold\\\",lineHeight:30,valueAnimation:!1}},e}(sg);var GA=[\\\"itemStyle\\\",\\\"opacity\\\"],WA=function(t){function e(e,n){var i=t.call(this)||this,r=i,o=new Ru,a=new ks;return r.setTextContent(a),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return n(e,t),e.prototype.updateData=function(t,e,n){var i=this,r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=o.getModel(\\\"emphasis\\\"),l=o.get(GA);l=null==l?1:l,n||hh(i),i.useStyle(t.getItemVisual(e,\\\"style\\\")),i.style.lineJoin=\\\"round\\\",n?(i.setShape({points:a.points}),i.style.opacity=0,oh(i,{style:{opacity:l}},r,e)):rh(i,{style:{opacity:l},shape:{points:a.points}},r,e),Vl(i,o),this._updateLabel(t,e),Rl(this,s.get(\\\"focus\\\"),s.get(\\\"blurScope\\\"),s.get(\\\"disabled\\\"))},e.prototype._updateLabel=function(t,e){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,\\\"style\\\"),u=l.fill;Hh(r,Yh(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var h=s.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new Ji(h[0][0],h[0][1]):null},rh(r,{style:{x:s.x,y:s.y}},o,e),r.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),pb(n,db(a),{stroke:u})},e}(Pu),HA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add((function(t){var e=new WA(i,t);i.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),o.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){uh(r.getItemGraphicEl(e),t,e)})).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type=\\\"funnel\\\",e}(xg),YA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new uM(W(this.getData,this),W(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return lM(this,{coordDimensions:[\\\"value\\\"],encodeDefaulter:H(Yp,this)})},e.prototype._defaultLabelLine=function(t){co(t,\\\"labelLine\\\",[\\\"show\\\"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=n.mapDimension(\\\"value\\\"),o=n.getSum(r);return i.percent=o?+(n.get(r,e)/o*100).toFixed(2):0,i.$vars.push(\\\"percent\\\"),i},e.type=\\\"series.funnel\\\",e.defaultOption={z:2,legendHoverLink:!0,colorBy:\\\"data\\\",left:80,top:60,right:80,bottom:60,minSize:\\\"0%\\\",maxSize:\\\"100%\\\",sort:\\\"descending\\\",orient:\\\"vertical\\\",gap:0,funnelAlign:\\\"center\\\",label:{show:!0,position:\\\"outer\\\"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:\\\"#fff\\\",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:\\\"#212121\\\"}}},e}(sg);function UA(t,e){t.eachSeriesByType(\\\"funnel\\\",(function(t){var n=t.getData(),i=n.mapDimension(\\\"value\\\"),r=t.get(\\\"sort\\\"),o=function(t,e){return xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get(\\\"orient\\\"),s=o.width,l=o.height,u=function(t,e){for(var n=t.mapDimension(\\\"value\\\"),i=t.mapArray(n,(function(t){return t})),r=[],o=\\\"ascending\\\"===e,a=0,s=t.count();a\u003Cs;a++)r[a]=a;return U(e)?r.sort(e):\\\"none\\\"!==e&&r.sort((function(t,e){return o?i[t]-i[e]:i[e]-i[t]})),r}(n,r),h=o.x,c=o.y,p=\\\"horizontal\\\"===a?[Er(t.get(\\\"minSize\\\"),l),Er(t.get(\\\"maxSize\\\"),l)]:[Er(t.get(\\\"minSize\\\"),s),Er(t.get(\\\"maxSize\\\"),s)],d=n.getDataExtent(i),f=t.get(\\\"min\\\"),g=t.get(\\\"max\\\");null==f&&(f=Math.min(d[0],0)),null==g&&(g=d[1]);var y=t.get(\\\"funnelAlign\\\"),v=t.get(\\\"gap\\\"),m=((\\\"horizontal\\\"===a?s:l)-v*(n.count()-1))/n.count(),x=function(t,e){if(\\\"horizontal\\\"===a){var r=Nr(n.get(i,t)||0,[f,g],p,!0),o=void 0;switch(y){case\\\"top\\\":o=c;break;case\\\"center\\\":o=c+(l-r)/2;break;case\\\"bottom\\\":o=c+(l-r)}return[[e,o],[e,o+r]]}var u,d=Nr(n.get(i,t)||0,[f,g],p,!0);switch(y){case\\\"left\\\":u=h;break;case\\\"center\\\":u=h+(s-d)/2;break;case\\\"right\\\":u=h+s-d}return[[u,e],[u+d,e]]};\\\"ascending\\\"===r&&(m=-m,v=-v,\\\"horizontal\\\"===a?h+=s:c+=l,u=u.reverse());for(var _=0;_\u003Cu.length;_++){var b=u[_],w=u[_+1],S=n.getItemModel(b);if(\\\"horizontal\\\"===a){var M=S.get([\\\"itemStyle\\\",\\\"width\\\"]);null==M?M=m:(M=Er(M,s),\\\"ascending\\\"===r&&(M=-M));var I=x(b,h),T=x(w,h+M);h+=M+v,n.setItemLayout(b,{points:I.concat(T.slice().reverse())})}else{var C=S.get([\\\"itemStyle\\\",\\\"height\\\"]);null==C?C=m:(C=Er(C,l),\\\"ascending\\\"===r&&(C=-C));I=x(b,c),T=x(w,c+C);c+=C+v,n.setItemLayout(b,{points:I.concat(T.slice().reverse())})}}!function(t){var e=t.hostModel.get(\\\"orient\\\");t.each((function(n){var i,r,o,a,s=t.getItemModel(n),l=s.getModel(\\\"label\\\").get(\\\"position\\\"),u=s.getModel(\\\"labelLine\\\"),h=t.getItemLayout(n),c=h.points,p=\\\"inner\\\"===l||\\\"inside\\\"===l||\\\"center\\\"===l||\\\"insideLeft\\\"===l||\\\"insideRight\\\"===l;if(p)\\\"insideLeft\\\"===l?(r=(c[0][0]+c[3][0])/2+5,o=(c[0][1]+c[3][1])/2,i=\\\"left\\\"):\\\"insideRight\\\"===l?(r=(c[1][0]+c[2][0])/2-5,o=(c[1][1]+c[2][1])/2,i=\\\"right\\\"):(r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,o=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,i=\\\"center\\\"),a=[[r,o],[r,o]];else{var d=void 0,f=void 0,g=void 0,y=void 0,v=u.get(\\\"length\\\");\\\"left\\\"===l?(d=(c[3][0]+c[0][0])/2,f=(c[3][1]+c[0][1])/2,r=(g=d-v)-5,i=\\\"right\\\"):\\\"right\\\"===l?(d=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,r=(g=d+v)+5,i=\\\"left\\\"):\\\"top\\\"===l?(d=(c[3][0]+c[0][0])/2,o=(y=(f=(c[3][1]+c[0][1])/2)-v)-5,i=\\\"center\\\"):\\\"bottom\\\"===l?(d=(c[1][0]+c[2][0])/2,o=(y=(f=(c[1][1]+c[2][1])/2)+v)+5,i=\\\"center\\\"):\\\"rightTop\\\"===l?(d=\\\"horizontal\\\"===e?c[3][0]:c[1][0],f=\\\"horizontal\\\"===e?c[3][1]:c[1][1],\\\"horizontal\\\"===e?(o=(y=f-v)-5,i=\\\"center\\\"):(r=(g=d+v)+5,i=\\\"top\\\")):\\\"rightBottom\\\"===l?(d=c[2][0],f=c[2][1],\\\"horizontal\\\"===e?(o=(y=f+v)+5,i=\\\"center\\\"):(r=(g=d+v)+5,i=\\\"bottom\\\")):\\\"leftTop\\\"===l?(d=c[0][0],f=\\\"horizontal\\\"===e?c[0][1]:c[1][1],\\\"horizontal\\\"===e?(o=(y=f-v)-5,i=\\\"center\\\"):(r=(g=d-v)-5,i=\\\"right\\\")):\\\"leftBottom\\\"===l?(d=\\\"horizontal\\\"===e?c[1][0]:c[3][0],f=\\\"horizontal\\\"===e?c[1][1]:c[2][1],\\\"horizontal\\\"===e?(o=(y=f+v)+5,i=\\\"center\\\"):(r=(g=d-v)-5,i=\\\"right\\\")):(d=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,\\\"horizontal\\\"===e?(o=(y=f+v)+5,i=\\\"center\\\"):(r=(g=d+v)+5,i=\\\"left\\\")),\\\"horizontal\\\"===e?r=g=d:o=y=f,a=[[d,f],[g,y]]}h.label={linePoints:a,x:r,y:o,verticalAlign:\\\"middle\\\",textAlign:i,inside:p}}))}(n)}))}var XA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new Cr,n._initialized=!1,n}return n(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=qA(t);if(o.diff(a).add((function(t){KA(jA(o,r,t,l,s),o,t,u)})).update((function(e,n){var i=a.getItemGraphicEl(n),r=ZA(o,e,l,s);o.setItemGraphicEl(e,i),rh(i,{shape:{points:r}},t,e),hh(i),KA(i,o,e,u)})).remove((function(t){var e=a.getItemGraphicEl(t);r.remove(e)})).execute(),!this._initialized){this._initialized=!0;var h=function(t,e,n){var i=t.model,r=t.getRect(),o=new Cs({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a=\\\"horizontal\\\"===i.get(\\\"layout\\\")?\\\"width\\\":\\\"height\\\";return o.setShape(a,0),oh(o,{shape:{width:r.width,height:r.height}},e,n),o}(s,t,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(h)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,a=qA(e),s=this._progressiveEls=[],l=t.start;l\u003Ct.end;l++){var u=jA(i,this._dataGroup,l,o,r);u.incremental=!0,KA(u,i,l,a),s.push(u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type=\\\"parallel\\\",e}(xg);function ZA(t,e,n,i){for(var r,o=[],a=0;a\u003Cn.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,(\\\"category\\\"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function jA(t,e,n,i,r){var o=ZA(t,n,i,r),a=new Ru({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function qA(t){var e=t.get(\\\"smooth\\\",!0);return!0===e&&(e=.3),nt(e=to(e))&&(e=0),{smooth:e}}function KA(t,e,n,i){t.useStyle(e.getItemVisual(n,\\\"style\\\")),t.style.fill=null,t.setShape(\\\"smooth\\\",i.smooth);var r=e.getItemModel(n),o=r.getModel(\\\"emphasis\\\");Vl(t,r,\\\"lineStyle\\\"),Rl(t,o.get(\\\"focus\\\"),o.get(\\\"blurScope\\\"),o.get(\\\"disabled\\\"))}var $A=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath=\\\"lineStyle\\\",n.visualDrawType=\\\"stroke\\\",n}return n(e,t),e.prototype.getInitialData=function(t,e){return ix(null,this,{useEncodeDefaulter:W(JA,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,r){t===e&&i.push(n.getRawIndex(r))})),i},e.type=\\\"series.parallel\\\",e.dependencies=[\\\"parallel\\\"],e.defaultOption={z:2,coordinateSystem:\\\"parallel\\\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\\\"solid\\\"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:\\\"linear\\\"},e}(sg);function JA(t){var e=t.ecModel.getComponent(\\\"parallel\\\",t.get(\\\"parallelIndex\\\"));if(e){var n={};return E(e.dimensions,(function(t){var e=+t.replace(\\\"dim\\\",\\\"\\\");n[t]=e})),n}}var QA=[\\\"lineStyle\\\",\\\"opacity\\\"],tk={seriesType:\\\"parallel\\\",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get([\\\"lineStyle\\\",\\\"opacity\\\"]),active:t.get(\\\"activeOpacity\\\"),inactive:t.get(\\\"inactiveOpacity\\\")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var r=i[t];if(\\\"normal\\\"===t&&e.hasItemOption){var o=e.getItemModel(n).get(QA,!0);null!=o&&(r=o)}e.ensureUniqueItemVisual(n,\\\"style\\\").opacity=r}),t.start,t.end)}}}};function ek(t){!function(t){if(t.parallel)return;var e=!1;E(t.series,(function(t){t&&\\\"parallel\\\"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){E(ho(t.parallelAxis),(function(e){if(q(e)){var n=e.parallelIndex||0,i=ho(t.parallel)[n];i&&i.parallelAxisDefault&&C(e,i.parallelAxisDefault,!1)}}))}(t)}var nk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},E(ik,(function(t,e){n.getZr().on(e,this._handlers[e]=W(t,this))}),this)),Ag(this,\\\"_throttledDispatchExpand\\\",t.get(\\\"axisExpandRate\\\"),\\\"fixRate\\\")},e.prototype.dispose=function(t,e){kg(this,\\\"_throttledDispatchExpand\\\"),E(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(A({type:\\\"parallelAxisExpand\\\"},t))},e.type=\\\"parallel\\\",e}(gg),ik={mousedown:function(t){rk(this,\\\"click\\\")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(rk(this,\\\"click\\\")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);\\\"none\\\"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&rk(this,\\\"mousemove\\\")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;\\\"jump\\\"===i&&this._throttledDispatchExpand.debounceNextCall(e.get(\\\"axisExpandDebounce\\\")),this._throttledDispatchExpand(\\\"none\\\"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:\\\"jump\\\"===i?null:{duration:0}})}}};function rk(t,e){var n=t._model;return n.get(\\\"axisExpandable\\\")&&n.get(\\\"axisExpandTriggerOn\\\")===e}var ok=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&C(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get(\\\"parallelIndex\\\");return null!=n&&e.getComponent(\\\"parallel\\\",n)===this},e.prototype.setAxisExpand=function(t){E([\\\"axisExpandable\\\",\\\"axisExpandCenter\\\",\\\"axisExpandCount\\\",\\\"axisExpandWidth\\\",\\\"axisExpandWindow\\\"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];E(B(this.ecModel.queryComponents({mainType:\\\"parallelAxis\\\"}),(function(t){return(t.get(\\\"parallelIndex\\\")||0)===this.componentIndex}),this),(function(n){t.push(\\\"dim\\\"+n.get(\\\"dim\\\")),e.push(n.componentIndex)}))},e.type=\\\"parallel\\\",e.dependencies=[\\\"parallelAxis\\\"],e.layoutMode=\\\"box\\\",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:\\\"horizontal\\\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\\\"click\\\",parallelAxisDefault:null},e}(Tp),ak=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||\\\"value\\\",a.axisIndex=o,a}return n(e,t),e.prototype.isHorizontal=function(){return\\\"horizontal\\\"!==this.coordinateSystem.getModel().get(\\\"layout\\\")},e}(W_);function sk(t,e,n,i,r,o){t=t||0;var a=n[1]-n[0];if(null!=r&&(r=uk(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),\\\"all\\\"===i){var s=Math.abs(e[1]-e[0]);s=uk(s,[0,a]),r=o=uk(s,[r,o]),i=0}e[0]=uk(e[0],n),e[1]=uk(e[1],n);var l=lk(e,i);e[i]+=t;var u,h=r||0,c=n.slice();return l.sign\u003C0?c[0]+=h:c[1]-=h,e[i]=uk(e[i],c),u=lk(e,i),null!=r&&(u.sign!==l.sign||u.span\u003Cr)&&(e[1-i]=e[i]+l.sign*r),u=lk(e,i),null!=o&&u.span>o&&(e[1-i]=e[i]+u.sign*o),e}function lk(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n\u003C0?1:e?-1:1}}function uk(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var hk=E,ck=Math.min,pk=Math.max,dk=Math.floor,fk=Math.ceil,gk=zr,yk=Math.PI,vk=function(){function t(t,e,n){this.type=\\\"parallel\\\",this._axesMap=ft(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;hk(i,(function(t,n){var i=r[n],o=e.getComponent(\\\"parallelAxis\\\",i),a=this._axesMap.set(t,new ak(t,r_(o),[0,0],o.get(\\\"type\\\"),i)),s=\\\"category\\\"===a.type;a.onBand=s&&o.get(\\\"boundaryGap\\\"),a.inverse=o.get(\\\"inverse\\\"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],a=t[r];return o>=n&&o\u003C=n+e.axisLength&&a>=i&&a\u003C=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();hk(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),i_(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=[\\\"x\\\",\\\"y\\\"],r=[\\\"width\\\",\\\"height\\\"],o=e.get(\\\"layout\\\"),a=\\\"horizontal\\\"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,h=mk(e.get(\\\"axisExpandWidth\\\"),l),c=mk(e.get(\\\"axisExpandCount\\\")||0,[0,u]),p=e.get(\\\"axisExpandable\\\")&&u>3&&u>c&&c>1&&h>0&&s>0,d=e.get(\\\"axisExpandWindow\\\");d?(t=mk(d[1]-d[0],l),d[1]=d[0]+t):(t=mk(h*(c-1),l),(d=[h*(e.get(\\\"axisExpandCenter\\\")||dk(u/2))-t/2])[1]=d[0]+t);var f=(s-t)/(u-c);f\u003C3&&(f=0);var g=[dk(gk(d[0]/h,1))+1,fk(gk(d[1]/h,1))-1],y=f/h*d[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:p,axisExpandWidth:h,axisCollapseWidth:f,axisExpandWindow:d,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),hk(n,(function(e,n){var o=(i.axisExpandable?_k:xk)(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:yk/2,vertical:0},l=[a[r].x+t.x,a[r].y+t.y],u=s[r],h=[1,0,0,1,0,0];zi(h,h,u),Ei(h,h,l),this._axesLayout[e]={position:l,rotation:u,transform:h,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];E(o,(function(e){a.push(t.mapDimension(e)),s.push(r.get(e).model)}));for(var l=this.hasAxisBrushed(),u=n;u\u003Ci;u++){var h=void 0;if(l){h=\\\"active\\\";for(var c=t.getValues(a,u),p=0,d=o.length;p\u003Cd;p++){if(\\\"inactive\\\"===s[p].getActiveState(c[p])){h=\\\"inactive\\\";break}}}else h=\\\"normal\\\";e(h,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i\u003Cr;i++)\\\"normal\\\"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){return Th([t,0],this._axesLayout[e].transform)},t.prototype.getAxisLayout=function(t){return T(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:\\\"none\\\",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l=\\\"slide\\\",u=e.axisCollapseWidth,h=this._model.get(\\\"axisExpandSlideTriggerArea\\\"),c=null!=h[0];if(u)c&&u&&s\u003Cr*h[0]?(l=\\\"jump\\\",a=s-r*h[2]):c&&u&&s>r*(1-h[0])?(l=\\\"jump\\\",a=s-r*(1-h[2])):(a=s-r*h[1])>=0&&(a=s-r*(1-h[1]))\u003C=0&&(a=0),(a*=e.axisExpandWidth/u)?sk(a,i,o,\\\"all\\\"):l=\\\"none\\\";else{var p=i[1]-i[0];(i=[pk(0,o[1]*s/p-p/2)])[1]=ck(o[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:l}},t}();function mk(t,e){return ck(pk(t,e[0]),e[1])}function xk(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function _k(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;return t\u003Cl[0]?(n=t*s,i=s):t\u003C=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,h=!0):(n=r-(a-1-t)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var bk={create:function(t,e){var n=[];return t.eachComponent(\\\"parallel\\\",(function(i,r){var o=new vk(i,t,e);o.name=\\\"parallel_\\\"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,n.push(o)})),t.eachSeries((function(t){if(\\\"parallel\\\"===t.get(\\\"coordinateSystem\\\")){var e=t.getReferringComponents(\\\"parallel\\\",Co).models[0];t.coordinateSystem=e.coordinateSystem}})),n}},wk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return n(e,t),e.prototype.getAreaSelectStyle=function(){return Wo([[\\\"fill\\\",\\\"color\\\"],[\\\"lineWidth\\\",\\\"borderWidth\\\"],[\\\"stroke\\\",\\\"borderColor\\\"],[\\\"width\\\",\\\"width\\\"],[\\\"opacity\\\",\\\"opacity\\\"]])(this.getModel(\\\"areaSelectStyle\\\"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=T(t);if(e)for(var n=e.length-1;n>=0;n--)Vr(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return\\\"normal\\\";if(null==t||isNaN(+t))return\\\"inactive\\\";if(1===e.length){var n=e[0];if(n[0]\u003C=t&&t\u003C=n[1])return\\\"active\\\"}else for(var i=0,r=e.length;i\u003Cr;i++)if(e[i][0]\u003C=t&&t\u003C=e[i][1])return\\\"active\\\";return\\\"inactive\\\"},e}(Tp);R(wk,c_);var Sk=!0,Mk=Math.min,Ik=Math.max,Tk=Math.pow,Ck=\\\"globalPan\\\",Dk={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ak={w:\\\"ew\\\",e:\\\"ew\\\",n:\\\"ns\\\",s:\\\"ns\\\",ne:\\\"nesw\\\",sw:\\\"nesw\\\",nw:\\\"nwse\\\",se:\\\"nwse\\\"},kk={brushStyle:{lineWidth:2,stroke:\\\"rgba(210,219,238,0.3)\\\",fill:\\\"#D2DBEE\\\"},transformable:!0,brushMode:\\\"single\\\",removeOnClick:!1},Lk=0,Pk=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Cr,n._uid=\\\"brushController_\\\"+Lk++,E(oL,(function(t,e){this._handlers[e]=W(t,this)}),n),n}return n(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){DI(t)[e]=n}(e,Ck,this._uid),E(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=C(T(kk),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var i=DI(t);i[e]===n&&(i[e]=null)}(t,Ck,this._uid),E(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};E(t,(function(t){e[t.panelId]=T(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=z(t,(function(t){return C(T(kk),t,!0)}));var e=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new Mm(e,t,(function(t,e){return o(t.__brushOption,e)}),o).add(a).update(a).remove((function(t){e[t]!==r&&i.group.remove(e[t])})).execute(),this;function o(t,e){return(null!=t.id?t.id:\\\"\\\\0-brush-index-\\\"+e)+\\\"-\\\"+t.brushType}function a(o,a){var s=t[o];if(null!=a&&e[a]===r)n[o]=e[a];else{var l=n[o]=null!=a?(e[a].__brushOption=s,e[a]):Rk(i,Ok(i,s));zk(i,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),Gk(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Xt);function Ok(t,e){var n=sL[e.brushType].createCover(t,e);return n.__brushOption=e,Ek(n,e),t.group.add(n),n}function Rk(t,e){var n=Vk(e);return n.endCreating&&(n.endCreating(t,e),Ek(e,e.__brushOption)),e}function Nk(t,e){var n=e.__brushOption;Vk(e).updateCoverShape(t,e,n.range,n)}function Ek(t,e){var n=e.z;null==n&&(n=1e4),t.traverse((function(t){t.z=n,t.z2=n}))}function zk(t,e){Vk(e).updateCommon(t,e),Nk(t,e)}function Vk(t){return sL[t.__brushOption.brushType]}function Bk(t,e,n){var i,r=t._panels;if(!r)return Sk;var o=t._transform;return E(r,(function(t){t.isTargetByCursor(e,n,o)&&(i=t)})),i}function Fk(t,e){var n=t._panels;if(!n)return Sk;var i=e.__brushOption.panelId;return null!=i?n[i]:Sk}function Gk(t){var e=t._covers,n=e.length;return E(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function Wk(t,e){var n=z(t._covers,(function(t){var e=t.__brushOption,n=T(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger(\\\"brush\\\",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Hk(t){var e=t.length-1;return e\u003C0&&(e=0),[t[0],t[e]]}function Yk(t,e,n,i){var r=new Cr;return r.add(new Cs({name:\\\"main\\\",style:jk(n),silent:!0,draggable:!0,cursor:\\\"move\\\",drift:H($k,t,e,r,[\\\"n\\\",\\\"s\\\",\\\"w\\\",\\\"e\\\"]),ondragend:H(Wk,e,{isEnd:!0})})),E(i,(function(n){r.add(new Cs({name:n.join(\\\"\\\"),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:H($k,t,e,r,n),ondragend:H(Wk,e,{isEnd:!0})}))})),r}function Uk(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=Ik(r,6),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,h=n[0][1],c=n[1][1],p=h-o+r/2,d=c-o+r/2,f=h-a,g=c-s,y=f+r,v=g+r;Zk(t,e,\\\"main\\\",a,s,f,g),i.transformable&&(Zk(t,e,\\\"w\\\",l,u,o,v),Zk(t,e,\\\"e\\\",p,u,o,v),Zk(t,e,\\\"n\\\",l,u,y,o),Zk(t,e,\\\"s\\\",l,d,y,o),Zk(t,e,\\\"nw\\\",l,u,o,o),Zk(t,e,\\\"ne\\\",p,u,o,o),Zk(t,e,\\\"sw\\\",l,d,o,o),Zk(t,e,\\\"se\\\",p,d,o,o))}function Xk(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(jk(n)),r.attr({silent:!i,cursor:i?\\\"move\\\":\\\"default\\\"}),E([[\\\"w\\\"],[\\\"e\\\"],[\\\"n\\\"],[\\\"s\\\"],[\\\"s\\\",\\\"e\\\"],[\\\"s\\\",\\\"w\\\"],[\\\"n\\\",\\\"e\\\"],[\\\"n\\\",\\\"w\\\"]],(function(n){var r=e.childOfName(n.join(\\\"\\\")),o=1===n.length?Kk(t,n[0]):function(t,e){var n=[Kk(t,e[0]),Kk(t,e[1])];return(\\\"e\\\"===n[0]||\\\"w\\\"===n[0])&&n.reverse(),n.join(\\\"\\\")}(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?Ak[o]+\\\"-resize\\\":null})}))}function Zk(t,e,n,i,r,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=Mk(t[0][0],t[1][0]),n=Mk(t[0][1],t[1][1]),i=Ik(t[0][0],t[1][0]),r=Ik(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}(tL(t,e,[[i,r],[i+o,r+a]])))}function jk(t){return k({strokeNoScale:!0},t.brushStyle)}function qk(t,e,n,i){var r=[Mk(t,n),Mk(e,i)],o=[Ik(t,n),Ik(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Kk(t,e){return{left:\\\"w\\\",right:\\\"e\\\",top:\\\"n\\\",bottom:\\\"s\\\"}[Ch({w:\\\"left\\\",e:\\\"right\\\",n:\\\"top\\\",s:\\\"bottom\\\"}[e],function(t){return Ih(t.group)}(t))]}function $k(t,e,n,i,r,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=Qk(e,r,o);E(i,(function(t){var e=Dk[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(qk(s[0][0],s[1][0],s[0][1],s[1][1])),zk(e,n),Wk(e,{isEnd:!1})}function Jk(t,e,n,i){var r=e.__brushOption.range,o=Qk(t,n,i);E(r,(function(t){t[0]+=o[0],t[1]+=o[1]})),zk(t,e),Wk(t,{isEnd:!1})}function Qk(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function tL(t,e,n){var i=Fk(t,e);return i&&i!==Sk?i.clipPath(n,t._transform):T(n)}function eL(t){var e=t.event;e.preventDefault&&e.preventDefault()}function nL(t,e,n){return t.childOfName(\\\"main\\\").contain(e,n)}function iL(t,e,n,i){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1];return Tk(r*r+o*o,.5)>6}(t)||o){if(a&&!o){\\\"single\\\"===s.brushMode&&Gk(t);var l=T(s);l.brushType=rL(l.brushType,a),l.panelId=a===Sk?null:a.panelId,o=t._creatingCover=Ok(t,l),t._covers.push(o)}if(o){var u=sL[rL(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(tL(t,o,t._track)),i&&(Rk(t,o),u.updateCommon(t,o)),Nk(t,o),r={isEnd:i}}}else i&&\\\"single\\\"===s.brushMode&&s.removeOnClick&&Bk(t,e,n)&&Gk(t)&&(r={isEnd:i,removeOnClick:!0});return r}function rL(t,e){return\\\"auto\\\"===t?e.defaultBrushType:t}var oL={mousedown:function(t){if(this._dragging)aL(this,t);else if(!t.target||!t.target.draggable){eL(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Bk(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var i=t._zr;return e\u003C0||e>i.getWidth()||n\u003C0||n>i.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,r=t._covers,o=Bk(t,e,n);if(!t._dragging)for(var a=0;a\u003Cr.length;a++){var s=r[a].__brushOption;if(o&&(o===Sk||s.panelId===o.panelId)&&sL[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle(\\\"crosshair\\\")}}(this,t,i),this._dragging){eL(t);var r=iL(this,t,i,!1);r&&Wk(this,r)}},mouseup:function(t){aL(this,t)}};function aL(t,e){if(t._dragging){eL(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),o=iL(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&Wk(t,o)}}var sL={lineX:lL(0),lineY:lL(1),rect:{createCover:function(t,e){function n(t){return t}return Yk({toRectRange:n,fromRectRange:n},t,e,[[\\\"w\\\"],[\\\"e\\\"],[\\\"n\\\"],[\\\"s\\\"],[\\\"s\\\",\\\"e\\\"],[\\\"s\\\",\\\"w\\\"],[\\\"n\\\",\\\"e\\\"],[\\\"n\\\",\\\"w\\\"]])},getCreatingRange:function(t){var e=Hk(t);return qk(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){Uk(t,e,n,i)},updateCommon:Xk,contain:nL},polygon:{createCover:function(t,e){var n=new Cr;return n.add(new Ru({name:\\\"main\\\",style:jk(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Pu({name:\\\"main\\\",draggable:!0,drift:H(Jk,t,e),ondragend:H(Wk,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:tL(t,e,n)})},updateCommon:Xk,contain:nL}};function lL(t){return{createCover:function(e,n){return Yk({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[[\\\"w\\\"],[\\\"e\\\"]],[[\\\"n\\\"],[\\\"s\\\"]]][t])},getCreatingRange:function(e){var n=Hk(e);return[Mk(n[0][t],n[1][t]),Ik(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var o,a=Fk(e,n);if(a!==Sk&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,o];t&&l.reverse(),Uk(e,n,l,r)},updateCommon:Xk,contain:nL}}function uL(t){return t=pL(t),function(e){return kh(e,t)}}function hL(t,e){return t=pL(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,o=i?t.x:t.y;return[o,o+(r||0)]}}function cL(t,e,n){var i=pL(t);return function(t,r){return i.contain(r[0],r[1])&&!zI(t,e,n)}}function pL(t){return sr.create(t)}var dL=[\\\"axisLine\\\",\\\"axisTickLabel\\\",\\\"axisName\\\"],fL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new Pk(n.getZr())).on(\\\"brush\\\",W(this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!function(t,e,n){return n&&\\\"axisAreaSelect\\\"===n.type&&e.findComponents({mainType:\\\"parallelAxis\\\",query:n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Cr,this.group.add(this._axisGroup),t.get(\\\"show\\\")){var o=function(t,e){return e.getComponent(\\\"parallel\\\",t.get(\\\"parallelIndex\\\"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,h=A({strokeContainThreshold:l},a.getAxisLayout(u)),c=new FM(t,h);E(dL,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,t,o,l,n),Ah(r,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=sr.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:\\\"pl\\\",clipPath:uL(u),isTargetByCursor:cL(u,o,i),getLinearBrushOtherExtent:hL(u,0)}]).enableBrush({brushType:\\\"lineX\\\",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return z(t.activeIntervals,(function(t){return{brushType:\\\"lineX\\\",panelId:\\\"pl\\\",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,r=z(e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:\\\"axisAreaSelect\\\",parallelAxisId:n.id,intervals:r})},e.prototype.dispose=function(){this._brushController.dispose()},e.type=\\\"parallelAxis\\\",e}(gg);var gL={type:\\\"axisAreaSelect\\\",event:\\\"axisAreaSelected\\\"};var yL={type:\\\"value\\\",areaSelectStyle:{width:20,borderWidth:1,borderColor:\\\"rgba(160,197,232)\\\",color:\\\"rgba(160,197,232)\\\",opacity:.3},realtime:!0,z:10};function vL(t){t.registerComponentView(nk),t.registerComponentModel(ok),t.registerCoordinateSystem(\\\"parallel\\\",bk),t.registerPreprocessor(ek),t.registerComponentModel(wk),t.registerComponentView(fL),SM(t,\\\"parallel\\\",wk,yL),function(t){t.registerAction(gL,(function(t,e){e.eachComponent({mainType:\\\"parallelAxis\\\",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction(\\\"parallelAxisExpand\\\",(function(t,e){e.eachComponent({mainType:\\\"parallel\\\",query:t},(function(e){e.setAxisExpand(t)}))}))}(t)}var mL=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},xL=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getDefaultShape=function(){return new mL},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),\\\"vertical\\\"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){_l(this)},e.prototype.downplay=function(){bl(this)},e}(gs),_L=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this,r=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,l=a.height,u=t.getData(),h=t.getData(\\\"edge\\\"),c=t.get(\\\"orient\\\");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,r.eachEdge((function(e){var n=new xL,i=Hs(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType=\\\"edge\\\";var r,a,u,p,d,f,g,y,v=e.getModel(),m=v.getModel(\\\"lineStyle\\\"),x=m.get(\\\"curveness\\\"),_=e.node1.getLayout(),b=e.node1.getModel(),w=b.get(\\\"localX\\\"),S=b.get(\\\"localY\\\"),M=e.node2.getLayout(),I=e.node2.getModel(),T=I.get(\\\"localX\\\"),C=I.get(\\\"localY\\\"),D=e.getLayout();switch(n.shape.extent=Math.max(1,D.dy),n.shape.orient=c,\\\"vertical\\\"===c?(r=(null!=w?w*s:_.x)+D.sy,a=(null!=S?S*l:_.y)+_.dy,u=(null!=T?T*s:M.x)+D.ty,d=r,f=a*(1-x)+(p=null!=C?C*l:M.y)*x,g=u,y=a*x+p*(1-x)):(r=(null!=w?w*s:_.x)+_.dx,a=(null!=S?S*l:_.y)+D.sy,d=r*(1-x)+(u=null!=T?T*s:M.x)*x,f=a,g=r*x+u*(1-x),y=p=(null!=C?C*l:M.y)+D.ty),n.setShape({x1:r,y1:a,x2:u,y2:p,cpx1:d,cpy1:f,cpx2:g,cpy2:y}),n.useStyle(m.getItemStyle()),n.style.fill){case\\\"source\\\":n.style.fill=e.node1.getVisual(\\\"color\\\"),n.style.decal=e.node1.getVisual(\\\"style\\\").decal;break;case\\\"target\\\":n.style.fill=e.node2.getVisual(\\\"color\\\"),n.style.decal=e.node2.getVisual(\\\"style\\\").decal;break;case\\\"gradient\\\":var A=e.node1.getVisual(\\\"color\\\"),k=e.node2.getVisual(\\\"color\\\");X(A)&&X(k)&&(n.style.fill=new Xu(0,0,+(\\\"horizontal\\\"===c),+(\\\"vertical\\\"===c),[{color:A,offset:0},{color:k,offset:1}]))}var L=v.getModel(\\\"emphasis\\\");Vl(n,v,\\\"lineStyle\\\",(function(t){return t.getItemStyle()})),o.add(n),h.setItemGraphicEl(e.dataIndex,n);var P=L.get(\\\"focus\\\");Rl(n,\\\"adjacency\\\"===P?e.getAdjacentDataIndices():P,L.get(\\\"blurScope\\\"),L.get(\\\"disabled\\\")),Hs(n).dataType=\\\"edge\\\"})),r.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),r=i.get(\\\"localX\\\"),a=i.get(\\\"localY\\\"),h=i.getModel(\\\"emphasis\\\"),c=new Cs({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:i.getModel(\\\"itemStyle\\\").getItemStyle(),z2:10});Hh(c,Yh(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),c.disableLabelAnimation=!0,c.setStyle(\\\"fill\\\",e.getVisual(\\\"color\\\")),c.setStyle(\\\"decal\\\",e.getVisual(\\\"style\\\").decal),Vl(c,i),o.add(c),u.setItemGraphicEl(e.dataIndex,c),Hs(c).dataType=\\\"node\\\";var p=h.get(\\\"focus\\\");Rl(c,\\\"adjacency\\\"===p?e.getAdjacentDataIndices():p,h.get(\\\"blurScope\\\"),h.get(\\\"disabled\\\"))})),u.eachItemGraphicEl((function(e,r){u.getItemModel(r).get(\\\"draggable\\\")&&(e.drift=function(e,o){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:\\\"dragNode\\\",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor=\\\"move\\\")})),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var i=new Cs({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return oh(i,{shape:{width:t.width+20}},e,n),i}(o.getBoundingRect(),t,(function(){o.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type=\\\"sankey\\\",e}(xg);var bL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a\u003Cr.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new dc(r[a],this,e));if(i&&n)return OA(i,n,this,!0,(function(t,e){t.wrapMethod(\\\"getItemModel\\\",(function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t})),e.wrapMethod(\\\"getItemModel\\\",(function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e).node1.getLayout();if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t}))})).data},e.prototype.setNodePosition=function(t,e){var n=(this.option.data||this.option.nodes)[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if(\\\"edge\\\"===n){var r=this.getDataParams(t,n),o=r.data,a=r.value;return Xf(\\\"nameValue\\\",{name:o.source+\\\" -- \\\"+o.target,value:a,noValue:i(a)})}var s=this.getGraph().getNodeByIndex(t).getLayout().value,l=this.getDataParams(t,n).data.name;return Xf(\\\"nameValue\\\",{name:null!=l?l+\\\"\\\":null,value:s,noValue:i(s)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&\\\"node\\\"===n){var r=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=r}return i},e.type=\\\"series.sankey\\\",e.defaultOption={z:2,coordinateSystem:\\\"view\\\",left:\\\"5%\\\",top:\\\"5%\\\",right:\\\"20%\\\",bottom:\\\"5%\\\",orient:\\\"horizontal\\\",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:\\\"right\\\",fontSize:12},levels:[],nodeAlign:\\\"justify\\\",lineStyle:{color:\\\"#314656\\\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:\\\"#212121\\\"}},animationEasing:\\\"linear\\\",animationDuration:1e3},e}(sg);function wL(t,e){t.eachSeriesByType(\\\"sankey\\\",(function(t){var n=t.get(\\\"nodeWidth\\\"),i=t.get(\\\"nodeGap\\\"),r=function(t,e){return xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=r;var o=r.width,a=r.height,s=t.getGraph(),l=s.nodes,u=s.edges;!function(t){E(t,(function(t){var e=PL(t.outEdges,LL),n=PL(t.inEdges,LL),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)}))}(l),function(t,e,n,i,r,o,a,s,l){(function(t,e,n,i,r,o,a){for(var s=[],l=[],u=[],h=[],c=0,p=0;p\u003Ce.length;p++)s[p]=1;for(p=0;p\u003Ct.length;p++)l[p]=t[p].inEdges.length,0===l[p]&&u.push(t[p]);var d=-1;for(;u.length;){for(var f=0;f\u003Cu.length;f++){var g=u[f],y=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=y.depth&&y.depth>=0;v&&y.depth>d&&(d=y.depth),g.setLayout({depth:v?y.depth:c},!0),\\\"vertical\\\"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var m=0;m\u003Cg.outEdges.length;m++){var x=g.outEdges[m];s[e.indexOf(x)]=0;var _=x.node2;0==--l[t.indexOf(_)]&&h.indexOf(_)\u003C0&&h.push(_)}}++c,u=h,h=[]}for(p=0;p\u003Cs.length;p++)if(1===s[p])throw new Error(\\\"Sankey is a DAG, the original data has cycle!\\\");var b=d>c-1?d:c-1;a&&\\\"left\\\"!==a&&function(t,e,n,i){if(\\\"right\\\"===e){for(var r=[],o=t,a=0;o.length;){for(var s=0;s\u003Co.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u\u003Cl.inEdges.length;u++){var h=l.inEdges[u];r.indexOf(h.node1)\u003C0&&r.push(h.node1)}}o=r,r=[],++a}E(t,(function(t){SL(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else\\\"justify\\\"===e&&function(t,e){E(t,(function(t){SL(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}(t,i)}(t,a,0,b);!function(t,e,n){E(t,(function(t){var i=t.getLayout().depth*e;\\\"vertical\\\"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}(t,\\\"vertical\\\"===o?(r-n)/b:(i-n)/b,o)})(t,e,n,r,o,s,l),function(t,e,n,i,r,o,a){var s=function(t,e){var n=[],i=\\\"vertical\\\"===e?\\\"y\\\":\\\"x\\\",r=Lo(t,(function(t){return t.getLayout()[i]}));return r.keys.sort((function(t,e){return t-e})),E(r.keys,(function(t){n.push(r.buckets.get(t))})),n}(t,a);(function(t,e,n,i,r,o){var a=1/0;E(t,(function(t){var e=t.length,s=0;E(t,(function(t){s+=t.getLayout().value}));var l=\\\"vertical\\\"===o?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l\u003Ca&&(a=l)})),E(t,(function(t){E(t,(function(t,e){var n=t.getLayout().value*a;\\\"vertical\\\"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),E(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))})(s,e,n,i,r,a),ML(s,r,n,i,a);for(var l=1;o>0;o--)IL(s,l*=.99,a),ML(s,r,n,i,a),OL(s,l,a),ML(s,r,n,i,a)}(t,e,o,r,i,a,s),function(t,e){var n=\\\"vertical\\\"===e?\\\"x\\\":\\\"y\\\";E(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),E(t,(function(t){var e=0,n=0;E(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),E(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t,s)}(l,u,n,i,o,a,0!==B(l,(function(t){return 0===t.getLayout().value})).length?0:t.get(\\\"layoutIterations\\\"),t.get(\\\"orient\\\"),t.get(\\\"nodeAlign\\\"))}))}function SL(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function ML(t,e,n,i,r){var o=\\\"vertical\\\"===r?\\\"x\\\":\\\"y\\\";E(t,(function(t){var a,s,l;t.sort((function(t,e){return t.getLayout()[o]-e.getLayout()[o]}));for(var u=0,h=t.length,c=\\\"vertical\\\"===r?\\\"dx\\\":\\\"dy\\\",p=0;p\u003Ch;p++)(l=u-(s=t[p]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,\\\"vertical\\\"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[c]+e;if((l=u-e-(\\\"vertical\\\"===r?i:n))>0){a=s.getLayout()[o]-l,\\\"vertical\\\"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(p=h-2;p>=0;--p)(l=(s=t[p]).getLayout()[o]+s.getLayout()[c]+e-u)>0&&(a=s.getLayout()[o]-l,\\\"vertical\\\"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}}))}function IL(t,e,n){E(t.slice().reverse(),(function(t){E(t,(function(t){if(t.outEdges.length){var i=PL(t.outEdges,TL,n)/PL(t.outEdges,LL);if(isNaN(i)){var r=t.outEdges.length;i=r?PL(t.outEdges,CL,n)/r:0}if(\\\"vertical\\\"===n){var o=t.getLayout().x+(i-kL(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-kL(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function TL(t,e){return kL(t.node2,e)*t.getValue()}function CL(t,e){return kL(t.node2,e)}function DL(t,e){return kL(t.node1,e)*t.getValue()}function AL(t,e){return kL(t.node1,e)}function kL(t,e){return\\\"vertical\\\"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function LL(t){return t.getValue()}function PL(t,e,n){for(var i=0,r=t.length,o=-1;++o\u003Cr;){var a=+e(t[o],n);isNaN(a)||(i+=a)}return i}function OL(t,e,n){E(t,(function(t){E(t,(function(t){if(t.inEdges.length){var i=PL(t.inEdges,DL,n)/PL(t.inEdges,LL);if(isNaN(i)){var r=t.inEdges.length;i=r?PL(t.inEdges,AL,n)/r:0}if(\\\"vertical\\\"===n){var o=t.getLayout().x+(i-kL(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-kL(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function RL(t){t.eachSeriesByType(\\\"sankey\\\",(function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,i=-1/0;E(e,(function(t){var e=t.getLayout().value;e\u003Cn&&(n=e),e>i&&(i=e)})),E(e,(function(e){var r=new nD({type:\\\"color\\\",mappingMethod:\\\"linear\\\",dataExtent:[n,i],visual:t.get(\\\"color\\\")}).mapValueToVisual(e.getLayout().value),o=e.getModel().get([\\\"itemStyle\\\",\\\"color\\\"]);null!=o?(e.setVisual(\\\"color\\\",o),e.setVisual(\\\"style\\\",{fill:o})):(e.setVisual(\\\"color\\\",r),e.setVisual(\\\"style\\\",{fill:r}))}))}}))}var NL=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,r=e.getComponent(\\\"xAxis\\\",this.get(\\\"xAxisIndex\\\")),o=e.getComponent(\\\"yAxis\\\",this.get(\\\"yAxisIndex\\\")),a=r.get(\\\"type\\\"),s=o.get(\\\"type\\\");\\\"category\\\"===a?(t.layout=\\\"horizontal\\\",n=r.getOrdinalMeta(),i=!0):\\\"category\\\"===s?(t.layout=\\\"vertical\\\",n=o.getOrdinalMeta(),i=!0):t.layout=t.layout||\\\"horizontal\\\";var l=[\\\"x\\\",\\\"y\\\"],u=\\\"horizontal\\\"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],p=[r,o],d=p[u].get(\\\"type\\\"),f=p[1-u].get(\\\"type\\\"),g=t.data;if(g&&i){var y=[];E(g,(function(t,e){var n;Y(t)?(n=t.slice(),t.unshift(e)):Y(t.value)?((n=A({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,y.push(n)})),t.data=y}var v=this.defaultValueDimensions,m=[{name:h,type:Cm(d),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:[\\\"base\\\"]},{name:c,type:Cm(f),dimsDef:v.slice()}];return lM(this,{coordDimensions:m,dimensionsCount:v.length+1,encodeDefaulter:H(Hp,m,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+\\\"Axis\\\",this.get(t+\\\"AxisIndex\\\")).axis},t}(),EL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:\\\"min\\\",defaultTooltip:!0},{name:\\\"Q1\\\",defaultTooltip:!0},{name:\\\"median\\\",defaultTooltip:!0},{name:\\\"Q3\\\",defaultTooltip:!0},{name:\\\"max\\\",defaultTooltip:!0}],n.visualDrawType=\\\"stroke\\\",n}return n(e,t),e.type=\\\"series.boxplot\\\",e.dependencies=[\\\"xAxis\\\",\\\"yAxis\\\",\\\"grid\\\"],e.defaultOption={z:2,coordinateSystem:\\\"cartesian2d\\\",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\\\"#fff\\\",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:\\\"rgba(0,0,0,0.2)\\\"}},animationDuration:800},e}(sg);R(EL,NL,!0);var zL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a=\\\"horizontal\\\"===t.get(\\\"layout\\\")?1:0;i.diff(o).add((function(t){if(i.hasValue(t)){var e=FL(i.getItemLayout(t),i,t,a,!0);i.setItemGraphicEl(t,e),r.add(e)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?(hh(n),GL(s,n,i,t)):n=FL(s,i,t,a),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type=\\\"boxplot\\\",e}(xg),VL=function(){},BL=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"boxplotBoxPath\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new VL},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i\u003C4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i\u003Cn.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(gs);function FL(t,e,n,i,r){var o=t.ends,a=new BL({shape:{points:r?WL(o,i,t):o}});return GL(t,a,e,n,r),a}function GL(t,e,n,i,r){var o=n.hostModel;(0,Bh[r?\\\"initProps\\\":\\\"updateProps\\\"])(e,{shape:{points:t.ends}},o,i),e.useStyle(n.getItemVisual(i,\\\"style\\\")),e.style.strokeNoScale=!0,e.z2=100;var a=n.getItemModel(i),s=a.getModel(\\\"emphasis\\\");Vl(e,a),Rl(e,s.get(\\\"focus\\\"),s.get(\\\"blurScope\\\"),s.get(\\\"disabled\\\"))}function WL(t,e,n){return z(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}function HL(t,e){}var YL=E;function UL(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType(\\\"boxplot\\\",(function(t){var i=t.getBaseAxis(),r=P(n,i);r\u003C0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)})),e}(t);YL(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n=t.axis,i=t.seriesModels,r=i.length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if(\\\"category\\\"===n.type)e=n.getBandWidth();else{var l=0;YL(i,(function(t){l=Math.max(l,t.getData().count())}));var u=n.getExtent();e=Math.abs(u[1]-u[0])/l}YL(i,(function(t){var n=t.get(\\\"boxWidth\\\");Y(n)||(n=[n,n]),s.push([Er(n[0],e)||0,Er(n[1],e)||0])}));var h=.8*e-2,c=h/r*.3,p=(h-c*(r-1))/r,d=p/2-h/2;YL(i,(function(t,e){a.push(d),d+=c+p,o.push(Math.min(Math.max(p,s[e][0]),s[e][1]))}))}(t),YL(e,(function(e,n){!function(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=n/2,a=\\\"horizontal\\\"===t.get(\\\"layout\\\")?0:1,s=1-a,l=[\\\"x\\\",\\\"y\\\"],u=r.mapDimension(l[a]),h=r.mapDimensionsAll(l[s]);if(null==u||h.length\u003C5)return;for(var c=0;c\u003Cr.count();c++){var p=r.get(u,c),d=x(p,h[2],c),f=x(p,h[0],c),g=x(p,h[1],c),y=x(p,h[3],c),v=x(p,h[4],c),m=[];_(m,g,!1),_(m,y,!0),m.push(f,g,v,y),b(m,f),b(m,v),b(m,d),r.setItemLayout(c,{initBaseline:d[s],ends:m})}function x(t,n,o){var l,u=r.get(n,o),h=[];return h[a]=t,h[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(h))[a]+=e,l}function _(t,e,n){var i=e.slice(),r=e.slice();i[a]+=o,r[a]-=o,n?t.push(i,r):t.push(r,i)}function b(t,e){var n=e.slice(),i=e.slice();n[a]-=o,i[a]+=o,t.push(n,i)}}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}var XL={type:\\\"echarts:boxplot\\\",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Pp){var n=\\\"\\\";0,ao(n)}var i=function(t,e){for(var n=[],i=[],r=(e=e||{}).boundIQR,o=\\\"none\\\"===r||0===r,a=0;a\u003Ct.length;a++){var s=Vr(t[a].slice()),l=Jr(s,.25),u=Jr(s,.5),h=Jr(s,.75),c=s[0],p=s[s.length-1],d=(null==r?1.5:r)*(h-l),f=o?c:Math.max(c,l-d),g=o?p:Math.min(p,h+d),y=e.itemNameFormatter,v=U(y)?y({value:a}):X(y)?y.replace(\\\"{value}\\\",a+\\\"\\\"):a+\\\"\\\";n.push([v,f,l,u,h,g]);for(var m=0;m\u003Cs.length;m++){var x=s[m];if(x\u003Cf||x>g){var _=[v,x];i.push(_)}}}return{boxData:n,outliers:i}}(e.getRawData(),t.config);return[{dimensions:[\\\"ItemName\\\",\\\"Low\\\",\\\"Q1\\\",\\\"Q2\\\",\\\"Q3\\\",\\\"High\\\"],data:i.boxData},{data:i.outliers}]}};var ZL=[\\\"color\\\",\\\"borderColor\\\"],jL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout(\\\"isSimpleBox\\\"),o=t.get(\\\"clip\\\",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&JL(s,a))return;var l=$L(a,n,!0);oh(l,{shape:{points:a.ends}},t,n),QL(l,e,n,r),i.add(l),e.setItemGraphicEl(n,l)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(e.hasValue(a)){var h=e.getItemLayout(a);o&&JL(s,h)?i.remove(u):(u?(rh(u,{shape:{points:h.ends}},t,a),hh(u)):u=$L(h),QL(u,e,a,r),i.add(u),e.setItemGraphicEl(a,u))}else i.remove(u)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),iP(t,this.group);var e=t.get(\\\"clip\\\",!0)?sS(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,i=e.getData(),r=i.getLayout(\\\"isSimpleBox\\\");null!=(n=t.next());){var o=$L(i.getItemLayout(n));QL(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){iP(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type=\\\"candlestick\\\",e}(xg),qL=function(){},KL=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"normalCandlestickBox\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new qL},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(gs);function $L(t,e,n){var i=t.ends;return new KL({shape:{points:n?tP(i,t):i},z2:100})}function JL(t,e){for(var n=!0,i=0;i\u003Ce.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function QL(t,e,n,i){var r=e.getItemModel(n);t.useStyle(e.getItemVisual(n,\\\"style\\\")),t.style.strokeNoScale=!0,t.__simpleBox=i,Vl(t,r)}function tP(t,e){return z(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var eP=function(){},nP=function(t){function e(e){var n=t.call(this,e)||this;return n.type=\\\"largeCandlestickBox\\\",n}return n(e,t),e.prototype.getDefaultShape=function(){return new eP},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i\u003Cn.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3},e}(gs);function iP(t,e,n,i){var r=t.getData().getLayout(\\\"largePoints\\\"),o=new nP({shape:{points:r},__sign:1});e.add(o);var a=new nP({shape:{points:r},__sign:-1});e.add(a),rP(1,o,t),rP(-1,a,t),i&&(o.incremental=!0,a.incremental=!0),n&&n.push(o,a)}function rP(t,e,n,i){var r=n.get([\\\"itemStyle\\\",t>0?\\\"borderColor\\\":\\\"borderColor0\\\"])||n.get([\\\"itemStyle\\\",t>0?\\\"color\\\":\\\"color0\\\"]),o=n.getModel(\\\"itemStyle\\\").getItemStyle(ZL);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var oP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:\\\"open\\\",defaultTooltip:!0},{name:\\\"close\\\",defaultTooltip:!0},{name:\\\"lowest\\\",defaultTooltip:!0},{name:\\\"highest\\\",defaultTooltip:!0}],n}return n(e,t),e.prototype.getShadowDim=function(){return\\\"open\\\"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type=\\\"series.candlestick\\\",e.dependencies=[\\\"xAxis\\\",\\\"yAxis\\\",\\\"grid\\\"],e.defaultOption={z:2,coordinateSystem:\\\"cartesian2d\\\",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:\\\"#eb5454\\\",color0:\\\"#47b262\\\",borderColor:\\\"#eb5454\\\",borderColor0:\\\"#47b262\\\",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:\\\"mod\\\",animationEasing:\\\"linear\\\",animationDuration:300},e}(sg);function aP(t){t&&Y(t.series)&&E(t.series,(function(t){q(t)&&\\\"k\\\"===t.type&&(t.type=\\\"candlestick\\\")}))}R(oP,NL,!0);var sP=[\\\"itemStyle\\\",\\\"borderColor\\\"],lP=[\\\"itemStyle\\\",\\\"borderColor0\\\"],uP=[\\\"itemStyle\\\",\\\"color\\\"],hP=[\\\"itemStyle\\\",\\\"color0\\\"],cP={seriesType:\\\"candlestick\\\",plan:yg(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?uP:hP)}function i(t,e){return e.get(t>0?sP:lP)}if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var r;null!=(r=t.next());){var o=e.getItemModel(r),a=e.getItemLayout(r).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=i(a,o)||s.fill,A(e.ensureUniqueItemVisual(r,\\\"style\\\"),s)}}}}},pP={seriesType:\\\"candlestick\\\",plan:yg(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=function(t,e){var n,i=t.getBaseAxis(),r=\\\"category\\\"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=Er(rt(t.get(\\\"barMaxWidth\\\"),r),r),a=Er(rt(t.get(\\\"barMinWidth\\\"),1),r),s=t.get(\\\"barWidth\\\");return null!=s?Er(s,r):Math.max(Math.min(r/2,o),a)}(t,n),r=[\\\"x\\\",\\\"y\\\"],o=n.getDimensionIndex(n.mapDimension(r[0])),a=z(n.mapDimensionsAll(r[1]),n.getDimensionIndex,n),s=a[0],l=a[1],u=a[2],h=a[3];if(n.setLayout({candleWidth:i,isSimpleBox:i\u003C=1.3}),!(o\u003C0||a.length\u003C4))return{progress:t.pipelineContext.large?function(t,n){var i,r,a=bx(4*t.count),c=0,p=[],d=[],f=n.getStore();for(;null!=(r=t.next());){var g=f.get(o,r),y=f.get(s,r),v=f.get(l,r),m=f.get(u,r),x=f.get(h,r);isNaN(g)||isNaN(m)||isNaN(x)?(a[c++]=NaN,c+=3):(a[c++]=dP(f,r,y,v,l),p[0]=g,p[1]=m,i=e.dataToPoint(p,null,d),a[c++]=i?i[0]:NaN,a[c++]=i?i[1]:NaN,p[1]=x,i=e.dataToPoint(p,null,d),a[c++]=i?i[1]:NaN)}n.setLayout(\\\"largePoints\\\",a)}:function(t,n){var r,a=n.getStore();for(;null!=(r=t.next());){var c=a.get(o,r),p=a.get(s,r),d=a.get(l,r),f=a.get(u,r),g=a.get(h,r),y=Math.min(p,d),v=Math.max(p,d),m=S(y,c),x=S(v,c),_=S(f,c),b=S(g,c),w=[];M(w,x,0),M(w,m,1),w.push(T(b),T(x),T(_),T(m)),n.setItemLayout(r,{sign:dP(a,r,p,d,l),initBaseline:p>d?x[1]:m[1],ends:w,brushRect:I(f,g,c)})}function S(t,n){var i=[];return i[0]=n,i[1]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function M(t,e,n){var r=e.slice(),o=e.slice();r[0]=Mh(r[0]+i/2,1,!1),o[0]=Mh(o[0]-i/2,1,!0),n?t.push(r,o):t.push(o,r)}function I(t,e,n){var r=S(t,n),o=S(e,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function T(t){return t[0]=Mh(t[0],1),t}}}}};function dP(t,e,n,i,r){return n>i?-1:n\u003Ci?1:e>0?t.get(r,e-1)\u003C=i?1:-1:1}function fP(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:\\\"stroke\\\"===e.brushType?n:null,fill:\\\"fill\\\"===e.brushType?n:null}})}))}var gP=function(t){function e(e,n){var i=t.call(this)||this,r=new Hw(e,n),o=new Cr;return i.add(r),i.add(o),i.updateData(e,n),i}return n(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,r=this.childAt(1),o=0;o\u003Ci;o++){var a=Ly(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/i*t.period+t.effectOffset;a.animate(\\\"\\\",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),r.add(a)}fP(r,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=[\\\"symbolType\\\",\\\"period\\\",\\\"rippleScale\\\",\\\"rippleNumber\\\"],r=0;r\u003Ci.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}fP(n,t)},e.prototype.highlight=function(){_l(this)},e.prototype.downplay=function(){bl(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,\\\"symbol\\\"),s=Py(t.getItemVisual(e,\\\"symbolSize\\\")),l=t.getItemVisual(e,\\\"style\\\"),u=l&&l.fill,h=o.getModel(\\\"emphasis\\\");r.setScale(s),r.traverse((function(t){t.setStyle(\\\"fill\\\",u)}));var c=Oy(t.getItemVisual(e,\\\"symbolOffset\\\"),s);c&&(r.x=c[0],r.y=c[1]);var p=t.getItemVisual(e,\\\"symbolRotate\\\");r.rotation=(p||0)*Math.PI/180||0;var d={};d.showEffectOn=i.get(\\\"showEffectOn\\\"),d.rippleScale=o.get([\\\"rippleEffect\\\",\\\"scale\\\"]),d.brushType=o.get([\\\"rippleEffect\\\",\\\"brushType\\\"]),d.period=1e3*o.get([\\\"rippleEffect\\\",\\\"period\\\"]),d.effectOffset=e/t.count(),d.z=i.getShallow(\\\"z\\\")||0,d.zlevel=i.getShallow(\\\"zlevel\\\")||0,d.symbolType=a,d.color=u,d.rippleEffectColor=o.get([\\\"rippleEffect\\\",\\\"color\\\"]),d.rippleNumber=o.get([\\\"rippleEffect\\\",\\\"number\\\"]),\\\"render\\\"===d.showEffectOn?(this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d),this._effectCfg=d):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){\\\"emphasis\\\"===t?\\\"render\\\"!==d.showEffectOn&&n.startEffectAnimation(d):\\\"normal\\\"===t&&\\\"render\\\"!==d.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=d,Rl(this,h.get(\\\"focus\\\"),h.get(\\\"blurScope\\\"),h.get(\\\"disabled\\\"))},e.prototype.fadeOut=function(t){t&&t()},e}(Cr),yP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this._symbolDraw=new jw(gP)},e.prototype.render=function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(r.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get(\\\"clip\\\",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var r=_S(\\\"\\\").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=Fi(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type=\\\"effectScatter\\\",e}(xg),vP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){return ix(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type=\\\"series.effectScatter\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\"],e.defaultOption={coordinateSystem:\\\"cartesian2d\\\",z:2,legendHoverLink:!0,effectType:\\\"ripple\\\",progressive:0,showEffectOn:\\\"render\\\",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:\\\"fill\\\",number:3},universalTransition:{divideShape:\\\"clone\\\"},symbolSize:10},e}(sg);var mP=function(t){function e(e,n,i){var r=t.call(this)||this;return r.add(r.createLine(e,n,i)),r._updateEffectSymbol(e,n),r}return n(e,t),e.prototype.createLine=function(t,e,n){return new dA(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel(\\\"effect\\\"),i=n.get(\\\"symbolSize\\\"),r=n.get(\\\"symbol\\\");Y(i)||(i=[i,i]);var o=t.getItemVisual(e,\\\"style\\\"),a=n.get(\\\"color\\\")||o&&o.stroke,s=this.childAt(1);this._symbolType!==r&&(this.remove(s),(s=Ly(r,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle(\\\"shadowColor\\\",a),s.setStyle(n.getItemStyle([\\\"color\\\"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(a),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=t.getItemLayout(n),o=1e3*e.get(\\\"period\\\"),a=e.get(\\\"loop\\\"),s=e.get(\\\"constantSpeed\\\"),l=it(e.get(\\\"delay\\\"),(function(e){return e/t.count()*o/3}));if(i.ignore=!0,this._updateAnimationPoints(i,r),s>0&&(o=this._getLineLength(i)/s*1e3),o!==this._period||a!==this._loop){i.stopAnimation();var u=void 0;u=U(l)?l(n):l,i.__t>0&&(u=-o*i.__t),this._animateSymbol(i,o,u,a)}this._period=o,this._loop=a}},e.prototype._animateSymbol=function(t,e,n,i){if(e>0){t.__t=0;var r=this,o=t.animate(\\\"\\\",i).when(e,{__t:1}).delay(n).during((function(){r._updateSymbolPosition(t)}));i||o.done((function(){r.remove(t)})),o.start()}},e.prototype._getLineLength=function(t){return Et(t.__p1,t.__cp1)+Et(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=[t.x,t.y],a=o.slice(),s=Ke,l=$e;o[0]=s(e[0],i[0],n[0],r),o[1]=s(e[1],i[1],n[1],r);var u=l(e[0],i[0],n[0],r),h=l(e[1],i[1],n[1],r);t.rotation=-Math.atan2(h,u)-Math.PI/2,\\\"line\\\"!==this._symbolType&&\\\"rect\\\"!==this._symbolType&&\\\"roundRect\\\"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT\u003Ct.__t?(t.scaleY=1.05*Et(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*Et(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel(\\\"effect\\\");this._updateEffectAnimation(t,n,e)},e}(Cr),xP=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createPolyline(e,n,i),r}return n(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new Ru({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel;rh(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var u=r.getModel(\\\"emphasis\\\");o=u.getModel(\\\"lineStyle\\\").getLineStyle(),l=u.get(\\\"disabled\\\"),a=u.get(\\\"focus\\\"),s=u.get(\\\"blurScope\\\")}i.useStyle(t.getItemVisual(e,\\\"style\\\")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState(\\\"emphasis\\\").style=o,Rl(this,a,s,l)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape(\\\"points\\\",t.getItemLayout(e))},e}(Cr),_P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return n(e,t),e.prototype.createLine=function(t,e,n){return new xP(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r\u003Ce.length;r++){var o=e[r-1],a=e[r];i+=Et(o,a),n.push(i)}if(0!==i){for(r=0;r\u003Cn.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e\u003Cthis._lastFramePercent){for(o=Math.min(a+1,r-1);o>=0&&!(i[o]\u003C=e);o--);o=Math.min(o,r-2)}else{for(o=a;o\u003Cr&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}var s=(e-i[o])/(i[o+1]-i[o]),l=n[o],u=n[o+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var h=u[0]-l[0],c=u[1]-l[1];t.rotation=-Math.atan2(c,h)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(mP),bP=function(){this.polyline=!1,this.curveness=0,this.segs=[]},wP=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return n(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:\\\"#000\\\",fill:null}},e.prototype.getDefaultShape=function(){return new bP},e.prototype.buildPath=function(t,e){var n,i=e.segs,r=e.curveness;if(e.polyline)for(n=this._off;n\u003Ci.length;){var o=i[n++];if(o>0){t.moveTo(i[n++],i[n++]);for(var a=1;a\u003Co;a++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n\u003Ci.length;){var s=i[n++],l=i[n++],u=i[n++],h=i[n++];if(t.moveTo(s,l),r>0){var c=(s+u)/2-(l-h)*r,p=(l+h)/2-(u-s)*r;t.quadraticCurveTo(c,p,u,h)}else t.lineTo(u,h)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s\u003Ci.length;){var l=i[s++];if(l>0)for(var u=i[s++],h=i[s++],c=1;c\u003Cl;c++){if(Ka(u,h,p=i[s++],d=i[s++],o,t,e))return a}a++}else for(a=0,s=0;s\u003Ci.length;){u=i[s++],h=i[s++];var p=i[s++],d=i[s++];if(r>0){if(Ja(u,h,(u+p)/2-(h-d)*r,(h+d)/2-(p-u)*r,p,d,o,t,e))return a}else if(Ka(u,h,p,d,o,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,a=0;a\u003Ce.length;){var s=e[a++],l=e[a++];n=Math.min(s,n),r=Math.max(s,r),i=Math.min(l,i),o=Math.max(l,o)}t=this._rect=new sr(n,i,r,o)}return t},e}(gs),SP=function(){function t(){this.group=new Cr}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout(\\\"linesPoints\\\")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout(\\\"linesPoints\\\"),r=n&&n.shape.segs;if(r&&r.length\u003C2e4){var o=r.length,a=new Float32Array(o+i.length);a.set(r),a.set(i,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new wP({cursor:\\\"default\\\"});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get(\\\"polyline\\\"),curveness:i.get([\\\"lineStyle\\\",\\\"curveness\\\"])}),t.useStyle(i.getModel(\\\"lineStyle\\\").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual(\\\"style\\\");r&&r.stroke&&t.setStyle(\\\"stroke\\\",r.stroke),t.setStyle(\\\"fill\\\",null);var o=Hs(t);o.seriesIndex=i.seriesIndex,t.on(\\\"mousemove\\\",(function(e){o.dataIndex=null;var n=t.hoverDataIdx;n>0&&(o.dataIndex=n+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),MP={seriesType:\\\"lines\\\",plan:yg(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get(\\\"polyline\\\"),i=t.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var u=0,h=r.start;h\u003Cr.end;h++)u+=t.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,p=[];for(h=r.start;h\u003Cr.end;h++){var d=t.getLineCoords(h,a);n&&(s[c++]=d);for(var f=0;f\u003Cd;f++)p=e.dataToPoint(a[f],!1,p),s[c++]=p[0],s[c++]=p[1]}o.setLayout(\\\"linesPoints\\\",s)}else for(h=r.start;h\u003Cr.end;h++){var g=o.getItemModel(h),y=(d=t.getLineCoords(h,a),[]);if(n)for(var v=0;v\u003Cd;v++)y.push(e.dataToPoint(a[v]));else{y[0]=e.dataToPoint(a[0]),y[1]=e.dataToPoint(a[1]);var m=g.get([\\\"lineStyle\\\",\\\"curveness\\\"]);+m&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*m,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*m])}o.setItemLayout(h,y)}}}}}},IP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get(\\\"zlevel\\\"),a=t.get([\\\"effect\\\",\\\"trailLength\\\"]),s=n.getZr(),l=\\\"svg\\\"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var u=t.get(\\\"clip\\\",!0)&&sS(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=MP.reset(t,e,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get(\\\"polyline\\\"),o=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new SP:new fA(r?i?_P:xP:i?mP:dA),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get([\\\"effect\\\",\\\"show\\\"])},e.prototype._clearLayer=function(t){var e=t.getZr();\\\"svg\\\"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type=\\\"lines\\\",e}(xg),TP=\\\"undefined\\\"==typeof Uint32Array?Array:Uint32Array,CP=\\\"undefined\\\"==typeof Float64Array?Array:Float64Array;function DP(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=z(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),D([e,t[0],t[1]])})))}var AP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath=\\\"lineStyle\\\",n.visualDrawType=\\\"stroke\\\",n}return n(e,t),e.prototype.init=function(e){e.data=e.data||[],DP(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(DP(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=gt(this._flatCoords,e.flatCoords),this._flatCoordsOffset=gt(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow(\\\"coords\\\");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r\u003Ci;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(t);for(r=0;r\u003Co.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),j(t[0])){for(var n=t.length,i=new TP(n),r=new CP(n),o=0,a=0,s=0,l=0;l\u003Cn;){s++;var u=t[l++];i[a++]=o+e,i[a++]=u;for(var h=0;h\u003Cu;h++){var c=t[l++],p=t[l++];r[o++]=c,r[o++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new jm([\\\"value\\\"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().getItemModel(t),r=i.get(\\\"name\\\");if(r)return r;var o=i.get(\\\"fromName\\\"),a=i.get(\\\"toName\\\"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),Xf(\\\"nameValue\\\",{name:s.join(\\\" > \\\")})},e.prototype.preventIncremental=function(){return!!this.get([\\\"effect\\\",\\\"show\\\"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get(\\\"progressive\\\"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get(\\\"progressiveThreshold\\\"):t},e.prototype.getZLevelKey=function(){var t=this.getModel(\\\"effect\\\"),e=t.get(\\\"trailLength\\\");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get(\\\"show\\\")&&e>0?e+\\\"\\\":\\\"\\\"},e.type=\\\"series.lines\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\",\\\"geo\\\",\\\"calendar\\\"],e.defaultOption={coordinateSystem:\\\"geo\\\",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\\\"none\\\",\\\"none\\\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\\\"circle\\\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:\\\"end\\\"},lineStyle:{opacity:.5}},e}(sg);function kP(t){return t instanceof Array||(t=[t,t]),t}var LP={seriesType:\\\"lines\\\",reset:function(t){var e=kP(t.get(\\\"symbol\\\")),n=kP(t.get(\\\"symbolSize\\\")),i=t.getData();return i.setVisual(\\\"fromSymbol\\\",e&&e[0]),i.setVisual(\\\"toSymbol\\\",e&&e[1]),i.setVisual(\\\"fromSymbolSize\\\",n&&n[0]),i.setVisual(\\\"toSymbolSize\\\",n&&n[1]),{dataEach:i.hasItemOption?function(t,e){var n=t.getItemModel(e),i=kP(n.getShallow(\\\"symbol\\\",!0)),r=kP(n.getShallow(\\\"symbolSize\\\",!0));i[0]&&t.setItemVisual(e,\\\"fromSymbol\\\",i[0]),i[1]&&t.setItemVisual(e,\\\"toSymbol\\\",i[1]),r[0]&&t.setItemVisual(e,\\\"fromSymbolSize\\\",r[0]),r[1]&&t.setItemVisual(e,\\\"toSymbolSize\\\",r[1])}:null}}};var PP=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=h.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,\\\"inRange\\\"),l=this._getGradient(r,\\\"outOfRange\\\"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext(\\\"2d\\\"),p=t.length;h.width=e,h.height=n;for(var d=0;d\u003Cp;++d){var f=t[d],g=f[0],y=f[1],v=i(f[2]);c.globalAlpha=v,c.drawImage(a,g-u,y-u)}if(!h.width||!h.height)return h;for(var m=c.getImageData(0,0,h.width,h.height),x=m.data,_=0,b=x.length,w=this.minOpacity,S=this.maxOpacity-w;_\u003Cb;){v=x[_+3]/256;var M=4*Math.floor(255*v);if(v>0){var I=o(v)?s:l;v>0&&(v=v*S+w),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*v*256}else _+=4}return c.putImageData(m,0,0),h},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=h.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext(\\\"2d\\\");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=\\\"#000\\\",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a\u003C256;a++)t[e](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},t}();function OP(t){var e=t.dimensions;return\\\"lng\\\"===e[0]&&\\\"lat\\\"===e[1]}var RP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent(\\\"visualMap\\\",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll();var r=t.coordinateSystem;\\\"cartesian2d\\\"===r.type||\\\"calendar\\\"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):OP(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(OP(r)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var o,a,s,l,u=t.coordinateSystem,h=lS(u,\\\"cartesian2d\\\");if(h){var c=u.getAxis(\\\"x\\\"),p=u.getAxis(\\\"y\\\");0,o=c.getBandWidth()+.5,a=p.getBandWidth()+.5,s=c.scale.getExtent(),l=p.scale.getExtent()}for(var d=this.group,f=t.getData(),g=t.getModel([\\\"emphasis\\\",\\\"itemStyle\\\"]).getItemStyle(),y=t.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle(),v=t.getModel([\\\"select\\\",\\\"itemStyle\\\"]).getItemStyle(),m=t.get([\\\"itemStyle\\\",\\\"borderRadius\\\"]),x=Yh(t),_=t.getModel(\\\"emphasis\\\"),b=_.get(\\\"focus\\\"),w=_.get(\\\"blurScope\\\"),S=_.get(\\\"disabled\\\"),M=h?[f.mapDimension(\\\"x\\\"),f.mapDimension(\\\"y\\\"),f.mapDimension(\\\"value\\\")]:[f.mapDimension(\\\"time\\\"),f.mapDimension(\\\"value\\\")],I=n;I\u003Ci;I++){var T=void 0,C=f.getItemVisual(I,\\\"style\\\");if(h){var D=f.get(M[0],I),A=f.get(M[1],I);if(isNaN(f.get(M[2],I))||D\u003Cs[0]||D>s[1]||A\u003Cl[0]||A>l[1])continue;var k=u.dataToPoint([D,A]);T=new Cs({shape:{x:k[0]-o/2,y:k[1]-a/2,width:o,height:a},style:C})}else{if(isNaN(f.get(M[1],I)))continue;T=new Cs({z2:1,shape:u.dataToRect([f.get(M[0],I)]).contentShape,style:C})}if(f.hasItemOption){var L=f.getItemModel(I),P=L.getModel(\\\"emphasis\\\");g=P.getModel(\\\"itemStyle\\\").getItemStyle(),y=L.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle(),v=L.getModel([\\\"select\\\",\\\"itemStyle\\\"]).getItemStyle(),m=L.get([\\\"itemStyle\\\",\\\"borderRadius\\\"]),b=P.get(\\\"focus\\\"),w=P.get(\\\"blurScope\\\"),S=P.get(\\\"disabled\\\"),x=Yh(L)}T.shape.r=m;var O=t.getRawValue(I),R=\\\"-\\\";O&&null!=O[2]&&(R=O[2]+\\\"\\\"),Hh(T,x,{labelFetcher:t,labelDataIndex:I,defaultOpacity:C.opacity,defaultText:R}),T.ensureState(\\\"emphasis\\\").style=g,T.ensureState(\\\"blur\\\").style=y,T.ensureState(\\\"select\\\").style=v,Rl(T,b,w,S),T.incremental=r,r&&(T.states.emphasis.hoverLayer=!0),d.add(T),f.setItemGraphicEl(I,T),this._progressiveEls&&this._progressiveEls.push(T)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new PP;s.blurSize=e.get(\\\"blurSize\\\"),s.pointSize=e.get(\\\"pointSize\\\"),s.minOpacity=e.get(\\\"minOpacity\\\"),s.maxOpacity=e.get(\\\"maxOpacity\\\");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),p=Math.min(l.width+l.x,i.getWidth()),d=Math.min(l.height+l.y,i.getHeight()),f=p-h,g=d-c,y=[a.mapDimension(\\\"lng\\\"),a.mapDimension(\\\"lat\\\"),a.mapDimension(\\\"value\\\")],v=a.mapArray(y,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=h,r[1]-=c,r.push(i),r})),m=n.getExtent(),x=\\\"visualMap.continuous\\\"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t\u003C=e[1]}}(m,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=z(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}))).length,o=0;return function(t){var i;for(i=o;i\u003Cr;i++)if((a=e[i].interval)[0]\u003C=t&&t\u003C=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]\u003C=t&&t\u003C=a[1]){o=i;break}}return i>=0&&i\u003Cr&&n[i]}}(m,n.getPieceList(),n.option.selected);s.update(v,f,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var _=new _s({style:{width:f,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(_)},e.type=\\\"heatmap\\\",e}(xg),NP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getInitialData=function(t,e){return ix(null,this,{generateCoord:\\\"value\\\"})},e.prototype.preventIncremental=function(){var t=hd.get(this.get(\\\"coordinateSystem\\\"));if(t&&t.dimensions)return\\\"lng\\\"===t.dimensions[0]&&\\\"lat\\\"===t.dimensions[1]},e.type=\\\"series.heatmap\\\",e.dependencies=[\\\"grid\\\",\\\"geo\\\",\\\"calendar\\\"],e.defaultOption={coordinateSystem:\\\"cartesian2d\\\",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:\\\"#212121\\\"}}},e}(sg);var EP=[\\\"itemStyle\\\",\\\"borderWidth\\\"],zP=[{xy:\\\"x\\\",wh:\\\"width\\\",index:0,posDesc:[\\\"left\\\",\\\"right\\\"]},{xy:\\\"y\\\",wh:\\\"height\\\",index:1,posDesc:[\\\"top\\\",\\\"bottom\\\"]}],VP=new hu,BP=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this.group,r=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:zP[+s],categoryDim:zP[1-+s]};return r.diff(o).add((function(t){if(r.hasValue(t)){var e=ZP(r,t),n=FP(r,t,e,u),o=KP(r,u,n);r.setItemGraphicEl(t,o),i.add(o),eO(o,u,n)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var a=ZP(r,t),s=FP(r,t,a,u),l=JP(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var i=n.animationModel,r=n.dataIndex;rh(t.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?HP(t,e,n,!0):YP(t,e,n,!0);UP(t,n,!0),XP(t,e,n,!0)}(n,u,s):n=KP(r,u,s,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),eO(n,u,s)}else i.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&$P(o,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=r,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get(\\\"animation\\\")?i&&i.eachItemGraphicEl((function(e){$P(i,Hs(e).dataIndex,t,e)})):n.removeAll()},e.type=\\\"pictorialBar\\\",e}(xg);function FP(t,e,n,i){var r=t.getItemLayout(e),o=n.get(\\\"symbolRepeat\\\"),a=n.get(\\\"symbolClip\\\"),s=n.get(\\\"symbolPosition\\\")||\\\"start\\\",l=(n.get(\\\"symbolRotate\\\")||0)*Math.PI/180||0,u=n.get(\\\"symbolPatternSize\\\")||2,h=n.isAnimationEnabled(),c={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,\\\"symbol\\\")||\\\"circle\\\",style:t.getItemVisual(e,\\\"style\\\"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get(\\\"symbolRepeatDirection\\\"),symbolPatternSize:u,rotation:l,animationModel:h?n:null,hoverScale:h&&n.get([\\\"emphasis\\\",\\\"scale\\\"]),z2:n.getShallow(\\\"z\\\",!0)||0};!function(t,e,n,i,r){var o,a=i.valueDim,s=t.get(\\\"symbolBoundingData\\\"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(n[a.wh]\u003C=0);if(Y(s)){var c=[GP(l,s[0])-u,GP(l,s[1])-u];c[1]\u003Cc[0]&&c.reverse(),o=c[h]}else o=null!=s?GP(l,s)-u:e?i.coordSysExtent[a.index][h]-u:n[a.wh];r.boundingLength=o,e&&(r.repeatCutLength=n[a.wh]);r.pxSign=o>0?1:-1}(n,o,r,i,c),function(t,e,n,i,r,o,a,s,l,u){var h,c=l.valueDim,p=l.categoryDim,d=Math.abs(n[p.wh]),f=t.getItemVisual(e,\\\"symbolSize\\\");h=Y(f)?f.slice():null==f?[\\\"100%\\\",\\\"100%\\\"]:[f,f];h[p.index]=Er(h[p.index],d),h[c.index]=Er(h[c.index],i?d:Math.abs(o)),u.symbolSize=h,(u.symbolScale=[h[0]/s,h[1]/s])[c.index]*=(l.isHorizontal?-1:1)*a}(t,e,r,o,0,c.boundingLength,c.pxSign,u,i,c),function(t,e,n,i,r){var o=t.get(EP)||0;o&&(VP.attr({scaleX:e[0],scaleY:e[1],rotation:n}),VP.updateTransform(),o/=VP.getLineScale(),o*=e[i.valueDim.index]);r.valueLineWidth=o||0}(n,c.symbolScale,l,i,c);var p=c.symbolSize,d=Oy(n.get(\\\"symbolOffset\\\"),p);return function(t,e,n,i,r,o,a,s,l,u,h,c){var p=h.categoryDim,d=h.valueDim,f=c.pxSign,g=Math.max(e[d.index]+s,0),y=g;if(i){var v=Math.abs(l),m=it(t.get(\\\"symbolMargin\\\"),\\\"15%\\\")+\\\"\\\",x=!1;m.lastIndexOf(\\\"!\\\")===m.length-1&&(x=!0,m=m.slice(0,m.length-1));var _=Er(m,e[d.index]),b=Math.max(g+2*_,0),w=x?0:2*_,S=eo(i),M=S?i:nO((v+w)/b);b=g+2*(_=(v-M*g)/2/(x?M:Math.max(M-1,1))),w=x?0:2*_,S||\\\"fixed\\\"===i||(M=u?nO((Math.abs(u)+w)/b):0),y=M*b-w,c.repeatTimes=M,c.symbolMargin=_}var I=f*(y/2),T=c.pathPosition=[];T[p.index]=n[p.wh]/2,T[d.index]=\\\"start\\\"===a?I:\\\"end\\\"===a?l-I:l/2,o&&(T[0]+=o[0],T[1]+=o[1]);var C=c.bundlePosition=[];C[p.index]=n[p.xy],C[d.index]=n[d.xy];var D=c.barRectShape=A({},n);D[d.wh]=f*Math.max(Math.abs(n[d.wh]),Math.abs(T[d.index]+I)),D[p.wh]=n[p.wh];var k=c.clipShape={};k[p.xy]=-n[p.xy],k[p.wh]=h.ecSize[p.wh],k[d.xy]=0,k[d.wh]=n[d.wh]}(n,p,r,o,0,d,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function GP(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function WP(t){var e=t.symbolPatternSize,n=Ly(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),\\\"image\\\"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function HP(t,e,n,i){var r=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,h=0,c=o[e.valueDim.index]+a+2*n.symbolMargin;for(QP(t,(function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=u,h\u003Cu?tO(t,null,f(h),n,i):tO(t,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(t)})),h++}));h\u003Cu;h++){var p=WP(n);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var d=f(h);tO(p,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},n,i)}function f(t){var e=s.slice(),i=n.pxSign,r=t;return(\\\"start\\\"===n.symbolRepeatDirection?i>0:i\u003C0)&&(r=u-1-t),e[l.index]=c*(r-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function YP(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?tO(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=t.__pictorialMainPath=WP(n),r.add(o),tO(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function UP(t,e,n){var i=A({},e.barRectShape),r=t.__pictorialBarRect;r?tO(r,null,{shape:i},e,n):((r=t.__pictorialBarRect=new Cs({z2:2,shape:i,silent:!0,style:{stroke:\\\"transparent\\\",fill:\\\"transparent\\\",lineWidth:0}})).disableMorphing=!0,t.add(r))}function XP(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,o=A({},n.clipShape),a=e.valueDim,s=n.animationModel,l=n.dataIndex;if(r)rh(r,{shape:o},s,l);else{o[a.wh]=0,r=new Cs({shape:o}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var u={};u[a.wh]=n.clipShape[a.wh],Bh[i?\\\"updateProps\\\":\\\"initProps\\\"](r,{shape:u},s,l)}}}function ZP(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=jP,n.isAnimationEnabled=qP,n}function jP(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function qP(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(\\\"animation\\\")}function KP(t,e,n,i){var r=new Cr,o=new Cr;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?HP(r,e,n):YP(r,0,n),UP(r,n,i),XP(r,e,n,i),r.__pictorialShapeStr=JP(t,n),r.__pictorialSymbolMeta=n,r}function $P(t,e,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];QP(i,(function(t){o.push(t)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),E(o,(function(t){sh(t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function JP(t,e){return[t.getItemVisual(e.dataIndex,\\\"symbol\\\")||\\\"none\\\",!!e.symbolRepeat,!!e.symbolClip].join(\\\":\\\")}function QP(t,e,n){E(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function tO(t,e,n,i,r,o){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&Bh[r?\\\"updateProps\\\":\\\"initProps\\\"](t,n,i.animationModel,i.dataIndex,o)}function eO(t,e,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel(\\\"emphasis\\\"),a=o.getModel(\\\"itemStyle\\\").getItemStyle(),s=r.getModel([\\\"blur\\\",\\\"itemStyle\\\"]).getItemStyle(),l=r.getModel([\\\"select\\\",\\\"itemStyle\\\"]).getItemStyle(),u=r.getShallow(\\\"cursor\\\"),h=o.get(\\\"focus\\\"),c=o.get(\\\"blurScope\\\"),p=o.get(\\\"scale\\\");QP(t,(function(t){if(t instanceof _s){var e=t.style;t.useStyle(A({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState(\\\"emphasis\\\");i.style=a,p&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState(\\\"blur\\\").style=s,t.ensureState(\\\"select\\\").style=l,u&&(t.cursor=u),t.z2=n.z2}));var d=e.valueDim.posDesc[+(n.boundingLength>0)];Hh(t.__pictorialBarRect,Yh(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Gw(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:d}),Rl(t,h,c,o.get(\\\"disabled\\\"))}function nO(t){var e=Math.round(t);return Math.abs(t-e)\u003C1e-4?e:Math.ceil(t)}var iO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol=\\\"roundRect\\\",n}return n(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type=\\\"series.pictorialBar\\\",e.dependencies=[\\\"grid\\\"],e.defaultOption=yc(MS.defaultOption,{symbol:\\\"circle\\\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\\\"end\\\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\\\"-100%\\\",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:\\\"#212121\\\"}}}),e}(MS);var rO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return n(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this,o=this.group,a=t.getLayerSeries(),s=i.getLayout(\\\"layoutInfo\\\"),l=s.rect,u=s.boundaryGap;function h(t){return t.name}o.x=0,o.y=l.y+u[0];var c=new Mm(this._layersSeries||[],a,h,h),p=[];function d(e,n,s){var l=r._layers;if(\\\"remove\\\"!==e){for(var u,h,c=[],d=[],f=a[n].indices,g=0;g\u003Cf.length;g++){var y=i.getItemLayout(f[g]),v=y.x,m=y.y0,x=y.y;c.push(v,m),d.push(v,m+x),u=i.getItemVisual(f[g],\\\"style\\\")}var _=i.getItemLayout(f[0]),b=t.getModel(\\\"label\\\").get(\\\"margin\\\"),w=t.getModel(\\\"emphasis\\\");if(\\\"add\\\"===e){var S=p[n]=new Cr;h=new rS({shape:{points:c,stackedOnPoints:d,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(h),o.add(S),t.isAnimationEnabled()&&h.setClipPath(function(t,e,n){var i=new Cs({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return oh(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}(h.getBoundingRect(),t,(function(){h.removeClipPath()})))}else{S=l[s];h=S.childAt(0),o.add(S),p[n]=S,rh(h,{shape:{points:c,stackedOnPoints:d}},t),hh(h)}Hh(h,Yh(t),{labelDataIndex:f[g-1],defaultText:i.getName(f[g-1]),inheritColor:u.fill},{normal:{verticalAlign:\\\"middle\\\"}}),h.setTextConfig({position:null,local:!0});var M=h.getTextContent();M&&(M.x=_.x-b,M.y=_.y0+_.y/2),h.useStyle(u),i.setItemGraphicEl(n,h),Vl(h,t),Rl(h,w.get(\\\"focus\\\"),w.get(\\\"blurScope\\\"),w.get(\\\"disabled\\\"))}else o.remove(l[n])}c.add(W(d,this,\\\"add\\\")).update(W(d,this,\\\"update\\\")).remove(W(d,this,\\\"remove\\\")).execute(),this._layersSeries=a,this._layers=p},e.type=\\\"themeRiver\\\",e}(xg);var oO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new uM(W(this.getData,this),W(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=Lo(t,(function(t){return n.hasOwnProperty(t[0]+\\\"\\\")||(n[t[0]+\\\"\\\"]=-1),t[2]})),r=[];i.buckets.each((function(t,e){r.push({name:e,dataList:t})}));for(var o=r.length,a=0;a\u003Co;++a){for(var s=r[a].name,l=0;l\u003Cr[a].dataList.length;++l){var u=r[a].dataList[l][0]+\\\"\\\";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,t[e]=[u,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents(\\\"singleAxis\\\",Co).models[0].get(\\\"type\\\"),i=B(t.data,(function(t){return void 0!==t[2]})),r=this.fixData(i||[]),o=[],a=this.nameMap=ft(),s=0,l=0;l\u003Cr.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=qm(r,{coordDimensions:[\\\"single\\\"],dimensionsDefine:[{name:\\\"time\\\",type:Cm(n)},{name:\\\"value\\\",type:\\\"float\\\"},{name:\\\"name\\\",type:\\\"ordinal\\\"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new jm(u,this);return h.initData(r),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i\u003Ce;++i)n[i]=i;var r=t.mapDimension(\\\"single\\\"),o=Lo(n,(function(e){return t.get(\\\"name\\\",e)})),a=[];return o.buckets.each((function(e,n){e.sort((function(e,n){return t.get(r,e)-t.get(r,n)})),a.push({name:n,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,n){Y(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l\u003Cs;++l){for(var u=Number.MAX_VALUE,h=-1,c=o[l].indices.length,p=0;p\u003Cc;++p){var d=r.get(t[0],o[l].indices[p]),f=Math.abs(d-e);f\u003C=u&&(i=d,u=f,h=o[l].indices[p])}a.push(h)}return{dataIndices:a,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData();return Xf(\\\"nameValue\\\",{name:i.getName(t),value:i.get(i.mapDimension(\\\"value\\\"),t)})},e.type=\\\"series.themeRiver\\\",e.dependencies=[\\\"singleAxis\\\"],e.defaultOption={z:2,colorBy:\\\"data\\\",coordinateSystem:\\\"singleAxis\\\",boundaryGap:[\\\"10%\\\",\\\"10%\\\"],singleAxisIndex:0,animationEasing:\\\"linear\\\",label:{margin:4,show:!0,position:\\\"left\\\",fontSize:11},emphasis:{label:{show:!0}}},e}(sg);function aO(t,e){t.eachSeriesByType(\\\"themeRiver\\\",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=t.get(\\\"boundaryGap\\\"),a=n.getAxis();(i.boundaryGap=o,\\\"horizontal\\\"===a.orient)?(o[0]=Er(o[0],r.height),o[1]=Er(o[1],r.height),sO(e,t,r.height-o[0]-o[1])):(o[0]=Er(o[0],r.width),o[1]=Er(o[1],r.width),sO(e,t,r.width-o[0]-o[1]));e.setLayout(\\\"layoutInfo\\\",i)}))}function sO(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension(\\\"single\\\"),s=t.mapDimension(\\\"value\\\"),l=z(o,(function(e){return z(e.indices,(function(e){var n=r.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n}))})),u=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a=0;a\u003Cn;++a){for(var s=0,l=0;l\u003Ce;++l)s+=t[l][a][1];s>o&&(o=s),i.push(s)}for(var u=0;u\u003Cn;++u)r[u]=(o-i[u])/2;o=0;for(var h=0;h\u003Cn;++h){var c=i[h]+r[h];c>o&&(o=c)}return{y0:r,max:o}}(l),h=u.y0,c=n/u.max,p=o.length,d=o[0].indices.length,f=0;f\u003Cd;++f){i=h[f]*c,t.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*c});for(var g=1;g\u003Cp;++g)i+=l[g-1][f][1]*c,t.setItemLayout(o[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i,y:l[g][f][1]*c})}}var lO=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.z2=2,o.textConfig={inside:!0},Hs(o).seriesIndex=n.seriesIndex;var a=new ks({z2:4,silent:e.getModel().get([\\\"label\\\",\\\"silent\\\"])});return o.setTextContent(a),o.updateData(!0,e,n,i,r),o}return n(e,t),e.prototype.updateData=function(t,e,n,i,r){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;Hs(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel(\\\"emphasis\\\"),l=e.getLayout(),u=A({},l);u.label=null;var h=e.getVisual(\\\"style\\\");h.lineJoin=\\\"bevel\\\";var c=e.getVisual(\\\"decal\\\");c&&(h.decal=iv(c,r));var p=oM(a.getModel(\\\"itemStyle\\\"),u,!0);A(u,p),E(qs,(function(t){var e=o.ensureState(t),n=a.getModel([t,\\\"itemStyle\\\"]);e.style=n.getItemStyle();var i=oM(n,u);i&&(e.shape=i)})),t?(o.setShape(u),o.shape.r=l.r0,rh(o,{shape:{r:l.r}},n,e.dataIndex)):(rh(o,{shape:u},n),hh(o)),o.useStyle(h),this._updateLabel(n);var d=a.getShallow(\\\"cursor\\\");d&&o.attr(\\\"cursor\\\",d),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get(\\\"focus\\\");Rl(this,\\\"ancestor\\\"===f?e.getAncestorsIndices():\\\"descendant\\\"===f?e.getDescendantIndices():f,s.get(\\\"blurScope\\\"),s.get(\\\"disabled\\\"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel(\\\"label\\\"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,h=u.getTextContent(),c=this.node.dataIndex,p=i.get(\\\"minAngle\\\")/180*Math.PI,d=i.get(\\\"show\\\")&&!(null!=p&&Math.abs(o)\u003Cp);function f(t,e){var n=t.get(e);return null==n?i.get(e):n}h.ignore=!d,E(Ks,(function(i){var p=\\\"normal\\\"===i?n.getModel(\\\"label\\\"):n.getModel([i,\\\"label\\\"]),d=\\\"normal\\\"===i,g=d?h:h.ensureState(i),y=t.getFormattedLabel(c,i);d&&(y=y||e.node.name),g.style=Uh(p,{},null,\\\"normal\\\"!==i,!0),y&&(g.style.text=y);var v=p.get(\\\"show\\\");null==v||d||(g.ignore=!v);var m,x=f(p,\\\"position\\\"),_=d?u:u.states[i],b=_.style.fill;_.textConfig={outsideFill:\\\"inherit\\\"===p.get(\\\"color\\\")?b:null,inside:\\\"outside\\\"!==x};var w=f(p,\\\"distance\\\")||0,S=f(p,\\\"align\\\");\\\"outside\\\"===x?(m=r.r+w,S=a>Math.PI/2?\\\"right\\\":\\\"left\\\"):S&&\\\"center\\\"!==S?\\\"left\\\"===S?(m=r.r0+w,a>Math.PI/2&&(S=\\\"right\\\")):\\\"right\\\"===S&&(m=r.r-w,a>Math.PI/2&&(S=\\\"left\\\")):(m=o===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,S=\\\"center\\\"),g.style.align=S,g.style.verticalAlign=f(p,\\\"verticalAlign\\\")||\\\"middle\\\",g.x=m*s+r.cx,g.y=m*l+r.cy;var M=f(p,\\\"rotate\\\"),I=0;\\\"radial\\\"===M?(I=-a)\u003C-Math.PI/2&&(I+=Math.PI):\\\"tangential\\\"===M?(I=Math.PI/2-a)>Math.PI/2?I-=Math.PI:I\u003C-Math.PI/2&&(I+=Math.PI):j(M)&&(I=M*Math.PI/180),g.rotation=I})),h.dirtyStyle()},e}(Cu),uO=\\\"sunburstRootToNode\\\",hO=\\\"sunburstHighlight\\\";var cO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){var r=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),l=this.group,u=t.get(\\\"renderLabelForZeroData\\\"),h=[];s.eachNode((function(t){h.push(t)}));var c=this._oldChildren||[];!function(i,r){if(0===i.length&&0===r.length)return;function s(t){return t.getId()}function h(s,h){!function(i,r){u||!i||i.getValue()||(i=null);if(i!==a&&r!==a)if(r&&r.piece)i?(r.piece.updateData(!1,i,t,e,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(r);else if(i){var s=new lO(i,t,e,n);l.add(s),o.setItemGraphicEl(i.dataIndex,s)}}(null==s?null:i[s],null==h?null:r[h])}new Mm(r,i,s,s).add(h).update(h).remove(H(h,null)).execute()}(h,c),function(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,t,e,n):(r.virtualPiece=new lO(i,t,e,n),l.add(r.virtualPiece)),o.piece.off(\\\"click\\\"),r.virtualPiece.on(\\\"click\\\",(function(t){r._rootToNode(o.parentNode)}))):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=h},e.prototype._initEvents=function(){var t=this;this.group.off(\\\"click\\\"),this.group.on(\\\"click\\\",(function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece===e.target){var r=i.getModel().get(\\\"nodeClick\\\");if(\\\"rootToNode\\\"===r)t._rootToNode(i);else if(\\\"link\\\"===r){var o=i.getModel(),a=o.get(\\\"link\\\");if(a)dp(a,o.get(\\\"target\\\",!0)||\\\"_blank\\\")}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:uO,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o\u003C=n.r&&o>=n.r0}},e.type=\\\"sunburst\\\",e}(xg),pO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return n(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};dO(n);var i=this._levelModels=z(t.levels||[],(function(t){return new dc(t,this,e)}),this),r=DC.createTree(n,this,(function(t){t.wrapMethod(\\\"getItemModel\\\",(function(t,e){var n=r.getNodeByDataIndex(e),o=i[n.depth];return o&&(t.parentModel=o),t}))}));return r.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=PC(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){VC(this)},e.type=\\\"series.sunburst\\\",e.defaultOption={z:2,center:[\\\"50%\\\",\\\"50%\\\"],radius:[0,\\\"75%\\\"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:\\\"rootToNode\\\",renderLabelForZeroData:!1,label:{rotate:\\\"radial\\\",show:!0,opacity:1,align:\\\"center\\\",position:\\\"inside\\\",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:\\\"white\\\",borderType:\\\"solid\\\",shadowBlur:0,shadowColor:\\\"rgba(0, 0, 0, 0.2)\\\",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:\\\"descendant\\\"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:\\\"expansion\\\",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:\\\"desc\\\"},e}(sg);function dO(t){var e=0;E(t.children,(function(t){dO(t);var n=t.value;Y(n)&&(n=n[0]),e+=n}));var n=t.value;Y(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n\u003C0&&(n=0),Y(t.value)?t.value[0]=n:t.value=n}var fO=Math.PI/180;function gO(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get(\\\"center\\\"),i=t.get(\\\"radius\\\");Y(i)||(i=[0,i]),Y(e)||(e=[e,e]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=Er(e[0],r),l=Er(e[1],o),u=Er(i[0],a/2),h=Er(i[1],a/2),c=-t.get(\\\"startAngle\\\")*fO,p=t.get(\\\"minAngle\\\")*fO,d=t.getData().tree.root,f=t.getViewRoot(),g=f.depth,y=t.get(\\\"sort\\\");null!=y&&yO(f,y);var v=0;E(f.children,(function(t){!isNaN(t.getValue())&&v++}));var m=f.getValue(),x=Math.PI/(m||v)*2,_=f.depth>0,b=f.height-(_?-1:1),w=(h-u)/(b||1),S=t.get(\\\"clockwise\\\"),M=t.get(\\\"stillShowZeroSum\\\"),I=S?1:-1,T=function(e,n){if(e){var i=n;if(e!==d){var r=e.getValue(),o=0===m&&M?x:r*x;o\u003Cp&&(o=p),i=n+I*o;var h=e.depth-g-(_?-1:1),c=u+w*h,f=u+w*(h+1),y=t.getLevelModel(e);if(y){var v=y.get(\\\"r0\\\",!0),b=y.get(\\\"r\\\",!0),C=y.get(\\\"radius\\\",!0);null!=C&&(v=C[0],b=C[1]),null!=v&&(c=Er(v,a/2)),null!=b&&(f=Er(b,a/2))}e.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:S,cx:s,cy:l,r0:c,r:f})}if(e.children&&e.children.length){var D=0;E(e.children,(function(t){D+=T(t,n+D)}))}return i-n}};if(_){var C=u,D=u+w,A=2*Math.PI;d.setLayout({angle:A,startAngle:c,endAngle:c+A,clockwise:S,cx:s,cy:l,r0:C,r:D})}T(f,c)}))}function yO(t,e){var n=t.children||[];t.children=function(t,e){if(U(e)){var n=z(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),z(n,(function(e){return t[e.index]}))}var i=\\\"asc\\\"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}(n,e),n.length&&E(t.children,(function(t){yO(t,e)}))}function vO(t){var e={};t.eachSeriesByType(\\\"sunburst\\\",(function(t){var n=t.getData(),i=n.tree;i.eachNode((function(r){var o=r.getModel().getModel(\\\"itemStyle\\\").getItemStyle();o.fill||(o.fill=function(t,n,i){for(var r=t;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+\\\"\\\",e);return t.depth>1&&X(o)&&(o=Sn(o,(t.depth-1)/(i-1)*.5)),o}(r,t,i.root.height)),A(n.ensureUniqueItemVisual(r.dataIndex,\\\"style\\\"),o)}))}))}var mO={color:\\\"fill\\\",borderColor:\\\"stroke\\\"},xO={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},_O=So(),bO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get(\\\"zlevel\\\",!0),this.currentZ=this.get(\\\"z\\\",!0)},e.prototype.getInitialData=function(t,e){return ix(null,this)},e.prototype.getDataParams=function(e,n,i){var r=t.prototype.getDataParams.call(this,e,n);return i&&(r.info=_O(i).info),r},e.type=\\\"series.custom\\\",e.dependencies=[\\\"grid\\\",\\\"polar\\\",\\\"geo\\\",\\\"singleAxis\\\",\\\"calendar\\\"],e.defaultOption={coordinateSystem:\\\"cartesian2d\\\",z:2,legendHoverLink:!0,clip:!1},e}(sg);function wO(t,e){return e=e||[0,0],z([\\\"x\\\",\\\"y\\\"],(function(n,i){var r=this.getAxis(n),o=e[i],a=t[i]/2;return\\\"category\\\"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))}),this)}function SO(t,e){return e=e||[0,0],z([0,1],(function(n){var i=e[n],r=t[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function MO(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return\\\"category\\\"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function IO(t,e){return e=e||[0,0],z([\\\"Radius\\\",\\\"Angle\\\"],(function(n,i){var r=this[\\\"get\\\"+n+\\\"Axis\\\"](),o=e[i],a=t[i]/2,s=\\\"category\\\"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return\\\"Angle\\\"===n&&(s=s*Math.PI/180),s}),this)}function TO(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&\\\"tspan\\\"!==e&&(\\\"text\\\"===e||mt(t,\\\"text\\\")))}function CO(t,e,n){var i,r,o,a=t;if(\\\"text\\\"===e)o=a;else{o={},mt(a,\\\"text\\\")&&(o.text=a.text),mt(a,\\\"rich\\\")&&(o.rich=a.rich),mt(a,\\\"textFill\\\")&&(o.fill=a.textFill),mt(a,\\\"textStroke\\\")&&(o.stroke=a.textStroke),mt(a,\\\"fontFamily\\\")&&(o.fontFamily=a.fontFamily),mt(a,\\\"fontSize\\\")&&(o.fontSize=a.fontSize),mt(a,\\\"fontStyle\\\")&&(o.fontStyle=a.fontStyle),mt(a,\\\"fontWeight\\\")&&(o.fontWeight=a.fontWeight),r={type:\\\"text\\\",style:o,silent:!0},i={};var s=mt(a,\\\"textPosition\\\");n?i.position=s?a.textPosition:\\\"inside\\\":s&&(i.position=a.textPosition),mt(a,\\\"textPosition\\\")&&(i.position=a.textPosition),mt(a,\\\"textOffset\\\")&&(i.offset=a.textOffset),mt(a,\\\"textRotation\\\")&&(i.rotation=a.textRotation),mt(a,\\\"textDistance\\\")&&(i.distance=a.textDistance)}return DO(o,t),E(o.rich,(function(t){DO(t,t)})),{textConfig:i,textContent:r}}function DO(t,e){e&&(e.font=e.textFont||e.font,mt(e,\\\"textStrokeWidth\\\")&&(t.lineWidth=e.textStrokeWidth),mt(e,\\\"textAlign\\\")&&(t.align=e.textAlign),mt(e,\\\"textVerticalAlign\\\")&&(t.verticalAlign=e.textVerticalAlign),mt(e,\\\"textLineHeight\\\")&&(t.lineHeight=e.textLineHeight),mt(e,\\\"textWidth\\\")&&(t.width=e.textWidth),mt(e,\\\"textHeight\\\")&&(t.height=e.textHeight),mt(e,\\\"textBackgroundColor\\\")&&(t.backgroundColor=e.textBackgroundColor),mt(e,\\\"textPadding\\\")&&(t.padding=e.textPadding),mt(e,\\\"textBorderColor\\\")&&(t.borderColor=e.textBorderColor),mt(e,\\\"textBorderWidth\\\")&&(t.borderWidth=e.textBorderWidth),mt(e,\\\"textBorderRadius\\\")&&(t.borderRadius=e.textBorderRadius),mt(e,\\\"textBoxShadowColor\\\")&&(t.shadowColor=e.textBoxShadowColor),mt(e,\\\"textBoxShadowBlur\\\")&&(t.shadowBlur=e.textBoxShadowBlur),mt(e,\\\"textBoxShadowOffsetX\\\")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),mt(e,\\\"textBoxShadowOffsetY\\\")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function AO(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||\\\"inside\\\",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf(\\\"inside\\\")>=0,o=t.fill||\\\"#000\\\";kO(i,e);var a=null==i.textFill;return r?a&&(i.textFill=n.insideFill||\\\"#fff\\\",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=t.fill||n.outsideFill||\\\"#000\\\"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,E(e.rich,(function(t){kO(t,t)})),i}function kO(t,e){e&&(mt(e,\\\"fill\\\")&&(t.textFill=e.fill),mt(e,\\\"stroke\\\")&&(t.textStroke=e.fill),mt(e,\\\"lineWidth\\\")&&(t.textStrokeWidth=e.lineWidth),mt(e,\\\"font\\\")&&(t.font=e.font),mt(e,\\\"fontStyle\\\")&&(t.fontStyle=e.fontStyle),mt(e,\\\"fontWeight\\\")&&(t.fontWeight=e.fontWeight),mt(e,\\\"fontSize\\\")&&(t.fontSize=e.fontSize),mt(e,\\\"fontFamily\\\")&&(t.fontFamily=e.fontFamily),mt(e,\\\"align\\\")&&(t.textAlign=e.align),mt(e,\\\"verticalAlign\\\")&&(t.textVerticalAlign=e.verticalAlign),mt(e,\\\"lineHeight\\\")&&(t.textLineHeight=e.lineHeight),mt(e,\\\"width\\\")&&(t.textWidth=e.width),mt(e,\\\"height\\\")&&(t.textHeight=e.height),mt(e,\\\"backgroundColor\\\")&&(t.textBackgroundColor=e.backgroundColor),mt(e,\\\"padding\\\")&&(t.textPadding=e.padding),mt(e,\\\"borderColor\\\")&&(t.textBorderColor=e.borderColor),mt(e,\\\"borderWidth\\\")&&(t.textBorderWidth=e.borderWidth),mt(e,\\\"borderRadius\\\")&&(t.textBorderRadius=e.borderRadius),mt(e,\\\"shadowColor\\\")&&(t.textBoxShadowColor=e.shadowColor),mt(e,\\\"shadowBlur\\\")&&(t.textBoxShadowBlur=e.shadowBlur),mt(e,\\\"shadowOffsetX\\\")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),mt(e,\\\"shadowOffsetY\\\")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),mt(e,\\\"textShadowColor\\\")&&(t.textShadowColor=e.textShadowColor),mt(e,\\\"textShadowBlur\\\")&&(t.textShadowBlur=e.textShadowBlur),mt(e,\\\"textShadowOffsetX\\\")&&(t.textShadowOffsetX=e.textShadowOffsetX),mt(e,\\\"textShadowOffsetY\\\")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var LO={position:[\\\"x\\\",\\\"y\\\"],scale:[\\\"scaleX\\\",\\\"scaleY\\\"],origin:[\\\"originX\\\",\\\"originY\\\"]},PO=G(LO),OO=(V(Ki,(function(t,e){return t[e]=1,t}),{}),Ki.join(\\\", \\\"),[\\\"\\\",\\\"style\\\",\\\"shape\\\",\\\"extra\\\"]),RO=So();function NO(t,e,n,i,r){var o=t+\\\"Animation\\\",a=nh(t,i,r)||{},s=RO(e).userDuring;return a.duration>0&&(a.during=s?W(WO,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),A(a,n[o]),a}function EO(t,e,n,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=n.isAnimationEnabled(),l=RO(t),u=e.style;l.userDuring=e.during;var h={},c={};if(function(t,e,n){for(var i=0;i\u003CPO.length;i++){var r=PO[i],o=LO[r],a=e[r];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(i=0;i\u003CKi.length;i++){var s=Ki[i];null!=e[s]&&(n[s]=e[s])}}(0,e,c),YO(\\\"shape\\\",e,c),YO(\\\"extra\\\",e,c),!o&&s&&(function(t,e,n){for(var i=e.transition,r=BO(i)?Ki:ho(i||[]),o=0;o\u003Cr.length;o++){var a=r[o];if(\\\"style\\\"!==a&&\\\"shape\\\"!==a&&\\\"extra\\\"!==a){var s=t[a];0,n[a]=s}}}(t,e,h),HO(\\\"shape\\\",t,e,h),HO(\\\"extra\\\",t,e,h),function(t,e,n,i){if(!n)return;var r,o=t.style;if(o){var a=n.transition,s=e.transition;if(a&&!BO(a)){var l=ho(a);!r&&(r=i.style={});for(var u=0;u\u003Cl.length;u++){var h=o[f=l[u]];r[f]=h}}else if(t.getAnimationStyleProps&&(BO(s)||BO(a)||P(s,\\\"style\\\")>=0)){var c=t.getAnimationStyleProps(),p=c?c.style:null;if(p){!r&&(r=i.style={});var d=G(n);for(u=0;u\u003Cd.length;u++){var f;if(p[f=d[u]]){h=o[f];r[f]=h}}}}}}(t,e,u,h)),c.style=u,function(t,e,n){var i=e.style;if(!t.isGroup&&i){if(n){t.useStyle({});for(var r=t.animators,o=0;o\u003Cr.length;o++){var a=r[o];\\\"style\\\"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}(t,c,a),function(t,e){mt(e,\\\"silent\\\")&&(t.silent=e.silent),mt(e,\\\"ignore\\\")&&(t.ignore=e.ignore),t instanceof da&&mt(e,\\\"invisible\\\")&&(t.invisible=e.invisible);t instanceof gs&&mt(e,\\\"autoBatch\\\")&&(t.autoBatch=e.autoBatch)}(t,e),s)if(o){var p={};E(OO,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(p[t]=p[t]||{}),A(t?p[t]:p,n.enterFrom))}));var d=NO(\\\"enter\\\",t,e,n,r);d.duration>0&&t.animateFrom(p,d)}else!function(t,e,n,i,r){if(r){var o=NO(\\\"update\\\",t,e,i,n);o.duration>0&&t.animateFrom(r,o)}}(t,e,r||0,n,h);zO(t,e),u?t.dirty():t.markRedraw()}function zO(t,e){for(var n=RO(t).leaveToProps,i=0;i\u003COO.length;i++){var r=OO[i],o=r?e[r]:e;o&&o.leaveTo&&(n||(n=RO(t).leaveToProps={}),r&&(n[r]=n[r]||{}),A(r?n[r]:n,o.leaveTo))}}function VO(t,e,n,i){if(t){var r=t.parent,o=RO(t).leaveToProps;if(o){var a=NO(\\\"update\\\",t,e,n,0);a.done=function(){r.remove(t),i&&i()},t.animateTo(o,a)}else r.remove(t),i&&i()}}function BO(t){return\\\"all\\\"===t}var FO={},GO={setTransform:function(t,e){return FO.el[t]=e,this},getTransform:function(t){return FO.el[t]},setShape:function(t,e){var n=FO.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=FO.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=FO.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=FO.el.style;if(e)return e[t]},setExtra:function(t,e){return(FO.el.extra||(FO.el.extra={}))[t]=e,this},getExtra:function(t){var e=FO.el.extra;if(e)return e[t]}};function WO(){var t=this,e=t.el;if(e){var n=RO(e).userDuring,i=t.userDuring;n===i?(FO.el=e,i(GO)):t.el=t.userDuring=null}}function HO(t,e,n,i){var r=n[t];if(r){var o,a=e[t];if(a){var s=n.transition,l=r.transition;if(l)if(!o&&(o=i[t]={}),BO(l))A(o,a);else for(var u=ho(l),h=0;h\u003Cu.length;h++){var c=a[d=u[h]];o[d]=c}else if(BO(s)||P(s,t)>=0){!o&&(o=i[t]={});var p=G(a);for(h=0;h\u003Cp.length;h++){var d;c=a[d=p[h]];UO(r[d],c)&&(o[d]=c)}}}}}function YO(t,e,n){var i=e[t];if(i)for(var r=n[t]={},o=G(i),a=0;a\u003Co.length;a++){var s=o[a];r[s]=ti(i[s])}}function UO(t,e){return N(t)?t!==e:null!=t&&isFinite(t)}var XO=So(),ZO=[\\\"percent\\\",\\\"easing\\\",\\\"shape\\\",\\\"style\\\",\\\"extra\\\"];function jO(t){t.stopAnimation(\\\"keyframe\\\"),t.attr(XO(t))}function qO(t,e,n){if(n.isAnimationEnabled()&&e)if(Y(e))E(e,(function(e){qO(t,e,n)}));else{var i=e.keyframes,r=e.duration;if(n&&null==r){var o=nh(\\\"enter\\\",n,0);r=o&&o.duration}if(i&&r){var a=XO(t);E(OO,(function(n){if(!n||t[n]){var o;i.sort((function(t,e){return t.percent-e.percent})),E(i,(function(i){var s=t.animators,l=n?i[n]:i;if(l){var u=G(l);if(n||(u=B(u,(function(t){return P(ZO,t)\u003C0}))),u.length){o||((o=t.animate(n,e.loop,!0)).scope=\\\"keyframe\\\");for(var h=0;h\u003Cs.length;h++)s[h]!==o&&s[h].targetName===o.targetName&&s[h].stopTracks(u);n&&(a[n]=a[n]||{});var c=n?a[n]:a;E(u,(function(e){c[e]=((n?t[n]:t)||{})[e]})),o.whenWithKeys(r*i.percent,l,u,i.easing)}}})),o&&o.delay(e.delay||0).duration(r).start(e.easing)}}))}}}var KO=\\\"emphasis\\\",$O=\\\"normal\\\",JO=\\\"blur\\\",QO=\\\"select\\\",tR=[$O,KO,JO,QO],eR={normal:[\\\"itemStyle\\\"],emphasis:[KO,\\\"itemStyle\\\"],blur:[JO,\\\"itemStyle\\\"],select:[QO,\\\"itemStyle\\\"]},nR={normal:[\\\"label\\\"],emphasis:[KO,\\\"label\\\"],blur:[JO,\\\"label\\\"],select:[QO,\\\"label\\\"]},iR=[\\\"x\\\",\\\"y\\\"],rR={normal:{},emphasis:{},blur:{},select:{}},oR={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:\\\"cartesian2d\\\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:W(wO,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:\\\"geo\\\",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:W(SO,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:\\\"singleAxis\\\",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:W(MO,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:\\\"polar\\\",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=e.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=t.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a},size:W(IO,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:\\\"calendar\\\",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function aR(t){return t instanceof gs}function sR(t){return t instanceof da}var lR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._data,o=t.getData(),a=this.group,s=dR(t,o,e,n);r||a.removeAll(),o.diff(r).add((function(e){gR(n,null,e,s(e,i),t,a,o)})).remove((function(e){var n=r.getItemGraphicEl(e);VO(n,_O(n).option,t)})).update((function(e,l){var u=r.getItemGraphicEl(l);gR(n,u,e,s(e,i),t,a,o)})).execute();var l=t.get(\\\"clip\\\",!0)?sS(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,r){var o=e.getData(),a=dR(e,o,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState(\\\"emphasis\\\").hoverLayer=!0)}for(var u=t.start;u\u003Ct.end;u++){var h=gR(null,null,u,a(u,r),e,this.group,o);h&&(h.traverse(l),s.push(h))}},e.prototype.eachRendered=function(t){Vh(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},e.type=\\\"custom\\\",e}(xg);function uR(t){var e,n=t.type;if(\\\"path\\\"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=MR(i);e=xh(o,null,r,i.layout||\\\"center\\\"),_O(e).customPathData=o}else if(\\\"image\\\"===n)e=new _s({}),_O(e).customImagePath=t.style.image;else if(\\\"text\\\"===n)e=new ks({});else if(\\\"group\\\"===n)e=new Cr;else{if(\\\"compoundPath\\\"===n)throw new Error('\\\"compoundPath\\\" is not supported yet.');var a=mh(n);if(!a){var s=\\\"\\\";0,ao(s)}e=new a}return _O(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function hR(t,e,n,i,r,o,a){jO(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=iR);var l=i&&i.style;if(l){if(\\\"text\\\"===e.type){var u=l;mt(u,\\\"textFill\\\")&&(u.fill=u.textFill),mt(u,\\\"textStroke\\\")&&(u.stroke=u.textStroke)}var h=void 0,c=aR(e)?l.decal:null;t&&c&&(c.dirty=!0,h=iv(c,t)),l.__decalPattern=h}sR(e)&&(l&&(h=l.__decalPattern)&&(l.decal=h));EO(e,i,o,{dataIndex:n,isInit:a,clearStyle:!0}),qO(e,i.keyframeAnimation,o)}function cR(t,e,n,i,r){var o=e.isGroup?null:e,a=r&&r[t].cfg;if(o){var s=o.ensureState(t);if(!1===i){var l=o.getState(t);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),vl(o)}}function pR(t,e,n){var i=n===$O,r=i?e:xR(e,n),o=r?r.z2:null;null!=o&&((i?t:t.ensureState(n)).z2=o||0)}function dR(t,e,n,i){var r=t.get(\\\"renderItem\\\"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):oR[o.type](o));for(var s,l,u=k({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,i){0;null==i&&(i=s);var r=e.getItemVisual(i,\\\"style\\\"),o=r&&r.fill,a=r&&r.opacity,l=m(i,$O).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:X(o)?o:\\\"#000\\\"},h=x(i,$O),c=Uh(h,null,u,!1,!0);c.text=h.getShallow(\\\"show\\\")?rt(t.getFormattedLabel(i,$O),Gw(e,i)):null;var p=Xh(h,u,!1);return b(n,l),l=AO(l,c,p),n&&_(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=s),t=t||0;var i=e.getDimensionInfo(t);if(!i){var r=e.getDimensionIndex(t);return r>=0?e.getStore().get(r,n):void 0}var o=e.get(i.name,n),a=i&&i.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,i){0;null==i&&(i=s);var r=m(i,KO).getItemStyle(),o=x(i,KO),a=Uh(o,null,null,!0,!0);a.text=o.getShallow(\\\"show\\\")?ot(t.getFormattedLabel(i,KO),t.getFormattedLabel(i,$O),Gw(e,i)):null;var l=Xh(o,null,!0);return b(n,r),r=AO(r,a,l),n&&_(r,n),r.legacy=!0,r},visual:function(t,n){if(null==n&&(n=s),mt(mO,t)){var i=e.getItemVisual(n,\\\"style\\\");return i?i[mO[t]]:null}if(mt(xO,t))return e.getItemVisual(n,t)},barLayout:function(t){if(\\\"cartesian2d\\\"===o.type){return function(t){var e=[],n=t.axis,i=\\\"axis0\\\";if(\\\"category\\\"===n.type){for(var r=n.getBandWidth(),o=0;o\u003Ct.count;o++)e.push(k({bandWidth:r,axisKey:i,stackId:Sx+o},t));var a=Dx(e),s=[];for(o=0;o\u003Ct.count;o++){var l=a.axis0[Sx+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(k({axis:o.getBaseAxis()},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return $h(t,n)}},a.api||{}),h={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:fR(t.getData())},c={},p={},d={},f={},g=0;g\u003CtR.length;g++){var y=tR[g];d[y]=t.getModel(eR[y]),f[y]=t.getModel(nR[y])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function m(t,n){return e.hasItemOption?t===s?c[n]||(c[n]=v(t).getModel(eR[n])):v(t).getModel(eR[n]):d[n]}function x(t,n){return e.hasItemOption?t===s?p[n]||(p[n]=v(t).getModel(nR[n])):v(t).getModel(nR[n]):f[n]}return function(t,n){return s=t,l=null,c={},p={},r&&r(k({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},h),u)};function _(t,e){for(var n in e)mt(e,n)&&(t[n]=e[n])}function b(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function fR(t){var e={};return E(t.dimensions,(function(n){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=t.getDimensionIndex(n)}})),e}function gR(t,e,n,i,r,o,a){if(i){var s=yR(t,e,n,i,r,o);return s&&a.setItemGraphicEl(n,s),s&&Rl(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(e)}function yR(t,e,n,i,r,o){var a=-1,s=e;e&&vR(e,i,r)&&(a=P(o.childrenRef(),e),e=null);var l,u,h=!e,c=e;c?c.clearStates():(c=uR(i),s&&(l=s,(u=c).copyTransform(l),sR(u)&&sR(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,aR(u)&&aR(l)&&u.setShape(l.shape)))),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),rR.normal.cfg=rR.normal.conOpt=rR.emphasis.cfg=rR.emphasis.conOpt=rR.blur.cfg=rR.blur.conOpt=rR.select.cfg=rR.select.conOpt=null,rR.isLegacy=!1,function(t,e,n,i,r,o){if(t.isGroup)return;mR(n,null,o),mR(n,KO,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var h=t.getTextContent();if(!1===a)h&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:\\\"text\\\"},h?h.clearStates():(h=uR(a),t.setTextContent(h)),hR(null,h,e,a,null,i,r);for(var c=a&&a.style,p=0;p\u003CtR.length;p++){var d=tR[p];if(d!==$O){var f=o[d].conOpt;cR(d,h,0,_R(a,f,d),null)}}c?h.dirty():h.markRedraw()}}}(c,n,i,r,h,rR),function(t,e,n,i,r){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&vR(a,o,i)&&(a=null),a||(a=uR(o),t.setClipPath(a)),hR(null,a,e,o,null,i,r)}}(c,n,i,r,h),hR(t,c,n,i,rR,r,h),mt(i,\\\"info\\\")&&(_O(c).info=i.info);for(var p=0;p\u003CtR.length;p++){var d=tR[p];if(d!==$O){var f=xR(i,d);cR(d,c,0,_R(i,f,d),rR)}}return function(t,e,n){if(!t.isGroup){var i=t,r=n.currentZ,o=n.currentZLevel;i.z=r,i.zlevel=o;var a=e.z2;null!=a&&(i.z2=a||0);for(var s=0;s\u003CtR.length;s++)pR(i,e,tR[s])}}(c,i,r),\\\"group\\\"===i.type&&function(t,e,n,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l=\\\"byName\\\"===s||i.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return h={api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:r,group:e},void new Mm(h.oldChildren,h.newChildren,bR,bR,h).add(wR).update(wR).remove(SR).execute();var h;u&&e.removeAll();for(var c=0;c\u003Ca;c++)o[c]&&yR(t,e.childAt(c),n,o[c],r,e);for(var p=e.childCount()-1;p>=c;p--){VO(e.childAt(p),_O(e).option,r)}}(t,c,n,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function vR(t,e,n){var i,r=_O(t),o=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||\\\"path\\\"===o&&((i=a)&&(mt(i,\\\"pathData\\\")||mt(i,\\\"d\\\")))&&MR(a)!==r.customPathData||\\\"image\\\"===o&&mt(s,\\\"image\\\")&&s.image!==r.customImagePath}function mR(t,e,n){var i=e?xR(t,e):t,r=e?_R(t,i,KO):t.style,o=t.type,a=i?i.textConfig:null,s=t.textContent,l=s?e?xR(s,e):s:null;if(r&&(n.isLegacy||TO(r,o,!!a,!!l))){n.isLegacy=!0;var u=CO(r,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var h=l;!h.type&&(h.type=\\\"text\\\")}var c=e?n[e]:n.normal;c.cfg=a,c.conOpt=l}function xR(t,e){return e?t?t[e]:null:t}function _R(t,e,n){var i=e&&e.style;return null==i&&n===KO&&t&&(i=t.styleEmphasis),i}function bR(t,e){var n=t&&t.name;return null!=n?n:\\\"e\\\\0\\\\0\\\"+e}function wR(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,r=null!=e?n.oldChildren[e]:null;yR(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function SR(t){var e=this.context,n=e.oldChildren[t];VO(n,_O(n).option,e.seriesModel)}function MR(t){return t&&(t.pathData||t.d)}var IR=So(),TR=T,CR=W,DR=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var r=e.get(\\\"value\\\"),o=e.get(\\\"status\\\");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||\\\"hide\\\"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=H(AR,e,h);this.updatePointerEl(a,l,c),this.updateLabelEl(a,l,c,e)}else a=this._group=new Cr,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),n.getZr().add(a);OR(a,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get(\\\"animation\\\"),i=t.axis,r=\\\"category\\\"===i.type,o=e.get(\\\"snap\\\");if(!o&&!r)return!1;if(\\\"auto\\\"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=qM(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,r){},t.prototype.createPointerEl=function(t,e,n,i){var r=e.pointer;if(r){var o=IR(t).pointerEl=new Bh[r.type](TR(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var r=IR(t).labelEl=new ks(TR(e.label));t.add(r),LR(r,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=IR(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var r=IR(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{x:e.label.x,y:e.label.y}),LR(r,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel(\\\"handle\\\"),a=n.get(\\\"status\\\");if(!o.get(\\\"show\\\")||!a||\\\"hide\\\"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Ph(o.get(\\\"icon\\\"),{cursor:\\\"move\\\",draggable:!0,onmousemove:function(t){se(t.event)},onmousedown:CR(this._onHandleDragMove,this,0,0),drift:CR(this._onHandleDragMove,this),ondragend:CR(this._onHandleDragEnd,this)}),i.add(r)),OR(r,n,!1),r.setStyle(o.getItemStyle(null,[\\\"color\\\",\\\"borderColor\\\",\\\"borderWidth\\\",\\\"opacity\\\",\\\"shadowColor\\\",\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\"]));var s=o.get(\\\"size\\\");Y(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,Ag(this,\\\"_doDispatchAxisPointer\\\",o.get(\\\"throttle\\\")||0,\\\"fixRate\\\"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){AR(this._axisPointerModel,!e&&this._moveAnimation,this._handle,PR(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(PR(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(PR(i)),IR(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:\\\"updateAxisPointer\\\",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get(\\\"value\\\");this._moveHandleToValue(t),this._api.dispatchAction({type:\\\"hideTip\\\"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),kg(this,\\\"_doDispatchAxisPointer\\\")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function AR(t,e,n,i){kR(IR(n).lastProp,i)||(IR(n).lastProp=i,e?rh(n,i,t):(n.stopAnimation(),n.attr(i)))}function kR(t,e){if(q(t)&&q(e)){var n=!0;return E(e,(function(e,i){n=n&&kR(t[i],e)})),!!n}return t===e}function LR(t,e){t[e.get([\\\"label\\\",\\\"show\\\"])?\\\"show\\\":\\\"hide\\\"]()}function PR(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function OR(t,e,n){var i=e.get(\\\"z\\\"),r=e.get(\\\"zlevel\\\");t&&t.traverse((function(t){\\\"group\\\"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}function RR(t){var e,n=t.get(\\\"type\\\"),i=t.getModel(n+\\\"Style\\\");return\\\"line\\\"===n?(e=i.getLineStyle()).fill=null:\\\"shadow\\\"===n&&((e=i.getAreaStyle()).stroke=null),e}function NR(t,e,n,i,r){var o=ER(n.get(\\\"value\\\"),e.axis,e.ecModel,n.get(\\\"seriesDataIndices\\\"),{precision:n.get([\\\"label\\\",\\\"precision\\\"]),formatter:n.get([\\\"label\\\",\\\"formatter\\\"])}),a=n.getModel(\\\"label\\\"),s=ip(a.get(\\\"padding\\\")||0),l=a.getFont(),u=cr(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],d=r.align;\\\"right\\\"===d&&(h[0]-=c),\\\"center\\\"===d&&(h[0]-=c/2);var f=r.verticalAlign;\\\"bottom\\\"===f&&(h[1]-=p),\\\"middle\\\"===f&&(h[1]-=p/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,p,i);var g=a.get(\\\"backgroundColor\\\");g&&\\\"auto\\\"!==g||(g=e.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"])),t.label={x:h[0],y:h[1],style:Uh(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function ER(t,e,n,i,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:a_(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};E(i,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&s.seriesData.push(r)})),X(a)?o=a.replace(\\\"{value}\\\",o):U(a)&&(o=a(s))}return o}function zR(t,e,n){var i=[1,0,0,1,0,0];return zi(i,i,n.rotation),Ei(i,i,n.position),Th([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function VR(t,e,n,i,r,o){var a=FM.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get([\\\"label\\\",\\\"margin\\\"]),NR(e,i,r,o,{position:zR(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function BR(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function FR(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function GR(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var WR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.grid,s=i.get(\\\"type\\\"),l=HR(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&\\\"none\\\"!==s){var h=RR(i),c=YR[s](o,u,l);c.style=h,t.graphicKey=c.type,t.pointer=c}VR(e,t,kM(a.model,n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=kM(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get([\\\"handle\\\",\\\"margin\\\"]);var r=zR(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection\u003C0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=HR(o,r).getOtherAxis(r).getGlobalExtent(),l=\\\"x\\\"===r.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:\\\"middle\\\"},{align:\\\"center\\\"}][l]}},e}(DR);function HR(t,e){var n={};return n[e.dim+\\\"AxisIndex\\\"]=e.index,t.getCartesian(n)}var YR={line:function(t,e,n){return{type:\\\"Line\\\",subPixelOptimize:!0,shape:BR([e,n[0]],[e,n[1]],UR(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:\\\"Rect\\\",shape:FR([e-i/2,n[0]],[i,r],UR(t))}}};function UR(t){return\\\"x\\\"===t.dim?0:1}var XR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"axisPointer\\\",e.defaultOption={show:\\\"auto\\\",z:50,type:\\\"line\\\",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\\\"#B9BEC9\\\",width:1,type:\\\"dashed\\\"},shadowStyle:{color:\\\"rgba(210,219,238,0.2)\\\"},label:{show:!0,formatter:null,precision:\\\"auto\\\",margin:3,color:\\\"#fff\\\",padding:[5,7,5,7],backgroundColor:\\\"auto\\\",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:\\\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\\\",size:45,margin:50,color:\\\"#333\\\",shadowBlur:3,shadowColor:\\\"#aaa\\\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Tp),ZR=So(),jR=E;function qR(t,e,n){if(!r.node){var i=e.getZr();ZR(i).records||(ZR(i).records={}),function(t,e){if(ZR(t).initialized)return;function n(n,i){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);jR(ZR(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}ZR(t).initialized=!0,n(\\\"click\\\",H($R,\\\"click\\\")),n(\\\"mousemove\\\",H($R,\\\"mousemove\\\")),n(\\\"globalout\\\",KR)}(i,e),(ZR(i).records[t]||(ZR(i).records[t]={})).handler=n}}function KR(t,e,n){t.handler(\\\"leave\\\",null,n)}function $R(t,e,n,i){e.handler(t,n,i)}function JR(t,e){if(!r.node){var n=e.getZr();(ZR(n).records||{})[t]&&(ZR(n).records[t]=null)}}var QR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent(\\\"tooltip\\\"),r=t.get(\\\"triggerOn\\\")||i&&i.get(\\\"triggerOn\\\")||\\\"mousemove|click\\\";qR(\\\"axisPointer\\\",n,(function(t,e,n){\\\"none\\\"!==r&&(\\\"leave\\\"===t||r.indexOf(t)>=0)&&n({type:\\\"updateAxisPointer\\\",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){JR(\\\"axisPointer\\\",e)},e.prototype.dispose=function(t,e){JR(\\\"axisPointer\\\",e)},e.type=\\\"axisPointer\\\",e}(gg);function tN(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=wo(o,t);if(null==a||a\u003C0||Y(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,c=u.dim,p=\\\"x\\\"===h||\\\"radius\\\"===h?1:0,d=o.mapDimension(c),f=[];f[p]=o.get(d,a),f[1-p]=o.get(o.getCalculationInfo(\\\"stackResultDimension\\\"),a),i=l.dataToPoint(f)||[]}else i=l.dataToPoint(o.getValues(z(l.dimensions,(function(t){return o.mapDimension(t)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var eN=So();function nN(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||W(n.dispatchAction,n),s=e.getComponent(\\\"axisPointer\\\").coordSysAxesInfo;if(s){sN(r)&&(r=tN({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=sN(r),u=o.axesInfo,h=s.axesInfo,c=\\\"leave\\\"===i||sN(r),p={},d={},f={list:[],map:{}},g={showPointer:H(rN,d),showTooltip:H(oN,f)};E(s.coordSysMap,(function(t,e){var n=l||t.containPoint(r);E(s.coordSysAxesInfo[e],(function(t,e){var i=t.axis,o=function(t,e){for(var n=0;n\u003C(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!c&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&iN(t,a,g,!1,p)}}))}));var y={};return E(h,(function(t,e){var n=t.linkGroup;n&&!d[e]&&E(n.axesInfo,(function(e,i){var r=d[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,aN(e),aN(t)))),y[t.key]=o}}))})),E(y,(function(t,e){iN(h[e],t,g,!0,p)})),function(t,e,n){var i=n.axesInfo=[];E(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status=\\\"show\\\"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status=\\\"hide\\\"),\\\"show\\\"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(d,h,p),function(t,e,n,i){if(sN(e)||!t.list.length)return void i({type:\\\"hideTip\\\"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:\\\"showTip\\\",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(f,r,t,a),function(t,e,n){var i=n.getZr(),r=\\\"axisPointerLastHighlights\\\",o=eN(i)[r]||{},a=eN(i)[r]={};E(t,(function(t,e){var n=t.axisPointerModel.option;\\\"show\\\"===n.status&&E(n.seriesDataIndices,(function(t){var e=t.seriesIndex+\\\" | \\\"+t.dataIndex;a[e]=t}))}));var s=[],l=[];E(o,(function(t,e){!a[e]&&l.push(t)})),E(a,(function(t,e){!o[e]&&s.push(t)})),l.length&&n.dispatchAction({type:\\\"downplay\\\",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:\\\"highlight\\\",escapeConnect:!0,notBlur:!0,batch:s})}(h,0,n),p}}function iN(t,e,n,i,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return E(e.seriesModels,(function(e,l){var u,h,c=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(c,t,n);h=p.dataIndices,u=p.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,\\\"category\\\"===n.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u&&isFinite(u)){var d=t-u,f=Math.abs(d);f\u003C=a&&((f\u003Ca||d>=0&&s\u003C0)&&(a=f,s=d,r=u,o.length=0),E(h,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&A(r,s[0]),!i&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function rN(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function oN(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=$M(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get([\\\"label\\\",\\\"precision\\\"]),formatter:s.get([\\\"label\\\",\\\"formatter\\\"])},seriesDataIndices:r.slice()})}}function aN(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+\\\"AxisIndex\\\"]=e.componentIndex,n.axisName=n[i+\\\"AxisName\\\"]=e.name,n.axisId=n[i+\\\"AxisId\\\"]=e.id,n}function sN(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function lN(t){QM.registerAxisPointerClass(\\\"CartesianAxisPointer\\\",WR),t.registerComponentModel(XR),t.registerComponentView(QR),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Y(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent(\\\"axisPointer\\\").coordSysAxesInfo=XM(t,e)})),t.registerAction({type:\\\"updateAxisPointer\\\",event:\\\"updateAxisPointer\\\",update:\\\":updateAxisPointer\\\"},nN)}var uN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis;\\\"angle\\\"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(e),u=i.get(\\\"type\\\");if(u&&\\\"none\\\"!==u){var h=RR(i),c=hN[u](o,a,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}var p=function(t,e,n,i,r){var o=e.axis,a=o.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=i.getRadiusAxis().getExtent();if(\\\"radius\\\"===o.dim){var p=[1,0,0,1,0,0];zi(p,p,s),Ei(p,p,[i.cx,i.cy]),l=Th([a,-r],p);var d=e.getModel(\\\"axisLabel\\\").get(\\\"rotate\\\")||0,f=FM.innerTextLayout(s,d*Math.PI/180,-1);u=f.textAlign,h=f.textVerticalAlign}else{var g=c[1];l=i.coordToPoint([g+r,a]);var y=i.cx,v=i.cy;u=Math.abs(l[0]-y)/g\u003C.3?\\\"center\\\":l[0]>y?\\\"left\\\":\\\"right\\\",h=Math.abs(l[1]-v)/g\u003C.3?\\\"middle\\\":l[1]>v?\\\"top\\\":\\\"bottom\\\"}return{position:l,align:u,verticalAlign:h}}(e,n,0,a,i.get([\\\"label\\\",\\\"margin\\\"]));NR(t,n,i,r,p)},e}(DR);var hN={line:function(t,e,n,i){return\\\"angle\\\"===t.dim?{type:\\\"Line\\\",shape:BR(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:\\\"Circle\\\",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var r=Math.max(1,t.getBandWidth()),o=Math.PI/180;return\\\"angle\\\"===t.dim?{type:\\\"Sector\\\",shape:GR(e.cx,e.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:\\\"Sector\\\",shape:GR(e.cx,e.cy,n-r/2,n+r/2,0,2*Math.PI)}}},cN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type=\\\"polar\\\",e.dependencies=[\\\"radiusAxis\\\",\\\"angleAxis\\\"],e.defaultOption={z:0,center:[\\\"50%\\\",\\\"50%\\\"],radius:\\\"80%\\\"},e}(Tp),pN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents(\\\"polar\\\",Co).models[0]},e.type=\\\"polarAxis\\\",e}(Tp);R(pN,c_);var dN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"angleAxis\\\",e}(pN),fN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"radiusAxis\\\",e}(pN),gN=function(t){function e(e,n){return t.call(this,\\\"radius\\\",e,n)||this}return n(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[\\\"radius\\\"===this.dim?0:1]},e}(W_);gN.prototype.dataToRadius=W_.prototype.dataToCoord,gN.prototype.radiusToData=W_.prototype.coordToData;var yN=So(),vN=function(t){function e(e,n){return t.call(this,\\\"angle\\\",e,n||[0,360])||this}return n(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[\\\"radius\\\"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]\u003C1)return 0;var o=i[0],a=t.dataToCoord(o+1)-t.dataToCoord(o),s=Math.abs(a),l=cr(null==o?\\\"\\\":o+\\\"\\\",e.getFont(),\\\"center\\\",\\\"top\\\"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var h=Math.max(0,Math.floor(u)),c=yN(t.model),p=c.lastAutoInterval,d=c.lastTickCount;return null!=p&&null!=d&&Math.abs(p-h)\u003C=1&&Math.abs(d-r)\u003C=1&&p>h?h=p:(c.lastTickCount=r,c.lastAutoInterval=h),h},e}(W_);vN.prototype.dataToAngle=W_.prototype.dataToCoord,vN.prototype.angleToData=W_.prototype.coordToData;var mN=[\\\"radius\\\",\\\"angle\\\"],xN=function(){function t(t){this.dimensions=mN,this.type=\\\"polar\\\",this.cx=0,this.cy=0,this._radiusAxis=new gN,this._angleAxis=new vN,this.axisPointerEnabled=!0,this.name=t||\\\"\\\",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this[\\\"_\\\"+t+\\\"Axis\\\"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale(\\\"ordinal\\\")[0]||this.getAxesByScale(\\\"time\\\")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&\\\"auto\\\"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l\u003Co?1:-1;l\u003Co||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i-1e-4,o=this.r,a=this.r0;return r\u003C=o*o&&r>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return _N(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return _N(e)===this?this.pointToData(n):null},t}();function _N(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}function bN(t,e){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();E(h_(e,\\\"radius\\\"),(function(t){r.scale.unionExtentFromData(e,t)})),E(h_(e,\\\"angle\\\"),(function(t){i.scale.unionExtentFromData(e,t)}))}})),i_(i.scale,i.model),i_(r.scale,r.model),\\\"category\\\"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function wN(t,e){if(t.type=e.get(\\\"type\\\"),t.scale=r_(e),t.onBand=e.get(\\\"boundaryGap\\\")&&\\\"category\\\"===t.type,t.inverse=e.get(\\\"inverse\\\"),function(t){return\\\"angleAxis\\\"===t.mainType}(e)){t.inverse=t.inverse!==e.get(\\\"clockwise\\\");var n=e.get(\\\"startAngle\\\");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var SN={dimensions:mN,create:function(t,e){var n=[];return t.eachComponent(\\\"polar\\\",(function(t,i){var r=new xN(i+\\\"\\\");r.update=bN;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=t.findAxisModel(\\\"radiusAxis\\\"),l=t.findAxisModel(\\\"angleAxis\\\");wN(o,s),wN(a,l),function(t,e,n){var i=e.get(\\\"center\\\"),r=n.getWidth(),o=n.getHeight();t.cx=Er(i[0],r),t.cy=Er(i[1],o);var a=t.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get(\\\"radius\\\");null==l?l=[0,\\\"100%\\\"]:Y(l)||(l=[0,l]);var u=[Er(l[0],s),Er(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(r,t,e),n.push(r),t.coordinateSystem=r,r.model=t})),t.eachSeries((function(t){if(\\\"polar\\\"===t.get(\\\"coordinateSystem\\\")){var e=t.getReferringComponents(\\\"polar\\\",Co).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},MN=[\\\"axisLine\\\",\\\"axisLabel\\\",\\\"axisTick\\\",\\\"minorTick\\\",\\\"splitLine\\\",\\\"minorSplitLine\\\",\\\"splitArea\\\"];function IN(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function TN(t){return t.getRadiusAxis().inverse?0:1}function CN(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)\u003C1e-4&&t.pop()}var DN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass=\\\"PolarAxisPointer\\\",n}return n(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get(\\\"show\\\")){var n=t.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=z(n.getViewLabels(),(function(t){t=T(t);var e=n.scale,i=\\\"ordinal\\\"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(i),t}));CN(s),CN(o),E(MN,(function(e){!t.get([e,\\\"show\\\"])||n.scale.isBlank()&&\\\"axisLine\\\"!==e||AN[e](this.group,t,i,o,a,r,s)}),this)}},e.type=\\\"angleAxis\\\",e}(QM),AN={axisLine:function(t,e,n,i,r,o){var a,s=e.getModel([\\\"axisLine\\\",\\\"lineStyle\\\"]),l=TN(n),u=l?0:1;(a=0===o[u]?new hu({shape:{cx:n.cx,cy:n.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Au({shape:{cx:n.cx,cy:n.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,i,r,o){var a=e.getModel(\\\"axisTick\\\"),s=(a.get(\\\"inside\\\")?-1:1)*a.get(\\\"length\\\"),l=o[TN(n)],u=z(i,(function(t){return new zu({shape:IN(n,[l,l+s],t.coord)})}));t.add(wh(u,{style:k(a.getModel(\\\"lineStyle\\\").getLineStyle(),{stroke:e.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"])})}))},minorTick:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel(\\\"axisTick\\\"),s=e.getModel(\\\"minorTick\\\"),l=(a.get(\\\"inside\\\")?-1:1)*s.get(\\\"length\\\"),u=o[TN(n)],h=[],c=0;c\u003Cr.length;c++)for(var p=0;p\u003Cr[c].length;p++)h.push(new zu({shape:IN(n,[u,u+l],r[c][p].coord)}));t.add(wh(h,{style:k(s.getModel(\\\"lineStyle\\\").getLineStyle(),k(a.getLineStyle(),{stroke:e.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"])}))}))}},axisLabel:function(t,e,n,i,r,o,a){var s=e.getCategories(!0),l=e.getModel(\\\"axisLabel\\\"),u=l.get(\\\"margin\\\"),h=e.get(\\\"triggerEvent\\\");E(a,(function(i,r){var a=l,c=i.tickValue,p=o[TN(n)],d=n.coordToPoint([p+u,i.coord]),f=n.cx,g=n.cy,y=Math.abs(d[0]-f)/p\u003C.3?\\\"center\\\":d[0]>f?\\\"left\\\":\\\"right\\\",v=Math.abs(d[1]-g)/p\u003C.3?\\\"middle\\\":d[1]>g?\\\"top\\\":\\\"bottom\\\";if(s&&s[c]){var m=s[c];q(m)&&m.textStyle&&(a=new dc(m.textStyle,l,l.ecModel))}var x=new ks({silent:FM.isLabelSilent(e),style:Uh(a,{x:d[0],y:d[1],fill:a.getTextColor()||e.get([\\\"axisLine\\\",\\\"lineStyle\\\",\\\"color\\\"]),text:i.formattedLabel,align:y,verticalAlign:v})});if(t.add(x),h){var _=FM.makeAxisEventDataBase(e);_.targetType=\\\"axisLabel\\\",_.value=i.rawLabel,Hs(x).eventData=_}}),this)},splitLine:function(t,e,n,i,r,o){var a=e.getModel(\\\"splitLine\\\").getModel(\\\"lineStyle\\\"),s=a.get(\\\"color\\\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h\u003Ci.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new zu({shape:IN(n,o,i[h].coord)}))}for(h=0;h\u003Cu.length;h++)t.add(wh(u[h],{style:k({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:e.get(\\\"z\\\")}))},minorSplitLine:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel(\\\"minorSplitLine\\\").getModel(\\\"lineStyle\\\"),s=[],l=0;l\u003Cr.length;l++)for(var u=0;u\u003Cr[l].length;u++)s.push(new zu({shape:IN(n,o,r[l][u].coord)}));t.add(wh(s,{style:a.getLineStyle(),silent:!0,z:e.get(\\\"z\\\")}))}},splitArea:function(t,e,n,i,r,o){if(i.length){var a=e.getModel(\\\"splitArea\\\").getModel(\\\"areaStyle\\\"),s=a.get(\\\"color\\\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-i[0].coord*h,p=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),f=e.get(\\\"clockwise\\\"),g=1,y=i.length;g\u003C=y;g++){var v=g===y?i[0].coord:i[g].coord,m=l++%s.length;u[m]=u[m]||[],u[m].push(new Cu({shape:{cx:n.cx,cy:n.cy,r0:p,r:d,startAngle:c,endAngle:-v*h,clockwise:f},silent:!0})),c=-v*h}for(g=0;g\u003Cu.length;g++)t.add(wh(u[g],{style:k({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},kN=[\\\"axisLine\\\",\\\"axisTickLabel\\\",\\\"axisName\\\"],LN=[\\\"splitLine\\\",\\\"splitArea\\\",\\\"minorSplitLine\\\"],PN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass=\\\"PolarAxisPointer\\\",n}return n(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get(\\\"show\\\")){var n=this._axisGroup,i=this._axisGroup=new Cr;this.group.add(i);var r=t.axis,o=r.polar,a=o.getAngleAxis(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=a.getExtent()[0],h=r.getExtent(),c=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel(\\\"axisLabel\\\").get(\\\"rotate\\\"),z2:1}}(o,t,u),p=new FM(t,c);E(kN,p.add,p),i.add(p.getGroup()),Ah(n,i,t),E(LN,(function(e){t.get([e,\\\"show\\\"])&&!r.scale.isBlank()&&ON[e](this.group,t,o,u,h,s,l)}),this)}},e.type=\\\"radiusAxis\\\",e}(QM),ON={splitLine:function(t,e,n,i,r,o){var a=e.getModel(\\\"splitLine\\\").getModel(\\\"lineStyle\\\"),s=a.get(\\\"color\\\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h\u003Co.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new hu({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[h].coord,0)}}))}for(h=0;h\u003Cu.length;h++)t.add(wh(u[h],{style:k({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,r,o,a){if(a.length){for(var s=e.getModel(\\\"minorSplitLine\\\").getModel(\\\"lineStyle\\\"),l=[],u=0;u\u003Ca.length;u++)for(var h=0;h\u003Ca[u].length;h++)l.push(new hu({shape:{cx:n.cx,cy:n.cy,r:a[u][h].coord}}));t.add(wh(l,{style:k({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,r,o){if(o.length){var a=e.getModel(\\\"splitArea\\\").getModel(\\\"areaStyle\\\"),s=a.get(\\\"color\\\"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c\u003Co.length;c++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new Cu({shape:{cx:n.cx,cy:n.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c\u003Cu.length;c++)t.add(wh(u[c],{style:k({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};function RN(t){return t.get(\\\"stack\\\")||\\\"__ec_stack_\\\"+t.seriesIndex}function NN(t,e){return e.dim+t.model.componentIndex}function EN(t,e,n){var i={},r=function(t){var e={};E(t,(function(t,n){var i=t.getData(),r=t.coordinateSystem,o=r.getBaseAxis(),a=NN(r,o),s=o.getExtent(),l=\\\"category\\\"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:\\\"20%\\\",gap:\\\"30%\\\",stacks:{}},h=u.stacks;e[a]=u;var c=RN(t);h[c]||u.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var p=Er(t.get(\\\"barWidth\\\"),l),d=Er(t.get(\\\"barMaxWidth\\\"),l),f=t.get(\\\"barGap\\\"),g=t.get(\\\"barCategoryGap\\\");p&&!h[c].width&&(p=Math.min(u.remainedWidth,p),h[c].width=p,u.remainedWidth-=p),d&&(h[c].maxWidth=d),null!=f&&(u.gap=f),null!=g&&(u.categoryGap=g)}));var n={};return E(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=Er(t.categoryGap,r),a=Er(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),E(i,(function(t,e){var n=t.maxWidth;n&&n\u003Cu&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var h,c=0;E(i,(function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+a)})),h&&(c-=h.width*a);var p=-c/2;E(i,(function(t,i){n[e][i]=n[e][i]||{offset:p,width:t.width},p+=t.width*(1+a)}))})),n}(B(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&\\\"polar\\\"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if(\\\"polar\\\"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=NN(n,o),s=RN(t),l=r[a][s],u=l.offset,h=l.width,c=n.getOtherAxis(o),p=t.coordinateSystem.cx,d=t.coordinateSystem.cy,f=t.get(\\\"barMinHeight\\\")||0,g=t.get(\\\"barMinAngle\\\")||0;i[s]=i[s]||[];for(var y=e.mapDimension(c.dim),v=e.mapDimension(o.dim),m=ex(e,y),x=\\\"radius\\\"!==o.dim||!t.get(\\\"roundCap\\\",!0),_=c.dataToCoord(0),b=0,w=e.count();b\u003Cw;b++){var S=e.get(y,b),M=e.get(v,b),I=S>=0?\\\"p\\\":\\\"n\\\",T=_;m&&(i[s][M]||(i[s][M]={p:_,n:_}),T=i[s][M][I]);var C=void 0,D=void 0,A=void 0,k=void 0;if(\\\"radius\\\"===c.dim){var L=c.dataToCoord(S)-_,P=o.dataToCoord(M);Math.abs(L)\u003Cf&&(L=(L\u003C0?-1:1)*f),C=T,D=T+L,k=(A=P-u)-h,m&&(i[s][M][I]=D)}else{var O=c.dataToCoord(S,x)-_,R=o.dataToCoord(M);Math.abs(O)\u003Cg&&(O=(O\u003C0?-1:1)*g),D=(C=R+u)+h,A=T,k=T+O,m&&(i[s][M][I]=k)}e.setItemLayout(b,{cx:p,cy:d,r0:C,r:D,startAngle:-A*Math.PI/180,endAngle:-k*Math.PI/180,clockwise:A>=k})}}}))}var zN={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},VN={splitNumber:5},BN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"polar\\\",e}(gg);function FN(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[\\\"vertical\\\"===a?u.vertical[o]:l[0],\\\"horizontal\\\"===a?u.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get([\\\"axisTick\\\",\\\"inside\\\"])&&(r.tickDirection=-r.tickDirection),it(e.labelInside,t.get([\\\"axisLabel\\\",\\\"inside\\\"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=t.get([\\\"axisLabel\\\",\\\"rotate\\\"])),r.labelRotation=\\\"top\\\"===o?-h:h,r.z2=1,r}var GN=[\\\"axisLine\\\",\\\"axisTickLabel\\\",\\\"axisName\\\"],WN=[\\\"splitArea\\\",\\\"splitLine\\\"],HN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass=\\\"SingleAxisPointer\\\",n}return n(e,t),e.prototype.render=function(e,n,i,r){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new Cr;var s=FN(e),l=new FM(e,s);E(GN,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),E(WN,(function(t){e.get([t,\\\"show\\\"])&&YN[t](this,this.group,this._axisGroup,e)}),this),Ah(a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)},e.prototype.remove=function(){nI(this)},e.type=\\\"singleAxis\\\",e}(QM),YN={splitLine:function(t,e,n,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel(\\\"splitLine\\\"),a=o.getModel(\\\"lineStyle\\\"),s=a.get(\\\"color\\\");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],c=0,p=r.getTicksCoords({tickModel:o}),d=[],f=[],g=0;g\u003Cp.length;++g){var y=r.toGlobalCoord(p[g].coord);u?(d[0]=y,d[1]=l.y,f[0]=y,f[1]=l.y+l.height):(d[0]=l.x,d[1]=y,f[0]=l.x+l.width,f[1]=y);var v=c++%s.length;h[v]=h[v]||[],h[v].push(new zu({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},silent:!0}))}var m=a.getLineStyle([\\\"color\\\"]);for(g=0;g\u003Ch.length;++g)e.add(wh(h[g],{style:k({stroke:s[g%s.length]},m),silent:!0}))}},splitArea:function(t,e,n,i){eI(t,n,i,i)}},UN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.getCoordSysModel=function(){return this},e.type=\\\"singleAxis\\\",e.layoutMode=\\\"box\\\",e.defaultOption={left:\\\"5%\\\",top:\\\"5%\\\",right:\\\"5%\\\",bottom:\\\"5%\\\",type:\\\"value\\\",position:\\\"bottom\\\",orient:\\\"horizontal\\\",axisLine:{show:!0,lineStyle:{width:1,type:\\\"solid\\\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:\\\"auto\\\"},splitLine:{show:!0,lineStyle:{type:\\\"dashed\\\",opacity:.2}}},e}(Tp);R(UN,c_.prototype);var XN=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||\\\"value\\\",a.position=o||\\\"bottom\\\",a}return n(e,t),e.prototype.isHorizontal=function(){var t=this.position;return\\\"top\\\"===t||\\\"bottom\\\"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(W_),ZN=[\\\"single\\\"],jN=function(){function t(t,e,n){this.type=\\\"single\\\",this.dimension=\\\"single\\\",this.dimensions=ZN,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,r=new XN(i,r_(t),[0,0],t.get(\\\"type\\\"),t.get(\\\"position\\\")),o=\\\"category\\\"===r.type;r.onBand=o&&t.get(\\\"boundaryGap\\\"),r.inverse=t.get(\\\"inverse\\\"),r.orient=t.get(\\\"orient\\\"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();E(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),i_(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=xp({left:t.get(\\\"left\\\"),top:t.get(\\\"top\\\"),right:t.get(\\\"right\\\"),bottom:t.get(\\\"bottom\\\"),width:t.get(\\\"width\\\"),height:t.get(\\\"height\\\")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return\\\"horizontal\\\"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]\u003C=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]\u003C=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[\\\"horizontal\\\"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],r=\\\"horizontal\\\"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){return qN(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return qN(e)===this?this.pointToData(n):null},t}();function qN(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var KN={create:function(t,e){var n=[];return t.eachComponent(\\\"singleAxis\\\",(function(i,r){var o=new jN(i,t,e);o.name=\\\"single_\\\"+r,o.resize(i,e),i.coordinateSystem=o,n.push(o)})),t.eachSeries((function(t){if(\\\"singleAxis\\\"===t.get(\\\"coordinateSystem\\\")){var e=t.getReferringComponents(\\\"singleAxis\\\",Co).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n},dimensions:ZN},$N=[\\\"x\\\",\\\"y\\\"],JN=[\\\"width\\\",\\\"height\\\"],QN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.coordinateSystem,s=nE(a,1-eE(o)),l=a.dataToPoint(e)[0],u=i.get(\\\"type\\\");if(u&&\\\"none\\\"!==u){var h=RR(i),c=tE[u](o,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}VR(e,t,FN(n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=FN(e,{labelInside:!1});i.labelMargin=n.get([\\\"handle\\\",\\\"margin\\\"]);var r=zR(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection\u003C0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=eE(r),s=nE(o,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=nE(o,1-a),h=(u[1]+u[0])/2,c=[h,h];return c[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:\\\"middle\\\"}}},e}(DR),tE={line:function(t,e,n){return{type:\\\"Line\\\",subPixelOptimize:!0,shape:BR([e,n[0]],[e,n[1]],eE(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:\\\"Rect\\\",shape:FR([e-i/2,n[0]],[i,r],eE(t))}}};function eE(t){return t.isHorizontal()?0:1}function nE(t,e){var n=t.getRect();return[n[$N[e]],n[$N[e]]+n[JN[e]]]}var iE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"single\\\",e}(gg);var rE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(e,n,i){var r=Sp(e);t.prototype.init.apply(this,arguments),oE(e,r)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),oE(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type=\\\"calendar\\\",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:\\\"horizontal\\\",splitLine:{show:!0,lineStyle:{color:\\\"#000\\\",width:1,type:\\\"solid\\\"}},itemStyle:{color:\\\"#fff\\\",borderWidth:1,borderColor:\\\"#ccc\\\"},dayLabel:{show:!0,firstDay:0,position:\\\"start\\\",margin:\\\"50%\\\",color:\\\"#000\\\"},monthLabel:{show:!0,position:\\\"start\\\",margin:5,align:\\\"center\\\",formatter:null,color:\\\"#000\\\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\\\"#ccc\\\",fontFamily:\\\"sans-serif\\\",fontWeight:\\\"bolder\\\",fontSize:20}},e}(Tp);function oE(t,e){var n,i=t.cellSize;1===(n=Y(i)?i:t.cellSize=[i,i]).length&&(n[1]=n[0]);var r=z([0,1],(function(t){return function(t,e){return null!=t[yp[e][0]]||null!=t[yp[e][1]]&&null!=t[yp[e][2]]}(e,t)&&(n[t]=\\\"auto\\\"),null!=n[t]&&\\\"auto\\\"!==n[t]}));wp(t,e,{type:\\\"box\\\",ignoreSize:r})}var aE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,s,a,i),this._renderWeekText(t,s,o,a,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel(\\\"itemStyle\\\").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=e.start.time;s\u003C=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new Cs({shape:{x:l[0],y:l[1],width:o,height:a},cursor:\\\"default\\\",style:r});n.add(u)}},e.prototype._renderLines=function(t,e,n,i){var r=this,o=t.coordinateSystem,a=t.getModel([\\\"splitLine\\\",\\\"lineStyle\\\"]).getLineStyle(),s=t.get([\\\"splitLine\\\",\\\"show\\\"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,h=0;u.time\u003C=e.end.time;h++){p(u.formatedDate),0===h&&(u=o.getDateInfo(e.start.y+\\\"-\\\"+e.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=o.getDateInfo(c)}function p(e){r._firstDayOfMonth.push(o.getDateInfo(e)),r._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}p(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r=\\\"horizontal\\\"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new Ru({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,r=i.getDateInfo(e),o=[],a=0;a\u003C7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l[\\\"horizontal\\\"===n?\\\"bl\\\":\\\"tr\\\"]}return o},e.prototype._formatterLabel=function(t,e){return X(t)&&t?(n=t,E(e,(function(t,e){n=n.replace(\\\"{\\\"+e+\\\"}\\\",i?ap(t):t)})),n):U(t)?t(e):e.nameMap;var n,i},e.prototype._yearTextPositionControl=function(t,e,n,i,r){var o=e[0],a=e[1],s=[\\\"center\\\",\\\"bottom\\\"];\\\"bottom\\\"===i?(a+=r,s=[\\\"center\\\",\\\"top\\\"]):\\\"left\\\"===i?o-=r:\\\"right\\\"===i?(o+=r,s=[\\\"center\\\",\\\"top\\\"]):a-=r;var l=0;return\\\"left\\\"!==i&&\\\"right\\\"!==i||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var r=t.getModel(\\\"yearLabel\\\");if(r.get(\\\"show\\\")){var o=r.get(\\\"margin\\\"),a=r.get(\\\"position\\\");a||(a=\\\"horizontal\\\"!==n?\\\"top\\\":\\\"left\\\");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h=\\\"horizontal\\\"===n?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},p=e.start.y;+e.end.y>+e.start.y&&(p=p+\\\"-\\\"+e.end.y);var d=r.get(\\\"formatter\\\"),f={start:e.start.y,end:e.end.y,nameMap:p},g=this._formatterLabel(d,f),y=new ks({z2:30,style:Uh(r,{text:g})});y.attr(this._yearTextPositionControl(y,c[a],n,a,o)),i.add(y)}},e.prototype._monthTextPositionControl=function(t,e,n,i,r){var o=\\\"left\\\",a=\\\"top\\\",s=t[0],l=t[1];return\\\"horizontal\\\"===n?(l+=r,e&&(o=\\\"center\\\"),\\\"start\\\"===i&&(a=\\\"bottom\\\")):(s+=r,e&&(a=\\\"middle\\\"),\\\"start\\\"===i&&(o=\\\"right\\\")),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n,i){var r=t.getModel(\\\"monthLabel\\\");if(r.get(\\\"show\\\")){var o=r.get(\\\"nameMap\\\"),a=r.get(\\\"margin\\\"),s=r.get(\\\"position\\\"),l=r.get(\\\"align\\\"),u=[this._tlpoints,this._blpoints];o&&!X(o)||(o&&(e=Mc(o)||e),o=e.get([\\\"time\\\",\\\"monthAbbr\\\"])||[]);var h=\\\"start\\\"===s?0:1,c=\\\"horizontal\\\"===n?0:1;a=\\\"start\\\"===s?-a:a;for(var p=\\\"center\\\"===l,d=0;d\u003Cu[h].length-1;d++){var f=u[h][d].slice(),g=this._firstDayOfMonth[d];if(p){var y=this._firstDayPoints[d];f[c]=(y[c]+u[0][d+1][c])/2}var v=r.get(\\\"formatter\\\"),m=o[+g.m-1],x={yyyy:g.y,yy:(g.y+\\\"\\\").slice(2),MM:g.m,M:+g.m,nameMap:m},_=this._formatterLabel(v,x),b=new ks({z2:30,style:A(Uh(r,{text:_}),this._monthTextPositionControl(f,p,n,s,a))});i.add(b)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,r){var o=\\\"center\\\",a=\\\"middle\\\",s=t[0],l=t[1],u=\\\"start\\\"===n;return\\\"horizontal\\\"===e?(s=s+i+(u?1:-1)*r[0]/2,o=u?\\\"right\\\":\\\"left\\\"):(l=l+i+(u?1:-1)*r[1]/2,a=u?\\\"bottom\\\":\\\"top\\\"),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,i,r){var o=t.getModel(\\\"dayLabel\\\");if(o.get(\\\"show\\\")){var a=t.coordinateSystem,s=o.get(\\\"position\\\"),l=o.get(\\\"nameMap\\\"),u=o.get(\\\"margin\\\"),h=a.getFirstDayOfWeek();if(!l||X(l))l&&(e=Mc(l)||e),l=e.get([\\\"time\\\",\\\"dayOfWeekShort\\\"])||z(e.get([\\\"time\\\",\\\"dayOfWeekAbbr\\\"]),(function(t){return t[0]}));var c=a.getNextNDay(n.end.time,7-n.lweek).time,p=[a.getCellWidth(),a.getCellHeight()];u=Er(u,Math.min(p[1],p[0])),\\\"start\\\"===s&&(c=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var d=0;d\u003C7;d++){var f,g=a.getNextNDay(c,d),y=a.dataToRect([g.time],!1).center;f=Math.abs((d+h)%7);var v=new ks({z2:30,style:A(Uh(o,{text:l[f]}),this._weekTextPositionControl(y,i,s,u,p))});r.add(v)}}},e.type=\\\"calendar\\\",e}(gg),sE=864e5,lE=function(){function t(e,n,i){this.type=\\\"calendar\\\",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:\\\"time\\\",type:\\\"time\\\"},\\\"value\\\"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=jr(t)).getFullYear(),n=t.getMonth()+1,i=n\u003C10?\\\"0\\\"+n:\\\"\\\"+n,r=t.getDate(),o=r\u003C10?\\\"0\\\"+r:\\\"\\\"+r,a=t.getDay();return{y:e+\\\"\\\",m:i,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+\\\"-\\\"+i+\\\"-\\\"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel(\\\"dayLabel\\\").get(\\\"firstDay\\\"),this._orient=this._model.get(\\\"orient\\\"),this._lineWidth=this._model.getModel(\\\"itemStyle\\\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=[\\\"width\\\",\\\"height\\\"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a=\\\"horizontal\\\"===this._orient?[n,7]:[7,n];E([0,1],(function(t){u(r,t)&&(o[i[t]]=r[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=xp(o,s);function u(t,e){return null!=t[e]&&\\\"auto\\\"!==t[e]}E([0,1],(function(t){u(r,t)||(r[t]=l[i[t]]/a[t])})),this._sw=r[0],this._sh=r[1]},t.prototype.dataToPoint=function(t,e){Y(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time\u003Ci.end.time+sE))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,r]).nthWeek;return\\\"vertical\\\"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return\\\"vertical\\\"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=uE(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=uE(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn(\\\"Not implemented.\\\"),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get(\\\"range\\\");if(Y(e)&&1===e.length&&(e=e[0]),Y(e))t=e;else{var n=e.toString();if(/^\\\\d{4}$/.test(n)&&(t=[n+\\\"-01-01\\\",n+\\\"-12-31\\\"]),/^\\\\d{4}[\\\\/|-]\\\\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);t=[i.formatedDate,o.formatedDate]}/^\\\\d{4}[\\\\/|-]\\\\d{1,2}[\\\\/|-]\\\\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/sE)-Math.floor(n[0].time/sE)+1,r=new Date(n[0].time),o=r.getDate(),a=n[1].date.getDate();r.setDate(o+i-1);var s=r.getDate();if(s!==a)for(var l=r.getTime()-n[1].time>0?1:-1;(s=r.getDate())!==a&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(s-l);var u=Math.floor((i+n[0].day+6)/7),h=e?1-u:u-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,nthWeek:h,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e\u003Ci.fweek||t===i.weeks&&e>i.lweek)return null;var r=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},t.create=function(e,n){var i=[];return e.eachComponent(\\\"calendar\\\",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeries((function(t){\\\"calendar\\\"===t.get(\\\"coordinateSystem\\\")&&(t.coordinateSystem=i[t.get(\\\"calendarIndex\\\")||0])})),i},t.dimensions=[\\\"time\\\",\\\"value\\\"],t}();function uE(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}function hE(t,e){var n;return E(e,(function(e){null!=t[e]&&\\\"auto\\\"!==t[e]&&(n=!0)})),n}var cE=[\\\"transition\\\",\\\"enterFrom\\\",\\\"leaveTo\\\"],pE=cE.concat([\\\"enterAnimation\\\",\\\"updateAnimation\\\",\\\"leaveAnimation\\\"]);function dE(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?cE:pE,r=0;r\u003Ci.length;r++){var o=i[r];null==t[o]&&null!=e[o]&&(t[o]=e[o])}}var fE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return n(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,o=[];this._flatten(i,o,null);var a=yo(r,o,\\\"normalMerge\\\"),s=this._elOptionsToUpdate=[];E(a,(function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var i=A({},n),r=t[e],o=n.$action||\\\"merge\\\";\\\"merge\\\"===o?r?(C(r,i,!0),wp(r,i,{ignoreSize:!0}),Mp(n,r),dE(n,r),dE(n,r,\\\"shape\\\"),dE(n,r,\\\"style\\\"),dE(n,r,\\\"extra\\\"),n.clipPath=r.clipPath):t[e]=i:\\\"replace\\\"===o?t[e]=i:\\\"remove\\\"===o&&r&&(t[e]=null)}(r,e,n),function(t,e){if(t&&(t.hv=e.hv=[hE(e,[\\\"left\\\",\\\"right\\\"]),hE(e,[\\\"top\\\",\\\"bottom\\\"])],\\\"group\\\"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[e],n))}),this),n.elements=B(r,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){E(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;\\\"group\\\"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type=\\\"graphic\\\",e.defaultOption={elements:[]},e}(Tp),gE={path:null,compoundPath:null,group:Cr,image:_s,text:ks},yE=So(),vE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this._elMap=ft()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group,r=t.get(\\\"z\\\"),o=t.get(\\\"zlevel\\\");E(e,(function(e){var a=xo(e.id,null),s=null!=a?n.get(a):null,l=xo(e.parentId,null),u=null!=l?n.get(l):i,h=e.type,c=e.style;\\\"text\\\"===h&&c&&e.hv&&e.hv[1]&&(c.textVerticalAlign=c.textBaseline=c.verticalAlign=c.align=null);var p=e.textContent,d=e.textConfig;if(c&&TO(c,h,!!d,!!p)){var f=CO(c,h,!0);!d&&f.textConfig&&(d=e.textConfig=f.textConfig),!p&&f.textContent&&(p=f.textContent)}var g=function(t){return t=A({},t),E([\\\"id\\\",\\\"parentId\\\",\\\"$action\\\",\\\"hv\\\",\\\"bounding\\\",\\\"textContent\\\",\\\"clipPath\\\"].concat(gp),(function(e){delete t[e]})),t}(e);var y=e.$action||\\\"merge\\\",v=\\\"merge\\\"===y,m=\\\"replace\\\"===y;if(v){var x=s;(T=!s)?x=xE(a,u,e.type,n):(x&&(yE(x).isNew=!1),jO(x)),x&&(EO(x,g,t,{isInit:T}),bE(x,e,r,o))}else if(m){_E(s,e,n,t);var _=xE(a,u,e.type,n);_&&(EO(_,g,t,{isInit:!0}),bE(_,e,r,o))}else\\\"remove\\\"===y&&(zO(s,e),_E(s,e,n,t));var b=n.get(a);if(b&&p)if(v){var w=b.getTextContent();w?w.attr(p):b.setTextContent(new ks(p))}else m&&b.setTextContent(new ks(p));if(b){var S=e.clipPath;if(S){var M=S.type,I=void 0,T=!1;if(v){var C=b.getClipPath();I=(T=!C||yE(C).type!==M)?mE(M):C}else m&&(T=!0,I=mE(M));b.setClipPath(I),EO(I,S,t,{isInit:T}),qO(I,S.keyframeAnimation,t)}var D=yE(b);b.setTextConfig(d),D.option=e,function(t,e,n){var i=Hs(t).eventData;t.silent||t.ignore||i||(i=Hs(t).eventData={componentType:\\\"graphic\\\",componentIndex:e.componentIndex,name:t.name});i&&(i.info=n.info)}(b,t,e),Eh({el:b,componentModel:t,itemName:b.name,itemTooltipOption:e.tooltip}),qO(b,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=e.getWidth(),a=e.getHeight(),s=[\\\"x\\\",\\\"y\\\"],l=0;l\u003Cn.length;l++){if((f=null!=(d=xo((p=n[l]).id,null))?r.get(d):null)&&f.isGroup){var u=(g=f.parent)===i,h=yE(f),c=yE(g);h.width=Er(h.option.width,u?o:c.width)||0,h.height=Er(h.option.height,u?a:c.height)||0}}for(l=n.length-1;l>=0;l--){var p,d,f;if(f=null!=(d=xo((p=n[l]).id,null))?r.get(d):null){var g=f.parent,y=(c=yE(g),{}),v=_p(f,p,g===i?{width:o,height:a}:{width:c.width,height:c.height},null,{hv:p.hv,boundingMode:p.bounding},y);if(!yE(f).isNew&&v){for(var m=p.transition,x={},_=0;_\u003Cs.length;_++){var b=s[_],w=y[b];m&&(BO(m)||P(m,b)>=0)?x[b]=w:f[b]=w}rh(f,x,t,0)}else f.attr(y)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){_E(n,yE(n).option,e,t._lastGraphicModel)})),this._elMap=ft()},e.prototype.dispose=function(){this._clear()},e.type=\\\"graphic\\\",e}(gg);function mE(t){var e=mt(gE,t)?gE[t]:mh(t);var n=new e({});return yE(n).type=t,n}function xE(t,e,n,i){var r=mE(n);return e.add(r),i.set(t,r),yE(r).id=t,yE(r).isNew=!0,r}function _E(t,e,n,i){t&&t.parent&&(\\\"group\\\"===t.type&&t.traverse((function(t){_E(t,e,n,i)})),VO(t,e,i),n.removeKey(yE(t).id))}function bE(t,e,n,i){if(!t.isGroup){var r=t;r.cursor=rt(e.cursor,da.prototype.cursor),r.z=rt(e.z,n||0),r.zlevel=rt(e.zlevel,i||0);var o=e.z2;null!=o&&(r.z2=o||0)}E(G(e),(function(n){var i=e[n];0===n.indexOf(\\\"on\\\")&&U(i)&&(t[n]=i)})),t.draggable=e.draggable,null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var wE=[\\\"x\\\",\\\"y\\\",\\\"radius\\\",\\\"angle\\\",\\\"single\\\"],SE=[\\\"cartesian2d\\\",\\\"polar\\\",\\\"singleAxis\\\"];function ME(t){return t+\\\"Axis\\\"}function IE(t,e){var n,i=ft(),r=[],o=ft();t.eachComponent({mainType:\\\"dataZoom\\\",query:e},(function(t){o.get(t.uid)||s(t)}));do{n=!1,t.eachComponent(\\\"dataZoom\\\",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,n){var r=i.get(t);r&&r[n]&&(e=!0)})),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),r.push(t),t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return r}function TE(t){var e=t.ecModel,n={infoList:[],infoMap:ft()};return t.eachTargetAxis((function(t,i){var r=e.getComponent(ME(t),i);if(r){var o=r.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(r)}}})),n}var CE=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),DE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=[\\\"percent\\\",\\\"percent\\\"],n}return n(e,t),e.prototype.init=function(t,e,n){var i=AE(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=AE(t);C(this.option,t,!0),C(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;E([[\\\"start\\\",\\\"startValue\\\"],[\\\"end\\\",\\\"endValue\\\"]],(function(t,i){\\\"value\\\"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get(\\\"orient\\\",!0),e=this._targetAxisInfoMap=ft();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||\\\"horizontal\\\",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return E(wE,(function(n){var i=this.getReferringComponents(ME(n),Do);if(i.specified){e=!0;var r=new CE;E(i.models,(function(t){r.add(t.componentIndex)})),t.set(n,r)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var r=\\\"vertical\\\"===e?\\\"y\\\":\\\"x\\\";o(n.findComponents({mainType:r+\\\"Axis\\\"}),r)}i&&o(n.findComponents({mainType:\\\"singleAxis\\\",filter:function(t){return t.get(\\\"orient\\\",!0)===e}}),\\\"single\\\");function o(e,n){var r=e[0];if(r){var o=new CE;if(o.add(r.componentIndex),t.set(n,o),i=!1,\\\"x\\\"===n||\\\"y\\\"===n){var a=r.getReferringComponents(\\\"grid\\\",Co).models[0];a&&E(e,(function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents(\\\"grid\\\",Co).models[0]&&o.add(t.componentIndex)}))}}}i&&E(wE,(function(e){if(i){var r=n.findComponents({mainType:ME(e),filter:function(t){return\\\"category\\\"===t.get(\\\"type\\\",!0)}});if(r[0]){var o=new CE;o.add(r[0].componentIndex),t.set(e,o),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),\\\"y\\\"===t?\\\"vertical\\\":\\\"horizontal\\\"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty(\\\"throttle\\\")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get(\\\"rangeMode\\\");E([[\\\"start\\\",\\\"startValue\\\"],[\\\"end\\\",\\\"endValue\\\"]],(function(i,r){var o=null!=t[i[0]],a=null!=t[i[1]];o&&!a?e[r]=\\\"percent\\\":!o&&a?e[r]=\\\"value\\\":n?e[r]=n[r]:o&&(e[r]=\\\"percent\\\")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(ME(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){E(n.indexList,(function(n){t.call(e,i,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(ME(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;E([[\\\"start\\\",\\\"startValue\\\"],[\\\"end\\\",\\\"endValue\\\"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;E([\\\"start\\\",\\\"startValue\\\",\\\"end\\\",\\\"endValue\\\"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i\u003Cn.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a\u003Co.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type=\\\"dataZoom\\\",e.dependencies=[\\\"xAxis\\\",\\\"yAxis\\\",\\\"radiusAxis\\\",\\\"angleAxis\\\",\\\"singleAxis\\\",\\\"series\\\",\\\"toolbox\\\"],e.defaultOption={z:4,filterMode:\\\"filter\\\",start:0,end:100},e}(Tp);function AE(t){var e={};return E([\\\"start\\\",\\\"end\\\",\\\"startValue\\\",\\\"endValue\\\",\\\"throttle\\\"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var kE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"dataZoom.select\\\",e}(DE),LE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type=\\\"dataZoom\\\",e}(gg),PE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"dataZoom.select\\\",e}(LE),OE=E,RE=Vr,NE=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get(\\\"coordinateSystem\\\");return P(SE,e)>=0}(e)){var n=ME(this._dimName),i=e.getReferringComponents(n,Co).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+\\\"Axis\\\",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return T(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];OE([\\\"start\\\",\\\"end\\\"],(function(l,u){var h=t[l],c=t[l+\\\"Value\\\"];\\\"percent\\\"===r[u]?(null==h&&(h=o[u]),c=i.parse(Nr(h,o,n))):(e=!0,h=Nr(c=null==c?n[u]:i.parse(c),n,o)),s[u]=c,a[u]=h})),RE(s),RE(a);var l=this._minMaxSpan;function u(t,e,n,r,o){var a=o?\\\"Span\\\":\\\"ValueSpan\\\";sk(0,t,n,\\\"all\\\",l[\\\"min\\\"+a],l[\\\"max\\\"+a]);for(var s=0;s\u003C2;s++)e[s]=Nr(t[s],n,r,!0),o&&(e[s]=i.parse(e[s]))}return e?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var i=[1/0,-1/0];OE(n,(function(t){!function(t,e,n){e&&E(h_(e,n),(function(n){var i=e.getApproximateExtent(n);i[0]\u003Ct[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])}))}(i,t.getData(),e)}));var r=t.getAxisModel(),o=t_(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get(\\\"filterMode\\\"),o=this._valueWindow;\\\"none\\\"!==r&&OE(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(n);if(i.length){if(\\\"weakFilter\\\"===r){var a=e.getStore(),s=z(i,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,r,l=0;l\u003Ci.length;l++){var u=a.get(s[l],t),h=!isNaN(u),c=u\u003Co[0],p=u>o[1];if(h&&!c&&!p)return!0;h&&(r=!0),c&&(e=!0),p&&(n=!0)}return r&&e&&n}))}else OE(i,(function(n){if(\\\"empty\\\"===r)t.setData(e=e.map(n,(function(t){return function(t){return t>=o[0]&&t\u003C=o[1]}(t)?t:NaN})));else{var i={};i[n]=o,e.selectRange(i)}}));OE(i,(function(t){e.setApproximateExtent(o,t)}))}}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;OE([\\\"min\\\",\\\"max\\\"],(function(i){var r=e.get(i+\\\"Span\\\"),o=e.get(i+\\\"ValueSpan\\\");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=Nr(n[0]+o,n,[0,100],!0):null!=r&&(o=Nr(r,[0,100],n,!0)-n[0]),t[i+\\\"Span\\\"]=r,t[i+\\\"ValueSpan\\\"]=o}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=Gr(n,[0,500]);i=Math.min(i,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax(\\\"min\\\",+n[0].toFixed(i)),100!==e[1]&&r.setDeterminedMinMax(\\\"max\\\",+n[1].toFixed(i)),r.freeze()}},t}();var EE={getTargetSeries:function(t){function e(e){t.eachComponent(\\\"dataZoom\\\",(function(n){n.eachTargetAxis((function(i,r){var o=t.getComponent(ME(i),r);e(i,r,o,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[];e((function(e,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new NE(e,i,o,t),n.push(r.__dzAxisProxy))}));var i=ft();return E(n,(function(t){E(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent(\\\"dataZoom\\\",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent(\\\"dataZoom\\\",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}};var zE=!1;function VE(t){zE||(zE=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,EE),function(t){t.registerAction(\\\"dataZoom\\\",(function(t,e){E(IE(e,t),(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter(\\\"dataZoom\\\",(function(){return\\\"slider\\\"})))}function BE(t){t.registerComponentModel(kE),t.registerComponentView(PE),VE(t)}var FE=function(){},GE={};function WE(t,e){GE[t]=e}function HE(t){return GE[t]}var YE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;E(this.option.feature,(function(t,n){var i=HE(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),C(t,i.defaultOption))}))},e.type=\\\"toolbox\\\",e.layoutMode={type:\\\"box\\\",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:\\\"horizontal\\\",left:\\\"right\\\",top:\\\"top\\\",backgroundColor:\\\"transparent\\\",borderColor:\\\"#ccc\\\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\\\"#666\\\",color:\\\"none\\\"},emphasis:{iconStyle:{borderColor:\\\"#3E98C5\\\"}},tooltip:{show:!1,position:\\\"bottom\\\"}},e}(Tp);function UE(t,e){var n=ip(e.get(\\\"padding\\\")),i=e.getItemStyle([\\\"color\\\",\\\"opacity\\\"]);return i.fill=e.get(\\\"backgroundColor\\\"),t=new Cs({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get(\\\"borderRadius\\\")},style:i,silent:!0,z2:-1})}var XE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n,i){var r=this.group;if(r.removeAll(),t.get(\\\"show\\\")){var o=+t.get(\\\"itemSize\\\"),a=\\\"vertical\\\"===t.get(\\\"orient\\\"),s=t.get(\\\"feature\\\")||{},l=this._features||(this._features={}),u=[];E(s,(function(t,e){u.push(e)})),new Mm(this._featureNames||[],u).add(h).update(h).remove(H(h,null)).execute(),this._featureNames=u,function(t,e,n){var i=e.getBoxLayoutParams(),r=e.get(\\\"padding\\\"),o={width:n.getWidth(),height:n.getHeight()},a=xp(i,o,r);mp(e.get(\\\"orient\\\"),t,e.get(\\\"itemGap\\\"),a.width,a.height),_p(t,i,o,r)}(r,t,n),r.add(UE(r.getBoundingRect(),t)),a||r.eachChild((function(t){var e=t.__title,i=t.ensureState(\\\"emphasis\\\"),a=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState(\\\"emphasis\\\");if(l&&!U(l)&&e){var u=l.style||(l.style={}),h=cr(e,ks.makeFont(u)),c=t.x+r.x,p=!1;t.y+r.y+o+h.height>n.getHeight()&&(a.position=\\\"top\\\",p=!0);var d=p?-5-h.height:o+10;c+h.width/2>n.getWidth()?(a.position=[\\\"100%\\\",d],u.align=\\\"right\\\"):c-h.width/2\u003C0&&(a.position=[0,d],u.align=\\\"left\\\")}}))}function h(h,c){var p,d=u[h],f=u[c],g=s[d],y=new dc(g,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===d&&(g.title=i.newTitle),d&&!f){if(function(t){return 0===t.indexOf(\\\"my\\\")}(d))p={onclick:y.option.onclick,featureName:d};else{var v=HE(d);if(!v)return;p=new v}l[d]=p}else if(!(p=l[f]))return;p.uid=gc(\\\"toolbox-feature\\\"),p.model=y,p.ecModel=e,p.api=n;var m=p instanceof FE;d||!f?!y.get(\\\"show\\\")||m&&p.unusable?m&&p.remove&&p.remove(e,n):(!function(i,s,l){var u,h,c=i.getModel(\\\"iconStyle\\\"),p=i.getModel([\\\"emphasis\\\",\\\"iconStyle\\\"]),d=s instanceof FE&&s.getIcons?s.getIcons():i.get(\\\"icon\\\"),f=i.get(\\\"title\\\")||{};X(d)?(u={})[l]=d:u=d;X(f)?(h={})[l]=f:h=f;var g=i.iconPaths={};E(u,(function(l,u){var d=Ph(l,{},{x:-o/2,y:-o/2,width:o,height:o});d.setStyle(c.getItemStyle()),d.ensureState(\\\"emphasis\\\").style=p.getItemStyle();var f=new ks({style:{text:h[u],align:p.get(\\\"textAlign\\\"),borderRadius:p.get(\\\"textBorderRadius\\\"),padding:p.get(\\\"textPadding\\\"),fill:null},ignore:!0});d.setTextContent(f),Eh({el:d,componentModel:t,itemName:u,formatterParamsExtra:{title:h[u]}}),d.__title=h[u],d.on(\\\"mouseover\\\",(function(){var e=p.getItemStyle(),i=a?null==t.get(\\\"right\\\")&&\\\"right\\\"!==t.get(\\\"left\\\")?\\\"right\\\":\\\"left\\\":null==t.get(\\\"bottom\\\")&&\\\"bottom\\\"!==t.get(\\\"top\\\")?\\\"bottom\\\":\\\"top\\\";f.setStyle({fill:p.get(\\\"textFill\\\")||e.fill||e.stroke||\\\"#000\\\",backgroundColor:p.get(\\\"textBackgroundColor\\\")}),d.setTextConfig({position:p.get(\\\"textPosition\\\")||i}),f.ignore=!t.get(\\\"showTitle\\\"),n.enterEmphasis(this)})).on(\\\"mouseout\\\",(function(){\\\"emphasis\\\"!==i.get([\\\"iconStatus\\\",u])&&n.leaveEmphasis(this),f.hide()})),(\\\"emphasis\\\"===i.get([\\\"iconStatus\\\",u])?_l:bl)(d),r.add(d),d.on(\\\"click\\\",W(s.onclick,s,e,n,u)),g[u]=d}))}(y,p,d),y.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&(\\\"emphasis\\\"===e?_l:bl)(i[t])},p instanceof FE&&p.render&&p.render(y,e,n,i)):m&&p.dispose&&p.dispose(e,n)}},e.prototype.updateView=function(t,e,n,i){E(this._features,(function(t){t instanceof FE&&t.updateView&&t.updateView(t.model,e,n,i)}))},e.prototype.remove=function(t,e){E(this._features,(function(n){n instanceof FE&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){E(this._features,(function(n){n instanceof FE&&n.dispose&&n.dispose(t,e)}))},e.type=\\\"toolbox\\\",e}(gg);var ZE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get(\\\"name\\\")||t.get(\\\"title.0.text\\\")||\\\"echarts\\\",o=\\\"svg\\\"===e.getZr().painter.getType(),a=o?\\\"svg\\\":n.get(\\\"type\\\",!0)||\\\"png\\\",s=e.getConnectedDataURL({type:a,backgroundColor:n.get(\\\"backgroundColor\\\",!0)||t.get(\\\"backgroundColor\\\")||\\\"#fff\\\",connectedBackgroundColor:n.get(\\\"connectedBackgroundColor\\\"),excludeComponents:n.get(\\\"excludeComponents\\\"),pixelRatio:n.get(\\\"pixelRatio\\\")}),l=r.browser;if(U(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var u=document.createElement(\\\"a\\\");u.download=i+\\\".\\\"+a,u.target=\\\"_blank\\\",u.href=s;var h=new MouseEvent(\\\"click\\\",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var c=s.split(\\\",\\\"),p=c[0].indexOf(\\\"base64\\\")>-1,d=o?decodeURIComponent(c[1]):c[1];p&&(d=window.atob(d));var f=i+\\\".\\\"+a;if(window.navigator.msSaveOrOpenBlob){for(var g=d.length,y=new Uint8Array(g);g--;)y[g]=d.charCodeAt(g);var v=new Blob([y]);window.navigator.msSaveOrOpenBlob(v,f)}else{var m=document.createElement(\\\"iframe\\\");document.body.appendChild(m);var x=m.contentWindow,_=x.document;_.open(\\\"image/svg+xml\\\",\\\"replace\\\"),_.write(d),_.close(),x.focus(),_.execCommand(\\\"SaveAs\\\",!0,f),document.body.removeChild(m)}}else{var b=n.get(\\\"lang\\\"),w='\u003Cbody style=\\\"margin:0;\\\">\u003Cimg src=\\\"'+s+'\\\" style=\\\"max-width:100%;\\\" title=\\\"'+(b&&b[0]||\\\"\\\")+'\\\" />\u003C/body>',S=window.open();S.document.write(w),S.document.title=i}},e.getDefaultOption=function(t){return{show:!0,icon:\\\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\\\",title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"saveAsImage\\\",\\\"title\\\"]),type:\\\"png\\\",connectedBackgroundColor:\\\"#fff\\\",name:\\\"\\\",excludeComponents:[\\\"toolbox\\\"],lang:t.getLocaleModel().get([\\\"toolbox\\\",\\\"saveAsImage\\\",\\\"lang\\\"])}},e}(FE),jE=\\\"__ec_magicType_stack__\\\",qE=[[\\\"line\\\",\\\"bar\\\"],[\\\"stack\\\"]],KE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get(\\\"icon\\\"),n={};return E(t.get(\\\"type\\\"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:\\\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\\\",bar:\\\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\\\",stack:\\\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\\\"},title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"magicType\\\",\\\"title\\\"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var i=this.model,r=i.get([\\\"seriesIndex\\\",n]);if($E[n]){var o,a={series:[]};E(qE,(function(t){P(t,n)>=0&&E(t,(function(t){i.setIconStatus(t,\\\"normal\\\")}))})),i.setIconStatus(n,\\\"emphasis\\\"),t.eachComponent({mainType:\\\"series\\\",query:null==r?null:{seriesIndex:r}},(function(t){var e=t.subType,r=t.id,o=$E[n](e,r,t,i);o&&(k(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&\\\"cartesian2d\\\"===s.type&&(\\\"line\\\"===n||\\\"bar\\\"===n)){var l=s.getAxesByScale(\\\"ordinal\\\")[0];if(l){var u=l.dim+\\\"Axis\\\",h=t.getReferringComponents(u,Co).models[0].componentIndex;a[u]=a[u]||[];for(var c=0;c\u003C=h;c++)a[u][h]=a[u][h]||{};a[u][h].boundaryGap=\\\"bar\\\"===n}}}));var s=n;\\\"stack\\\"===n&&(o=C({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),\\\"emphasis\\\"!==i.get([\\\"iconStatus\\\",n])&&(s=\\\"tiled\\\")),e.dispatchAction({type:\\\"changeMagicType\\\",currentType:s,newOption:a,newTitle:o,featureName:\\\"magicType\\\"})}},e}(FE),$E={line:function(t,e,n,i){if(\\\"bar\\\"===t)return C({id:e,type:\\\"line\\\",data:n.get(\\\"data\\\"),stack:n.get(\\\"stack\\\"),markPoint:n.get(\\\"markPoint\\\"),markLine:n.get(\\\"markLine\\\")},i.get([\\\"option\\\",\\\"line\\\"])||{},!0)},bar:function(t,e,n,i){if(\\\"line\\\"===t)return C({id:e,type:\\\"bar\\\",data:n.get(\\\"data\\\"),stack:n.get(\\\"stack\\\"),markPoint:n.get(\\\"markPoint\\\"),markLine:n.get(\\\"markLine\\\")},i.get([\\\"option\\\",\\\"bar\\\"])||{},!0)},stack:function(t,e,n,i){var r=n.get(\\\"stack\\\")===jE;if(\\\"line\\\"===t||\\\"bar\\\"===t)return i.setIconStatus(\\\"stack\\\",r?\\\"normal\\\":\\\"emphasis\\\"),C({id:e,stack:r?\\\"\\\":jE},i.get([\\\"option\\\",\\\"stack\\\"])||{},!0)}};hm({type:\\\"changeMagicType\\\",event:\\\"magicTypeChanged\\\",update:\\\"prepareAndUpdate\\\"},(function(t,e){e.mergeOption(t.newOption)}));var JE=new Array(60).join(\\\"-\\\"),QE=\\\"\\\\t\\\";function tz(t){return t.replace(/^\\\\s\\\\s*/,\\\"\\\").replace(/\\\\s\\\\s*$/,\\\"\\\")}var ez=new RegExp(\\\"[\\\\t]+\\\",\\\"g\\\");function nz(t,e){var n=t.split(new RegExp(\\\"\\\\n*\\\"+JE+\\\"\\\\n*\\\",\\\"g\\\")),i={series:[]};return E(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf(\\\"\\\\n\\\")).indexOf(QE)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\\\\n+/g),n=[],i=z(tz(e.shift()).split(ez),(function(t){return{name:t,data:[]}})),r=0;r\u003Ce.length;r++){var o=tz(e[r]).split(ez);n.push(o.shift());for(var a=0;a\u003Co.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(t),o=e[n],a=o.axisDim+\\\"Axis\\\";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\\\\n+/g),n=tz(e.shift()),i=[],r=0;r\u003Ce.length;r++){var o=tz(e[r]);if(o){var a=o.split(ez),s=\\\"\\\",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var h=0;h\u003Ca.length;h++)l.push(+a[h]);1===l.length&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(t);i.series.push(r)}})),i}var iz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:\\\"hideTip\\\"})}));var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement(\\\"div\\\");r.style.cssText=\\\"position:absolute;top:0;bottom:0;left:0;right:0;padding:5px\\\",r.style.backgroundColor=i.get(\\\"backgroundColor\\\")||\\\"#fff\\\";var o=document.createElement(\\\"h4\\\"),a=i.get(\\\"lang\\\")||[];o.innerHTML=a[0]||i.get(\\\"title\\\"),o.style.cssText=\\\"margin:10px 20px\\\",o.style.color=i.get(\\\"textColor\\\");var s=document.createElement(\\\"div\\\"),l=document.createElement(\\\"textarea\\\");s.style.cssText=\\\"overflow:auto\\\";var u=i.get(\\\"optionToContent\\\"),h=i.get(\\\"contentToOption\\\"),c=function(t){var e,n,i,r=function(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||\\\"cartesian2d\\\"!==r.type&&\\\"polar\\\"!==r.type)n.push(t);else{var o=r.getBaseAxis();if(\\\"category\\\"===o.type){var a=o.dim+\\\"_\\\"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}(t);return{value:B([(n=r.seriesGroupByCategoryAxis,i=[],E(n,(function(t,e){var n=t.categoryAxis,r=t.valueAxis.dim,o=[\\\" \\\"].concat(z(t.series,(function(t){return t.name}))),a=[n.model.getCategories()];E(t.series,(function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var s=[o.join(QE)],l=0;l\u003Ca[0].length;l++){for(var u=[],h=0;h\u003Ca.length;h++)u.push(a[h][l]);s.push(u.join(QE))}i.push(s.join(\\\"\\\\n\\\"))})),i.join(\\\"\\\\n\\\\n\\\"+JE+\\\"\\\\n\\\\n\\\")),(e=r.other,z(e,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a\u003Ct-1;a++)i[a]=arguments[a];n.push((o?o+QE:\\\"\\\")+i.join(QE))})),n.join(\\\"\\\\n\\\")})).join(\\\"\\\\n\\\\n\\\"+JE+\\\"\\\\n\\\\n\\\"))],(function(t){return!!t.replace(/[\\\\n\\\\t\\\\s]/g,\\\"\\\")})).join(\\\"\\\\n\\\\n\\\"+JE+\\\"\\\\n\\\\n\\\"),meta:r.meta}}(t);if(U(u)){var p=u(e.getOption());X(p)?s.innerHTML=p:J(p)&&s.appendChild(p)}else{l.readOnly=i.get(\\\"readOnly\\\");var d=l.style;d.cssText=\\\"display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none\\\",d.color=i.get(\\\"textColor\\\"),d.borderColor=i.get(\\\"textareaBorderColor\\\"),d.backgroundColor=i.get(\\\"textareaColor\\\"),l.value=c.value,s.appendChild(l)}var f=c.meta,g=document.createElement(\\\"div\\\");g.style.cssText=\\\"position:absolute;bottom:5px;left:0;right:0\\\";var y=\\\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\\\",v=document.createElement(\\\"div\\\"),m=document.createElement(\\\"div\\\");y+=\\\";background-color:\\\"+i.get(\\\"buttonColor\\\"),y+=\\\";color:\\\"+i.get(\\\"buttonTextColor\\\");var x=this;function _(){n.removeChild(r),x._dom=null}ae(v,\\\"click\\\",_),ae(m,\\\"click\\\",(function(){if(null==h&&null!=u||null!=h&&null==u)_();else{var t;try{t=U(h)?h(s,e.getOption()):nz(l.value,f)}catch(t){throw _(),new Error(\\\"Data view format error \\\"+t)}t&&e.dispatchAction({type:\\\"changeDataView\\\",newOption:t}),_()}})),v.innerHTML=a[1],m.innerHTML=a[2],m.style.cssText=v.style.cssText=y,!i.get(\\\"readOnly\\\")&&g.appendChild(m),g.appendChild(v),r.appendChild(o),r.appendChild(s),r.appendChild(g),s.style.height=n.clientHeight-80+\\\"px\\\",n.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\\\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\\\",title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"dataView\\\",\\\"title\\\"]),lang:t.getLocaleModel().get([\\\"toolbox\\\",\\\"dataView\\\",\\\"lang\\\"]),backgroundColor:\\\"#fff\\\",textColor:\\\"#000\\\",textareaColor:\\\"#fff\\\",textareaBorderColor:\\\"#333\\\",buttonColor:\\\"#c23531\\\",buttonTextColor:\\\"#fff\\\"}},e}(FE);function rz(t,e){return z(t,(function(t,n){var i=e&&e[n];if(q(i)&&!Y(i)){q(t)&&!Y(t)||(t={value:t});var r=null!=i.name&&null==t.name;return t=k(t,i),r&&delete t.name,t}return t}))}hm({type:\\\"changeDataView\\\",event:\\\"dataViewChanged\\\",update:\\\"prepareAndUpdate\\\"},(function(t,e){var n=[];E(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get(\\\"data\\\");n.push({name:t.name,data:rz(t.data,r)})}else n.push(A({type:\\\"scatter\\\"},t))})),e.mergeOption(k({series:n},t.newOption))}));var oz=E,az=So();function sz(t){var e=az(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var lz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onclick=function(t,e){!function(t){az(t).snapshots=null}(t),e.dispatchAction({type:\\\"restore\\\",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:\\\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\\\",title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"restore\\\",\\\"title\\\"])}},e}(FE);hm({type:\\\"restore\\\",event:\\\"restore\\\",update:\\\"prepareAndUpdate\\\"},(function(t,e){e.resetOption(\\\"recreate\\\")}));var uz=[\\\"grid\\\",\\\"xAxis\\\",\\\"yAxis\\\",\\\"geo\\\",\\\"graph\\\",\\\"polar\\\",\\\"radiusAxis\\\",\\\"angleAxis\\\",\\\"bmap\\\"],hz=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var r=pz(e,t);E(dz,(function(t,e){(!n||!n.include||P(n.include,e)>=0)&&t(r,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=yz[t.brushType](0,n,e);t.__rangeOffset={offset:mz[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){E(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&E(i.coordSyses,(function(i){var r=yz[t.brushType](1,i,t.range,!0);n(t,r.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){E(t,(function(t){var n,i,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=yz[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?mz[t.brushType](l.values,u.offset,(n=l.xyMinMax,i=u.xyMinMax,r=_z(n),o=_z(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return z(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:uL(i),isTargetByCursor:cL(i,t,n.coordSysModel),getLinearBrushOtherExtent:hL(i)}}))},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&P(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=pz(e,t),r=0;r\u003Cn.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s\u003Cfz.length;s++)if(fz[s](i,o))return o}return!0},t}();function cz(t){return t[0]>t[1]&&t.reverse(),t}function pz(t,e){return Io(t,e,{includeMainTypes:uz})}var dz={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,o=ft(),a={},s={};(n||i||r)&&(E(n,(function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0})),E(i,(function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0})),E(r,(function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),o.each((function(t){var r=t.coordinateSystem,o=[];E(r.getCartesians(),(function(t,e){(P(n,t.getAxis(\\\"x\\\").model)>=0||P(i,t.getAxis(\\\"y\\\").model)>=0)&&o.push(t)})),e.push({panelId:\\\"grid--\\\"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:gz.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){E(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:\\\"geo--\\\"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:gz.geo})}))}},fz=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],gz={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Ih(t)),e}},yz={lineX:H(vz,0),lineY:H(vz,1),rect:function(t,e,n,i){var r=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i),o=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),a=[cz([r[0],o[0]]),cz([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:z(n,(function(n){var o=t?e.pointToData(n,i):e.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o})),xyMinMax:r}}};function vz(t,e,n,i){var r=n.getAxis([\\\"x\\\",\\\"y\\\"][t]),o=cz(z([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(i[t]),!0):r.toGlobalCoord(r.dataToCoord(i[t]))}))),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var mz={lineX:H(xz,0),lineY:H(xz,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return z(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function xz(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function _z(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var bz,wz,Sz=E,Mz=uo+\\\"toolbox-dataZoom_\\\",Iz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new Pk(n.getZr()),this._brushController.on(\\\"brush\\\",W(this._onBrush,this)).mount()),function(t,e,n,i,r){var o=n._isZoomActive;i&&\\\"takeGlobalCursor\\\"===i.type&&(o=\\\"dataZoomSelect\\\"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus(\\\"zoom\\\",o?\\\"emphasis\\\":\\\"normal\\\");var a=new hz(Cz(t),e,{include:[\\\"grid\\\"]}).makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?\\\"lineX\\\":!t.xAxisDeclared&&t.yAxisDeclared?\\\"lineY\\\":\\\"rect\\\"}));n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:\\\"auto\\\",brushStyle:t.getModel(\\\"brushStyle\\\").getItemStyle()})}(t,e,this,i,n),function(t,e){t.setIconStatus(\\\"back\\\",function(t){return sz(t).length}(e)>1?\\\"emphasis\\\":\\\"normal\\\")}(t,e)},e.prototype.onclick=function(t,e,n){Tz[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new hz(Cz(this.model),i,{include:[\\\"grid\\\"]}).matchOutputRanges(e,i,(function(t,e,n){if(\\\"cartesian2d\\\"===n.type){var i=t.brushType;\\\"rect\\\"===i?(r(\\\"x\\\",n,e[0]),r(\\\"y\\\",n,e[1])):r({lineX:\\\"x\\\",lineY:\\\"y\\\"}[i],n,e)}})),function(t,e){var n=sz(t);oz(e,(function(e,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r\u003C0){var o=t.queryComponents({mainType:\\\"dataZoom\\\",subType:\\\"select\\\",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(e)}(i,n),this._dispatchZoomAction(n)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var i;return n.eachComponent({mainType:\\\"dataZoom\\\",subType:\\\"select\\\"},(function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)})),i}(t,a,i),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=sk(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];Sz(t,(function(t,n){e.push(T(t))})),e.length&&this.api.dispatchAction({type:\\\"dataZoom\\\",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:\\\"filter\\\",icon:{zoom:\\\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\\\",back:\\\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\\\"},title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"dataZoom\\\",\\\"title\\\"]),brushStyle:{borderWidth:0,color:\\\"rgba(210,219,238,0.2)\\\"}}},e}(FE),Tz={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:\\\"takeGlobalCursor\\\",key:\\\"dataZoomSelect\\\",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=sz(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return oz(n,(function(t,n){for(var r=e.length-1;r>=0;r--)if(t=e[r][n]){i[n]=t;break}})),i}(this.ecModel))}};function Cz(t){var e={xAxisIndex:t.get(\\\"xAxisIndex\\\",!0),yAxisIndex:t.get(\\\"yAxisIndex\\\",!0),xAxisId:t.get(\\\"xAxisId\\\",!0),yAxisId:t.get(\\\"yAxisId\\\",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex=\\\"all\\\"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex=\\\"all\\\"),e}bz=\\\"dataZoom\\\",wz=function(t){var e=t.getComponent(\\\"toolbox\\\",0),n=[\\\"feature\\\",\\\"dataZoom\\\"];if(e&&null!=e.get(n)){var i=e.getModel(n),r=[],o=Io(t,Cz(i));return Sz(o.xAxisModels,(function(t){return a(t,\\\"xAxis\\\",\\\"xAxisIndex\\\")})),Sz(o.yAxisModels,(function(t){return a(t,\\\"yAxis\\\",\\\"yAxisIndex\\\")})),r}function a(t,e,n){var o=t.componentIndex,a={type:\\\"select\\\",$fromToolbox:!0,filterMode:i.get(\\\"filterMode\\\",!0)||\\\"filter\\\",id:Mz+e+o};a[n]=o,r.push(a)}},lt(null==jp.get(bz)&&wz),jp.set(bz,wz);var Dz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"tooltip\\\",e.dependencies=[\\\"axisPointer\\\"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:\\\"item\\\",triggerOn:\\\"mousemove|click\\\",alwaysShowContent:!1,displayMode:\\\"single\\\",renderMode:\\\"auto\\\",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\\\"#fff\\\",shadowBlur:10,shadowColor:\\\"rgba(0, 0, 0, .2)\\\",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:\\\"\\\",axisPointer:{type:\\\"line\\\",axis:\\\"auto\\\",animation:\\\"auto\\\",animationDurationUpdate:200,animationEasingUpdate:\\\"exponentialOut\\\",crossStyle:{color:\\\"#999\\\",width:1,type:\\\"dashed\\\",textStyle:{}}},textStyle:{color:\\\"#666\\\",fontSize:14}},e}(Tp);function Az(t){var e=t.get(\\\"confine\\\");return null!=e?!!e:\\\"richText\\\"===t.get(\\\"renderMode\\\")}function kz(t){if(r.domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n\u003Ci;n++)if(t[n]in e)return t[n]}var Lz=kz([\\\"transform\\\",\\\"webkitTransform\\\",\\\"OTransform\\\",\\\"MozTransform\\\",\\\"msTransform\\\"]);function Pz(t,e){if(!t)return e;e=np(e,!0);var n=t.indexOf(e);return(t=-1===n?e:\\\"-\\\"+t.slice(0,n)+\\\"-\\\"+e).toLowerCase()}var Oz=Pz(kz([\\\"webkitTransition\\\",\\\"transition\\\",\\\"OTransition\\\",\\\"MozTransition\\\",\\\"msTransition\\\"]),\\\"transition\\\"),Rz=Pz(Lz,\\\"transform\\\"),Nz=\\\"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\\\"+(r.transform3dSupported?\\\"will-change:transform;\\\":\\\"\\\");function Ez(t,e,n){var i=t.toFixed(0)+\\\"px\\\",o=e.toFixed(0)+\\\"px\\\";if(!r.transformSupported)return n?\\\"top:\\\"+o+\\\";left:\\\"+i+\\\";\\\":[[\\\"top\\\",o],[\\\"left\\\",i]];var a=r.transform3dSupported,s=\\\"translate\\\"+(a?\\\"3d\\\":\\\"\\\")+\\\"(\\\"+i+\\\",\\\"+o+(a?\\\",0\\\":\\\"\\\")+\\\")\\\";return n?\\\"top:0;left:0;\\\"+Rz+\\\":\\\"+s+\\\";\\\":[[\\\"top\\\",0],[\\\"left\\\",0],[Lz,s]]}function zz(t,e,n){var i=[],o=t.get(\\\"transitionDuration\\\"),a=t.get(\\\"backgroundColor\\\"),s=t.get(\\\"shadowBlur\\\"),l=t.get(\\\"shadowColor\\\"),u=t.get(\\\"shadowOffsetX\\\"),h=t.get(\\\"shadowOffsetY\\\"),c=t.getModel(\\\"textStyle\\\"),p=ng(t,\\\"html\\\"),d=u+\\\"px \\\"+h+\\\"px \\\"+s+\\\"px \\\"+l;return i.push(\\\"box-shadow:\\\"+d),e&&o&&i.push(function(t,e){var n=\\\"cubic-bezier(0.23,1,0.32,1)\\\",i=\\\" \\\"+t/2+\\\"s \\\"+n,o=\\\"opacity\\\"+i+\\\",visibility\\\"+i;return e||(i=\\\" \\\"+t+\\\"s \\\"+n,o+=r.transformSupported?\\\",\\\"+Rz+i:\\\",left\\\"+i+\\\",top\\\"+i),Oz+\\\":\\\"+o}(o,n)),a&&i.push(\\\"background-color:\\\"+a),E([\\\"width\\\",\\\"color\\\",\\\"radius\\\"],(function(e){var n=\\\"border-\\\"+e,r=np(n),o=t.get(r);null!=o&&i.push(n+\\\":\\\"+o+(\\\"color\\\"===e?\\\"\\\":\\\"px\\\"))})),i.push(function(t){var e=[],n=t.get(\\\"fontSize\\\"),i=t.getTextColor();i&&e.push(\\\"color:\\\"+i),e.push(\\\"font:\\\"+t.getFont()),n&&e.push(\\\"line-height:\\\"+Math.round(3*n/2)+\\\"px\\\");var r=t.get(\\\"textShadowColor\\\"),o=t.get(\\\"textShadowBlur\\\")||0,a=t.get(\\\"textShadowOffsetX\\\")||0,s=t.get(\\\"textShadowOffsetY\\\")||0;return r&&o&&e.push(\\\"text-shadow:\\\"+a+\\\"px \\\"+s+\\\"px \\\"+o+\\\"px \\\"+r),E([\\\"decoration\\\",\\\"align\\\"],(function(n){var i=t.get(n);i&&e.push(\\\"text-\\\"+n+\\\":\\\"+i)})),e.join(\\\";\\\")}(c)),null!=p&&i.push(\\\"padding:\\\"+ip(p).join(\\\"px \\\")+\\\"px\\\"),i.join(\\\";\\\")+\\\";\\\"}function Vz(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&function(t,e,n,i,r){$t(Kt,e,i,r,!0)&&$t(t,n,Kt[0],Kt[1])}(t,a,document.body,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Bz=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,r.wxa)return null;var i=document.createElement(\\\"div\\\");i.domBelongToZr=!0,this.el=i;var o=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;Vz(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(i):t.appendChild(i),this._container=t;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!s._enterable){var e=o.handler;oe(o.painter.getViewportRoot(),t,!0),e.dispatch(\\\"mousemove\\\",t)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(t){var e,n,i,r=this._container,o=(n=\\\"position\\\",(i=(e=r).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?n?i[n]:i:null),a=r.style;\\\"absolute\\\"!==a.position&&\\\"absolute\\\"!==o&&(a.position=\\\"relative\\\"),t.get(\\\"alwaysShowContent\\\")&&this._moveIfResized(),this.el.className=t.get(\\\"className\\\")||\\\"\\\"},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=Nz+zz(t,!this._firstShow,this._longHide)+Ez(r[0],r[1],!0)+\\\"border-color:\\\"+pp(e)+\\\";\\\"+(t.get(\\\"extraCssText\\\")||\\\"\\\")+\\\";pointer-events:\\\"+(this._enterable?\\\"auto\\\":\\\"none\\\"):i.display=\\\"none\\\",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){var o=this.el;if(null!=t){var a=\\\"\\\";if(X(r)&&\\\"item\\\"===n.get(\\\"trigger\\\")&&!Az(n)&&(a=function(t,e,n){if(!X(n)||\\\"inside\\\"===n)return\\\"\\\";var i=t.get(\\\"backgroundColor\\\"),r=t.get(\\\"borderWidth\\\");e=pp(e);var o,a,s=\\\"left\\\"===(o=n)?\\\"right\\\":\\\"right\\\"===o?\\\"left\\\":\\\"top\\\"===o?\\\"bottom\\\":\\\"top\\\",l=Math.max(1.5*Math.round(r),6),u=\\\"\\\",h=Rz+\\\":\\\";P([\\\"left\\\",\\\"right\\\"],s)>-1?(u+=\\\"top:50%\\\",h+=\\\"translateY(-50%) rotate(\\\"+(a=\\\"left\\\"===s?-225:-45)+\\\"deg)\\\"):(u+=\\\"left:50%\\\",h+=\\\"translateX(-50%) rotate(\\\"+(a=\\\"top\\\"===s?225:45)+\\\"deg)\\\");var c=a*Math.PI/180,p=l+r,d=p*Math.abs(Math.cos(c))+p*Math.abs(Math.sin(c)),f=e+\\\" solid \\\"+r+\\\"px;\\\";return'\u003Cdiv style=\\\"'+[\\\"position:absolute;width:\\\"+l+\\\"px;height:\\\"+l+\\\"px;\\\",(u+=\\\";\\\"+s+\\\":-\\\"+Math.round(100*((d-Math.SQRT2*r)/2+Math.SQRT2*r-(d-p)/2))/100+\\\"px\\\")+\\\";\\\"+h+\\\";\\\",\\\"border-bottom:\\\"+f,\\\"border-right:\\\"+f,\\\"background-color:\\\"+i+\\\";\\\"].join(\\\"\\\")+'\\\">\u003C/div>'}(n,i,r)),X(t))o.innerHTML=t+a;else if(t){o.innerHTML=\\\"\\\",Y(t)||(t=[t]);for(var s=0;s\u003Ct.length;s++)J(t[s])&&t[s].parentNode!==o&&o.appendChild(t[s]);if(a&&o.childNodes.length){var l=document.createElement(\\\"div\\\");l.innerHTML=a,o.appendChild(l)}}}else o.innerHTML=\\\"\\\"},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(Vz(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style;E(Ez(n[0],n[1]),(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility=\\\"hidden\\\",e.opacity=\\\"0\\\",r.transform3dSupported&&(e.willChange=\\\"\\\"),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(W(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),Fz=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),Hz(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get(\\\"alwaysShowContent\\\")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){var o=this;q(t)&&ao(\\\"\\\"),this.el&&this._zr.remove(this.el);var a=n.getModel(\\\"textStyle\\\");this.el=new ks({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get(\\\"textShadowColor\\\"),fill:n.get([\\\"textStyle\\\",\\\"color\\\"]),padding:ng(n,\\\"richText\\\"),verticalAlign:\\\"top\\\",align:\\\"left\\\"},z:n.get(\\\"z\\\")}),E([\\\"backgroundColor\\\",\\\"borderRadius\\\",\\\"shadowColor\\\",\\\"shadowBlur\\\",\\\"shadowOffsetX\\\",\\\"shadowOffsetY\\\"],(function(t){o.el.style[t]=n.get(t)})),E([\\\"textShadowBlur\\\",\\\"textShadowOffsetX\\\",\\\"textShadowOffsetY\\\"],(function(t){o.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on(\\\"mouseover\\\",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on(\\\"mouseout\\\",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=Wz(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;Hz(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,o=Gz(r.borderWidth||0),a=Wz(r);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(W(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Gz(t){return Math.max(0,t)}function Wz(t){var e=Gz(t.shadowBlur||0),n=Gz(t.shadowOffsetX||0),i=Gz(t.shadowOffsetY||0);return{left:Gz(e-n),right:Gz(e+n),top:Gz(e-i),bottom:Gz(e+i)}}function Hz(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Yz=new Cs({shape:{x:-1,y:-1,width:2,height:2}}),Uz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){if(!r.node&&e.getDom()){var n,i=t.getComponent(\\\"tooltip\\\"),o=this._renderMode=\\\"auto\\\"===(n=i.get(\\\"renderMode\\\"))?r.domSupported?\\\"html\\\":\\\"richText\\\":n||\\\"html\\\";this._tooltipContent=\\\"richText\\\"===o?new Fz(e):new Bz(e.getDom(),e,{appendToBody:i.get(\\\"appendToBody\\\",!0)})}},e.prototype.render=function(t,e,n){if(!r.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get(\\\"alwaysShowContent\\\");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get(\\\"enterable\\\")),this._initGlobalListener(),this._keepShow(),\\\"richText\\\"!==this._renderMode&&t.get(\\\"transitionDuration\\\")?Ag(this,\\\"_updatePosition\\\",50,\\\"fixRate\\\"):kg(this,\\\"_updatePosition\\\")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get(\\\"triggerOn\\\");qR(\\\"itemTooltip\\\",this._api,W((function(e,n,i){\\\"none\\\"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):\\\"leave\\\"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&\\\"none\\\"!==t.get(\\\"triggerOn\\\")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!r.node&&n.getDom()){var o=Zz(i,n);this._ticket=\\\"\\\";var a=i.dataByCoordSys,s=function(t,e,n){var i=To(t).queryOptionMap,r=i.keys()[0];if(!r||\\\"series\\\"===r)return;var o,a=Ao(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(n.getViewOfComponentModel(a).group.traverse((function(e){var n=Hs(e).tooltipConfig;if(n&&n.name===t.name)return o=e,!0})),o)return{componentMainType:r,componentIndex:a.componentIndex,el:o}}(i,e,n);if(s){var l=s.el.getBoundingRect().clone();l.applyTransform(s.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:s.el,position:i.position,positionDefault:\\\"bottom\\\"},o)}else if(i.tooltip&&null!=i.x&&null!=i.y){var u=Yz;u.x=i.x,u.y=i.y,u.update(),Hs(u).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:u},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var h=tN(i,e),c=h.point[0],p=h.point[1];null!=c&&null!=p&&this._tryShow({offsetX:c,offsetY:p,target:h.el,position:i.position,positionDefault:\\\"bottom\\\"},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:\\\"updateAxisPointer\\\",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get(\\\"hideDelay\\\")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Zz(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent(\\\"axisPointer\\\").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if(\\\"axis\\\"===Xz([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get(\\\"trigger\\\"))return n.dispatchAction({type:\\\"updateAxisPointer\\\",seriesIndex:r,dataIndex:o,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(n){var r,o;this._lastDataByCoordSys=null,xy(n,(function(t){return null!=Hs(t).dataIndex?(r=t,!0):null!=Hs(t).tooltipConfig?(o=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get(\\\"showDelay\\\");e=W(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],o=Xz([e.tooltipOption],i),a=this._renderMode,s=[],l=Xf(\\\"section\\\",{blocks:[],noHeader:!0}),u=[],h=new ig;E(t,(function(t){E(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+\\\"Axis\\\",t.axisIndex),r=t.value;if(e&&null!=r){var o=ER(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),c=Xf(\\\"section\\\",{header:o,noHeader:!ut(o),sortBlocks:!0,blocks:[]});l.blocks.push(c),E(t.seriesDataIndices,(function(l){var p=n.getSeriesByIndex(l.seriesIndex),d=l.dataIndexInside,f=p.getDataParams(d);if(!(f.dataIndex\u003C0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=a_(e.axis,{value:r}),f.axisValueLabel=o,f.marker=h.makeTooltipMarker(\\\"item\\\",pp(f.color),a);var g=uf(p.formatTooltip(d,!0,null)),y=g.frag;if(y){var v=Xz([p],i).get(\\\"valueFormatter\\\");c.blocks.push(v?A({valueFormatter:v},y):y)}g.text&&u.push(g.text),s.push(f)}}))}}))})),l.blocks.reverse(),u.reverse();var c=e.position,p=o.get(\\\"order\\\"),d=Jf(l,h,a,p,n.get(\\\"useUTC\\\"),o.get(\\\"textStyle\\\"));d&&u.unshift(d);var f=\\\"richText\\\"===a?\\\"\\\\n\\\\n\\\":\\\"\u003Cbr/>\\\",g=u.join(f);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(o,c,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+\\\"\\\",r[0],r[1],c,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,r=Hs(e),o=r.seriesIndex,a=i.getSeriesByIndex(o),s=r.dataModel||a,l=r.dataIndex,u=r.dataType,h=s.getData(u),c=this._renderMode,p=t.positionDefault,d=Xz([h.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),f=d.get(\\\"trigger\\\");if(null==f||\\\"item\\\"===f){var g=s.getDataParams(l,u),y=new ig;g.marker=y.makeTooltipMarker(\\\"item\\\",pp(g.color),c);var v=uf(s.formatTooltip(l,!1,u)),m=d.get(\\\"order\\\"),x=d.get(\\\"valueFormatter\\\"),_=v.frag,b=_?Jf(x?A({valueFormatter:x},_):_,y,c,m,i.get(\\\"useUTC\\\"),d.get(\\\"textStyle\\\")):v.text,w=\\\"item_\\\"+s.name+\\\"_\\\"+l;this._showOrMove(d,(function(){this._showTooltipContent(d,b,g,w,t.offsetX,t.offsetY,t.position,t.target,y)})),n({type:\\\"showTip\\\",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=Hs(e),r=i.tooltipConfig.option||{};if(X(r)){r={content:r,formatter:r}}var o=[r],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&o.push(a),o.push({formatter:r.content});var s=t.positionDefault,l=Xz(o,this._tooltipModel,s?{position:s}:null),u=l.get(\\\"content\\\"),h=Math.random()+\\\"\\\",c=new ig;this._showOrMove(l,(function(){var n=T(l.get(\\\"formatterParams\\\")||{});this._showTooltipContent(l,u,n,h,t.offsetX,t.offsetY,t.position,e,c)})),n({type:\\\"showTip\\\",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,o,a,s,l){if(this._ticket=\\\"\\\",t.get(\\\"showContent\\\")&&t.get(\\\"show\\\")){var u=this._tooltipContent;u.setEnterable(t.get(\\\"enterable\\\"));var h=t.get(\\\"formatter\\\");a=a||t.get(\\\"position\\\");var c=e,p=this._getNearestPoint([r,o],n,t.get(\\\"trigger\\\"),t.get(\\\"borderColor\\\")).color;if(h)if(X(h)){var d=t.ecModel.get(\\\"useUTC\\\"),f=Y(n)?n[0]:n;c=h,f&&f.axisType&&f.axisType.indexOf(\\\"time\\\")>=0&&(c=Vc(f.axisValue,c,d)),c=hp(c,n,!0)}else if(U(h)){var g=W((function(e,i){e===this._ticket&&(u.setContent(i,l,t,p,a),this._updatePosition(t,a,r,o,u,n,s))}),this);this._ticket=i,c=h(n,i,g)}else c=h;u.setContent(c,l,t,p,a),u.show(t,p),this._updatePosition(t,a,r,o,u,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return\\\"axis\\\"===n||Y(e)?{color:i||(\\\"html\\\"===this._renderMode?\\\"#fff\\\":\\\"none\\\")}:Y(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get(\\\"position\\\");var u=r.getSize(),h=t.get(\\\"align\\\"),c=t.get(\\\"verticalAlign\\\"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),U(e)&&(e=e([n,i],o,r.el,p,{viewSize:[s,l],contentSize:u.slice()})),Y(e))n=Er(e[0],s),i=Er(e[1],l);else if(q(e)){var d=e;d.width=u[0],d.height=u[1];var f=xp(d,{width:s,height:l});n=f.x,i=f.y,h=null,c=null}else if(X(e)&&a){var g=function(t,e,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,u=e.width,h=e.height;switch(t){case\\\"inside\\\":s=e.x+u/2-r/2,l=e.y+h/2-o/2;break;case\\\"top\\\":s=e.x+u/2-r/2,l=e.y-o-a;break;case\\\"bottom\\\":s=e.x+u/2-r/2,l=e.y+h+a;break;case\\\"left\\\":s=e.x-r-a,l=e.y+h/2-o/2;break;case\\\"right\\\":s=e.x+u+a,l=e.y+h/2-o/2}return[s,l]}(e,p,u,t.get(\\\"borderWidth\\\"));n=g[0],i=g[1]}else{g=function(t,e,n,i,r,o,a){var s=n.getSize(),l=s[0],u=s[1];null!=o&&(t+l+o+2>i?t-=l+o:t+=o);null!=a&&(e+u+a>r?e-=u+a:e+=a);return[t,e]}(n,i,r,s,l,h?null:20,c?null:20);n=g[0],i=g[1]}if(h&&(n-=jz(h)?u[0]/2:\\\"right\\\"===h?u[0]:0),c&&(i-=jz(c)?u[1]/2:\\\"bottom\\\"===c?u[1]:0),Az(t)){g=function(t,e,n,i,r){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===t.length;return r&&E(n,(function(n,o){var a=n.dataByAxis||[],s=(t[o]||{}).dataByAxis||[];(r=r&&a.length===s.length)&&E(a,(function(t,n){var o=s[n]||{},a=t.seriesDataIndices||[],l=o.seriesDataIndices||[];(r=r&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===l.length)&&E(a,(function(t,e){var n=l[e];r=r&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})),i&&E(t.seriesDataIndices,(function(t){var n=t.seriesIndex,o=e[n],a=i[n];o&&a&&a.data!==o.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:\\\"hideTip\\\",from:this.uid})},e.prototype.dispose=function(t,e){!r.node&&e.getDom()&&(kg(this,\\\"_updatePosition\\\"),this._tooltipContent.dispose(),JR(\\\"itemTooltip\\\",e))},e.type=\\\"tooltip\\\",e}(gg);function Xz(t,e,n){var i,r=e.ecModel;n?(i=new dc(n,r,r),i=new dc(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof dc&&(a=a.get(\\\"tooltip\\\",!0)),X(a)&&(a={formatter:a}),a&&(i=new dc(a,i,r)))}return i}function Zz(t,e){return t.dispatchAction||W(e.dispatchAction,e)}function jz(t){return\\\"center\\\"===t||\\\"middle\\\"===t}var qz=[\\\"rect\\\",\\\"polygon\\\",\\\"keep\\\",\\\"clear\\\"];function Kz(t,e){var n=ho(t?t.brush:[]);if(n.length){var i=[];E(n,(function(t){var e=t.hasOwnProperty(\\\"toolbox\\\")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))}));var r=t&&t.toolbox;Y(r)&&(r=r[0]),r||(r={feature:{}},t.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function(t){var e={};E(t,(function(t){e[t]=1})),t.length=0,E(e,(function(e,n){t.push(n)}))}(s),e&&!s.length&&s.push.apply(s,qz)}}var $z=E;function Jz(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Qz(t,e,n){var i={};return $z(e,(function(e){var r,o=i[e]=((r=function(){}).prototype.__hidden=r.prototype,new r);$z(t[e],(function(t,i){if(nD.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),o[i]=new nD(r),\\\"opacity\\\"===i&&((r=T(r)).type=\\\"colorAlpha\\\",o.__hidden.__alphaForOpacity=new nD(r))}}))})),i}function tV(t,e,n){var i;E(n,(function(t){e.hasOwnProperty(t)&&Jz(e[t])&&(i=!0)})),i&&E(n,(function(n){e.hasOwnProperty(n)&&Jz(e[n])?t[n]=T(e[n]):delete t[n]}))}var eV={lineX:nV(0),lineY:nV(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&g_(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length\u003C=1)return!1;var r=t.x,o=t.y,a=t.width,s=t.height,l=i[0];return!!(g_(i,r,o)||g_(i,r+a,o)||g_(i,r,o+s)||g_(i,r+a,o+s)||sr.create(t).contain(l[0],l[1])||Oh(r,o,r+a,o,i)||Oh(r,o,r,o+s,i)||Oh(r+a,o,r+a,o+s,i)||Oh(r,o+s,r+a,o+s,i))||void 0}}};function nV(t){var e=[\\\"x\\\",\\\"y\\\"],n=[\\\"width\\\",\\\"height\\\"];return{point:function(e,n,i){if(e){var r=i.range;return iV(e[t],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]\u003Cs[0]&&s.reverse(),iV(s[0],a)||iV(s[1],a)||iV(a[0],s)||iV(a[1],s)}}}}function iV(t,e){return e[0]\u003C=t&&t\u003C=e[1]}var rV=[\\\"inBrush\\\",\\\"outOfBrush\\\"],oV=\\\"__ecBrushSelect\\\",aV=\\\"__ecInBrushSelectEvent\\\";function sV(t){t.eachComponent({mainType:\\\"brush\\\"},(function(e){(e.brushTargetManager=new hz(e.option,t)).setInputRanges(e.areas,t)}))}function lV(t,e,n){var i,r,o=[];t.eachComponent({mainType:\\\"brush\\\"},(function(t){n&&\\\"takeGlobalCursor\\\"===n.type&&t.setBrushOption(\\\"brush\\\"===n.key?n.brushOption:{brushType:!1})})),sV(t),t.eachComponent({mainType:\\\"brush\\\"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:T(e.areas),selected:[]};o.push(a);var s=e.option,l=s.brushLink,u=[],h=[],c=[],p=!1;n||(i=s.throttleType,r=s.throttleDelay);var d=z(e.areas,(function(t){var e=cV[t.brushType],n=k({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(i){return eV[e].point(i,n,t)},rect:function(i){return eV[e].rect(i,n,t)}};return n}(n),n})),f=Qz(e.option,rV,(function(t){t.mappingMethod=\\\"fixed\\\"}));function g(t){return\\\"all\\\"===l||!!u[t]}function y(t){return!!t.length}Y(l)&&E(l,(function(t){u[t]=1})),t.eachSeries((function(n,i){var r=c[i]=[];\\\"parallel\\\"===n.subType?function(t,e){var n=t.coordinateSystem;p=p||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){\\\"active\\\"===t&&(h[e]=1)}))}(n,i):function(n,i,r){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&\\\"all\\\"!==n&&(Y(n)?P(n,e)\u003C0:e!==n)}(e,i))return;if(E(d,(function(i){e.brushTargetManager.controlSeries(i,n,t)&&r.push(i),p=p||y(r)})),g(i)&&y(r)){var o=n.getData();o.each((function(t){hV(n,r,o,t)&&(h[t]=1)}))}}(n,i,r)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var i=c[e],r=t.getData(),o=g(e)?function(t){return h[t]?(n.dataIndex.push(r.getRawIndex(t)),\\\"inBrush\\\"):\\\"outOfBrush\\\"}:function(e){return hV(t,i,r,e)?(n.dataIndex.push(r.getRawIndex(e)),\\\"inBrush\\\"):\\\"outOfBrush\\\"};(g(e)?p:y(i))&&function(t,e,n,i,r,o){var a,s={};function l(t){return fy(n,a,t)}function u(t,e){yy(n,a,t,e)}function h(t,h){a=null==o?t:h;var c=n.getRawDataItem(a);if(!c||!1!==c.visualMap)for(var p=i.call(r,t),d=e[p],f=s[p],g=0,y=f.length;g\u003Cy;g++){var v=f[g];d[v]&&d[v].applyVisual(t,l,u)}}E(t,(function(t){var n=nD.prepareVisualTypes(e[t]);s[t]=n})),null==o?n.each(h):n.each([o],h)}(rV,f,r,o)}))})),function(t,e,n,i,r){if(!r)return;var o=t.getZr();if(o[aV])return;o.__ecBrushSelect||(o.__ecBrushSelect=uV);Ag(o,oV,n,e)(t,i)}(e,i,r,o,n)}function uV(t,e){if(!t.isDisposed()){var n=t.getZr();n[aV]=!0,t.dispatchAction({type:\\\"brushSelect\\\",batch:e}),n[aV]=!1}}function hV(t,e,n,i){for(var r=0,o=e.length;r\u003Co;r++){var a=e[r];if(t.brushSelector(i,n,a.selectors,a))return!0}}var cV={rect:function(t){return pV(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i\u003Cr;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]\u003Ce[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]\u003Ce[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&pV(e)}};function pV(t){return new sr(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var dV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Pk(e.getZr())).on(\\\"brush\\\",W(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){sV(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:\\\"brush\\\",brushId:e,areas:T(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:\\\"brushEnd\\\",brushId:e,areas:T(n),$from:e})},e.type=\\\"brush\\\",e}(gg),fV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return n(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&tV(n,t,[\\\"inBrush\\\",\\\"outOfBrush\\\"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:\\\"#ddd\\\"},i.hasOwnProperty(\\\"liftZ\\\")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=z(t,(function(t){return gV(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=gV(this.option,t),this.brushType=this.brushOption.brushType},e.type=\\\"brush\\\",e.dependencies=[\\\"geo\\\",\\\"grid\\\",\\\"xAxis\\\",\\\"yAxis\\\",\\\"parallel\\\",\\\"series\\\"],e.defaultOption={seriesIndex:\\\"all\\\",brushType:\\\"rect\\\",brushMode:\\\"single\\\",transformable:!0,brushStyle:{borderWidth:1,color:\\\"rgba(210,219,238,0.3)\\\",borderColor:\\\"#D2DBEE\\\"},throttleType:\\\"fixRate\\\",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Tp);function gV(t,e){return C({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new dc(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var yV=[\\\"rect\\\",\\\"polygon\\\",\\\"lineX\\\",\\\"lineY\\\",\\\"keep\\\",\\\"clear\\\"],vV=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.render=function(t,e,n){var i,r,o;e.eachComponent({mainType:\\\"brush\\\"},(function(t){i=t.brushType,r=t.brushOption.brushMode||\\\"single\\\",o=o||!!t.areas.length})),this._brushType=i,this._brushMode=r,E(t.get(\\\"type\\\",!0),(function(e){t.setIconStatus(e,(\\\"keep\\\"===e?\\\"multiple\\\"===r:\\\"clear\\\"===e?o:e===i)?\\\"emphasis\\\":\\\"normal\\\")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get(\\\"icon\\\",!0),n={};return E(t.get(\\\"type\\\",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;\\\"clear\\\"===n?(e.dispatchAction({type:\\\"axisAreaSelect\\\",intervals:[]}),e.dispatchAction({type:\\\"brush\\\",command:\\\"clear\\\",areas:[]})):e.dispatchAction({type:\\\"takeGlobalCursor\\\",key:\\\"brush\\\",brushOption:{brushType:\\\"keep\\\"===n?i:i!==n&&n,brushMode:\\\"keep\\\"===n?\\\"multiple\\\"===r?\\\"single\\\":\\\"multiple\\\":r}})},e.getDefaultOption=function(t){return{show:!0,type:yV.slice(),icon:{rect:\\\"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13\\\",polygon:\\\"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2\\\",lineX:\\\"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4\\\",lineY:\\\"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4\\\",keep:\\\"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z\\\",clear:\\\"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2\\\"},title:t.getLocaleModel().get([\\\"toolbox\\\",\\\"brush\\\",\\\"title\\\"])}},e}(FE);var mV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:\\\"box\\\",ignoreSize:!0},n}return n(e,t),e.type=\\\"title\\\",e.defaultOption={z:6,show:!0,text:\\\"\\\",target:\\\"blank\\\",subtext:\\\"\\\",subtarget:\\\"blank\\\",left:0,top:0,backgroundColor:\\\"rgba(0,0,0,0)\\\",borderColor:\\\"#ccc\\\",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:\\\"bold\\\",color:\\\"#464646\\\"},subtextStyle:{fontSize:12,color:\\\"#6E7079\\\"}},e}(Tp),xV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get(\\\"show\\\")){var i=this.group,r=t.getModel(\\\"textStyle\\\"),o=t.getModel(\\\"subtextStyle\\\"),a=t.get(\\\"textAlign\\\"),s=rt(t.get(\\\"textBaseline\\\"),t.get(\\\"textVerticalAlign\\\")),l=new ks({style:Uh(r,{text:t.get(\\\"text\\\"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get(\\\"subtext\\\"),c=new ks({style:Uh(o,{text:h,fill:o.getTextColor(),y:u.height+t.get(\\\"itemGap\\\"),verticalAlign:\\\"top\\\"},{disableBox:!0}),z2:10}),p=t.get(\\\"link\\\"),d=t.get(\\\"sublink\\\"),f=t.get(\\\"triggerEvent\\\",!0);l.silent=!p&&!f,c.silent=!d&&!f,p&&l.on(\\\"click\\\",(function(){dp(p,\\\"_\\\"+t.get(\\\"target\\\"))})),d&&c.on(\\\"click\\\",(function(){dp(d,\\\"_\\\"+t.get(\\\"subtarget\\\"))})),Hs(l).eventData=Hs(c).eventData=f?{componentType:\\\"title\\\",componentIndex:t.componentIndex}:null,i.add(l),h&&i.add(c);var g=i.getBoundingRect(),y=t.getBoxLayoutParams();y.width=g.width,y.height=g.height;var v=xp(y,{width:n.getWidth(),height:n.getHeight()},t.get(\\\"padding\\\"));a||(\\\"middle\\\"===(a=t.get(\\\"left\\\")||t.get(\\\"right\\\"))&&(a=\\\"center\\\"),\\\"right\\\"===a?v.x+=v.width:\\\"center\\\"===a&&(v.x+=v.width/2)),s||(\\\"center\\\"===(s=t.get(\\\"top\\\")||t.get(\\\"bottom\\\"))&&(s=\\\"middle\\\"),\\\"bottom\\\"===s?v.y+=v.height:\\\"middle\\\"===s&&(v.y+=v.height/2),s=s||\\\"top\\\"),i.x=v.x,i.y=v.y,i.markRedraw();var m={align:a,verticalAlign:s};l.setStyle(m),c.setStyle(m),g=i.getBoundingRect();var x=v.margin,_=t.getItemStyle([\\\"color\\\",\\\"opacity\\\"]);_.fill=t.get(\\\"backgroundColor\\\");var b=new Cs({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get(\\\"borderRadius\\\")},style:_,subPixelOptimize:!0,silent:!0});i.add(b)}},e.type=\\\"title\\\",e}(gg);var _V=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode=\\\"box\\\",n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t\u003C0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,r=this._names=[];\\\"category\\\"===i?(t=[],E(n,(function(e,n){var i,o=xo(fo(e),\\\"\\\");q(e)?(i=T(e)).value=n:i=n,t.push(i),r.push(o)}))):t=n;var o={category:\\\"ordinal\\\",time:\\\"time\\\",value:\\\"number\\\"}[i]||\\\"number\\\";(this._data=new jm([{name:\\\"value\\\",type:o}],this)).initData(t,r)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(\\\"category\\\"===this.get(\\\"axisType\\\"))return this._names.slice()},e.type=\\\"timeline\\\",e.defaultOption={z:4,show:!0,axisType:\\\"time\\\",realtime:!0,left:\\\"20%\\\",top:null,right:\\\"20%\\\",bottom:0,width:null,height:40,padding:5,controlPosition:\\\"left\\\",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:\\\"#000\\\"},data:[]},e}(Tp),bV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"timeline.slider\\\",e.defaultOption=yc(_V.defaultOption,{backgroundColor:\\\"rgba(0,0,0,0)\\\",borderColor:\\\"#ccc\\\",borderWidth:0,orient:\\\"horizontal\\\",inverse:!1,tooltip:{trigger:\\\"item\\\"},symbol:\\\"circle\\\",symbolSize:12,lineStyle:{show:!0,width:2,color:\\\"#DAE1F5\\\"},label:{position:\\\"auto\\\",show:!0,interval:\\\"auto\\\",rotate:0,color:\\\"#A4B1D7\\\"},itemStyle:{color:\\\"#A4B1D7\\\",borderWidth:1},checkpointStyle:{symbol:\\\"circle\\\",symbolSize:15,color:\\\"#316bf3\\\",borderColor:\\\"#fff\\\",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:\\\"rgba(0, 0, 0, 0.3)\\\",animation:!0,animationDuration:300,animationEasing:\\\"quinticInOut\\\"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:\\\"left\\\",playIcon:\\\"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z\\\",stopIcon:\\\"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z\\\",nextIcon:\\\"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z\\\",prevIcon:\\\"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z\\\",prevBtnSize:18,nextBtnSize:18,color:\\\"#A4B1D7\\\",borderColor:\\\"#A4B1D7\\\",borderWidth:1},emphasis:{label:{show:!0,color:\\\"#6f778d\\\"},itemStyle:{color:\\\"#316BF3\\\"},controlStyle:{color:\\\"#316BF3\\\",borderColor:\\\"#316BF3\\\",borderWidth:2}},progress:{lineStyle:{color:\\\"#316BF3\\\"},itemStyle:{color:\\\"#316BF3\\\"},label:{color:\\\"#6f778d\\\"}},data:[]}),e}(_V);R(bV,lf.prototype);var wV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"timeline\\\",e}(gg),SV=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i)||this;return o.type=r||\\\"value\\\",o}return n(e,t),e.prototype.getLabelModel=function(){return this.model.getModel(\\\"label\\\")},e.prototype.isHorizontal=function(){return\\\"horizontal\\\"===this.model.get(\\\"orient\\\")},e}(W_),MV=Math.PI,IV=So(),TV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get(\\\"show\\\",!0)){var i=this._layout(t,n),r=this._createGroup(\\\"_mainGroup\\\"),o=this._createGroup(\\\"_labelGroup\\\"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return Xf(\\\"nameValue\\\",{noName:!0,value:a.scale.getLabel({value:t})})},E([\\\"AxisLine\\\",\\\"AxisTick\\\",\\\"Control\\\",\\\"CurrentPointer\\\"],(function(e){this[\\\"_render\\\"+e](i,r,a,t)}),this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i,r,o,a=t.get([\\\"label\\\",\\\"position\\\"]),s=t.get(\\\"orient\\\"),l=function(t,e){return xp(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get(\\\"padding\\\"))}(t,e),u={horizontal:\\\"center\\\",vertical:(n=null==a||\\\"auto\\\"===a?\\\"horizontal\\\"===s?l.y+l.height/2\u003Ce.getHeight()/2?\\\"-\\\":\\\"+\\\":l.x+l.width/2\u003Ce.getWidth()/2?\\\"+\\\":\\\"-\\\":X(a)?{horizontal:{top:\\\"-\\\",bottom:\\\"+\\\"},vertical:{left:\\\"-\\\",right:\\\"+\\\"}}[s][a]:a)>=0||\\\"+\\\"===n?\\\"left\\\":\\\"right\\\"},h={horizontal:n>=0||\\\"+\\\"===n?\\\"top\\\":\\\"bottom\\\",vertical:\\\"middle\\\"},c={horizontal:0,vertical:MV/2},p=\\\"vertical\\\"===s?l.height:l.width,d=t.getModel(\\\"controlStyle\\\"),f=d.get(\\\"show\\\",!0),g=f?d.get(\\\"itemSize\\\"):0,y=f?d.get(\\\"itemGap\\\"):0,v=g+y,m=t.get([\\\"label\\\",\\\"rotate\\\"])||0;m=m*MV/180;var x=d.get(\\\"position\\\",!0),_=f&&d.get(\\\"showPlayBtn\\\",!0),b=f&&d.get(\\\"showPrevBtn\\\",!0),w=f&&d.get(\\\"showNextBtn\\\",!0),S=0,M=p;\\\"left\\\"===x||\\\"bottom\\\"===x?(_&&(i=[0,0],S+=v),b&&(r=[S,0],S+=v),w&&(o=[M-g,0],M-=v)):(_&&(i=[M-g,0],M-=v),b&&(r=[0,0],S+=v),w&&(o=[M-g,0],M-=v));var I=[S,M];return t.get(\\\"inverse\\\")&&I.reverse(),{viewRect:l,mainLength:p,orient:s,rotation:c[s],labelRotation:m,labelPosOpt:n,labelAlign:t.get([\\\"label\\\",\\\"align\\\"])||u[s],labelBaseline:t.get([\\\"label\\\",\\\"verticalAlign\\\"])||t.get([\\\"label\\\",\\\"baseline\\\"])||h[s],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:I,controlSize:g,controlGap:y}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if(\\\"vertical\\\"===t.orient){var o=[1,0,0,1,0,0],a=r.x,s=r.y+r.height;Ei(o,o,[-a,-s]),zi(o,o,-MV/2),Ei(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=y(r),u=y(n.getBoundingRect()),h=y(i.getBoundingRect()),c=[n.x,n.y],p=[i.x,i.y];p[0]=c[0]=l[0][0];var d,f=t.labelPosOpt;null==f||X(f)?(v(c,u,l,1,d=\\\"+\\\"===f?0:1),v(p,h,l,1,1-d)):(v(c,u,l,1,d=f>=0?0:1),p[1]=c[1]+f);function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.setPosition(c),i.setPosition(p),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get(\\\"axisType\\\"),r=function(t,e){if(e=e||t.get(\\\"type\\\"))switch(e){case\\\"category\\\":return new yx({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case\\\"time\\\":return new Ox({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get(\\\"useUTC\\\")});default:return new mx}}(e,i);r.getTicks=function(){return n.mapArray([\\\"value\\\"],(function(t){return{value:t}}))};var o=n.getDataExtent(\\\"value\\\");r.setExtent(o[0],o[1]),r.calcNiceTicks();var a=new SV(\\\"value\\\",r,t.axisExtent,i);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new Cr;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var r=n.getExtent();if(i.get([\\\"lineStyle\\\",\\\"show\\\"])){var o=new zu({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:A({lineCap:\\\"round\\\"},i.getModel(\\\"lineStyle\\\").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new zu({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:k({lineCap:\\\"round\\\",lineWidth:o.style.lineWidth},i.getModel([\\\"progress\\\",\\\"lineStyle\\\"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],E(a,(function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),l=s.getModel(\\\"itemStyle\\\"),u=s.getModel([\\\"emphasis\\\",\\\"itemStyle\\\"]),h=s.getModel([\\\"progress\\\",\\\"itemStyle\\\"]),c={x:a,y:0,onclick:W(r._changeTimeline,r,t.value)},p=CV(s,l,e,c);p.ensureState(\\\"emphasis\\\").style=u.getItemStyle(),p.ensureState(\\\"progress\\\").style=h.getItemStyle(),Ol(p);var d=Hs(p);s.get(\\\"tooltip\\\")?(d.dataIndex=t.value,d.dataModel=i):d.dataIndex=d.dataModel=null,r._tickSymbols.push(p)}))},e.prototype._renderAxisLabel=function(t,e,n,i){var r=this;if(n.getLabelModel().get(\\\"show\\\")){var o=i.getData(),a=n.getViewLabels();this._tickLabels=[],E(a,(function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel(\\\"label\\\"),u=s.getModel([\\\"emphasis\\\",\\\"label\\\"]),h=s.getModel([\\\"progress\\\",\\\"label\\\"]),c=n.dataToCoord(i.tickValue),p=new ks({x:c,y:0,rotation:t.labelRotation-t.rotation,onclick:W(r._changeTimeline,r,a),silent:!1,style:Uh(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});p.ensureState(\\\"emphasis\\\").style=Uh(u),p.ensureState(\\\"progress\\\").style=Uh(h),e.add(p),Ol(p),IV(p).dataIndex=a,r._tickLabels.push(p)}))}},e.prototype._renderControl=function(t,e,n,i){var r=t.controlSize,o=t.rotation,a=i.getModel(\\\"controlStyle\\\").getItemStyle(),s=i.getModel([\\\"emphasis\\\",\\\"controlStyle\\\"]).getItemStyle(),l=i.getPlayState(),u=i.get(\\\"inverse\\\",!0);function h(t,n,l,u){if(t){var h=gr(rt(i.get([\\\"controlStyle\\\",n+\\\"BtnSize\\\"]),r),r),c=function(t,e,n,i){var r=i.style,o=Ph(t.get([\\\"controlStyle\\\",e]),i||{},new sr(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+\\\"Icon\\\",[0,-h/2,h,h],{x:t[0],y:t[1],originX:r/2,originY:0,rotation:u?-o:0,rectHover:!0,style:a,onclick:l});c.ensureState(\\\"emphasis\\\").style=s,e.add(c),Ol(c)}}h(t.nextBtnPosition,\\\"next\\\",W(this._changeTimeline,this,u?\\\"-\\\":\\\"+\\\")),h(t.prevBtnPosition,\\\"prev\\\",W(this._changeTimeline,this,u?\\\"+\\\":\\\"-\\\")),h(t.playPosition,l?\\\"stop\\\":\\\"play\\\",W(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel(\\\"checkpointStyle\\\"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=W(s._handlePointerDrag,s),t.ondragend=W(s._handlePointerDragend,s),DV(t,s._progressLine,o,n,i,!0)},onUpdate:function(t){DV(t,s._progressLine,o,n,i)}};this._currentPointer=CV(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:\\\"timelinePlayChange\\\",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=Vr(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n\u003Ci[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var r=this._findNearestTick(n),o=this.model;(e||r!==o.getCurrentIndex()&&o.get(\\\"realtime\\\"))&&this._changeTimeline(r)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get(\\\"rewind\\\",!0)?-1:1))}),this.model.get(\\\"playInterval\\\")))},e.prototype._toAxisCoord=function(t){return Th(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each([\\\"value\\\"],(function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);s\u003Ci&&(i=s,e=o)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();\\\"+\\\"===t?t=e+1:\\\"-\\\"===t&&(t=e-1),this.api.dispatchAction({type:\\\"timelineChange\\\",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i\u003Ce.length;i++)e&&e[i]&&e[i].toggleState(\\\"progress\\\",i\u003Ct);if(n)for(i=0;i\u003Cn.length;i++)n&&n[i]&&n[i].toggleState(\\\"progress\\\",IV(n[i]).dataIndex\u003C=t)},e.type=\\\"timeline.slider\\\",e}(wV);function CV(t,e,n,i,r,o){var a=e.get(\\\"color\\\");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=Ly(t.get(\\\"symbol\\\"),-1,-1,2,2,a)).setStyle(\\\"strokeNoScale\\\",!0),n.add(r),o&&o.onCreate(r));var s=e.getItemStyle([\\\"color\\\"]);r.setStyle(s),i=C({rectHover:!0,z2:100},i,!0);var l=Py(t.get(\\\"symbolSize\\\"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Oy(t.get(\\\"symbolOffset\\\"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=t.get(\\\"symbolRotate\\\");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function DV(t,e,n,i,r,o){if(!t.dragging){var a=r.getModel(\\\"checkpointStyle\\\"),s=i.dataToCoord(r.getData().get(\\\"value\\\",n));if(o||!a.get(\\\"animation\\\",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get(\\\"animationDuration\\\",!0),easing:a.get(\\\"animationEasing\\\",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function AV(t){var e=t&&t.timeline;Y(e)||(e=e?[e]:[]),E(e,(function(t){t&&function(t){var e=t.type,n={number:\\\"value\\\",time:\\\"time\\\"};n[e]&&(t.axisType=n[e],delete t.type);if(kV(t),LV(t,\\\"controlPosition\\\")){var i=t.controlStyle||(t.controlStyle={});LV(i,\\\"position\\\")||(i.position=t.controlPosition),\\\"none\\\"!==i.position||LV(i,\\\"show\\\")||(i.show=!1,delete i.position),delete t.controlPosition}E(t.data||[],(function(t){q(t)&&!Y(t)&&(!LV(t,\\\"value\\\")&&LV(t,\\\"name\\\")&&(t.value=t.name),kV(t))}))}(t)}))}function kV(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};E(i,(function(t,e){o[e]||LV(r,e)||(r[e]=t)})),n.label&&!LV(i,\\\"emphasis\\\")&&(i.emphasis=n.label,delete n.label)}function LV(t,e){return t.hasOwnProperty(e)}function PV(t,e){if(!t)return!1;for(var n=Y(t)?t:[t],i=0;i\u003Cn.length;i++)if(n[i]&&n[i][e])return!0;return!1}function OV(t){co(t,\\\"label\\\",[\\\"show\\\"])}var RV=So(),NV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(r.node)return!1;var t=this.__hostSeries;return this.getShallow(\\\"animation\\\")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var r=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),o=RV(t)[r];n&&n.data?(o?o._mergeOption(n,e,!0):(i&&OV(n),E(n.data,(function(t){t instanceof Array?(OV(t[0]),OV(t[1])):OV(t)})),A(o=this.createMarkerModelFromSeries(n,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),RV(t)[r]=o):RV(t)[r]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),o=i.getName(t);return Xf(\\\"section\\\",{header:this.name,blocks:[Xf(\\\"nameValue\\\",{name:o,value:r,noName:!o,noValue:null==r})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return RV(t)[e]},e.type=\\\"marker\\\",e.dependencies=[\\\"series\\\",\\\"grid\\\",\\\"polar\\\",\\\"geo\\\"],e}(Tp);R(NV,lf.prototype);var EV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type=\\\"markPoint\\\",e.defaultOption={z:5,symbol:\\\"pin\\\",symbolSize:50,tooltip:{trigger:\\\"item\\\"},label:{show:!0,position:\\\"inside\\\"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(NV);function zV(t,e,n,i,r,o){var a=[],s=ex(e,i)?e.getCalculationInfo(\\\"stackResultDimension\\\"):i,l=HV(e,s,t),u=e.indicesOfNearest(s,l)[0];a[r]=e.get(n,u),a[o]=e.get(s,u);var h=e.get(i,u),c=Br(e.get(i,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var VV={min:H(zV,\\\"min\\\"),max:H(zV,\\\"max\\\"),average:H(zV,\\\"average\\\"),median:H(zV,\\\"median\\\")};function BV(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!Y(e.coord)&&i){var r=i.dimensions,o=FV(e,n,i,t);if((e=T(e)).type&&VV[e.type]&&o.baseAxis&&o.valueAxis){var a=P(r,o.baseAxis.dim),s=P(r,o.valueAxis.dim),l=VV[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h\u003C2;h++)VV[u[h]]&&(u[h]=HV(n,n.mapDimension(r[h]),u[h]));e.coord=u}}return e}function FV(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function GV(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function WV(t,e){return t?function(t,n,i,r){return df(r\u003C2?t.coord&&t.coord[r]:t.value,e[r])}:function(t,n,i,r){return df(t.value,e[r])}}function HV(t,e,n){if(\\\"average\\\"===n){var i=0,r=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,r++)})),i/r}return\\\"median\\\"===n?t.getMedian(e):t.getDataExtent(e)[\\\"max\\\"===n?1:0]}var YV=So(),UV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.init=function(){this.markerGroupMap=ft()},e.prototype.render=function(t,e,n){var i=this,r=this.markerGroupMap;r.each((function(t){YV(t).keep=!1})),e.eachSeries((function(t){var r=NV.getMarkerModelFromSeries(t,i.type);r&&i.renderSeries(t,r,e,n)})),r.each((function(t){!YV(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){YV(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;E(t,(function(t){var i=NV.getMarkerModelFromSeries(t,n.type);i&&i.getData().eachItemGraphicEl((function(t){t&&(e?wl(t):Sl(t))}))}))},e.type=\\\"marker\\\",e}(gg);function XV(t,e,n){var i=e.coordinateSystem;t.each((function(r){var o,a=t.getItemModel(r),s=Er(a.get(\\\"x\\\"),n.getWidth()),l=Er(a.get(\\\"y\\\"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var u=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)}))}var ZV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=NV.getMarkerModelFromSeries(t,\\\"markPoint\\\");e&&(XV(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new jw),u=function(t,e,n){var i;i=t?z(t&&t.dimensions,(function(t){return A(A({},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:\\\"value\\\",type:\\\"float\\\"}];var r=new jm(i,n),o=z(n.get(\\\"data\\\"),H(BV,e));t&&(o=B(o,H(GV,t)));var a=WV(!!t,i);return r.initData(o,null,a),r}(r,t,e);e.setData(u),XV(e.getData(),t,i),u.each((function(t){var n=u.getItemModel(t),i=n.getShallow(\\\"symbol\\\"),r=n.getShallow(\\\"symbolSize\\\"),o=n.getShallow(\\\"symbolRotate\\\"),s=n.getShallow(\\\"symbolOffset\\\"),l=n.getShallow(\\\"symbolKeepAspect\\\");if(U(i)||U(r)||U(o)||U(s)){var h=e.getRawValue(t),c=e.getDataParams(t);U(i)&&(i=i(h,c)),U(r)&&(r=r(h,c)),U(o)&&(o=o(h,c)),U(s)&&(s=s(h,c))}var p=n.getModel(\\\"itemStyle\\\").getItemStyle(),d=gy(a,\\\"color\\\");p.fill||(p.fill=d),u.setItemVisual(t,{symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:s,symbolKeepAspect:l,style:p})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){Hs(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get(\\\"silent\\\")||t.get(\\\"silent\\\")},e.type=\\\"markPoint\\\",e}(UV);var jV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type=\\\"markLine\\\",e.defaultOption={z:5,symbol:[\\\"circle\\\",\\\"arrow\\\"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:\\\"item\\\"},label:{show:!0,position:\\\"end\\\",distance:5},lineStyle:{type:\\\"dashed\\\"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:\\\"linear\\\"},e}(NV),qV=So(),KV=function(t,e,n,i){var r,o=t.getData();if(Y(i))r=i;else{var a=i.type;if(\\\"min\\\"===a||\\\"max\\\"===a||\\\"average\\\"===a||\\\"median\\\"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?\\\"y\\\":\\\"x\\\"),l=it(i.yAxis,i.xAxis);else{var u=FV(i,o,e,t);s=u.valueAxis,l=HV(o,nx(o,u.valueDataDim),a)}var h=\\\"x\\\"===s.dim?0:1,c=1-h,p=T(i),d={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,d.coord[c]=1/0;var f=n.get(\\\"precision\\\");f>=0&&j(l)&&(l=+l.toFixed(Math.min(f,20))),p.coord[h]=d.coord[h]=l,r=[p,d,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[BV(t,r[0]),BV(t,r[1]),A({},r[2])];return g[2].type=g[2].type||null,C(g[2],g[0]),C(g[2],g[1]),g};function $V(t){return!isNaN(t)&&!isFinite(t)}function JV(t,e,n,i){var r=1-t,o=i.dimensions[t];return $V(e[r])&&$V(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function QV(t,e){if(\\\"cartesian2d\\\"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(JV(1,n,i,t)||JV(0,n,i,t)))return!0}return GV(t,e[0])&&GV(t,e[1])}function tB(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Er(s.get(\\\"x\\\"),r.getWidth()),u=Er(s.get(\\\"y\\\"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=a.dimensions,c=t.get(h[0],e),p=t.get(h[1],e);o=a.dataToPoint([c,p])}if(lS(a,\\\"cartesian2d\\\")){var d=a.getAxis(\\\"x\\\"),f=a.getAxis(\\\"y\\\");h=a.dimensions;$V(t.get(h[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[n?0:1]):$V(t.get(h[1],e))&&(o[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];t.setItemLayout(e,o)}var eB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=NV.getMarkerModelFromSeries(t,\\\"markLine\\\");if(e){var i=e.getData(),r=qV(e).from,o=qV(e).to;r.each((function(e){tB(r,e,!0,t,n),tB(o,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new fA);this.group.add(l.group);var u=function(t,e,n){var i;i=t?z(t&&t.dimensions,(function(t){return A(A({},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:\\\"value\\\",type:\\\"float\\\"}];var r=new jm(i,n),o=new jm(i,n),a=new jm([],n),s=z(n.get(\\\"data\\\"),H(KV,e,t,n));t&&(s=B(s,H(QV,t)));var l=WV(!!t,i);return r.initData(z(s,(function(t){return t[0]})),null,l),o.initData(z(s,(function(t){return t[1]})),null,l),a.initData(z(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,t,e),h=u.from,c=u.to,p=u.line;qV(e).from=h,qV(e).to=c,e.setData(p);var d=e.get(\\\"symbol\\\"),f=e.get(\\\"symbolSize\\\"),g=e.get(\\\"symbolRotate\\\"),y=e.get(\\\"symbolOffset\\\");function v(e,n,r){var o=e.getItemModel(n);tB(e,n,r,t,i);var s=o.getModel(\\\"itemStyle\\\").getItemStyle();null==s.fill&&(s.fill=gy(a,\\\"color\\\")),e.setItemVisual(n,{symbolKeepAspect:o.get(\\\"symbolKeepAspect\\\"),symbolOffset:rt(o.get(\\\"symbolOffset\\\",!0),y[r?0:1]),symbolRotate:rt(o.get(\\\"symbolRotate\\\",!0),g[r?0:1]),symbolSize:rt(o.get(\\\"symbolSize\\\"),f[r?0:1]),symbol:rt(o.get(\\\"symbol\\\",!0),d[r?0:1]),style:s})}Y(d)||(d=[d,d]),Y(f)||(f=[f,f]),Y(g)||(g=[g,g]),Y(y)||(y=[y,y]),u.from.each((function(t){v(h,t,!0),v(c,t,!1)})),p.each((function(t){var e=p.getItemModel(t).getModel(\\\"lineStyle\\\").getLineStyle();p.setItemLayout(t,[h.getItemLayout(t),c.getItemLayout(t)]),null==e.stroke&&(e.stroke=h.getItemVisual(t,\\\"style\\\").fill),p.setItemVisual(t,{fromSymbolKeepAspect:h.getItemVisual(t,\\\"symbolKeepAspect\\\"),fromSymbolOffset:h.getItemVisual(t,\\\"symbolOffset\\\"),fromSymbolRotate:h.getItemVisual(t,\\\"symbolRotate\\\"),fromSymbolSize:h.getItemVisual(t,\\\"symbolSize\\\"),fromSymbol:h.getItemVisual(t,\\\"symbol\\\"),toSymbolKeepAspect:c.getItemVisual(t,\\\"symbolKeepAspect\\\"),toSymbolOffset:c.getItemVisual(t,\\\"symbolOffset\\\"),toSymbolRotate:c.getItemVisual(t,\\\"symbolRotate\\\"),toSymbolSize:c.getItemVisual(t,\\\"symbolSize\\\"),toSymbol:c.getItemVisual(t,\\\"symbol\\\"),style:e})})),l.updateData(p),u.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){Hs(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get(\\\"silent\\\")||t.get(\\\"silent\\\")},e.type=\\\"markLine\\\",e}(UV);var nB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type=\\\"markArea\\\",e.defaultOption={z:1,tooltip:{trigger:\\\"item\\\"},animation:!1,label:{show:!0,position:\\\"top\\\"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:\\\"top\\\"}}},e}(NV),iB=So(),rB=function(t,e,n,i){var r=BV(t,i[0]),o=BV(t,i[1]),a=r.coord,s=o.coord;a[0]=it(a[0],-1/0),a[1]=it(a[1],-1/0),s[0]=it(s[0],1/0),s[1]=it(s[1],1/0);var l=D([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function oB(t){return!isNaN(t)&&!isFinite(t)}function aB(t,e,n,i){var r=1-t;return oB(e[r])&&oB(n[r])}function sB(t,e){var n=e.coord[0],i=e.coord[1];return!!(lS(t,\\\"cartesian2d\\\")&&n&&i&&(aB(1,n,i)||aB(0,n,i)))||(GV(t,{coord:n,x:e.x0,y:e.y0})||GV(t,{coord:i,x:e.x1,y:e.y1}))}function lB(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Er(s.get(n[0]),r.getWidth()),u=Er(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(n,e));else{var h=[d=t.get(n[0],e),f=t.get(n[1],e)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(lS(a,\\\"cartesian2d\\\")){var c=a.getAxis(\\\"x\\\"),p=a.getAxis(\\\"y\\\"),d=t.get(n[0],e),f=t.get(n[1],e);oB(d)?o[0]=c.toGlobalCoord(c.getExtent()[\\\"x0\\\"===n[0]?0:1]):oB(f)&&(o[1]=p.toGlobalCoord(p.getExtent()[\\\"y0\\\"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var uB=[[\\\"x0\\\",\\\"y0\\\"],[\\\"x1\\\",\\\"y0\\\"],[\\\"x1\\\",\\\"y1\\\"],[\\\"x0\\\",\\\"y1\\\"]],hB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=NV.getMarkerModelFromSeries(t,\\\"markArea\\\");if(e){var i=e.getData();i.each((function(e){var r=z(uB,(function(r){return lB(i,e,r,t,n)}));i.setItemLayout(e,r),i.getItemGraphicEl(e).setShape(\\\"points\\\",r)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new Cr});this.group.add(l.group),this.markKeep(l);var u=function(t,e,n){var i,r,o=[\\\"x0\\\",\\\"y0\\\",\\\"x1\\\",\\\"y1\\\"];if(t){var a=z(t&&t.dimensions,(function(t){var n=e.getData();return A(A({},n.getDimensionInfo(n.mapDimension(t))||{}),{name:t,ordinalMeta:null})}));r=z(o,(function(t,e){return{name:t,type:a[e%2].type}})),i=new jm(r,n)}else i=new jm(r=[{name:\\\"value\\\",type:\\\"float\\\"}],n);var s=z(n.get(\\\"data\\\"),H(rB,e,t,n));t&&(s=B(s,H(sB,t)));var l=t?function(t,e,n,i){return df(t.coord[Math.floor(i/2)][i%2],r[i])}:function(t,e,n,i){return df(t.value,r[i])};return i.initData(s,null,l),i.hasItemOption=!0,i}(r,t,e);e.setData(u),u.each((function(e){var n=z(uB,(function(n){return lB(u,e,n,t,i)})),o=r.getAxis(\\\"x\\\").scale,s=r.getAxis(\\\"y\\\").scale,l=o.getExtent(),h=s.getExtent(),c=[o.parse(u.get(\\\"x0\\\",e)),o.parse(u.get(\\\"x1\\\",e))],p=[s.parse(u.get(\\\"y0\\\",e)),s.parse(u.get(\\\"y1\\\",e))];Vr(c),Vr(p);var d=!!(l[0]>c[1]||l[1]\u003Cc[0]||h[0]>p[1]||h[1]\u003Cp[0]);u.setItemLayout(e,{points:n,allClipped:d});var f=u.getItemModel(e).getModel(\\\"itemStyle\\\").getItemStyle(),g=gy(a,\\\"color\\\");f.fill||(f.fill=g,X(f.fill)&&(f.fill=An(f.fill,.4))),f.stroke||(f.stroke=g),u.setItemVisual(e,\\\"style\\\",f)})),u.diff(iB(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var n=new Pu({shape:{points:e.points}});u.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=iB(l).data.getItemGraphicEl(n),r=u.getItemLayout(t);r.allClipped?i&&l.group.remove(i):(i?rh(i,{shape:{points:r.points}},e,t):i=new Pu({shape:{points:r.points}}),u.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=iB(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(t,n){var i=u.getItemModel(n),r=u.getItemVisual(n,\\\"style\\\");t.useStyle(u.getItemVisual(n,\\\"style\\\")),Hh(t,Yh(i),{labelFetcher:e,labelDataIndex:n,defaultText:u.getName(n)||\\\"\\\",inheritColor:X(r.fill)?An(r.fill,1):\\\"#000\\\"}),Vl(t,i),Rl(t,null,null,i.get([\\\"emphasis\\\",\\\"disabled\\\"])),Hs(t).dataModel=e})),iB(l).data=u,l.group.silent=e.get(\\\"silent\\\")||t.get(\\\"silent\\\")},e.type=\\\"markArea\\\",e}(UV);var cB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:\\\"box\\\",ignoreSize:!0},n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=[\\\"all\\\",\\\"inverse\\\"]),Y(e)&&E(e,(function(t,i){X(t)&&(t={type:t}),e[i]=C(t,function(t,e){return\\\"all\\\"===e?{type:\\\"all\\\",title:t.getLocaleModel().get([\\\"legend\\\",\\\"selector\\\",\\\"all\\\"])}:\\\"inverse\\\"===e?{type:\\\"inverse\\\",title:t.getLocaleModel().get([\\\"legend\\\",\\\"selector\\\",\\\"inverse\\\"])}:void 0}(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&\\\"single\\\"===this.get(\\\"selectedMode\\\")){for(var e=!1,n=0;n\u003Ct.length;n++){var i=t[n].get(\\\"name\\\");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get(\\\"name\\\"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&_o(i)&&e.push(i.name)})),this._availableNames=n;var i=z(this.get(\\\"data\\\")||e,(function(t){return(X(t)||j(t))&&(t={name:t}),new dc(t,this,this.ecModel)}),this);this._data=i},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;\\\"single\\\"===this.get(\\\"selectedMode\\\")&&E(this._data,(function(t){e[t.get(\\\"name\\\")]=!1}));e[t]=!0},e.prototype.unSelect=function(t){\\\"single\\\"!==this.get(\\\"selectedMode\\\")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?\\\"unSelect\\\":\\\"select\\\"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;E(t,(function(t){e[t.get(\\\"name\\\",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;E(t,(function(t){var n=t.get(\\\"name\\\",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&P(this._availableNames,t)>=0},e.prototype.getOrient=function(){return\\\"vertical\\\"===this.get(\\\"orient\\\")?{index:1,name:\\\"vertical\\\"}:{index:0,name:\\\"horizontal\\\"}},e.type=\\\"legend.plain\\\",e.dependencies=[\\\"series\\\"],e.defaultOption={z:4,show:!0,orient:\\\"horizontal\\\",left:\\\"center\\\",top:0,align:\\\"auto\\\",backgroundColor:\\\"rgba(0,0,0,0)\\\",borderColor:\\\"#ccc\\\",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:\\\"inherit\\\",symbolKeepAspect:!0,inactiveColor:\\\"#ccc\\\",inactiveBorderColor:\\\"#ccc\\\",inactiveBorderWidth:\\\"auto\\\",itemStyle:{color:\\\"inherit\\\",opacity:\\\"inherit\\\",borderColor:\\\"inherit\\\",borderWidth:\\\"auto\\\",borderCap:\\\"inherit\\\",borderJoin:\\\"inherit\\\",borderDashOffset:\\\"inherit\\\",borderMiterLimit:\\\"inherit\\\"},lineStyle:{width:\\\"auto\\\",color:\\\"inherit\\\",inactiveColor:\\\"#ccc\\\",inactiveWidth:2,opacity:\\\"inherit\\\",type:\\\"inherit\\\",cap:\\\"inherit\\\",join:\\\"inherit\\\",dashOffset:\\\"inherit\\\",miterLimit:\\\"inherit\\\"},textStyle:{color:\\\"#333\\\"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:\\\"sans-serif\\\",color:\\\"#666\\\",borderWidth:1,borderColor:\\\"#666\\\"},emphasis:{selectorLabel:{show:!0,color:\\\"#eee\\\",backgroundColor:\\\"#666\\\"}},selectorPosition:\\\"auto\\\",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Tp),pB=H,dB=E,fB=Cr,gB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return n(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new fB),this.group.add(this._selectorGroup=new fB),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get(\\\"show\\\",!0)){var r=t.get(\\\"align\\\"),o=t.get(\\\"orient\\\");r&&\\\"auto\\\"!==r||(r=\\\"right\\\"===t.get(\\\"left\\\")&&\\\"vertical\\\"===o?\\\"right\\\":\\\"left\\\");var a=t.get(\\\"selector\\\",!0),s=t.get(\\\"selectorPosition\\\",!0);!a||s&&\\\"auto\\\"!==s||(s=\\\"horizontal\\\"===o?\\\"end\\\":\\\"start\\\"),this.renderInner(r,t,e,n,a,o,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},h=t.get(\\\"padding\\\"),c=xp(l,u,h),p=this.layoutInner(t,r,c,i,a,s),d=xp(k({width:p.width,height:p.height},l),u,h);this.group.x=d.x-p.x,this.group.y=d.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=UE(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,o,a){var s=this.getContentGroup(),l=ft(),u=e.get(\\\"selectedMode\\\"),h=[];n.eachRawSeries((function(t){!t.get(\\\"legendHoverLink\\\")&&h.push(t.id)})),dB(e.getData(),(function(r,o){var a=r.get(\\\"name\\\");if(!this.newlineDisabled&&(\\\"\\\"===a||\\\"\\\\n\\\"===a)){var c=new fB;return c.newline=!0,void s.add(c)}var p=n.getSeriesByName(a)[0];if(!l.get(a)){if(p){var d=p.getData(),f=d.getVisual(\\\"legendLineStyle\\\")||{},g=d.getVisual(\\\"legendIcon\\\"),y=d.getVisual(\\\"style\\\");this._createItem(p,a,o,r,e,t,f,y,g,u).on(\\\"click\\\",pB(yB,a,null,i,h)).on(\\\"mouseover\\\",pB(mB,p.name,null,i,h)).on(\\\"mouseout\\\",pB(xB,p.name,null,i,h)),l.set(a,!0)}else n.eachRawSeries((function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var c=s.indexOfName(a),p=s.getItemVisual(c,\\\"style\\\"),d=s.getItemVisual(c,\\\"legendIcon\\\"),f=bn(p.fill);f&&0===f[3]&&(f[3]=.2,p=A(A({},p),{fill:kn(f,\\\"rgba\\\")})),this._createItem(n,a,o,r,e,t,{},p,d,u).on(\\\"click\\\",pB(yB,null,a,i,h)).on(\\\"mouseover\\\",pB(mB,null,a,i,h)).on(\\\"mouseout\\\",pB(xB,null,a,i,h)),l.set(a,!0)}}),this);0}}),this),r&&this._createSelector(r,e,i,o,a)},e.prototype._createSelector=function(t,e,n,i,r){var o=this.getSelectorGroup();dB(t,(function(t){var i=t.type,r=new ks({style:{x:0,y:0,align:\\\"center\\\",verticalAlign:\\\"middle\\\"},onclick:function(){n.dispatchAction({type:\\\"all\\\"===i?\\\"legendAllSelect\\\":\\\"legendInverseSelect\\\"})}});o.add(r),Hh(r,{normal:e.getModel(\\\"selectorLabel\\\"),emphasis:e.getModel([\\\"emphasis\\\",\\\"selectorLabel\\\"])},{defaultText:t.title}),Ol(r)}))},e.prototype._createItem=function(t,e,n,i,r,o,a,s,l,u){var h=t.visualDrawType,c=r.get(\\\"itemWidth\\\"),p=r.get(\\\"itemHeight\\\"),d=r.isSelected(e),f=i.get(\\\"symbolRotate\\\"),g=i.get(\\\"symbolKeepAspect\\\"),y=i.get(\\\"icon\\\"),v=function(t,e,n,i,r,o){function a(t,e){\\\"auto\\\"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),dB(t,(function(n,i){\\\"inherit\\\"===t[i]&&(t[i]=e[i])}))}var s=e.getModel(\\\"itemStyle\\\").getItemStyle(),l=0===t.lastIndexOf(\\\"empty\\\",0)?\\\"fill\\\":\\\"stroke\\\";s.decal=i.decal,\\\"inherit\\\"===s.fill&&(s.fill=i[r]);\\\"inherit\\\"===s.stroke&&(s.stroke=i[l]);\\\"inherit\\\"===s.opacity&&(s.opacity=(\\\"fill\\\"===r?i:n).opacity);a(s,i);var u=e.getModel(\\\"lineStyle\\\"),h=u.getLineStyle();if(a(h,n),\\\"auto\\\"===s.fill&&(s.fill=i.fill),\\\"auto\\\"===s.stroke&&(s.stroke=i.fill),\\\"auto\\\"===h.stroke&&(h.stroke=i.fill),!o){var c=e.get(\\\"inactiveBorderWidth\\\"),p=s[l];s.lineWidth=\\\"auto\\\"===c?i.lineWidth>0&&p?2:0:s.lineWidth,s.fill=e.get(\\\"inactiveColor\\\"),s.stroke=e.get(\\\"inactiveBorderColor\\\"),h.stroke=u.get(\\\"inactiveColor\\\"),h.lineWidth=u.get(\\\"inactiveWidth\\\")}return{itemStyle:s,lineStyle:h}}(l=y||l||\\\"roundRect\\\",i,a,s,h,d),m=new fB,x=i.getModel(\\\"textStyle\\\");if(!U(t.getLegendIcon)||y&&\\\"inherit\\\"!==y){var _=\\\"inherit\\\"===y&&t.getData().getVisual(\\\"symbol\\\")?\\\"inherit\\\"===f?t.getData().getVisual(\\\"symbolRotate\\\"):f:0;m.add(function(t){var e=t.icon||\\\"roundRect\\\",n=Ly(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf(\\\"empty\\\")>-1&&(n.style.stroke=n.style.fill,n.style.fill=\\\"#fff\\\",n.style.lineWidth=2);return n}({itemWidth:c,itemHeight:p,icon:l,iconRotate:_,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:g}))}else m.add(t.getLegendIcon({itemWidth:c,itemHeight:p,icon:l,iconRotate:f,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:g}));var b=\\\"left\\\"===o?c+5:-5,w=o,S=r.get(\\\"formatter\\\"),M=e;X(S)&&S?M=S.replace(\\\"{name}\\\",null!=e?e:\\\"\\\"):U(S)&&(M=S(e));var I=i.get(\\\"inactiveColor\\\");m.add(new ks({style:Uh(x,{text:M,x:b,y:p/2,fill:d?x.getTextColor():I,align:w,verticalAlign:\\\"middle\\\"})}));var T=new Cs({shape:m.getBoundingRect(),invisible:!0}),C=i.getModel(\\\"tooltip\\\");return C.get(\\\"show\\\")&&Eh({el:T,componentModel:r,itemName:e,itemTooltipOption:C.option}),m.add(T),m.eachChild((function(t){t.silent=!0})),T.silent=!u,this.getContentGroup().add(m),Ol(m),m.__legendDataIndex=n,m},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();mp(t.get(\\\"orient\\\"),a,t.get(\\\"itemGap\\\"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){mp(\\\"horizontal\\\",s,t.get(\\\"selectorItemGap\\\",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],p=t.get(\\\"selectorButtonGap\\\",!0),d=t.getOrient().index,f=0===d?\\\"width\\\":\\\"height\\\",g=0===d?\\\"height\\\":\\\"width\\\",y=0===d?\\\"y\\\":\\\"x\\\";\\\"end\\\"===o?c[d]+=l[f]+p:u[d]+=h[f]+p,c[1-d]+=l[g]/2-h[g]/2,s.x=c[0],s.y=c[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[f]=l[f]+p+h[f],v[g]=Math.max(l[g],h[g]),v[y]=Math.min(0,h[y]+c[1-d]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type=\\\"legend.plain\\\",e}(gg);function yB(t,e,n,i){xB(t,e,n,i),n.dispatchAction({type:\\\"legendToggleSelect\\\",name:null!=t?t:e}),mB(t,e,n,i)}function vB(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;i\u003Cr&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function mB(t,e,n,i){vB(n)||n.dispatchAction({type:\\\"highlight\\\",seriesName:t,name:e,excludeSeriesId:i})}function xB(t,e,n,i){vB(n)||n.dispatchAction({type:\\\"downplay\\\",seriesName:t,name:e,excludeSeriesId:i})}function _B(t){var e=t.findComponents({mainType:\\\"legend\\\"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n\u003Ce.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function bB(t,e,n){var i,r={},o=\\\"toggleSelected\\\"===t;return n.eachComponent(\\\"legend\\\",(function(n){o&&null!=i?n[i?\\\"select\\\":\\\"unSelect\\\"](e.name):\\\"allSelect\\\"===t||\\\"inverseSelect\\\"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name)),E(n.getData(),(function(t){var e=t.get(\\\"name\\\");if(\\\"\\\\n\\\"!==e&&\\\"\\\"!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}}))})),\\\"allSelect\\\"===t||\\\"inverseSelect\\\"===t?{selected:r}:{name:e.name,selected:r}}function wB(t){t.registerComponentModel(cB),t.registerComponentView(gB),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,_B),t.registerSubTypeDefaulter(\\\"legend\\\",(function(){return\\\"plain\\\"})),function(t){t.registerAction(\\\"legendToggleSelect\\\",\\\"legendselectchanged\\\",H(bB,\\\"toggleSelected\\\")),t.registerAction(\\\"legendAllSelect\\\",\\\"legendselectall\\\",H(bB,\\\"allSelect\\\")),t.registerAction(\\\"legendInverseSelect\\\",\\\"legendinverseselect\\\",H(bB,\\\"inverseSelect\\\")),t.registerAction(\\\"legendSelect\\\",\\\"legendselected\\\",H(bB,\\\"select\\\")),t.registerAction(\\\"legendUnSelect\\\",\\\"legendunselected\\\",H(bB,\\\"unSelect\\\"))}(t)}var SB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=Sp(e);t.prototype.init.call(this,e,n,i),MB(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),MB(this,this.option,e)},e.type=\\\"legend.scroll\\\",e.defaultOption=yc(cB.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:\\\"end\\\",pageFormatter:\\\"{current}/{total}\\\",pageIcons:{horizontal:[\\\"M0,0L12,-10L12,10z\\\",\\\"M0,0L-12,-10L-12,10z\\\"],vertical:[\\\"M0,0L20,0L10,-20z\\\",\\\"M0,0L20,0L10,20z\\\"]},pageIconColor:\\\"#2f4554\\\",pageIconInactiveColor:\\\"#aaa\\\",pageIconSize:15,pageTextStyle:{color:\\\"#333\\\"},animationDurationUpdate:800}),e}(cB);function MB(t,e,n){var i=[1,1];i[t.getOrient().index]=0,wp(e,n,{type:\\\"box\\\",ignoreSize:!!i})}var IB=Cr,TB=[\\\"width\\\",\\\"height\\\"],CB=[\\\"x\\\",\\\"y\\\"],DB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new IB),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new IB)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,o,a,s){var l=this;t.prototype.renderInner.call(this,e,n,i,r,o,a,s);var u=this._controllerGroup,h=n.get(\\\"pageIconSize\\\",!0),c=Y(h)?h:[h,h];d(\\\"pagePrev\\\",0);var p=n.getModel(\\\"pageTextStyle\\\");function d(t,e){var i=t+\\\"DataIndex\\\",o=Ph(n.get(\\\"pageIcons\\\",!0)[n.getOrient().name][e],{onclick:W(l._pageGo,l,i,n,r)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});o.name=t,u.add(o)}u.add(new ks({name:\\\"pageText\\\",style:{text:\\\"xx/xx\\\",fill:p.getTextColor(),font:p.getFont(),verticalAlign:\\\"middle\\\",align:\\\"center\\\"},silent:!0})),d(\\\"pageNext\\\",1)},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=TB[s],u=CB[s],h=TB[1-s],c=CB[1-s];r&&mp(\\\"horizontal\\\",a,t.get(\\\"selectorItemGap\\\",!0));var p=t.get(\\\"selectorButtonGap\\\",!0),d=a.getBoundingRect(),f=[-d.x,-d.y],g=T(n);r&&(g[l]=n[l]-d[l]-p);var y=this._layoutContentAndController(t,i,g,s,l,h,c,u);if(r){if(\\\"end\\\"===o)f[s]+=y[l]+p;else{var v=d[l]+p;f[s]-=v,y[u]-=v}y[l]+=d[l]+p,f[1-s]+=y[c]+y[h]/2-d[h]/2,y[h]=Math.max(y[h],d[h]),y[c]=Math.min(y[c],d[c]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,n,i,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,h=this._controllerGroup;mp(t.get(\\\"orient\\\"),l,t.get(\\\"itemGap\\\"),i?n.width:null,i?null:n.height),mp(\\\"horizontal\\\",h,t.get(\\\"pageButtonItemGap\\\",!0));var c=l.getBoundingRect(),p=h.getBoundingRect(),d=this._showController=c[r]>n[r],f=[-c.x,-c.y];e||(f[i]=l[s]);var g=[0,0],y=[-p.x,-p.y],v=rt(t.get(\\\"pageButtonGap\\\",!0),t.get(\\\"itemGap\\\",!0));d&&(\\\"end\\\"===t.get(\\\"pageButtonPosition\\\",!0)?y[i]+=n[r]-p[r]:g[i]+=p[r]+v);y[1-i]+=c[o]/2-p[o]/2,l.setPosition(f),u.setPosition(g),h.setPosition(y);var m={x:0,y:0};if(m[r]=d?n[r]:c[r],m[o]=Math.max(c[o],p[o]),m[a]=Math.min(0,p[a]+y[1-i]),u.__rectSize=n[r],d){var x={x:0,y:0};x[r]=Math.max(n[r]-p[r]-v,0),x[o]=m[o],u.setClipPath(new Cs({shape:x})),u.__rectSize=x[r]}else h.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&rh(l,{x:_.contentPosition[0],y:_.contentPosition[1]},d?t:null),this._updatePageInfoView(t,_),m},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:\\\"legendScroll\\\",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;E([\\\"pagePrev\\\",\\\"pageNext\\\"],(function(i){var r=null!=e[i+\\\"DataIndex\\\"],o=n.childOfName(i);o&&(o.setStyle(\\\"fill\\\",r?t.get(\\\"pageIconColor\\\",!0):t.get(\\\"pageIconInactiveColor\\\",!0)),o.cursor=r?\\\"pointer\\\":\\\"default\\\")}));var i=n.childOfName(\\\"pageText\\\"),r=t.get(\\\"pageFormatter\\\"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;i&&r&&i.setStyle(\\\"text\\\",X(r)?r.replace(\\\"{current}\\\",null==a?\\\"\\\":a+\\\"\\\").replace(\\\"{total}\\\",null==s?\\\"\\\":s+\\\"\\\"):r({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get(\\\"scrollDataIndex\\\",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=TB[r],a=CB[r],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],h=l.length,c=h?1:0,p={contentPosition:[n.x,n.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return p;var d=m(u);p.contentPosition[r]=-d.s;for(var f=s+1,g=d,y=d,v=null;f\u003C=h;++f)(!(v=m(l[f]))&&y.e>g.s+i||v&&!x(v,g.s))&&(g=y.i>g.i?y:v)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=g.i),++p.pageCount),y=v;for(f=s-1,g=d,y=d,v=null;f>=-1;--f)(v=m(l[f]))&&x(y,v.s)||!(g.i\u003Cy.i)||(y=g,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=v;return p;function m(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s\u003C=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)})),null!=e?e:n):0;var e,n},e.type=\\\"legend.scroll\\\",e}(gB);function AB(t){bm(wB),t.registerComponentModel(SB),t.registerComponentView(DB),function(t){t.registerAction(\\\"legendScroll\\\",\\\"legendscroll\\\",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:\\\"legend\\\",subType:\\\"scroll\\\",query:t},(function(t){t.setScrollDataIndex(n)}))}))}(t)}var kB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"dataZoom.inside\\\",e.defaultOption=yc(DE.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(DE),LB=So();function PB(t,e,n){LB(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)}))}function OB(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function RB(t,e){t.isDisposed()||t.dispatchAction({type:\\\"dataZoom\\\",animation:{easing:\\\"cubicOut\\\",duration:100},batch:e})}function NB(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function EB(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=LB(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=ft());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:\\\"dataZoom\\\",subType:\\\"inside\\\"},(function(t){E(TE(t).infoList,(function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function(t,e){var n={model:e,containsPoint:H(NB,e),dispatchAction:H(RB,t),dataZoomInfoMap:null,controller:null},i=n.controller=new AI(t.getZr());return E([\\\"pan\\\",\\\"zoom\\\",\\\"scrollMove\\\"],(function(t){i.on(t,(function(e){var i=[];n.dataZoomInfoMap.each((function(r){if(e.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[t],a=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get(\\\"disabled\\\",!0)&&a&&i.push({dataZoomId:r.model.id,start:a[0],end:a[1]})}})),i.length&&n.dispatchAction(i)}))})),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=ft())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var o=r.keys()[0];null!=o&&(e=r.get(o))}if(e){var a=function(t){var e,n=\\\"type_\\\",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each((function(t){var o=t.model,a=!o.get(\\\"disabled\\\",!0)&&(!o.get(\\\"zoomLock\\\",!0)||\\\"move\\\");i[n+a]>i[n+e]&&(e=a),r=r&&o.get(\\\"preventDefaultMouseMove\\\",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),Ag(t,\\\"dispatchAction\\\",e.model.get(\\\"throttle\\\",!0),\\\"fixRate\\\")}else OB(i,t)}))}))}var zB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"dataZoom.inside\\\",e}return n(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),PB(i,e,{pan:W(VB.pan,this),zoom:W(VB.zoom,this),scrollMove:W(VB.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=LB(t).coordSysRecordMap,i=n.keys(),r=0;r\u003Ci.length;r++){var o=i[r],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||OB(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type=\\\"dataZoom.inside\\\",e}(LE),VB={zoom:function(t,e,n,i){var r=this.range,o=r.slice(),a=t.axisModels[0];if(a){var s=FB[e](null,[i.originX,i.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return sk(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:BB((function(t,e,n,i,r,o){var a=FB[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:BB((function(t,e,n,i,r,o){return FB[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta}))};function BB(t){return function(e,n,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return sk(t(a,s,e,n,i,r),a,[0,100],\\\"all\\\"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var FB={grid:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],\\\"x\\\"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),\\\"radiusAxis\\\"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],\\\"horizontal\\\"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function GB(t){VE(t),t.registerComponentModel(kB),t.registerComponentView(zB),EB(t)}var WB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.type=\\\"dataZoom.slider\\\",e.layoutMode=\\\"box\\\",e.defaultOption=yc(DE.defaultOption,{show:!0,right:\\\"ph\\\",top:\\\"ph\\\",width:\\\"ph\\\",height:\\\"ph\\\",left:null,bottom:null,borderColor:\\\"#d2dbee\\\",borderRadius:3,backgroundColor:\\\"rgba(47,69,84,0)\\\",dataBackground:{lineStyle:{color:\\\"#d2dbee\\\",width:.5},areaStyle:{color:\\\"#d2dbee\\\",opacity:.2}},selectedDataBackground:{lineStyle:{color:\\\"#8fb0f7\\\",width:.5},areaStyle:{color:\\\"#8fb0f7\\\",opacity:.2}},fillerColor:\\\"rgba(135,175,274,0.2)\\\",handleIcon:\\\"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z\\\",handleSize:\\\"100%\\\",handleStyle:{color:\\\"#fff\\\",borderColor:\\\"#ACB8D1\\\"},moveHandleSize:7,moveHandleIcon:\\\"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z\\\",moveHandleStyle:{color:\\\"#D2DBEE\\\",opacity:.7},showDetail:!0,showDataShadow:\\\"auto\\\",realtime:!0,zoomLock:!1,textStyle:{color:\\\"#6E7079\\\"},brushSelect:!0,brushStyle:{color:\\\"rgba(135,175,274,0.15)\\\"},emphasis:{handleStyle:{borderColor:\\\"#8FB0F7\\\"},moveHandleStyle:{color:\\\"#8FB0F7\\\"}}}),e}(DE),HB=Cs,YB=\\\"horizontal\\\",UB=\\\"vertical\\\",XB=[\\\"line\\\",\\\"bar\\\",\\\"candlestick\\\",\\\"scatter\\\"],ZB={easing:\\\"cubicOut\\\",duration:100,delay:0},jB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return n(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=W(this._onBrush,this),this._onBrushEnd=W(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,r){if(t.prototype.render.apply(this,arguments),Ag(this,\\\"_dispatchZoomAction\\\",e.get(\\\"throttle\\\"),\\\"fixRate\\\"),this._orient=e.getOrient(),!1!==e.get(\\\"show\\\")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&\\\"dataZoom\\\"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){kg(this,\\\"_dispatchZoomAction\\\");var t=this.api.getZr();t.off(\\\"mousemove\\\",this._onBrush),t.off(\\\"mouseup\\\",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Cr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get(\\\"brushSelect\\\")?7:0,i=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===YB?{right:r.width-i.x-i.width,top:r.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=Sp(t.option);E([\\\"right\\\",\\\"top\\\",\\\"width\\\",\\\"height\\\"],(function(t){\\\"ph\\\"===a[t]&&(a[t]=o[t])}));var s=xp(a,r);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===UB&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get(\\\"inverse\\\"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==YB||r?n===YB&&r?{scaleY:a?1:-1,scaleX:-1}:n!==UB||r?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get(\\\"brushSelect\\\");n.add(new HB({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get(\\\"backgroundColor\\\")},z2:-40}));var r=new HB({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:\\\"transparent\\\"},z2:0,onclick:W(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on(\\\"mousedown\\\",this._onBrushStart,this),r.cursor=\\\"crosshair\\\",o.on(\\\"mousemove\\\",this._onBrush),o.on(\\\"mouseup\\\",this._onBrushEnd)):(o.off(\\\"mousemove\\\",this._onBrush),o.off(\\\"mouseup\\\",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],i=t.series,r=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var a=this._shadowPolygonPts,s=this._shadowPolylinePts;if(r!==this._shadowData||o!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var l=r.getDataExtent(o),u=.3*(l[1]-l[0]);l=[l[0]-u,l[1]+u];var h,c=[0,e[1]],p=[0,e[0]],d=[[e[0],0],[0,0]],f=[],g=p[1]/(r.count()-1),y=0,v=Math.round(r.count()/e[0]);r.each([o],(function(t,e){if(v>0&&e%v)y+=g;else{var n=null==t||isNaN(t)||\\\"\\\"===t,i=n?0:Nr(t,l,c,!0);n&&!h&&e?(d.push([d[d.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&h&&(d.push([y,0]),f.push([y,0])),d.push([y,i]),f.push([y,i]),y+=g,h=n}})),a=this._shadowPolygonPts=d,s=this._shadowPolylinePts=f}this._shadowData=r,this._shadowDim=o,this._shadowSize=[e[0],e[1]];for(var m=this.dataZoomModel,x=0;x\u003C3;x++){var _=b(1===x);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function b(t){var e=m.getModel(t?\\\"selectedDataBackground\\\":\\\"dataBackground\\\"),n=new Cr,i=new Pu({shape:{points:a},segmentIgnoreThreshold:1,style:e.getModel(\\\"areaStyle\\\").getAreaStyle(),silent:!0,z2:-20}),r=new Ru({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel(\\\"lineStyle\\\").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get(\\\"showDataShadow\\\");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis((function(r,o){E(t.getAxisProxy(r,o).getTargetSeriesModels(),(function(t){if(!(n||!0!==e&&P(XB,t.get(\\\"type\\\"))\u003C0)){var a,s=i.getComponent(ME(r),o).axis,l={x:\\\"y\\\",y:\\\"x\\\",radius:\\\"angle\\\",angle:\\\"radius\\\"}[r],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:r,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get(\\\"borderRadius\\\")||0,u=a.get(\\\"brushSelect\\\"),h=e.filler=new HB({silent:u,style:{fill:a.get(\\\"fillerColor\\\")},textConfig:{position:\\\"inside\\\"}});r.add(h),r.add(new HB({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get(\\\"dataBackgroundColor\\\")||a.get(\\\"borderColor\\\"),lineWidth:1,fill:\\\"rgba(0,0,0,0)\\\"}})),E([0,1],(function(e){var o=a.get(\\\"handleIcon\\\");!Dy[o]&&o.indexOf(\\\"path://\\\")\u003C0&&o.indexOf(\\\"image://\\\")\u003C0&&(o=\\\"path://\\\"+o);var s=Ly(o,-1,0,2,2,null,!0);s.attr({cursor:qB(this._orient),draggable:!0,drift:W(this._onDragMove,this,e),ondragend:W(this._onDragEnd,this),onmouseover:W(this._showDataInfo,this,!0),onmouseout:W(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get(\\\"handleSize\\\");this._handleHeight=Er(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel(\\\"handleStyle\\\").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState(\\\"emphasis\\\").style=a.getModel([\\\"emphasis\\\",\\\"handleStyle\\\"]).getItemStyle(),Ol(s);var h=a.get(\\\"handleColor\\\");null!=h&&(s.style.fill=h),r.add(n[e]=s);var c=a.getModel(\\\"textStyle\\\");t.add(i[e]=new ks({silent:!0,invisible:!0,style:Uh(c,{x:0,y:0,text:\\\"\\\",verticalAlign:\\\"middle\\\",align:\\\"center\\\",fill:c.getTextColor(),font:c.getFont()}),z2:10}))}),this);var c=h;if(u){var p=Er(a.get(\\\"moveHandleSize\\\"),o[1]),d=e.moveHandle=new Cs({style:a.getModel(\\\"moveHandleStyle\\\").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),f=.8*p,g=e.moveHandleIcon=Ly(a.get(\\\"moveHandleIcon\\\"),-f/2,-f/2,f,f,\\\"#fff\\\",!0);g.silent=!0,g.y=o[1]+p/2-.5,d.ensureState(\\\"emphasis\\\").style=a.getModel([\\\"emphasis\\\",\\\"moveHandleStyle\\\"]).getItemStyle();var y=Math.min(o[1]/2,Math.max(p,10));(c=e.moveZone=new Cs({invisible:!0,shape:{y:o[1]-y,height:p+y}})).on(\\\"mouseover\\\",(function(){s.enterEmphasis(d)})).on(\\\"mouseout\\\",(function(){s.leaveEmphasis(d)})),r.add(d),r.add(g),r.add(c)}c.attr({draggable:!0,cursor:qB(this._orient),drift:W(this._onDragMove,this,\\\"all\\\"),ondragstart:W(this._showDataInfo,this,!0),ondragend:W(this._onDragEnd,this),onmouseover:W(this._showDataInfo,this,!0),onmouseout:W(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Nr(t[0],[0,100],e,!0),Nr(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];sk(e,i,r,n.get(\\\"zoomLock\\\")?\\\"all\\\":t,null!=o.minSpan?Nr(o.minSpan,a,r,!0):null,null!=o.maxSpan?Nr(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=Vr([Nr(i[0],r,a,!0),Nr(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=Vr(n.slice()),r=this._size;E([0,1],(function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:r[1]/2-o/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr(\\\"x\\\",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l\u003Ca.length;l++){var u=a[l],h=u.getClipPath();h||(h=new Cs,u.setClipPath(h)),h.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=[\\\"\\\",\\\"\\\"];if(e.get(\\\"showDetail\\\")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var h=Vr(this._handleEnds.slice());function c(t){var e=Ih(n.handles[t].parent,this.group),a=Ch(0===t?\\\"right\\\":\\\"left\\\",e),s=this._handleWidth/2+5,l=Th([h[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:r===YB?\\\"middle\\\":a,align:r===YB?a:\\\"center\\\",text:o[t]})}c.call(this,0),c.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get(\\\"labelFormatter\\\"),r=n.get(\\\"labelPrecision\\\");null!=r&&\\\"auto\\\"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?\\\"\\\":\\\"category\\\"===e.type||\\\"time\\\"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return U(i)?i(t,o):X(i)?i.replace(\\\"{value}\\\",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr(\\\"invisible\\\",!t),n[1].attr(\\\"invisible\\\",!t),e.moveHandle&&this.api[t?\\\"enterEmphasis\\\":\\\"leaveEmphasis\\\"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,se(i.event);var r=Th([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(t,r[0]),a=this.dataZoomModel.get(\\\"realtime\\\");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get(\\\"realtime\\\")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]\u003C0||n[0]>e[0]||n[1]\u003C0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval(\\\"all\\\",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Ji(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr(\\\"ignore\\\",!0);var n=e.shape;if(!(+new Date-this._brushStartTime\u003C200&&Math.abs(n.width)\u003C5)){var i=this._getViewExtent(),r=[0,100];this._range=Vr([Nr(n.x,i,r,!0),Nr(n.x+n.width,i,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(se(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new HB({silent:!0,style:i.getModel(\\\"brushStyle\\\").getItemStyle()}),n.sliderGroup.add(r)),r.attr(\\\"ignore\\\",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(o.x,o.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:\\\"dataZoom\\\",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?ZB:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=TE(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),r=this.api.getHeight();t={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return t},e.type=\\\"dataZoom.slider\\\",e}(LE);function qB(t){return\\\"vertical\\\"===t?\\\"ns-resize\\\":\\\"ew-resize\\\"}function KB(t){t.registerComponentModel(WB),t.registerComponentView(jB),VE(t)}var $B=function(t,e,n){var i=T((JB[t]||{})[e]);return n&&Y(i)?i[i.length-1]:i},JB={color:{active:[\\\"#006edd\\\",\\\"#e0ffff\\\"],inactive:[\\\"rgba(0,0,0,0)\\\"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[\\\"circle\\\",\\\"roundRect\\\",\\\"diamond\\\"],inactive:[\\\"none\\\"]},symbolSize:{active:[10,50],inactive:[0,0]}},QB=nD.mapVisual,tF=nD.eachVisual,eF=Y,nF=E,iF=Vr,rF=Nr,oF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=[\\\"inRange\\\",\\\"outOfRange\\\"],n.replacableOptionKeys=[\\\"inRange\\\",\\\"outOfRange\\\",\\\"target\\\",\\\"controller\\\",\\\"color\\\"],n.layoutMode={type:\\\"box\\\",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return n(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&tV(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(\\\"textStyle\\\"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=W(t,this),this.controllerVisuals=Qz(this.option.controller,e,t),this.targetVisuals=Qz(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||\\\"all\\\"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=ho(t),e},e.prototype.eachTargetSeries=function(t,e){E(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,o=r.precision,a=this.dataBound,s=r.formatter;n=n||[\\\"\u003C\\\",\\\">\\\"],Y(t)&&(t=t.slice(),i=!0);var l=e?t:i?[u(t[0]),u(t[1])]:u(t);return X(s)?s.replace(\\\"{value}\\\",i?l[0]:l).replace(\\\"{value2}\\\",i?l[1]:l):U(s)?i?s(t[0],t[1]):s(t):i?t[0]===a[0]?n[0]+\\\" \\\"+l[1]:t[1]===a[1]?n[1]+\\\" \\\"+l[0]:l[0]+\\\" - \\\"+l[1]:l;function u(t){return t===a[0]?\\\"min\\\":t===a[1]?\\\"max\\\":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=iF([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=t.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});C(i,n),C(r,n);var o=this.isCategory();function a(n){eF(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get(\\\"gradientColor\\\")}}a.call(this,i),a.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},nF(i,(function(t,e){if(nD.isValidType(e)){var n=$B(e,\\\"inactive\\\",o);null!=n&&(r[e]=n,\\\"color\\\"!==e||r.hasOwnProperty(\\\"opacity\\\")||r.hasOwnProperty(\\\"colorAlpha\\\")||(r.opacity=[0,0]))}})))}.call(this,i,\\\"inRange\\\",\\\"outOfRange\\\"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get(\\\"inactiveColor\\\"),r=this.getItemSymbol()||\\\"roundRect\\\";nF(this.stateList,(function(a){var s=this.itemSize,l=t[a];l||(l=t[a]={color:o?i:[i]}),null==l.symbol&&(l.symbol=e&&T(e)||(o?r:[r])),null==l.symbolSize&&(l.symbolSize=n&&T(n)||(o?s[0]:[s[0],s[0]])),l.symbol=QB(l.symbol,(function(t){return\\\"none\\\"===t?r:t}));var u=l.symbolSize;if(null!=u){var h=-1/0;tF(u,(function(t){t>h&&(h=t)})),l.symbolSize=QB(u,(function(t){return rF(t,[0,h],[0,s[0]],!0)}))}}),this)}.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get(\\\"itemWidth\\\")),parseFloat(this.get(\\\"itemHeight\\\"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type=\\\"visualMap\\\",e.dependencies=[\\\"series\\\"],e.defaultOption={show:!0,z:4,seriesIndex:\\\"all\\\",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:\\\"vertical\\\",backgroundColor:\\\"rgba(0,0,0,0)\\\",borderColor:\\\"#ccc\\\",contentColor:\\\"#5793f3\\\",inactiveColor:\\\"#aaa\\\",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:\\\"#333\\\"}},e}(Tp),aF=[20,140],sF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod=\\\"linear\\\",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=aF[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=aF[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):Y(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),E(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=Vr((this.get(\\\"range\\\")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]\u003Ct[0]&&(e[0]=t[0]),e[1]\u003Ct[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]\u003C=n[0]||e[0]\u003C=t)&&(e[1]>=n[1]||t\u003C=e[1])?\\\"inRange\\\":\\\"outOfRange\\\"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(e,n){t[0]\u003C=e&&e\u003C=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=lF(this,\\\"outOfRange\\\",this.getExtent()),n=lF(this,\\\"inRange\\\",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a\u003Cl&&(!n.length||e[a]\u003C=n[0]);a++)e[a]\u003Cn[o]&&r(e[a],\\\"outOfRange\\\");for(var u=1;o\u003Cs;o++,u=0)u&&i.length&&r(n[o],\\\"outOfRange\\\"),r(n[o],\\\"inRange\\\");for(u=1;a\u003Cl;a++)(!n.length||n[n.length-1]\u003Ce[a])&&(u&&(i.length&&r(i[i.length-1].value,\\\"outOfRange\\\"),u=0),r(e[a],\\\"outOfRange\\\"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:\\\"transparent\\\",h?i[h-1].color:\\\"transparent\\\"]}},e.type=\\\"visualMap.continuous\\\",e.defaultOption=yc(oF.defaultOption,{align:\\\"auto\\\",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:\\\"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z\\\",handleSize:\\\"120%\\\",handleStyle:{borderColor:\\\"#fff\\\",borderWidth:1},indicatorIcon:\\\"circle\\\",indicatorSize:\\\"50%\\\",indicatorStyle:{borderColor:\\\"#fff\\\",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:\\\"rgba(0,0,0,0.2)\\\"}}),e}(oF);function lF(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a\u003C=200&&r\u003Cn[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var uF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return n(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get(\\\"show\\\")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=ip(e.get(\\\"padding\\\")||0),i=t.getBoundingRect();t.add(new Cs({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get(\\\"backgroundColor\\\"),stroke:e.get(\\\"borderColor\\\"),lineWidth:e.get(\\\"borderWidth\\\")}}))},e.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if(\\\"color\\\"===e){var a=r.get(\\\"contentColor\\\");o.color=a}function s(t){return o[t]}function l(t,e){o[t]=e}var u=r.controllerVisuals[i||r.getValueState(t)];return E(nD.prepareVisualTypes(u),(function(i){var r=u[i];n.convertOpacityToAlpha&&\\\"opacity\\\"===i&&(i=\\\"colorAlpha\\\",r=u.__alphaForOpacity),nD.dependsOn(i,e)&&r&&r.applyVisual(t,s,l)})),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;_p(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type=\\\"visualMap\\\",e}(gg),hF=[[\\\"left\\\",\\\"right\\\",\\\"width\\\"],[\\\"top\\\",\\\"bottom\\\",\\\"height\\\"]];function cF(t,e,n){var i=t.option,r=i.align;if(null!=r&&\\\"auto\\\"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a=\\\"horizontal\\\"===i.orient?1:0,s=hF[a],l=[0,null,10],u={},h=0;h\u003C3;h++)u[hF[1-a][h]]=l[h],u[s[h]]=2===h?n[0]:i[s[h]];var c=[[\\\"x\\\",\\\"width\\\",3],[\\\"y\\\",\\\"height\\\",0]][a],p=xp(u,o,i.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]\u003C.5*o[c[1]]?0:1]}function pF(t,e){return E(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey=\\\"visualMap\\\"+(e?e.componentIndex:\\\"\\\")})),t}var dF=Nr,fF=E,gF=Math.min,yF=Math.max,vF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return n(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&\\\"selectDataRange\\\"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get(\\\"orient\\\"),this._useHandle=t.get(\\\"calculable\\\"),this._resetInterval(),this._renderBar(e);var n=t.get(\\\"text\\\");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+\\\"\\\":\\\"\\\";var r=this.visualMapModel,o=r.get(\\\"textGap\\\"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?\\\"bottom\\\":\\\"top\\\",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new ks({style:Uh(c,{x:l[0],y:l[1],verticalAlign:\\\"horizontal\\\"===h?\\\"middle\\\":u,align:\\\"horizontal\\\"===h?u:\\\"center\\\",text:i})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,o=this._useHandle,a=cF(e,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new Cr;s.add(l),l.add(n.outOfRange=mF()),l.add(n.inRange=mF(null,o?_F(this._orient):null,W(this._dragHandle,this,\\\"all\\\",!1),W(this._dragHandle,this,\\\"all\\\",!0))),l.setClipPath(new Cs({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect(\\\"国\\\"),h=yF(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,h,r),this._createHandle(e,s,1,i,h,r)),this._createIndicator(e,s,i,h,r),t.add(s)},e.prototype._createHandle=function(t,e,n,i,r,o){var a=W(this._dragHandle,this,n,!1),s=W(this._dragHandle,this,n,!0),l=gr(t.get(\\\"handleSize\\\"),i[0]),u=Ly(t.get(\\\"handleIcon\\\"),-l/2,-l/2,l,l,null,!0),h=_F(this._orient);u.attr({cursor:h,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){se(t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel(\\\"handleStyle\\\").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState(\\\"emphasis\\\").style=t.getModel([\\\"emphasis\\\",\\\"handleStyle\\\"]).getItemStyle(),Bl(u,!0),e.add(u);var c=this.visualMapModel.textStyleModel,p=new ks({cursor:h,draggable:!0,drift:a,onmousemove:function(t){se(t.event)},ondragend:s,style:Uh(c,{x:0,y:0,text:\\\"\\\"})});p.ensureState(\\\"blur\\\").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var d=[l,0],f=this._shapes;f.handleThumbs[n]=u,f.handleLabelPoints[n]=d,f.handleLabels[n]=p},e.prototype._createIndicator=function(t,e,n,i,r){var o=gr(t.get(\\\"indicatorSize\\\"),n[0]),a=Ly(t.get(\\\"indicatorIcon\\\"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:\\\"move\\\",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel(\\\"indicatorStyle\\\").getItemStyle();if(a instanceof _s){var l=a.style;a.useStyle(A({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);e.add(a);var u=this.visualMapModel.textStyleModel,h=new ks({silent:!0,invisible:!0,style:Uh(u,{x:0,y:0,text:\\\"\\\"})});this.group.add(h);var c=[(\\\"horizontal\\\"===r?i/2:6)+n[0]/2,0],p=this._shapes;p.indicator=a,p.indicatorLabel=h,p.indicatorLabelPoint=c,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get(\\\"realtime\\\")&&this.api.dispatchAction({type:\\\"selectDataRange\\\",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():xF(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[dF(e[0],n,i,!0),dF(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];sk(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[dF(i[0],r,o,!0),dF(i[1],r,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,\\\"inRange\\\"),s=this._createBarVisual(n,n,r,\\\"outOfRange\\\");i.inRange.setStyle({fill:a.barColor}).setShape(\\\"points\\\",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape(\\\"points\\\",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],\\\"symbolSize\\\",r),this.getControllerVisual(t[1],\\\"symbolSize\\\",r)],s=this._createBarPoints(n,a);return{barColor:new Xu(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],\\\"color\\\",e),offset:0});for(var r=1;r\u003C100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,\\\"color\\\",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],\\\"color\\\",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get(\\\"inverse\\\");return new Cr(\\\"horizontal\\\"!==e||n?\\\"horizontal\\\"===e&&n?{scaleX:\\\"bottom\\\"===t?-1:1,rotation:-Math.PI/2}:\\\"vertical\\\"!==e||n?{scaleX:\\\"left\\\"===t?1:-1}:{scaleX:\\\"left\\\"===t?1:-1,scaleY:-1}:{scaleX:\\\"bottom\\\"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent();fF([0,1],(function(l){var u=r[l];u.setStyle(\\\"fill\\\",e.handlesColor[l]),u.y=t[l];var h=dF(t[l],[0,a[1]],s,!0),c=this.getControllerVisual(h,\\\"symbolSize\\\");u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2;var p=Th(n.handleLabelPoints[l],Ih(u,this.group));o[l].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:\\\"middle\\\",align:\\\"vertical\\\"===this._orient?this._applyTransform(\\\"left\\\",n.mainGroup):\\\"center\\\"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr(\\\"invisible\\\",!1);var h=this.getControllerVisual(t,\\\"color\\\",{convertOpacityToAlpha:!0}),c=this.getControllerVisual(t,\\\"symbolSize\\\"),p=dF(t,o,s,!0),d=a[0]-c/2,f={x:u.x,y:u.y};u.y=p,u.x=d;var g=Th(l.indicatorLabelPoint,Ih(u,this.group)),y=l.indicatorLabel;y.attr(\\\"invisible\\\",!1);var v=this._applyTransform(\\\"left\\\",l.mainGroup),m=\\\"horizontal\\\"===this._orient;y.setStyle({text:(n||\\\"\\\")+r.formatValueText(e),verticalAlign:m?v:\\\"middle\\\",align:m?\\\"center\\\":v});var x={x:d,y:p,style:{fill:h}},_={style:{x:g[0],y:g[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:\\\"cubicInOut\\\",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(x,b),y.animateTo(_,b)}else u.attr(x),y.attr(_);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S\u003Cw.length;S++)this._api.enterBlur(w[S])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on(\\\"mousemove\\\",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=gF(yF(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0\u003C=i[0]&&i[0]\u003C=n[0])}})).on(\\\"mouseout\\\",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(\\\"mouseover\\\",this._hoverLinkFromSeriesMouseOver,this),t.on(\\\"mouseout\\\",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=gF(yF(r[0],t),r[1]);var a=function(t,e,n){var i=6,r=t.get(\\\"hoverLinkDataSize\\\");r&&(i=dF(r,e,n,!0)/2);return i}(n,o,r),s=[t-a,t+a],l=dF(t,r,o,!0),u=[dF(s[0],r,o,!0),dF(s[1],r,o,!0)];s[0]\u003Cr[0]&&(u[0]=-1/0),s[1]>r[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],\\\"\u003C \\\",a):u[1]===1/0?this._showIndicator(l,u[0],\\\"> \\\",a):this._showIndicator(l,l,\\\"≈ \\\",a));var h=this._hoverLinkDataIndices,c=[];(e||xF(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var p=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i\u003Cr;i++){var o=xo(t[i].seriesId,null);if(null==o)return;for(var a=ho(t[i].dataIndex),s=n&&n[o],l=0,u=a.length;l\u003Cu;l++){var h=a[l];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(h,c);this._dispatchHighDown(\\\"downplay\\\",pF(p[0],n)),this._dispatchHighDown(\\\"highlight\\\",pF(p[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=Hs(e).dataIndex){var i=Hs(e),r=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(r)){var o=r.getData(i.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr(\\\"invisible\\\",!0),t.indicatorLabel&&t.indicatorLabel.attr(\\\"invisible\\\",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n\u003Ce.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(\\\"downplay\\\",pF(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off(\\\"mouseover\\\",this._hoverLinkFromSeriesMouseOver),t.off(\\\"mouseout\\\",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=Ih(e,i?null:this.group);return Y(t)?Th(t,r,n):Ch(t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type=\\\"visualMap.continuous\\\",e}(uF);function mF(t,e,n,i){return new Pu({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){se(t.event)},ondragend:i})}function xF(t){var e=t.get(\\\"hoverLinkOnHandle\\\");return!!(null==e?t.get(\\\"realtime\\\"):e)}function _F(t){return\\\"vertical\\\"===t?\\\"ns-resize\\\":\\\"ew-resize\\\"}var bF={type:\\\"selectDataRange\\\",event:\\\"dataRangeSelected\\\",update:\\\"update\\\"},wF=function(t,e){e.eachComponent({mainType:\\\"visualMap\\\",query:t},(function(e){e.setSelected(t.selected)}))},SF=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent(\\\"visualMap\\\",(function(e){var i,r,o,a,s,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((i=e.stateList,r=e.targetVisuals,o=W(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),s={},E(i,(function(t){var e=nD.prepareVisualTypes(r[t]);s[t]=e})),{progress:function(t,e){var n,i;function l(t){return fy(e,i,t)}function u(t,n){yy(e,i,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var h=e.getStore();null!=(i=t.next());){var c=e.getRawDataItem(i);if(!c||!1!==c.visualMap)for(var p=null!=a?h.get(n,i):i,d=o(p),f=r[d],g=s[d],y=0,v=g.length;y\u003Cv;y++){var m=g[y];f[m]&&f[m].applyVisual(p,l,u)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent(\\\"visualMap\\\",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(W(MF,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimensionIndex(n);o>=0&&(r.dimension=o,i.push(r))}})),t.getData().setVisual(\\\"visualMeta\\\",i)}}];function MF(t,e,n,i){for(var r=e.targetVisuals[i],o=nD.prepareVisualTypes(r),a={color:gy(t.getData(),\\\"color\\\")},s=0,l=o.length;s\u003Cl;s++){var u=o[s],h=r[\\\"opacity\\\"===u?\\\"__alphaForOpacity\\\":u];h&&h.applyVisual(n,c,p)}return a.color;function c(t){return a[t]}function p(t,e){a[t]=e}}var IF=E;function TF(t){var e=t&&t.visualMap;Y(e)||(e=e?[e]:[]),IF(e,(function(t){if(t){CF(t,\\\"splitList\\\")&&!CF(t,\\\"pieces\\\")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&Y(e)&&IF(e,(function(t){q(t)&&(CF(t,\\\"start\\\")&&!CF(t,\\\"min\\\")&&(t.min=t.start),CF(t,\\\"end\\\")&&!CF(t,\\\"max\\\")&&(t.max=t.end))}))}}))}function CF(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var DF=!1;function AF(t){DF||(DF=!0,t.registerSubTypeDefaulter(\\\"visualMap\\\",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?\\\"piecewise\\\":\\\"continuous\\\"})),t.registerAction(bF,wF),E(SF,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(TF))}function kF(t){t.registerComponentModel(sF),t.registerComponentView(vF),AF(t)}var LF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return n(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],PF[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){\\\"categories\\\"===i?(t.mappingMethod=\\\"category\\\",t.categories=T(r)):(t.dataExtent=this.getExtent(),t.mappingMethod=\\\"piecewise\\\",t.pieceList=z(this._pieceList,(function(t){return t=T(t),\\\"inRange\\\"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=nD.listVisualTypes(),r=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}E(e.pieces,(function(t){E(i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),E(n,(function(t,n){var i=!1;E(this.stateList,(function(t){i=i||o(e,t,n)||o(e.target,t,n)}),this),!i&&E(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=$B(n,\\\"inRange\\\"===t?\\\"active\\\":\\\"inactive\\\",r)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,E(i,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),\\\"single\\\"===n.selectedMode){var o=!1;E(i,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(o?r[n]=!1:o=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get(\\\"itemSymbol\\\")},e.prototype.getSelectedMapKey=function(t){return\\\"categories\\\"===this._mode?t.value+\\\"\\\":t.index+\\\"\\\"},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?\\\"pieces\\\":this.option.categories?\\\"categories\\\":\\\"splitNumber\\\"},e.prototype.setSelected=function(t){this.option.selected=T(t)},e.prototype.getValueState=function(t){var e=nD.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?\\\"inRange\\\":\\\"outOfRange\\\"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(e,i){nD.findPieceIndex(e,n)===t&&r.push(i)}),this),e.push({seriesId:i.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=[\\\"\\\",\\\"\\\"],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return E(r,(function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],\\\"outOfRange\\\"),s(e.slice()),a=e[1])}),this),{stops:e,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=t(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type=\\\"visualMap.piecewise\\\",e.defaultOption=yc(oF.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:\\\"auto\\\",itemWidth:20,itemHeight:14,itemSymbol:\\\"roundRect\\\",pieces:null,categories:null,splitNumber:5,selectedMode:\\\"multiple\\\",itemGap:10,hoverLink:!0}),e}(oF),PF={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n\u003C5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a\u003Cr;s+=o,a++){var l=a===r-1?i[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Qr(t),E(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;E(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),OF(e,t)},pieces:function(t){var e=this.option;E(e.pieces,(function(e,n){q(e)||(e={value:e});var i={text:\\\"\\\",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty(\\\"value\\\")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],h=0;h\u003C2;h++){for(var c=[[\\\"gte\\\",\\\"gt\\\",\\\"min\\\"],[\\\"lte\\\",\\\"lt\\\",\\\"max\\\"]][h],p=0;p\u003C3&&null==o[h];p++)o[h]=e[c[p]],a[h]=s[p],u[h]=2===p;null==o[h]&&(o[h]=l[h])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=nD.retrieveVisuals(e),t.push(i)}),this),OF(e,t),Qr(t),E(t,(function(t){var e=t.close,n=[[\\\"\u003C\\\",\\\"≤\\\"][e[1]],[\\\">\\\",\\\"≥\\\"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function OF(t,e){var n=t.inverse;(\\\"vertical\\\"===t.orient?!n:n)&&e.reverse()}var RF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return n(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get(\\\"textGap\\\"),i=e.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,h=it(e.get(\\\"showLabel\\\",!0),!u);u&&this._renderEndsText(t,u[0],s,h,a),E(l.viewPieceList,(function(i){var l=i.piece,u=new Cr;u.onclick=W(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,s[0],s[1]]),h){var p=this.visualMapModel.getValueState(c);u.add(new ks({style:{x:\\\"right\\\"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:\\\"middle\\\",align:a,font:r,fill:o,opacity:\\\"outOfRange\\\"===p?.5:1}}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],s,h,a),mp(e.get(\\\"orient\\\"),t,e.get(\\\"itemGap\\\")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on(\\\"mouseover\\\",(function(){return i(\\\"highlight\\\")})).on(\\\"mouseout\\\",(function(){return i(\\\"downplay\\\")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:pF(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if(\\\"vertical\\\"===e.orient)return cF(t,this.api,t.itemSize);var n=e.align;return n&&\\\"auto\\\"!==n||(n=\\\"left\\\"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var o=new Cr,a=this.visualMapModel.textStyleModel;o.add(new ks({style:Uh(a,{x:i?\\\"right\\\"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:\\\"middle\\\",align:i?r:\\\"center\\\",text:e})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=z(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get(\\\"text\\\"),i=t.get(\\\"orient\\\"),r=t.get(\\\"inverse\\\");return(\\\"horizontal\\\"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Ly(this.getControllerVisual(e,\\\"symbol\\\"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,\\\"color\\\")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=T(n.selected),r=e.getSelectedMapKey(t);\\\"single\\\"===n.selectedMode?(i[r]=!0,E(i,(function(t,e){i[e]=e===r}))):i[r]=!i[r],this.api.dispatchAction({type:\\\"selectDataRange\\\",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},e.type=\\\"visualMap.piecewise\\\",e}(uF);function NF(t){t.registerComponentModel(LF),t.registerComponentView(RF),AF(t)}var EF={label:{enabled:!0},decal:{show:!1}},zF=So(),VF={};function BF(t,e){var n=t.getModel(\\\"aria\\\");if(n.get(\\\"enabled\\\")){var i=T(EF);C(i.label,t.getLocaleModel().get(\\\"aria\\\"),!1),C(n.option,i,!1),function(){if(n.getModel(\\\"decal\\\").get(\\\"show\\\")){var e=ft();t.eachSeries((function(t){if(!t.isColorBySeries()){var n=e.get(t.type);n||(n={},e.set(t.type,n)),zF(t).scope=n}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(U(e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var i=ed(e.ecModel,e.name,VF,t.getSeriesCount()),r=n.getVisual(\\\"decal\\\");n.setVisual(\\\"decal\\\",u(r,i))}else{var o=e.getRawData(),a={},s=zF(e).scope;n.each((function(t){var e=n.getRawIndex(t);a[e]=t}));var l=o.count();o.each((function(t){var i=a[t],r=o.getName(t)||t+\\\"\\\",h=ed(e.ecModel,r,s,l),c=n.getItemVisual(i,\\\"decal\\\");n.setItemVisual(i,\\\"decal\\\",u(c,h))}))}}function u(t,e){var n=t?A(A({},e),t):e;return n.dirty=!0,n}}))}}(),function(){var i=t.getLocaleModel().get(\\\"aria\\\"),o=n.getModel(\\\"label\\\");if(o.option=k(o.option,i),!o.get(\\\"enabled\\\"))return;var a=e.getZr().dom;if(o.get(\\\"description\\\"))return void a.setAttribute(\\\"aria-label\\\",o.get(\\\"description\\\"));var s,l=t.getSeriesCount(),u=o.get([\\\"data\\\",\\\"maxCount\\\"])||10,h=o.get([\\\"series\\\",\\\"maxCount\\\"])||10,c=Math.min(l,h);if(l\u003C1)return;var p=function(){var e=t.get(\\\"title\\\");e&&e.length&&(e=e[0]);return e&&e.text}();if(p){var d=o.get([\\\"general\\\",\\\"withTitle\\\"]);s=r(d,{title:p})}else s=o.get([\\\"general\\\",\\\"withoutTitle\\\"]);var f=[],g=l>1?o.get([\\\"series\\\",\\\"multiple\\\",\\\"prefix\\\"]):o.get([\\\"series\\\",\\\"single\\\",\\\"prefix\\\"]);s+=r(g,{seriesCount:l}),t.eachSeries((function(e,n){if(n\u003Cc){var i=void 0,a=e.get(\\\"name\\\")?\\\"withName\\\":\\\"withoutName\\\";i=r(i=l>1?o.get([\\\"series\\\",\\\"multiple\\\",a]):o.get([\\\"series\\\",\\\"single\\\",a]),{seriesId:e.seriesIndex,seriesName:e.get(\\\"name\\\"),seriesType:(x=e.subType,t.getLocaleModel().get([\\\"series\\\",\\\"typeNames\\\"])[x]||\\\"自定义图\\\")});var s=e.getData();if(s.count()>u)i+=r(o.get([\\\"data\\\",\\\"partialData\\\"]),{displayCnt:u});else i+=o.get([\\\"data\\\",\\\"allData\\\"]);for(var h=o.get([\\\"data\\\",\\\"separator\\\",\\\"middle\\\"]),p=o.get([\\\"data\\\",\\\"separator\\\",\\\"end\\\"]),d=[],g=0;g\u003Cs.count();g++)if(g\u003Cu){var y=s.getName(g),v=s.getValues(g),m=o.get([\\\"data\\\",y?\\\"withName\\\":\\\"withoutName\\\"]);d.push(r(m,{name:y,value:v.join(h)}))}i+=d.join(h)+p,f.push(i)}var x}));var y=o.getModel([\\\"series\\\",\\\"multiple\\\",\\\"separator\\\"]),v=y.get(\\\"middle\\\"),m=y.get(\\\"end\\\");s+=f.join(v)+m,a.setAttribute(\\\"aria-label\\\",s)}()}function r(t,e){if(!X(t))return t;var n=t;return E(e,(function(t,e){n=n.replace(new RegExp(\\\"\\\\\\\\{\\\\\\\\s*\\\"+e+\\\"\\\\\\\\s*\\\\\\\\}\\\",\\\"g\\\"),t)})),n}}function FF(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},E([\\\"description\\\",\\\"general\\\",\\\"series\\\",\\\"data\\\"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}var GF={value:\\\"eq\\\",\\\"\u003C\\\":\\\"lt\\\",\\\"\u003C=\\\":\\\"lte\\\",\\\">\\\":\\\"gt\\\",\\\">=\\\":\\\"gte\\\",\\\"=\\\":\\\"eq\\\",\\\"!=\\\":\\\"ne\\\",\\\"\u003C>\\\":\\\"ne\\\"},WF=function(){function t(t){if(null==(this._condVal=X(t)?new RegExp(t):et(t)?t:null)){var e=\\\"\\\";0,ao(e)}}return t.prototype.evaluate=function(t){var e=typeof t;return X(e)?this._condVal.test(t):!!j(e)&&this._condVal.test(t+\\\"\\\")},t}(),HF=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),YF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e\u003Ct.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),UF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e\u003Ct.length;e++)if(t[e].evaluate())return!0;return!1},t}(),XF=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),ZF=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i\u003Cthis.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0},t}();function jF(t,e){if(!0===t||!1===t){var n=new HF;return n.value=t,n}var i=\\\"\\\";return KF(t)||ao(i),t.and?qF(\\\"and\\\",t,e):t.or?qF(\\\"or\\\",t,e):t.not?function(t,e){var n=t.not,i=\\\"\\\";0;KF(n)||ao(i);var r=new XF;r.child=jF(n,e),r.child||ao(i);return r}(t,e):function(t,e){for(var n=\\\"\\\",i=e.prepareGetValue(t),r=[],o=G(t),a=t.parser,s=a?gf(a):null,l=0;l\u003Co.length;l++){var u=o[l];if(\\\"parser\\\"!==u&&!e.valueGetterAttrMap.get(u)){var h=mt(GF,u)?GF[u]:u,c=t[u],p=s?s(c):c,d=_f(h,p)||\\\"reg\\\"===h&&new WF(p);d||ao(n),r.push(d)}}r.length||ao(n);var f=new ZF;return f.valueGetterParam=i,f.valueParser=s,f.getValue=e.getValue,f.subCondList=r,f}(t,e)}function qF(t,e,n){var i=e[t],r=\\\"\\\";Y(i)||ao(r),i.length||ao(r);var o=\\\"and\\\"===t?new YF:new UF;return o.children=z(i,(function(t){return jF(t,n)})),o.children.length||ao(r),o}function KF(t){return q(t)&&!N(t)}var $F=function(){function t(t,e){this._cond=jF(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var JF={type:\\\"echarts:filter\\\",transform:function(t){for(var e,n,i,r=t.upstream,o=(n=t.config,i={valueGetterAttrMap:ft({dimension:!0}),prepareGetValue:function(t){var e=\\\"\\\",n=t.dimension;mt(t,\\\"dimension\\\")||ao(e);var i=r.getDimensionInfo(n);return i||ao(e),{dimIdx:i.index}},getValue:function(t){return r.retrieveValueFromItem(e,t.dimIdx)}},new $F(n,i)),a=[],s=0,l=r.count();s\u003Cl;s++)e=r.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var QF={type:\\\"echarts:sort\\\",transform:function(t){var e=t.upstream,n=t.config,i=\\\"\\\",r=ho(n);r.length||ao(i);var o=[];E(r,(function(t){var n=t.dimension,r=t.order,a=t.parser,s=t.incomparable;if(null==n&&ao(i),\\\"asc\\\"!==r&&\\\"desc\\\"!==r&&ao(i),s&&\\\"min\\\"!==s&&\\\"max\\\"!==s){var l=\\\"\\\";0,ao(l)}if(\\\"asc\\\"!==r&&\\\"desc\\\"!==r){var u=\\\"\\\";0,ao(u)}var h=e.getDimensionInfo(n);h||ao(i);var c=a?gf(a):null;a&&!c&&ao(i),o.push({dimIdx:h.index,parser:c,comparator:new mf(r,s)})}));var a=e.sourceFormat;a!==Pp&&a!==Op&&ao(i);for(var s=[],l=0,u=e.count();l\u003Cu;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var i=0;i\u003Co.length;i++){var r=o[i],a=e.retrieveValueFromItem(t,r.dimIdx),s=e.retrieveValueFromItem(n,r.dimIdx);r.parser&&(a=r.parser(a),s=r.parser(s));var l=r.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};var tG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"dataset\\\",e}return n(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new Bf(this),Ff(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Ff(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type=\\\"dataset\\\",e.defaultOption={seriesLayoutBy:zp},e}(Tp),eG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=\\\"dataset\\\",e}return n(e,t),e.type=\\\"dataset\\\",e}(gg);var nG=qa.CMD;function iG(t,e){return Math.abs(t-e)\u003C1e-5}function rG(t){var e,n,i,r,o,a=t.data,s=t.len(),l=[],u=0,h=0,c=0,p=0;function d(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function f(t,n,i,r){iG(t,i)&&iG(n,r)||e.push(t,n,i,r,i,r)}function g(t,n,i,r,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,u=n\u003Ct?-1:1,h=Math.cos(t),c=Math.sin(t),p=Math.cos(n),d=Math.sin(n),f=h*o+i,g=c*a+r,y=p*o+i,v=d*a+r,m=o*l*u,x=a*l*u;e.push(f-m*c,g+x*h,y+m*d,v-x*p,y,v)}for(var y=0;y\u003Cs;){var v=a[y++],m=1===y;switch(m&&(c=u=a[y],p=h=a[y+1],v!==nG.L&&v!==nG.C&&v!==nG.Q||(e=[c,p])),v){case nG.M:u=c=a[y++],h=p=a[y++],d(c,p);break;case nG.L:f(u,h,n=a[y++],i=a[y++]),u=n,h=i;break;case nG.C:e.push(a[y++],a[y++],a[y++],a[y++],u=a[y++],h=a[y++]);break;case nG.Q:n=a[y++],i=a[y++],r=a[y++],o=a[y++],e.push(u+2/3*(n-u),h+2/3*(i-h),r+2/3*(n-r),o+2/3*(i-o),r,o),u=r,h=o;break;case nG.A:var x=a[y++],_=a[y++],b=a[y++],w=a[y++],S=a[y++],M=a[y++]+S;y+=1;var I=!a[y++];n=Math.cos(S)*b+x,i=Math.sin(S)*w+_,m?d(c=n,p=i):f(u,h,n,i),u=Math.cos(M)*b+x,h=Math.sin(M)*w+_;for(var T=(I?-1:1)*Math.PI/2,C=S;I?C>M:C\u003CM;C+=T){g(C,I?Math.max(C+T,M):Math.min(C+T,M),x,_,b,w)}break;case nG.R:c=u=a[y++],p=h=a[y++],n=c+a[y++],i=p+a[y++],d(n,p),f(n,p,n,i),f(n,i,c,i),f(c,i,c,p),f(c,p,n,p);break;case nG.Z:e&&f(u,h,c,p),u=c,h=p}}return e&&e.length>2&&l.push(e),l}function oG(t,e,n,i,r,o,a,s,l,u){if(iG(t,n)&&iG(e,i)&&iG(r,a)&&iG(o,s))l.push(a,s);else{var h=2/u,c=h*h,p=a-t,d=s-e,f=Math.sqrt(p*p+d*d);p/=f,d/=f;var g=n-t,y=i-e,v=r-a,m=o-s,x=g*g+y*y,_=v*v+m*m;if(x\u003Cc&&_\u003Cc)l.push(a,s);else{var b=p*g+d*y,w=-p*v-d*m;if(x-b*b\u003Cc&&b>=0&&_-w*w\u003Cc&&w>=0)l.push(a,s);else{var S=[],M=[];Ze(t,n,r,a,.5,S),Ze(e,i,o,s,.5,M),oG(S[0],M[0],S[1],M[1],S[2],M[2],S[3],M[3],l,u),oG(S[4],M[4],S[5],M[5],S[6],M[6],S[7],M[7],l,u)}}}}function aG(t,e,n){var i=t[e],r=t[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],u=0;u\u003Ca;u++)l.push(s);var h=n-a*s;if(h>0)for(u=0;u\u003Ch;u++)l[u%a]+=1;return l}function sG(t,e,n){for(var i=t.r0,r=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*r,u=r-i,h=l>Math.abs(u),c=aG([l,u],h?0:1,e),p=(h?s:u)/c.length,d=0;d\u003Cc.length;d++)for(var f=(h?u:s)/c[d],g=0;g\u003Cc[d];g++){var y={};h?(y.startAngle=o+p*d,y.endAngle=o+p*(d+1),y.r0=i+f*g,y.r=i+f*(g+1)):(y.startAngle=o+f*g,y.endAngle=o+f*(g+1),y.r0=i+p*d,y.r=i+p*(d+1)),y.clockwise=t.clockwise,y.cx=t.cx,y.cy=t.cy,n.push(y)}}function lG(t,e,n,i){return t*i-n*e}function uG(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,h=a-r,c=s-o,p=lG(h,c,l,u);if(Math.abs(p)\u003C1e-6)return null;var d=lG(t-r,e-o,h,c)/p;return d\u003C0||d>1?null:new Ji(d*l+t,d*u+e)}function hG(t,e,n){var i=new Ji;Ji.sub(i,n,e),i.normalize();var r=new Ji;return Ji.sub(r,t,e),r.dot(i)}function cG(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function pG(t){var e=t.points,n=[],i=[];Ma(e,n,i);var r=new sr(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new Ji,h=new Ji;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(t,e,n){for(var i=t.length,r=[],o=0;o\u003Ci;o++){var a=t[o],s=t[(o+1)%i],l=uG(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&r.push({projPt:hG(l,e,n),pt:l,idx:o})}if(r.length\u003C2)return[{points:t},{points:t}];r.sort((function(t,e){return t.projPt-e.projPt}));var u=r[0],h=r[r.length-1];if(h.idx\u003Cu.idx){var c=u;u=h,h=c}var p=[u.pt.x,u.pt.y],d=[h.pt.x,h.pt.y],f=[p],g=[d];for(o=u.idx+1;o\u003C=h.idx;o++)cG(f,t[o].slice());for(cG(f,d),cG(f,p),o=h.idx+1;o\u003C=u.idx+i;o++)cG(g,t[o%i].slice());return cG(g,p),cG(g,d),[{points:f},{points:g}]}(e,u,h)}function dG(t,e,n,i){if(1===n)i.push(e);else{var r=Math.floor(n/2),o=t(e);dG(t,o[0],r,i),dG(t,o[1],n-r,i)}return i}function fG(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function gG(t,e){var n,i=[],r=t.shape;switch(t.type){case\\\"rect\\\":!function(t,e,n){for(var i=t.width,r=t.height,o=i>r,a=aG([i,r],o?0:1,e),s=o?\\\"width\\\":\\\"height\\\",l=o?\\\"height\\\":\\\"width\\\",u=o?\\\"x\\\":\\\"y\\\",h=o?\\\"y\\\":\\\"x\\\",c=t[s]/a.length,p=0;p\u003Ca.length;p++)for(var d=t[l]/a[p],f=0;f\u003Ca[p];f++){var g={};g[u]=p*c,g[h]=f*d,g[s]=c,g[l]=d,g.x+=t.x,g.y+=t.y,n.push(g)}}(r,e,i),n=Cs;break;case\\\"sector\\\":sG(r,e,i),n=Cu;break;case\\\"circle\\\":sG({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),n=Cu;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=z(function(t,e){var n=rG(t),i=[];e=e||1;for(var r=0;r\u003Cn.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u\u003Co.length;){var h=o[u++],c=o[u++],p=o[u++],d=o[u++],f=o[u++],g=o[u++];oG(s,l,h,c,p,d,f,g,a,e),s=f,l=g}i.push(a)}return i}(t.getUpdatedPathProxy(),a),(function(t){return function(t){for(var e=[],n=0;n\u003Ct.length;)e.push([t[n++],t[n++]]);return e}(t)})),l=s.length;if(0===l)dG(pG,{points:s[0]},e,i);else if(l===e)for(var u=0;u\u003Cl;u++)i.push({points:s[u]});else{var h=0,c=z(s,(function(t){var e=[],n=[];Ma(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return h+=i,{poly:t,area:i}}));c.sort((function(t,e){return e.area-t.area}));var p=e;for(u=0;u\u003Cl;u++){var d=c[u];if(p\u003C=0)break;var f=u===l-1?p:Math.ceil(d.area/h*e);f\u003C0||(dG(pG,{points:d.poly},f,i),p-=f)}}n=Pu}if(!n)return function(t,e){for(var n=[],i=0;i\u003Ce;i++)n.push(lu(t));return n}(t,e);var g=[];for(u=0;u\u003Ci.length;u++){var y=new n;y.setShape(i[u]),fG(t,y),g.push(y)}return g}function yG(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=[],o=[],a=n\u003Ci?t:e,s=Math.min(n,i),l=Math.abs(i-n)/6,u=(s-2)/6,h=Math.ceil(l/u)+1,c=[a[0],a[1]],p=l,d=2;d\u003Cs;){var f=a[d-2],g=a[d-1],y=a[d++],v=a[d++],m=a[d++],x=a[d++],_=a[d++],b=a[d++];if(p\u003C=0)c.push(y,v,m,x,_,b);else{for(var w=Math.min(p,h-1)+1,S=1;S\u003C=w;S++){var M=S/w;Ze(f,y,m,_,M,r),Ze(g,v,x,b,M,o),f=r[3],g=o[3],c.push(r[1],o[1],r[2],o[2],f,g),y=r[5],v=o[5],m=r[6],x=o[6]}p-=w-1}}return a===t?[c,e]:[t,c]}function vG(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],o=[],a=0;a\u003Ce.length;)o[a++]=i,o[a++]=r;return o}function mG(t){for(var e=0,n=0,i=0,r=t.length,o=0,a=r-2;o\u003Cr;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],h=t[o+1],c=s*h-u*l;e+=c,n+=(s+u)*c,i+=(l+h)*c}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function xG(t,e,n,i){for(var r=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u\u003Cr;u++){for(var h=6*u,c=0,p=0;p\u003Cs;p+=2){var d=0===p?h:(h+p-2)%l+2,f=t[d]-n[0],g=t[d+1]-n[1],y=e[p]-i[0]-f,v=e[p+1]-i[1]-g;c+=y*y+v*v}c\u003Co&&(o=c,a=u)}return a}function _G(t){for(var e=[],n=t.length,i=0;i\u003Cn;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function bG(t){return t.__isCombineMorphing}var wG=\\\"__mOriginal_\\\";function SG(t,e,n){var i=wG+e,r=t[i]||t[e];t[i]||(t[i]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):r.apply(this,e),a&&a.apply(this,e),t}}function MG(t,e){var n=wG+e;t[n]&&(t[e]=t[n],t[n]=null)}function IG(t,e){for(var n=0;n\u003Ct.length;n++)for(var i=t[n],r=0;r\u003Ci.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function TG(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(t,e){for(var n,i,r,o=[],a=[],s=0;s\u003CMath.max(t.length,e.length);s++){var l=t[s],u=e[s],h=void 0,c=void 0;l?u?(i=h=(n=yG(l,u))[0],r=c=n[1]):(c=vG(r||l,l),h=l):(h=vG(i||u,u),c=u),o.push(h),a.push(c)}return[o,a]}(rG(n),rG(i)),o=r[0],a=r[1],s=t.getComputedTransform(),l=e.getComputedTransform();s&&IG(o,s),l&&IG(a,l),SG(e,\\\"updateTransform\\\",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,i){for(var r,o=[],a=0;a\u003Ct.length;a++){var s=t[a],l=e[a],u=mG(s),h=mG(l);null==r&&(r=u[2]\u003C0!=h[2]\u003C0);var c=[],p=[],d=0,f=1/0,g=[],y=s.length;r&&(s=_G(s));for(var v=6*xG(s,l,u,h),m=y-2,x=0;x\u003Cm;x+=2){var _=(v+x)%m+2;c[x+2]=s[_]-u[0],c[x+3]=s[_+1]-u[1]}if(c[0]=s[v]-u[0],c[1]=s[v+1]-u[1],n>0)for(var b=i/n,w=-i/2;w\u003C=i/2;w+=b){var S=Math.sin(w),M=Math.cos(w),I=0;for(x=0;x\u003Cs.length;x+=2){var T=c[x],C=c[x+1],D=l[x]-h[0],A=l[x+1]-h[1],k=D*M-A*S,L=D*S+A*M;g[x]=k,g[x+1]=L;var P=k-T,O=L-C;I+=P*P+O*O}if(I\u003Cf){f=I,d=w;for(var R=0;R\u003Cg.length;R++)p[R]=g[R]}}else for(var N=0;N\u003Cy;N+=2)p[N]=l[N]-h[0],p[N+1]=l[N+1]-h[1];o.push({from:c,to:p,fromCp:u,toCp:h,rotation:-d})}return o}(o,a,10,Math.PI),h=[];SG(e,\\\"buildPath\\\",{replace:function(t){for(var n=e.__morphT,i=1-n,r=[],o=0;o\u003Cu.length;o++){var a=u[o],s=a.from,l=a.to,c=a.rotation*n,p=a.fromCp,d=a.toCp,f=Math.sin(c),g=Math.cos(c);Bt(r,p,d,n);for(var y=0;y\u003Cs.length;y+=2){var v=s[y],m=s[y+1],x=v*i+(S=l[y])*n,_=m*i+(M=l[y+1])*n;h[y]=x*g-_*f+r[0],h[y+1]=x*f+_*g+r[1]}var b=h[0],w=h[1];t.moveTo(b,w);for(y=2;y\u003Cs.length;){var S=h[y++],M=h[y++],I=h[y++],T=h[y++],C=h[y++],D=h[y++];b===S&&w===M&&I===C&&T===D?t.lineTo(C,D):t.bezierCurveTo(S,M,I,T,C,D),b=C,w=D}}}})}function CG(t,e,n){if(!t||!e)return e;var i=n.done,r=n.during;return TG(t,e),e.__morphT=0,e.animateTo({__morphT:1},k({during:function(t){e.dirtyShape(),r&&r(t)},done:function(){MG(e,\\\"buildPath\\\"),MG(e,\\\"updateTransform\\\"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},n)),e}function DG(t,e,n,i,r,o){t=r===n?0:Math.round(32767*(t-n)/(r-n)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(t&l)>0&&(u=1),(e&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(t=l-1-t,e=l-1-e),a=t,t=e,e=a)}return s}function AG(t){var e=1/0,n=1/0,i=-1/0,r=-1/0,o=z(t,(function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),l=o.y+o.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),r=Math.max(l,r),[s,l]}));return z(o,(function(o,a){return{cp:o,z:DG(o[0],o[1],e,n,i,r),path:t[a]}})).sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function kG(t){return gG(t.path,t.count)}function LG(t){return Y(t[0])}function PG(t,e){for(var n=[],i=t.length,r=0;r\u003Ci;r++)n.push({one:t[r],many:[]});for(r=0;r\u003Ce.length;r++){var o=e[r].length,a=void 0;for(a=0;a\u003Co;a++)n[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length\u003C=1){if(!s)return n;s=0}o=l.length;var u=Math.ceil(o/2);n[r].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var OG={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i\u003Ct.count;i++){var r=lu(t.path);r.setStyle(\\\"opacity\\\",n),e.push(r)}return e},split:null};function RG(t,e,n,i,r,o){if(t.length&&e.length){var a=nh(\\\"update\\\",i,r);if(a&&a.duration>0){var s,l,u=i.getModel(\\\"universalTransition\\\").get(\\\"delay\\\"),h=Object.assign({setToFinal:!0},a);LG(t)&&(s=t,l=e),LG(e)&&(s=e,l=t);for(var c=s?s===t:t.length>e.length,p=s?PG(l,s):PG(c?e:t,[c?t:e]),d=0,f=0;f\u003Cp.length;f++)d+=p[f].many.length;var g=0;for(f=0;f\u003Cp.length;f++)y(p[f],c,g,d),g+=p[f].many.length}}function y(t,e,i,r,a){var s=t.many,l=t.one;if(1!==s.length||a)for(var c=k({dividePath:OG[n],individualDelay:u&&function(t,e,n,o){return u(t+i,r)}},h),p=e?function(t,e,n){var i=[];!function t(e){for(var n=0;n\u003Ce.length;n++){var r=e[n];bG(r)?t(r.childrenRef()):r instanceof gs&&i.push(r)}}(t);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||kG)({path:e,count:r});if(o.length!==r)return console.error(\\\"Invalid morphing: unmatched splitted path\\\"),{fromIndividuals:[],toIndividuals:[],count:0};i=AG(i),o=AG(o);for(var a=n.done,s=n.during,l=n.individualDelay,u=new qi,h=0;h\u003Cr;h++){var c=i[h],p=o[h];p.parent=e,p.copyTransform(u),l||TG(c,p)}function d(t){for(var e=0;e\u003Co.length;e++)o[e].addSelfToZr(t)}function f(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,MG(e,\\\"addSelfToZr\\\"),MG(e,\\\"removeSelfFromZr\\\")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},SG(e,\\\"addSelfToZr\\\",{after:function(t){d(t)}}),SG(e,\\\"removeSelfFromZr\\\",{after:function(t){for(var e=0;e\u003Co.length;e++)o[e].removeSelfFromZr(t)}});var g=o.length;if(l){var y=g,v=function(){0==--y&&(f(),a&&a())};for(h=0;h\u003Cg;h++){var m=l?k({delay:(n.delay||0)+l(h,g,i[h],o[h]),done:v},n):n;CG(i[h],o[h],m)}}else e.__morphT=0,e.animateTo({__morphT:1},k({during:function(t){for(var n=0;n\u003Cg;n++){var i=o[n];i.__morphT=e.__morphT,i.dirtyShape()}s&&s(t)},done:function(){f();for(var e=0;e\u003Ct.length;e++)MG(t[e],\\\"updateTransform\\\");a&&a()}},n));return e.__zr&&d(e.__zr),{fromIndividuals:i,toIndividuals:o,count:g}}(s,l,c):function(t,e,n){var i=e.length,r=[],o=n.dividePath||kG;if(bG(t)){!function t(e){for(var n=0;n\u003Ce.length;n++){var i=e[n];bG(i)?t(i.childrenRef()):i instanceof gs&&r.push(i)}}(t.childrenRef());var a=r.length;if(a\u003Ci)for(var s=0,l=a;l\u003Ci;l++)r.push(lu(r[s++%a]));r.length=i}else{r=o({path:t,count:i});var u=t.getComputedTransform();for(l=0;l\u003Cr.length;l++)r[l].setLocalTransform(u);if(r.length!==i)return console.error(\\\"Invalid morphing: unmatched splitted path\\\"),{fromIndividuals:[],toIndividuals:[],count:0}}r=AG(r),e=AG(e);var h=n.individualDelay;for(l=0;l\u003Ci;l++){var c=h?k({delay:(n.delay||0)+h(l,i,r[l],e[l])},n):n;CG(r[l],e[l],c)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(l,s,c),d=p.fromIndividuals,f=p.toIndividuals,g=d.length,v=0;v\u003Cg;v++){m=u?k({delay:u(v,g)},h):h;o(d[v],f[v],e?s[v]:t.one,e?t.one:s[v],m)}else{var m,x=e?s[0]:l,_=e?l:s[0];if(bG(x))y({many:[x],one:_},!0,i,r,!0);else CG(x,_,m=u?k({delay:u(i,r)},h):h),o(x,_,x,_,m)}}}function NG(t){if(!t)return[];if(Y(t)){for(var e=[],n=0;n\u003Ct.length;n++)e.push(NG(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof gs&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var EG=So();function zG(t){var e=[];return E(t,(function(t){var n=t.data;if(!(n.count()>1e4))for(var i=n.getIndices(),r=function(t){for(var e=t.dimensions,n=0;n\u003Ce.length;n++){var i=t.getDimensionInfo(e[n]);if(i&&0===i.otherDims.itemGroupId)return e[n]}}(n),o=0;o\u003Ci.length;o++)e.push({data:n,dim:t.dim||r,divide:t.divide,dataIndex:o})})),e}function VG(t,e,n){t.traverse((function(t){t instanceof gs&&oh(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function BG(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function FG(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function GG(t,e,n){var i=nh(\\\"update\\\",n,e);i&&t.traverse((function(t){if(t instanceof da){var e=function(t){return eh(t).oldStyle}(t);e&&t.animateFrom({style:e},i)}}))}function WG(t,e,n){var i=zG(t),r=zG(e);function o(t,e,n,i,r){(n||t)&&e.animateFrom({style:n&&n!==t?A(A({},n.style),t.style):t.style},r)}function a(t){for(var e=0;e\u003Ct.length;e++)if(t[e].dim)return t[e].dim}var s=a(i),l=a(r),u=!1;function h(t,e){return function(n){var i=n.data,r=n.dataIndex;if(e)return i.getId(r);var o=i.hostModel&&i.hostModel.get(\\\"dataGroupId\\\"),a=t?s||l:l||s,u=a&&i.getDimensionInfo(a),h=u&&u.ordinalMeta;if(u){var c=i.get(u.name,r);return h&&h.categories[c]||c+\\\"\\\"}var p=i.getRawDataItem(r);return p&&p.groupId?p.groupId+\\\"\\\":o||i.getId(r)}}var c=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i\u003Cn;i++){var r=t[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),p={};if(!c)for(var d=0;d\u003Cr.length;d++){var f=r[d],g=f.data.getItemGraphicEl(f.dataIndex);g&&(p[g.id]=!0)}function y(t,e){var n=i[e],a=r[t],s=a.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),h=a.data.getItemGraphicEl(a.dataIndex);l!==h?l&&p[l.id]||h&&(FG(h),l?(FG(l),BG(l),u=!0,RG(NG(l),NG(h),a.divide,s,t,o)):VG(h,s,t)):h&&GG(h,a.dataIndex,s)}new Mm(i,r,h(!0,c),h(!1,c),null,\\\"multiple\\\").update(y).updateManyToOne((function(t,e){var n=r[t],a=n.data,s=a.hostModel,l=a.getItemGraphicEl(n.dataIndex),h=B(z(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==l&&!p[t.id]}));l&&(FG(l),h.length?(E(h,(function(t){FG(t),BG(t)})),u=!0,RG(NG(h),NG(l),n.divide,s,t,o)):VG(l,s,n.dataIndex))})).updateOneToMany((function(t,e){var n=i[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!p[a.id]){var s=B(z(t,(function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)})),(function(t){return t&&t!==a})),l=r[t[0]].data.hostModel;s.length&&(E(s,(function(t){return FG(t)})),a?(FG(a),BG(a),u=!0,RG(NG(a),NG(s),n.divide,l,t[0],o)):E(s,(function(e){return VG(e,l,t[0])})))}})).updateManyToMany((function(t,e){new Mm(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return r[t].data.getId(r[t].dataIndex)})).update((function(n,i){y(t[n],e[i])})).execute()})).execute(),u&&E(e,(function(t){var e=t.data.hostModel,i=e&&n.getViewOfSeriesModel(e),r=nh(\\\"update\\\",e,0);i&&e.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse((function(t){t instanceof gs&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)}))}))}function HG(t){var e=t.getModel(\\\"universalTransition\\\").get(\\\"seriesKey\\\");return e||t.id}function YG(t){return Y(t)?t.sort().join(\\\",\\\"):t}function UG(t){if(t.hostModel)return t.hostModel.getModel(\\\"universalTransition\\\").get(\\\"divideShape\\\")}function XG(t,e){for(var n=0;n\u003Ct.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}bm([function(t){t.registerPainter(\\\"canvas\\\",Bw)}]),bm([function(t){t.registerPainter(\\\"svg\\\",Pw)}]),bm([function(t){t.registerChartView(xS),t.registerSeriesModel(Fw),t.registerLayout(_S(\\\"line\\\",!0)),t.registerVisual({seriesType:\\\"line\\\",reset:function(t){var e=t.getData(),n=t.getModel(\\\"lineStyle\\\").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual(\\\"style\\\").fill),e.setVisual(\\\"legendLineStyle\\\",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,SS(\\\"line\\\"))},function(t){t.registerChartView(PS),t.registerSeriesModel(IS),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,H(Ax,\\\"bar\\\")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kx(\\\"bar\\\")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,SS(\\\"bar\\\")),t.registerAction({type:\\\"changeAxisOrder\\\",event:\\\"changeAxisOrder\\\",update:\\\"update\\\"},(function(t,e){var n=t.componentType||\\\"series\\\";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(sM),t.registerSeriesModel(hM),vy(\\\"pie\\\",t.registerAction),t.registerLayout(H(JS,\\\"pie\\\")),t.registerProcessor(QS(\\\"pie\\\")),t.registerProcessor(function(t){return{seriesType:t,reset:function(t,e){var n=t.getData();n.filterSelf((function(t){var e=n.mapDimension(\\\"value\\\"),i=n.get(e,t);return!(j(i)&&!isNaN(i)&&i\u003C0)}))}}}(\\\"pie\\\"))},function(t){bm(cI),t.registerSeriesModel(cM),t.registerChartView(gM),t.registerLayout(_S(\\\"scatter\\\"))},function(t){bm(II),t.registerChartView(yI),t.registerSeriesModel(vI),t.registerLayout(pI),t.registerProcessor(QS(\\\"radar\\\")),t.registerPreprocessor(gI)},function(t){bm(QT),t.registerChartView(NT),t.registerSeriesModel(ET),t.registerLayout(VT),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zT),vy(\\\"map\\\",t.registerAction)},function(t){t.registerChartView(cC),t.registerSeriesModel(OC),t.registerLayout(NC),t.registerVisual(EC),function(t){t.registerAction({type:\\\"treeExpandAndCollapse\\\",event:\\\"treeExpandAndCollapse\\\",update:\\\"update\\\"},(function(t,e){e.eachComponent({mainType:\\\"series\\\",subType:\\\"tree\\\",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),t.registerAction({type:\\\"treeRoam\\\",event:\\\"treeRoam\\\",update:\\\"none\\\"},(function(t,e){e.eachComponent({mainType:\\\"series\\\",subType:\\\"tree\\\",query:t},(function(e){var n=KT(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)}))}))}(t)},function(t){t.registerSeriesModel(BC),t.registerChartView(JC),t.registerVisual(gD),t.registerLayout(DD),function(t){for(var e=0;e\u003CzC.length;e++)t.registerAction({type:zC[e],update:\\\"updateView\\\"},xt);t.registerAction({type:\\\"treemapRootToNode\\\",update:\\\"updateView\\\"},(function(t,e){e.eachComponent({mainType:\\\"series\\\",subType:\\\"treemap\\\",query:t},(function(e,n){var i=AC(t,[\\\"treemapZoomToNode\\\",\\\"treemapRootToNode\\\"],e);if(i){var r=e.getViewRoot();r&&(t.direction=LC(r,i.node)?\\\"rollUp\\\":\\\"drillDown\\\"),e.resetViewRoot(i.node)}}))}))}(t)},function(t){t.registerChartView(CA),t.registerSeriesModel(RA),t.registerProcessor(RD),t.registerVisual(ND),t.registerVisual(zD),t.registerLayout(ZD),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,tA),t.registerLayout(nA),t.registerCoordinateSystem(\\\"graphView\\\",{dimensions:FT.dimensions,create:iA}),t.registerAction({type:\\\"focusNodeAdjacency\\\",event:\\\"focusNodeAdjacency\\\",update:\\\"series:focusNodeAdjacency\\\"},xt),t.registerAction({type:\\\"unfocusNodeAdjacency\\\",event:\\\"unfocusNodeAdjacency\\\",update:\\\"series:unfocusNodeAdjacency\\\"},xt),t.registerAction(NA,(function(t,e){e.eachComponent({mainType:\\\"series\\\",query:t},(function(e){var n=KT(e.coordinateSystem,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)}))}))},function(t){t.registerChartView(BA),t.registerSeriesModel(FA)},function(t){t.registerChartView(HA),t.registerSeriesModel(YA),t.registerLayout(UA),t.registerProcessor(QS(\\\"funnel\\\"))},function(t){bm(vL),t.registerChartView(XA),t.registerSeriesModel($A),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,tk)},function(t){t.registerChartView(_L),t.registerSeriesModel(bL),t.registerLayout(wL),t.registerVisual(RL),t.registerAction({type:\\\"dragNode\\\",event:\\\"dragnode\\\",update:\\\"update\\\"},(function(t,e){e.eachComponent({mainType:\\\"series\\\",subType:\\\"sankey\\\",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(EL),t.registerChartView(zL),t.registerVisual(HL),t.registerLayout(UL),t.registerTransform(XL)},function(t){t.registerChartView(jL),t.registerSeriesModel(oP),t.registerPreprocessor(aP),t.registerVisual(cP),t.registerLayout(pP)},function(t){t.registerChartView(yP),t.registerSeriesModel(vP),t.registerLayout(_S(\\\"effectScatter\\\"))},function(t){t.registerChartView(IP),t.registerSeriesModel(AP),t.registerLayout(MP),t.registerVisual(LP)},function(t){t.registerChartView(RP),t.registerSeriesModel(NP)},function(t){t.registerChartView(BP),t.registerSeriesModel(iO),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,H(Ax,\\\"pictorialBar\\\")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kx(\\\"pictorialBar\\\"))},function(t){t.registerChartView(rO),t.registerSeriesModel(oO),t.registerLayout(aO),t.registerProcessor(QS(\\\"themeRiver\\\"))},function(t){t.registerChartView(cO),t.registerSeriesModel(pO),t.registerLayout(H(gO,\\\"sunburst\\\")),t.registerProcessor(H(QS,\\\"sunburst\\\")),t.registerVisual(vO),function(t){t.registerAction({type:uO,update:\\\"updateView\\\"},(function(t,e){e.eachComponent({mainType:\\\"series\\\",subType:\\\"sunburst\\\",query:t},(function(e,n){var i=AC(t,[uO],e);if(i){var r=e.getViewRoot();r&&(t.direction=LC(r,i.node)?\\\"rollUp\\\":\\\"drillDown\\\"),e.resetViewRoot(i.node)}}))})),t.registerAction({type:hO,update:\\\"none\\\"},(function(t,e,n){t=A({},t),e.eachComponent({mainType:\\\"series\\\",subType:\\\"sunburst\\\",query:t},(function(e){var n=AC(t,[hO],e);n&&(t.dataIndex=n.node.dataIndex)})),n.dispatchAction(A(t,{type:\\\"highlight\\\"}))})),t.registerAction({type:\\\"sunburstUnhighlight\\\",update:\\\"updateView\\\"},(function(t,e,n){t=A({},t),n.dispatchAction(A(t,{type:\\\"downplay\\\"}))}))}(t)},function(t){t.registerChartView(lR),t.registerSeriesModel(bO)}]),bm((function(t){bm(cI),bm(lN)})),bm((function(t){bm(lN),QM.registerAxisPointerClass(\\\"PolarAxisPointer\\\",uN),t.registerCoordinateSystem(\\\"polar\\\",SN),t.registerComponentModel(cN),t.registerComponentView(BN),SM(t,\\\"angle\\\",dN,zN),SM(t,\\\"radius\\\",fN,VN),t.registerComponentView(DN),t.registerComponentView(PN),t.registerLayout(H(EN,\\\"bar\\\"))})),bm(QT),bm((function(t){bm(lN),QM.registerAxisPointerClass(\\\"SingleAxisPointer\\\",QN),t.registerComponentView(iE),t.registerComponentView(HN),t.registerComponentModel(UN),SM(t,\\\"single\\\",UN,UN.defaultOption),t.registerCoordinateSystem(\\\"single\\\",KN)})),bm(vL),bm((function(t){t.registerComponentModel(rE),t.registerComponentView(aE),t.registerCoordinateSystem(\\\"calendar\\\",lE)})),bm((function(t){t.registerComponentModel(fE),t.registerComponentView(vE),t.registerPreprocessor((function(t){var e=t.graphic;Y(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))})),bm((function(t){t.registerComponentModel(YE),t.registerComponentView(XE),WE(\\\"saveAsImage\\\",ZE),WE(\\\"magicType\\\",KE),WE(\\\"dataView\\\",iz),WE(\\\"dataZoom\\\",Iz),WE(\\\"restore\\\",lz),bm(BE)})),bm((function(t){bm(lN),t.registerComponentModel(Dz),t.registerComponentView(Uz),t.registerAction({type:\\\"showTip\\\",event:\\\"showTip\\\",update:\\\"tooltip:manuallyShowTip\\\"},xt),t.registerAction({type:\\\"hideTip\\\",event:\\\"hideTip\\\",update:\\\"tooltip:manuallyHideTip\\\"},xt)})),bm(lN),bm((function(t){t.registerComponentView(dV),t.registerComponentModel(fV),t.registerPreprocessor(Kz),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,lV),t.registerAction({type:\\\"brush\\\",event:\\\"brush\\\",update:\\\"updateVisual\\\"},(function(t,e){e.eachComponent({mainType:\\\"brush\\\",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:\\\"brushSelect\\\",event:\\\"brushSelected\\\",update:\\\"none\\\"},xt),t.registerAction({type:\\\"brushEnd\\\",event:\\\"brushEnd\\\",update:\\\"none\\\"},xt),WE(\\\"brush\\\",vV)})),bm((function(t){t.registerComponentModel(mV),t.registerComponentView(xV)})),bm((function(t){t.registerComponentModel(bV),t.registerComponentView(TV),t.registerSubTypeDefaulter(\\\"timeline\\\",(function(){return\\\"slider\\\"})),function(t){t.registerAction({type:\\\"timelineChange\\\",event:\\\"timelineChanged\\\",update:\\\"prepareAndUpdate\\\"},(function(t,e,n){var i=e.getComponent(\\\"timeline\\\");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get(\\\"loop\\\",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:\\\"timelinePlayChange\\\",playState:!1,from:t.from}))),e.resetOption(\\\"timeline\\\",{replaceMerge:i.get(\\\"replaceMerge\\\",!0)}),k({currentIndex:i.option.currentIndex},t)})),t.registerAction({type:\\\"timelinePlayChange\\\",event:\\\"timelinePlayChanged\\\",update:\\\"update\\\"},(function(t,e){var n=e.getComponent(\\\"timeline\\\");n&&null!=t.playState&&n.setPlayState(t.playState)}))}(t),t.registerPreprocessor(AV)})),bm((function(t){t.registerComponentModel(EV),t.registerComponentView(ZV),t.registerPreprocessor((function(t){PV(t.series,\\\"markPoint\\\")&&(t.markPoint=t.markPoint||{})}))})),bm((function(t){t.registerComponentModel(jV),t.registerComponentView(eB),t.registerPreprocessor((function(t){PV(t.series,\\\"markLine\\\")&&(t.markLine=t.markLine||{})}))})),bm((function(t){t.registerComponentModel(nB),t.registerComponentView(hB),t.registerPreprocessor((function(t){PV(t.series,\\\"markArea\\\")&&(t.markArea=t.markArea||{})}))})),bm((function(t){bm(wB),bm(AB)})),bm((function(t){bm(GB),bm(KB)})),bm(GB),bm(KB),bm((function(t){bm(kF),bm(NF)})),bm(kF),bm(NF),bm((function(t){t.registerPreprocessor(FF),t.registerVisual(t.PRIORITY.VISUAL.ARIA,BF)})),bm((function(t){t.registerTransform(JF),t.registerTransform(QF)})),bm((function(t){t.registerComponentModel(tG),t.registerComponentView(eG)})),bm((function(t){t.registerUpdateLifecycle(\\\"series:beforeupdate\\\",(function(t,e,n){E(ho(n.seriesTransition),(function(t){E(ho(t.to),(function(t){for(var e=n.updatedSeries,i=0;i\u003Ce.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i].__universalTransitionEnabled=!0)}))}))})),t.registerUpdateLifecycle(\\\"series:transition\\\",(function(t,e,n){var i=EG(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)E(ho(r),(function(t){!function(t,e,n,i){var r=[],o=[];E(ho(t.from),(function(t){var n=XG(e.oldSeries,t);n>=0&&r.push({data:e.oldData[n],divide:UG(e.oldData[n]),dim:t.dimension})})),E(ho(t.to),(function(t){var e=XG(n.updatedSeries,t);if(e>=0){var i=n.updatedSeries[e].getData();o.push({data:i,divide:UG(i),dim:t.dimension})}})),r.length>0&&o.length>0&&WG(r,o,i)}(t,i,n,e)}));else{var o=function(t,e){var n=ft(),i=ft(),r=ft();return E(t.oldSeries,(function(e,n){var o=t.oldData[n],a=HG(e),s=YG(a);i.set(s,o),Y(a)&&E(a,(function(t){r.set(t,{data:o,key:s})}))})),E(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),o=HG(t),a=YG(o),s=i.get(a);if(s)n.set(a,{oldSeries:[{divide:UG(s),data:s}],newSeries:[{divide:UG(e),data:e}]});else if(Y(o)){var l=[];E(o,(function(t){var e=i.get(t);e&&l.push({divide:UG(e),data:e})})),l.length&&n.set(a,{oldSeries:l,newSeries:[{data:e,divide:UG(e)}]})}else{var u=r.get(o);if(u){var h=n.get(u.key);h||(h={oldSeries:[{data:u.data,divide:UG(u.data)}],newSeries:[]},n.set(u.key,h)),h.newSeries.push({data:e,divide:UG(e)})}}}})),n}(i,n);E(o.keys(),(function(t){var n=o.get(t);WG(n.oldSeries,n.newSeries,e)}))}E(n.updatedSeries,(function(t){t.__universalTransitionEnabled&&(t.__universalTransitionEnabled=!1)}))}for(var a=t.getSeries(),s=i.oldSeries=[],l=i.oldData=[],u=0;u\u003Ca.length;u++){var h=a[u].getData();h.count()\u003C1e4&&(s.push(a[u]),l.push(h))}}))})),bm((function(t){t.registerUpdateLifecycle(\\\"series:beforeupdate\\\",(function(t,e,n){var i=Cb(e).labelManager;i||(i=Cb(e).labelManager=new Tb),i.clearLabels()})),t.registerUpdateLifecycle(\\\"series:layoutlabels\\\",(function(t,e,n){var i=Cb(e).labelManager;n.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))})),t.Axis=W_,t.ChartView=xg,t.ComponentModel=Tp,t.ComponentView=gg,t.List=jm,t.Model=dc,t.PRIORITY=dv,t.SeriesModel=sg,t.color=Pn,t.connect=function(t){if(Y(t)){var e=t;t=null,E(e,(function(e){null!=e.group&&(t=e.group)})),t=t||\\\"g_\\\"+Qv++,E(e,(function(e){e.group=t}))}return $v[t]=!0,t},t.dataTool={},t.dependencies={zrender:\\\"5.3.1\\\"},t.disConnect=em,t.disconnect=nm,t.dispose=function(t){X(t)?t=Kv[t]:t instanceof Bv||(t=im(t)),t instanceof Bv&&!t.isDisposed()&&t.dispose()},t.env=r,t.extendChartView=function(t){var e=xg.extend(t);return xg.registerClass(e),e},t.extendComponentModel=function(t){var e=Tp.extend(t);return Tp.registerClass(e),e},t.extendComponentView=function(t){var e=gg.extend(t);return gg.registerClass(e),e},t.extendSeriesModel=function(t){var e=sg.extend(t);return sg.registerClass(e),e},t.format=k_,t.getCoordinateSystemDimensions=function(t){var e=hd.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.getInstanceByDom=im,t.getInstanceById=function(t){return Kv[t]},t.getMap=function(t){var e=uv(\\\"getMap\\\");return e&&e(t)},t.graphic=A_,t.helper=d_,t.init=function(t,e,n){var i=!(n&&n.ssr);if(i){0;var r=im(t);if(r)return r;0}var o=new Bv(t,e,n);return o.id=\\\"ec_\\\"+Jv++,Kv[o.id]=o,i&&ko(t,tm,o.id),Rv(o),sv.trigger(\\\"afterinit\\\",o),o},t.innerDrawElementOnCanvas=Jy,t.matrix=Gi,t.number=C_,t.parseGeoJSON=T_,t.parseGeoJson=T_,t.registerAction=hm,t.registerCoordinateSystem=cm,t.registerLayout=pm,t.registerLoading=ym,t.registerLocale=Sc,t.registerMap=vm,t.registerPostInit=sm,t.registerPostUpdate=lm,t.registerPreprocessor=om,t.registerProcessor=am,t.registerTheme=rm,t.registerTransform=mm,t.registerUpdateLifecycle=um,t.registerVisual=dm,t.setCanvasCreator=function(t){c({createCanvas:t})},t.setPlatformAPI=c,t.throttle=Dg,t.time=D_,t.use=bm,t.util=L_,t.vector=Ht,t.version=\\\"5.3.2\\\",t.zrUtil=bt,t.zrender=Or,Object.defineProperty(t,\\\"__esModule\\\",{value:!0})}));\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/Gk0Wk/echarts/macro\":{\"title\":\"$:/plugins/Gk0Wk/echarts/macro\",\"type\":\"text/vnd.tiddlywiki\",\"tags\":\"$:/tags/Macro\",\"text\":\"\\\\define echarts(textortiddler,height:\\\"300px\\\",width:\\\"100%\\\",class:\\\"gk0wk-echarts-body\\\",theme:\\\"auto\\\",renderer:\\\"canvas\\\",fillSidebar:\\\"true\\\")\\n\u003C$set name=\\\"textortiddler\\\" value=\\\"\\\"\\\"$textortiddler$\\\"\\\"\\\">\\n\u003C$list filter=\\\"[\u003Ctextortiddler>is[tiddler]] [\u003Ctextortiddler>is[shadow]]\\\">\\n\u003C$echarts $tiddler=\u003C\u003Ctextortiddler>> $height=\\\"$height$\\\" $width=\\\"$width$\\\" $class=\\\"$class$\\\" $theme=\\\"$theme$\\\" $renderer=\\\"$renderer$\\\" $fillSidebar=\\\"$fillSidebar$\\\"/>\\n\u003C/$list>\\n\u003C$list filter=\\\"[\u003Ctextortiddler>!is[tiddler]!is[shadow]]\\\">\\n\u003C$echarts $text=\u003C\u003Ctextortiddler>> $height=\\\"$height$\\\" $width=\\\"$width$\\\" $class=\\\"$class$\\\" $theme=\\\"$theme$\\\" $renderer=\\\"$renderer$\\\" $fillSidebar=\\\"$fillSidebar$\\\"/>\\n\u003C/$list>\\n\u003C/$set>\\n\\\\end\\n\"},\"$:/plugins/Gk0Wk/echarts/readme\":{\"title\":\"$:/plugins/Gk0Wk/echarts/readme\",\"text\":\"\u003C$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\\n\u003C$list filter=\\\"[\u003Clang>search[zh]]\\\">\\n\\n将强大的可视化工具 [[ECharts|https://echarts.apache.org/zh/index.html]] 以优雅的方式与 TiddlyWiki 相结合。\\n\\n插件说明与使用教程较长，请参考 https://tiddly-gittly.github.io/tw-echarts/\\n\\n\u003C/$list>\\n\\n\u003C$list filter=\\\"[\u003Clang>!search[zh]]\\\">\\n\\nCombines the powerful visualization tool [[ECharts|https://echarts.apache.org/en/index.html]] with TiddlyWiki in an elegant way.\\n\\nThe plugin description and tutorial is long, please refer to https://tiddly-gittly.github.io/tw-echarts/\\n\\n\u003C/$list>\\n\u003C/$list>\\n\\n[img[https://tc9011.com/assets/images/Echarts%E6%94%B9%E9%80%A0%E4%B9%8B%E5%8A%A8%E6%80%81%E6%98%BE%E7%A4%BA/banner.png]]\\n\"},\"$:/plugins/Gk0Wk/echarts/Snippets/TheBrain\":{\"title\":\"$:/plugins/Gk0Wk/echarts/Snippets/TheBrain\",\"type\":\"text/vnd.tiddlywiki\",\"tags\":\"$:/tags/TextEditor/Snippet\",\"caption\":\"Add a new Graph Chart, \\\"levels\\\" (default to 1) controls how many levels will it reach from \\\"focussedTiddler\\\" (default to $:/temp/focussedTiddler); \\\"graphTitle\\\" decided the title of the chart\",\"text\":\"\u003C$echarts $tiddler=\\\"$:/plugins/Gk0Wk/echarts/addons/TheBrain.js\\\" aliasField=\\\"caption\\\" levels=2 focussedTiddler=\\\"Index\\\" graphTitle=\\\"Graph\\\" />\"},\"$:/plugins/Gk0Wk/echarts/widget.js\":{\"title\":\"$:/plugins/Gk0Wk/echarts/widget.js\",\"text\":\"(function () {\\n  'use strict';\\n  const Widget = require('$:/core/modules/widgets/widget.js').widget;\\n  const EchartsJS = require('$:/plugins/Gk0Wk/echarts/echarts.min.js');\\n  const Function_ = Function;\\n  if ($tw.browser) {\\n    // 总算明白了，node启动时，这个会被调用一遍，在浏览器又会调用一遍\\n    // 两边不是一个概念\\n    window.echarts = EchartsJS;\\n    try {\\n      // 注册各种扩展\\n      $tw.modules.forEachModuleOfType('echarts-extension', function (title, exportModules) {\\n        if (title === '$:/plugins/Gk0Wk/echarts-stat/ecStat.min.js') {\\n          EchartsJS.registerTransform(exportModules.transform.histogram);\\n          EchartsJS.registerTransform(exportModules.transform.clustering);\\n          EchartsJS.registerTransform(exportModules.transform.regression);\\n          window.EChartsStat = exportModules.statistics;\\n        }\\n      });\\n    } catch (error) {\\n      console.error(error);\\n    }\\n  }\\n  const unmountAddon = function (title, state, echartsInstance) {\\n    new Promise(function (resolve) {\\n      try {\\n        echartsInstance.off('restore');\\n        if (title && $tw.wiki.getTiddler(title) && $tw.wiki.getTiddler(title).fields.type === 'application/javascript') {\\n          const addon = require(title);\\n          const onUnmount = addon.onUnmount;\\n          if (typeof onUnmount === 'function') {\\n            onUnmount(state);\\n          }\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      }\\n      resolve();\\n    });\\n  };\\n  const EChartsWidget = function (parseTreeNode, options) {\\n    this.initialise(parseTreeNode, options);\\n  };\\n  EChartsWidget.prototype = new Widget();\\n  EChartsWidget.prototype.render = function (parent, nextSibling) {\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n    const currentTiddler = this.getVariable('currentTiddler');\\n    this.uuid = 'echarts-' + (currentTiddler ? $tw.utils.hashString(this.getVariable('currentTiddler')) + '-' : '') + Date.now();\\n    this.containerDom = document.createElement('div');\\n    this.containerDom.id = this.uuid;\\n    this.containerDom.className = this.class;\\n    this.containerDom.style.width = this.width;\\n    this.containerDom.style.height = this.height;\\n    parent.insertBefore(this.containerDom, nextSibling);\\n    this.domNodes.push(this.containerDom);\\n    if ($tw.browser) {\\n      this.rebuildInstance();\\n      this.initState();\\n      this.generateOption();\\n      var that = this;\\n      var timer = setInterval(function () {\\n        if (!document.contains(that.containerDom)) {\\n          unmountAddon(that.tiddlerTitle, that.state, that.echartsInstance);\\n          clearInterval(timer);\\n          that.clearInstance();\\n        }\\n      }, 1000);\\n    } else if ((this.tiddlerTitle !== undefined && this.tiddlerTitle !== '' && $tw.wiki.getTiddler(this.tiddlerTitle)) || this.text !== undefined) {\\n      // 如果是非浏览器环境，就直接导出渲染脚本\\n      try {\\n        const scriptDom = this.document.createElement('script');\\n        let scriptText =\\n          \\\"var chartDom = document.querySelector('#\\\" +\\n            this.uuid +\\n            \\\"');\\\\nif (chartDom && typeof window !== 'undefiend' && window.echarts) {\\\\n\\\" +\\n            '  var myChart = window.echarts.init(chartDom, ' +\\n            this.theme ===\\n          'dark'\\n            ? \\\"'dark'\\\"\\n            : 'undefined' +\\n              \\\", { renderer: '\\\" +\\n              this.renderer +\\n              \\\"' });\\\\n\\\" +\\n              '  myChart.setOption(' +\\n              JSON.stringfy({ darkMode: this.theme === 'dark', backgroundColor: 'transparent' }) +\\n              ');\\\\n' +\\n              '  myChart.showLoading();\\\\n' +\\n              '  new Promise(function (resolve) {\\\\n' +\\n              '    try {\\\\n';\\n        if (this.text === undefined) {\\n          const tiddler = $tw.wiki.getTiddler(that.tiddlerTitle).fields;\\n          if (!tiddler.type || tiddler.type === '' || tiddler.type === 'text/vnd.tiddlywiki') {\\n            scriptText +=\\n              '      myChart.setOption(' +\\n              JSON.stringfy(JSON.parse($tw.wiki.renderTiddler('text/plain', this.tiddlerTitle, { variables: Object.assign({}, this.addonAttributes) }))) +\\n              ');\\\\n';\\n          } else if (tiddler.type === 'application/json') {\\n            scriptText += '      myChart.setOption(' + JSON.stringfy(JSON.parse($tw.wiki.getTiddlerText(this.tiddlerTitle))) + ');\\\\n';\\n          } else if (tiddler.type === 'application/javascript') {\\n            scriptText +=\\n              '      var exports = {};\\\\n' +\\n              $tw.wiki.getTiddlerText(this.tiddlerTitle) +\\n              '\\\\n' +\\n              '      var state = exports.onMount ? exports.onMount(myChart, ' +\\n              JSON.stringfy(this.addonAttributes) +\\n              ', undefined) : {};\\\\n' +\\n              '      var attrs = ' +\\n              JSON.stringfy(this.addonAttributes) +\\n              ';\\\\n' +\\n              '      if (exports.onUpdate) exports.onUpdate(myChart, state, attrs);\\\\n' +\\n              \\\"      if (exports.onUpdate) myChart.on('restore', function () { exports.onUpdate(myChart, state, attrs); });\\\\n\\\";\\n          }\\n        } else {\\n          scriptText += '      var option;\\\\n' + this.text + ';\\\\n' + '      if (option instanceof Object) myChart.setOption(option);\\\\n';\\n        }\\n        scriptText +=\\n          '    catch (e) { console.error(e); }\\\\n' +\\n          '    finally { resolve(); }\\\\n' +\\n          '  }).then(function () { myChart.hideLoading(); });\\\\n' +\\n          '  var timer;' +\\n          '  if (!window.ResizeObserver) return;' +\\n          '  var resizeObserver = new ResizeObserver(function (entries) {\\\\n' +\\n          '    if (timer) clearTimeout(timer);' +\\n          '    timer = setTimeout(function () {' +\\n          \\\"      var sidebar = document.querySelector('.tc-sidebar-scrollable');\\\\n\\\" +\\n          '      var height = entries[0].contentRect.height;\\\\n' +\\n          '      if (' +\\n          this.fillSidebar.toString() +\\n          ' && sidebar && sidebar.contains && sidebar.contains(chartDom)) {\\\\n' +\\n          \\\"        height = window.innerHeight - chartDom.parentNode.getBoundingClientRect().top - parseInt(getComputedStyle(sidebar).paddingBottom.replace('px', ''));\\\\n\\\" +\\n          '      }\\\\n' +\\n          '      myChart.resize({\\\\n' +\\n          '        width: entries[0].contentRect.width,\\\\n' +\\n          '        height: height\\\\n' +\\n          '      });\\\\n' +\\n          '    }, 25);' +\\n          '  });\\\\n' +\\n          '  resizeObserver.observe(chartDom);\\\\n' +\\n          '}';\\n        scriptDom.innerText = scriptText;\\n        this.insertBefore(scriptDom, nextSibling);\\n      } catch (error) {\\n        this.containerDom.innerText = error.toString();\\n      }\\n    }\\n  };\\n  EChartsWidget.prototype.execute = function () {\\n    this.tiddlerTitle = this.getAttribute('$tiddler', '');\\n    if (this.tiddlerTitle === '') this.tiddlerTitle = undefined;\\n    this.width = this.getAttribute('$width', '100%');\\n    this.height = this.getAttribute('$height', '300px');\\n    this.class = this.getAttribute('$class', 'gk0wk-echarts-body');\\n    this.fillSidebar = this.getAttribute('$fillSidebar', 'true') === 'true';\\n    this.theme = this.getAttribute('$theme', 'auto');\\n    if (this.theme === 'light') this.theme = undefined;\\n    else if (this.theme === 'dark');\\n    else {\\n      if ($tw.wiki.filterTiddlers('[{$:/palette}field:color-scheme[dark]]').length > 0) this.theme = 'dark';\\n      else this.theme = undefined;\\n    }\\n    this.renderer = this.getAttribute('$renderer', 'canvas') === 'svg' ? 'svg' : 'canvas';\\n    this.addonAttributes = Object.assign({}, this.attributes);\\n    this.text = this.getAttribute('$text', '');\\n    if (this.text.trim().length === 0) this.text = undefined;\\n  };\\n  EChartsWidget.prototype.askForAddonUpdate = function (changedTiddlers) {\\n    try {\\n      if (!this.tiddlerTitle || !$tw.wiki.getTiddler(this.tiddlerTitle)) return false;\\n      const tiddler = $tw.wiki.getTiddler(this.tiddlerTitle).fields;\\n      if (!tiddler.type || tiddler.type === '' || tiddler.type === 'text/vnd.tiddlywiki' || tiddler.type === 'application/json') {\\n        this._state = JSON.stringify($tw.wiki.filterTiddlers(tiddler['echarts-refresh-trigger']));\\n        return this._state !== this.state;\\n      } else if (tiddler.type === 'application/javascript') {\\n        const addon = require(this.tiddlerTitle);\\n        let shouldUpdate = addon.shouldUpdate;\\n        if (shouldUpdate === undefined) shouldUpdate = addon.shouldRefresh;\\n        if (shouldUpdate === undefined) return true;\\n        if (typeof shouldUpdate === 'string') {\\n          this._state = JSON.stringify($tw.wiki.filterTiddlers(tiddler['echarts-refresh-trigger']));\\n          return this._state !== this.state;\\n        }\\n        if (typeof shouldUpdate === 'function') {\\n          return shouldUpdate(this.state, changedTiddlers);\\n        }\\n        return true;\\n      } else {\\n        return false;\\n      }\\n    } catch (error) {\\n      console.error(error);\\n      return false;\\n    }\\n  };\\n  // 计算this.state\\n  EChartsWidget.prototype.initState = function () {\\n    try {\\n      if (this.text === undefined) {\\n        if (!this.tiddlerTitle || !$tw.wiki.getTiddler(this.tiddlerTitle)) return;\\n        const tiddler = $tw.wiki.getTiddler(this.tiddlerTitle).fields;\\n        if (!tiddler.type || tiddler.type === '' || tiddler.type === 'text/vnd.tiddlywiki' || tiddler.type === 'application/json') {\\n          if (this._state) {\\n            this.state = this._state;\\n            this._state = undefined;\\n          } else {\\n            this.state = JSON.stringify($tw.wiki.filterTiddlers(tiddler['echarts-refresh-trigger']));\\n          }\\n        } else if (tiddler.type === 'application/javascript') {\\n          const addon = require(this.tiddlerTitle);\\n          let onMount = addon.onMount;\\n          if (onMount === undefined) onMount = addon.onInit;\\n          if (typeof onMount === 'function') {\\n            this.state = onMount(this.echartsInstance, this.addonAttributes, this);\\n          }\\n        } else return;\\n      }\\n      const that = this;\\n      this.echartsInstance.on('restore', function () {\\n        that.generateOption();\\n      });\\n    } catch (error) {\\n      console.error(error);\\n    }\\n  };\\n  EChartsWidget.prototype.clearInstance = function () {\\n    let oldOptions;\\n    if (this.echartsInstance) {\\n      oldOptions = this.echartsInstance.getOption();\\n      if (!this.echartsInstance.isDisposed()) this.echartsInstance.dispose();\\n      this.echartsInstance = undefined;\\n    }\\n    this.containerDom.innerHTML = '';\\n    if (this.resizeObserver) {\\n      this.resizeObserver.disconnect();\\n      this.resizeObserver = undefined;\\n    }\\n    return oldOptions;\\n  };\\n  EChartsWidget.prototype.rebuildInstance = function () {\\n    const oldOptions = this.clearInstance();\\n    // 新建实例\\n    const instance = (this.echartsInstance = EchartsJS.init(this.containerDom, this.theme, {\\n      renderer: this.renderer,\\n    }));\\n    instance.setOption({\\n      darkMode: this.theme === 'dark',\\n      backgroundColor: 'transparent',\\n    });\\n    // 监听大小变更\\n    const that = this;\\n    let timer; // 去抖\\n    if (window.ResizeObserver) {\\n      this.resizeObserver = new ResizeObserver(function (entries) {\\n        if (timer) clearTimeout(timer);\\n        timer = setTimeout(function () {\\n          const sidebar = document.querySelector('.tc-sidebar-scrollable');\\n          let height = entries[0].contentRect.height;\\n          if (that.fillSidebar && sidebar && !that.parentDomNode.isTiddlyWikiFakeDom && sidebar.contains(that.containerDom)) {\\n            height =\\n              window.innerHeight - that.parentDomNode.getBoundingClientRect().top - Number.parseInt(getComputedStyle(sidebar).paddingBottom.replace('px', ''));\\n          }\\n          instance.resize({\\n            width: entries[0].contentRect.width,\\n            height,\\n          });\\n        }, 25);\\n      });\\n      this.resizeObserver.observe(this.containerDom);\\n    }\\n    return oldOptions;\\n  };\\n  // 异步更新\\n  EChartsWidget.prototype.generateOption = function () {\\n    const that = this;\\n    this.echartsInstance.showLoading();\\n    new Promise(function (resolve) {\\n      try {\\n        if (that.text === undefined) {\\n          if (!that.tiddlerTitle || !$tw.wiki.getTiddler(that.tiddlerTitle)) {\\n            resolve();\\n            return;\\n          }\\n          const tiddler = $tw.wiki.getTiddler(that.tiddlerTitle).fields;\\n          if (!tiddler.type || tiddler.type === '' || tiddler.type === 'text/vnd.tiddlywiki') {\\n            that.echartsInstance.setOption(\\n              JSON.parse(\\n                $tw.wiki.renderTiddler('text/plain', that.tiddlerTitle, {\\n                  variables: Object.assign({}, that.addonAttributes),\\n                }),\\n              ),\\n            );\\n          } else if (tiddler.type === 'application/json') {\\n            that.echartsInstance.setOption(JSON.parse($tw.wiki.getTiddlerText(that.tiddlerTitle)));\\n          } else if (tiddler.type === 'application/javascript') {\\n            require(that.tiddlerTitle).onUpdate(that.echartsInstance, that.state, that.addonAttributes);\\n          }\\n        } else {\\n          const addon = new Function_(\\n            'myChart',\\n            'chartDom',\\n            'echarts',\\n            '$tw',\\n            'var option;' + that.text + ';if (option instanceof Object) myChart.setOption(option);',\\n          );\\n          addon(that.echartsInstance, that.containerDom, EchartsJS, $tw);\\n        }\\n      } catch (error) {\\n        console.error(error);\\n      } finally {\\n        resolve();\\n      }\\n    }).then(function () {\\n      that.echartsInstance.hideLoading();\\n    });\\n  };\\n  EChartsWidget.prototype.makeRefresh = function (changedTiddlers) {\\n    const oldAddon = this.tiddlerTitle;\\n    const changedAttributes = this.computeAttributes();\\n    let refreshFlag = 0; // 0: 不需要任何变更   1: 需要重新生成Option   2: 需要重新渲染\\n    // 先看一下参数的变化，这里分为几种：\\n    // $tiddler变化的，说明要重新生成Option\\n    // $theme、$fillSidebar 和 $renderer需要重新初始化实例\\n    // $class、$width 和 $height 只需要修改容器的尺寸就好了\\n    // 剩下的就是传给插件的参数了\\n    if ($tw.utils.count(changedAttributes) > 0) {\\n      let counter = 0;\\n      $tw.utils.each(['$theme', '$fillSidebar', '$renderer'], function (key) {\\n        if (changedAttributes[key] !== undefined) counter++;\\n      });\\n      if (counter > 0) refreshFlag |= 2;\\n      if (changedAttributes.$class) {\\n        counter++;\\n        this.containerDom.className = this.getAttribute('$class', 'gk0wk-echarts-body');\\n      }\\n      if (changedAttributes.$width) {\\n        counter++;\\n        this.containerDom.style.width = this.getAttribute('$width', '100%');\\n      }\\n      if (changedAttributes.$height) {\\n        counter++;\\n        this.containerDom.style.height = this.getAttribute('$height', '300px');\\n      }\\n      if ($tw.utils.count(changedAttributes) > counter) refreshFlag |= 1;\\n    }\\n    if (\\n      this.text === undefined &&\\n      !(refreshFlag & 1) &&\\n      ((this.tiddlerTitle && changedTiddlers[this.tiddlerTitle]) || this.askForAddonUpdate(changedTiddlers))\\n    ) {\\n      refreshFlag |= 1;\\n    }\\n    this.execute();\\n    if (refreshFlag & 2) {\\n      const oldOption = this.rebuildInstance();\\n      if (!oldOption || refreshFlag & 1) {\\n        unmountAddon(this.text !== undefined ? undefined : oldAddon, this.state, this.echartsInstance);\\n        this.initState();\\n        this.generateOption();\\n      } else {\\n        this.echartsInstance.setOption(oldOption);\\n      }\\n    } else if (refreshFlag & 1) {\\n      this.generateOption();\\n    }\\n  };\\n  EChartsWidget.prototype.refresh = function (changedTiddlers) {\\n    if (!$tw.browser) return false;\\n    // 去抖\\n    const that = this;\\n    if (this.timer2) clearTimeout(this.timer2);\\n    this.timer2 = setTimeout(function () {\\n      that.timer2 = undefined;\\n      that.makeRefresh(changedTiddlers);\\n    }, 100);\\n    return false;\\n  };\\n  exports.echarts = EChartsWidget;\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}","core-version":">=5.2.0"},
{"created":"20190724145015836","title":"$:/plugins/kookma/commander/buttons/pagecontrol","caption":"{{$:/plugins/kookma/commander/images/file-alt}} {{$:/language/Buttons/Commander/Caption}}","description":"Open tiddler commander","modified":"20221107150545474","tags":"$:/tags/PageControls","type":"text/vnd.tiddlywiki","text":"\\whitespace trim\n\\define commander-button(class)\n\u003C$button to=\"$:/Commander\" tooltip={{$:/language/Buttons/Commander/Hint}} aria-label={{$:/language/Buttons/Commander/Caption}} class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\">\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n{{$:/plugins/kookma/commander/images/commander.svg}}\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\u003C$text text={{$:/language/Buttons/Commander/Caption}}/>\u003C/span>\n\u003C/$list>\n\u003C/$button>\n\\end\n\n\u003C$list filter=\"[list[$:/StoryList]] +[field:title[$:/Commander]]\" emptyMessage=\u003C\u003Ccommander-button>>>\n\u003C\u003Ccommander-button \"tc-selected\">>\n\u003C/$list>\n"},
{"title":"$:/plugins/tiddlywiki/codemirror","name":"CodeMirror","description":"CodeMirror editor","list":"readme usage keyboard license","version":"5.2.4","plugin-type":"plugin","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/config/EditorTypeMappings/application/javascript\":{\"title\":\"$:/config/EditorTypeMappings/application/javascript\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/application/json\":{\"title\":\"$:/config/EditorTypeMappings/application/json\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/application/x-tiddler-dictionary\":{\"title\":\"$:/config/EditorTypeMappings/application/x-tiddler-dictionary\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/css\":{\"title\":\"$:/config/EditorTypeMappings/text/css\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/html\":{\"title\":\"$:/config/EditorTypeMappings/text/html\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/plain\":{\"title\":\"$:/config/EditorTypeMappings/text/plain\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/vnd.tiddlywiki\":{\"title\":\"$:/config/EditorTypeMappings/text/vnd.tiddlywiki\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/x-markdown\":{\"title\":\"$:/config/EditorTypeMappings/text/x-markdown\",\"text\":\"codemirror\"},\"$:/config/EditorTypeMappings/text/x-tiddlywiki\":{\"title\":\"$:/config/EditorTypeMappings/text/x-tiddlywiki\",\"text\":\"codemirror\"},\"$:/config/codemirror/cursorBlinkRate\":{\"title\":\"$:/config/codemirror/cursorBlinkRate\",\"type\":\"integer\",\"text\":\"530\"},\"$:/config/codemirror/extraKeysTW\":{\"title\":\"$:/config/codemirror/extraKeysTW\",\"extend\":\"extraKeys\",\"type\":\"json\",\"text\":\"{\\n\\t\\\"Ctrl-Esc\\\": \\\"singleSelection\\\",\\n\\t\\\"Esc\\\": \\\"\\\",\\n\\t\\\"Ctrl-S\\\": \\\"\\\",\\n\\t\\\"Ctrl-U\\\": \\\"\\\",\\n\\t\\\"Ctrl-T\\\": \\\"\\\",\\n\\t\\\"Alt-T\\\": \\\"transposeChars\\\",\\n\\t\\\"Alt-U\\\": \\\"undoSelection\\\",\\n\\t\\\"Shift-Alt-U\\\": \\\"redoSelection\\\",\\n\\t\\\"Cmd-U\\\": \\\"\\\",\\n\\t\\\"Tab\\\": \\\"indentAuto()\\\",\\n\\t\\\"Enter\\\": \\\"newLineAndIndent()\\\"\\n}\\n\"},\"$:/config/codemirror/indentUnit\":{\"title\":\"$:/config/codemirror/indentUnit\",\"type\":\"integer\",\"text\":\"2\"},\"$:/config/codemirror/indentWithTabs\":{\"title\":\"$:/config/codemirror/indentWithTabs\",\"type\":\"bool\",\"text\":\"true\"},\"$:/config/codemirror/inputStyle\":{\"title\":\"$:/config/codemirror/inputStyle\",\"type\":\"string\",\"text\":\"textarea\"},\"$:/config/codemirror/keyMap\":{\"title\":\"$:/config/codemirror/keyMap\",\"type\":\"string\",\"text\":\"default\"},\"$:/config/codemirror/lineNumbers\":{\"title\":\"$:/config/codemirror/lineNumbers\",\"type\":\"bool\",\"text\":\"false\"},\"$:/config/codemirror/lineWrapping\":{\"title\":\"$:/config/codemirror/lineWrapping\",\"type\":\"bool\",\"text\":\"true\"},\"$:/config/codemirror/showCursorWhenSelecting\":{\"title\":\"$:/config/codemirror/showCursorWhenSelecting\",\"type\":\"bool\",\"text\":\"true\"},\"$:/config/codemirror/smartIndent\":{\"title\":\"$:/config/codemirror/smartIndent\",\"type\":\"bool\",\"text\":\"true\"},\"$:/config/codemirror/styleActiveLine\":{\"title\":\"$:/config/codemirror/styleActiveLine\",\"type\":\"bool\",\"text\":\"false\"},\"$:/config/codemirror/tabSize\":{\"title\":\"$:/config/codemirror/tabSize\",\"type\":\"integer\",\"text\":\"2\"},\"$:/config/codemirror/theme\":{\"title\":\"$:/config/codemirror/theme\",\"type\":\"string\",\"text\":\"tiddlywiki\"},\"$:/language/codemirror/homeUrl\":{\"title\":\"$:/language/codemirror/homeUrl\",\"text\":\"http://codemirror.net\"},\"$:/language/codemirror/addOnUrl\":{\"title\":\"$:/language/codemirror/addOnUrl\",\"text\":\"http://codemirror.net/doc/manual.html#addons\"},\"$:/language/codemirror/configUrl\":{\"title\":\"$:/language/codemirror/configUrl\",\"text\":\"http://codemirror.net/doc/manual.html#config\"},\"$:/language/codemirror/controlPanel/hint\":{\"title\":\"$:/language/codemirror/controlPanel/hint\",\"text\":\"These settings let you customise the behaviour of [[CodeMirror|$:/plugins/tiddlywiki/codemirror]].\"},\"$:/language/codemirror/controlPanel/keyboard\":{\"title\":\"$:/language/codemirror/controlPanel/keyboard\",\"text\":\"Keyboard shortcuts\"},\"$:/language/codemirror/controlPanel/usage\":{\"title\":\"$:/language/codemirror/controlPanel/usage\",\"text\":\"Usage information\"},\"$:/language/codemirror/cursorBlinkRate/hint\":{\"title\":\"$:/language/codemirror/cursorBlinkRate/hint\",\"text\":\"Cursor blink rate\"},\"$:/language/codemirror/editorFont/hint\":{\"title\":\"$:/language/codemirror/editorFont/hint\",\"text\":\"Editor font family\"},\"$:/language/codemirror/editorFont/info\":{\"title\":\"$:/language/codemirror/editorFont/info\",\"text\":\"Set the font family for the ~CodeMirror text-editor\"},\"$:/language/codemirror/indentUnit/hint\":{\"title\":\"$:/language/codemirror/indentUnit/hint\",\"text\":\"How many spaces a block should be indented\"},\"$:/language/codemirror/indentWithTabs/hint\":{\"title\":\"$:/language/codemirror/indentWithTabs/hint\",\"text\":\"Enable indenting with tabs\"},\"$:/language/codemirror/indentWithTabs/info\":{\"title\":\"$:/language/codemirror/indentWithTabs/info\",\"text\":\"Whether, when indenting, the first N*`tabSize` spaces should be replaced by N tabs.\"},\"$:/language/codemirror/keyMap/hint\":{\"title\":\"$:/language/codemirror/keyMap/hint\",\"text\":\"~CodeMirror keymap\"},\"$:/language/codemirror/keyMap/info\":{\"title\":\"$:/language/codemirror/keyMap/info\",\"text\":\"~The Keyboard KeyMap used within the ~CodeMirror text-editor\"},\"$:/language/codemirror/lineNumbers/hint\":{\"title\":\"$:/language/codemirror/lineNumbers/hint\",\"text\":\"Enable line numbers\"},\"$:/language/codemirror/lineNumbers/info\":{\"title\":\"$:/language/codemirror/lineNumbers/info\",\"text\":\"Whether to show line numbers to the left of the editor.\"},\"$:/language/codemirror/lineWrapping/hint\":{\"title\":\"$:/language/codemirror/lineWrapping/hint\",\"text\":\"Enable line wrapping\"},\"$:/language/codemirror/lineWrapping/info\":{\"title\":\"$:/language/codemirror/lineWrapping/info\",\"text\":\"Whether CodeMirror should scroll or wrap for long lines. Defaults to `false` (scroll).\"},\"$:/language/codemirror/showCursorWhenSelecting/hint\":{\"title\":\"$:/language/codemirror/showCursorWhenSelecting/hint\",\"text\":\"Show cursor, when selecting\"},\"$:/language/codemirror/showCursorWhenSelecting/info\":{\"title\":\"$:/language/codemirror/showCursorWhenSelecting/info\",\"text\":\"Whether the cursor should be drawn when a selection is active.\"},\"$:/language/codemirror/smartIndent/hint\":{\"title\":\"$:/language/codemirror/smartIndent/hint\",\"text\":\"Enable smart indent\"},\"$:/language/codemirror/smartIndent/info\":{\"title\":\"$:/language/codemirror/smartIndent/info\",\"text\":\"Whether to use the context-sensitive indentation that the mode provides (or just indent the same as the line before). Defaults to `true`.\"},\"$:/language/codemirror/styleActiveLine/hint\":{\"title\":\"$:/language/codemirror/styleActiveLine/hint\",\"text\":\"Highlight active line\"},\"$:/language/codemirror/styleActiveLine/info\":{\"title\":\"$:/language/codemirror/styleActiveLine/info\",\"text\":\"Whether or not to highlight the active text-editor line\"},\"$:/language/codemirror/tabSize/hint\":{\"title\":\"$:/language/codemirror/tabSize/hint\",\"text\":\"Width of a tab character\"},\"$:/language/codemirror/theme/hint\":{\"title\":\"$:/language/codemirror/theme/hint\",\"text\":\"Select a theme\"},\"$:/language/codemirror/theme/info\":{\"title\":\"$:/language/codemirror/theme/info\",\"text\":\"Choose between ~CodeMirror themes\"},\"$:/plugins/tiddlywiki/codemirror/edit-codemirror.js\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/edit-codemirror.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/tiddlywiki/codemirror/edit-codemirror.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nEdit-codemirror widget\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar editTextWidgetFactory = require(\\\"$:/core/modules/editor/factory.js\\\").editTextWidgetFactory,\\n\\tCodeMirrorEngine = require(\\\"$:/plugins/tiddlywiki/codemirror/engine.js\\\").CodeMirrorEngine;\\n\\nexports[\\\"edit-codemirror\\\"] = editTextWidgetFactory(CodeMirrorEngine,CodeMirrorEngine);\\n\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"},\"$:/plugins/tiddlywiki/codemirror/engine.js\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/engine.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/tiddlywiki/codemirror/engine.js\\ntype: application/javascript\\nmodule-type: library\\n\\nText editor engine based on a CodeMirror instance\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false */\\n\\\"use strict\\\";\\n\\nvar CODEMIRROR_OPTIONS = \\\"$:/config/CodeMirror\\\",\\nHEIGHT_VALUE_TITLE = \\\"$:/config/TextEditor/EditorHeight/Height\\\",\\nCONFIG_FILTER = \\\"[all[shadows+tiddlers]prefix[$:/config/codemirror/]]\\\"\\n\\t\\n// Install CodeMirror\\nif($tw.browser && !window.CodeMirror) {\\n\\n\\tvar modules = $tw.modules.types[\\\"codemirror\\\"];\\n\\tvar req = Object.getOwnPropertyNames(modules);\\n\\n\\twindow.CodeMirror = require(\\\"$:/plugins/tiddlywiki/codemirror/lib/codemirror.js\\\");\\n\\t// Install required CodeMirror plugins\\n\\tif(req) {\\n\\t\\tif($tw.utils.isArray(req)) {\\n\\t\\t\\tfor(var index=0; index\u003Creq.length; index++) {\\n\\t\\t\\t\\trequire(req[index]);\\n\\t\\t\\t}\\n\\t\\t} else {\\n\\t\\t\\trequire(req);\\n\\t\\t}\\n\\t}\\n}\\n\\nfunction getCmConfig() {\\n\\tvar type,\\n\\t\\ttest,\\n\\t\\tvalue,\\n\\t\\telement,\\n\\t\\textend,\\n\\t\\ttiddler,\\n\\t\\tconfig = {},\\n\\t\\tconfigTiddlers = $tw.wiki.filterTiddlers(CONFIG_FILTER);\\n\\n\\tif ($tw.utils.isArray(configTiddlers)) {\\n\\t\\tfor (var i=0; i\u003CconfigTiddlers.length; i++) {\\n\\t\\t\\ttiddler = $tw.wiki.getTiddler(configTiddlers[i]);\\n\\t\\t\\t\\tif (tiddler) {\\n\\t\\t\\t\\telement = configTiddlers[i].replace(/\\\\$:\\\\/config\\\\/codemirror\\\\//ig,\\\"\\\");\\n\\t\\t\\t\\t\\ttype = (tiddler.fields.type) ? tiddler.fields.type.trim().toLocaleLowerCase() : \\\"string\\\";\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\t\\tcase \\\"bool\\\":\\n\\t\\t\\t\\t\\ttest = tiddler.fields.text.trim().toLowerCase();\\n\\t\\t\\t\\t\\tvalue = (test === \\\"true\\\") ? true : false;\\n\\t\\t\\t\\t\\tconfig[element] = value;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"string\\\":\\n\\t\\t\\t\\t\\tvalue = tiddler.fields.text.trim();\\n\\t\\t\\t\\t\\tconfig[element] = value;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"integer\\\":\\n\\t\\t\\t\\t\\tvalue = parseInt(tiddler.fields.text.trim(), 10);\\n\\t\\t\\t\\t\\tconfig[element] = value;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase \\\"json\\\":\\n\\t\\t\\t\\t\\tvalue = JSON.parse(tiddler.fields.text.trim());\\n\\t\\t\\t\\t\\t\\textend = (tiddler.fields.extend) ? tiddler.fields.extend : element;\\n\\n\\t\\t\\t\\t\\tif (config[extend]) {\\n\\t\\t\\t\\t\\t\\t$tw.utils.extend(config[extend], value);\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tconfig[extend] = value;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\treturn config;\\n}\\n\\nfunction CodeMirrorEngine(options) {\\n\\n\\t// Save our options\\n\\tvar self = this;\\n\\toptions = options || {};\\n\\tthis.widget = options.widget;\\n\\tthis.value = options.value;\\n\\tthis.parentNode = options.parentNode;\\n\\tthis.nextSibling = options.nextSibling;\\n\\t// Create the wrapper DIV\\n\\tthis.domNode = this.widget.document.createElement(\\\"div\\\");\\n\\tif(this.widget.editClass) {\\n\\t\\tthis.domNode.className = this.widget.editClass;\\n\\t}\\n\\tthis.domNode.style.display = \\\"inline-block\\\";\\n\\tthis.parentNode.insertBefore(this.domNode,this.nextSibling);\\n\\tthis.widget.domNodes.push(this.domNode);\\n\\t\\n\\t// Set all cm-plugin defaults\\n\\t// Get the configuration options for the CodeMirror object\\n\\tvar config = getCmConfig();\\n\\n\\tconfig.mode = options.type;\\n\\tconfig.value = options.value;\\n\\tif(this.widget.editTabIndex) {\\n\\t\\tconfig[\\\"tabindex\\\"] = this.widget.editTabIndex;\\n\\t}\\n\\tconfig.editWidget = this.widget;\\n\\t// Create the CodeMirror instance\\n\\tthis.cm = window.CodeMirror(function(cmDomNode) {\\n\\t\\t// Note that this is a synchronous callback that is called before the constructor returns\\n\\t\\tif(!self.widget.document.isTiddlyWikiFakeDom) {\\n\\t\\t\\tself.domNode.appendChild(cmDomNode);\\n\\t\\t}\\n\\t},config);\\n\\n\\t// Set up a change event handler\\n\\tthis.cm.on(\\\"change\\\",function() {\\n\\t\\tself.widget.saveChanges(self.getText());\\n\\t\\tif(self.widget.editInputActions) {\\n\\t\\t\\tself.widget.invokeActionString(self.widget.editInputActions,this,event,{actionValue: this.getText()});\\n\\t\\t}\\n\\t});\\n\\t\\n\\tthis.cm.on(\\\"drop\\\",function(cm,event) {\\n\\t\\tif(!self.widget.isFileDropEnabled) {\\n\\t\\t\\tevent.stopPropagation(); // Otherwise TW's dropzone widget sees the drop event\\n\\t\\t}\\n\\t\\t// Detect if Chrome has added a pseudo File object to the dataTransfer\\n\\t\\tif(!$tw.utils.dragEventContainsFiles(event) && event.dataTransfer.files.length) {\\n\\t\\t\\t//Make codemirror ignore the event as we will handle the drop ourselves\\n\\t\\t\\tevent.codemirrorIgnore = true;\\n\\t\\t\\tevent.preventDefault();\\n\\n\\t\\t\\t// from https://github.com/codemirror/CodeMirror/blob/master/src/measurement/position_measurement.js#L673\\n\\t\\t\\tfunction posFromMouse(cm, e, liberal, forRect) {\\n\\t\\t\\t\\tlet display = cm.display\\n\\t\\t\\t\\tif (!liberal && e_target(e).getAttribute(\\\"cm-not-content\\\") == \\\"true\\\") return null\\n\\n\\t\\t\\t\\tlet x, y, space = display.lineSpace.getBoundingClientRect()\\n\\t\\t\\t\\t// Fails unpredictably on IE[67] when mouse is dragged around quickly.\\n\\t\\t\\t\\ttry { x = e.clientX - space.left; y = e.clientY - space.top }\\n\\t\\t\\t\\tcatch (e) { return null }\\n\\t\\t\\t\\tlet coords = cm.coordsChar(cm, x, y), line\\n\\t\\t\\t\\tif (forRect && coords.xRel > 0 && (line = cm.getLine(cm.doc, coords.line).text).length == coords.ch) {\\n\\t\\t\\t\\t\\tlet colDiff = window.CodeMirror.countColumn(line, line.length, cm.options.tabSize) - line.length\\n\\t\\t\\t\\t\\tcoords = window.CodeMirror.Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn coords\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar pos = posFromMouse(cm,event,true);\\n\\t\\t\\tif(!pos || cm.isReadOnly()) {\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\t// Don't do a replace if the drop happened inside of the selected text.\\n\\t\\t\\tif (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\\n\\t\\t\\t\\tcm.state.draggingText(event);\\n\\t\\t\\t\\t// Ensure the editor is re-focused\\n\\t\\t\\t\\tsetTimeout(() => cm.display.input.focus(), 20);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tvar text = event.dataTransfer.getData(\\\"Text\\\");\\n\\t\\t\\t\\tif (text) {\\n\\t\\t\\t\\t\\tvar selected;\\n\\t\\t\\t\\t\\tif (cm.state.draggingText && !cm.state.draggingText.copy) {\\n\\t\\t\\t\\t\\t\\tselected = cm.listSelections();\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tcm.setCursor(cm.coordsChar({left:event.pageX,top:event.pageY}));\\n\\t\\t\\t\\t\\tif (selected) {\\n\\t\\t\\t\\t\\t \\tfor (var i = 0; i \u003C selected.length; ++i) {\\n\\t\\t\\t\\t\\t\\t\\treplaceRange(cm.doc, \\\"\\\", selected[i].anchor, selected[i].head, \\\"drag\\\");\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tcm.replaceSelection(text, \\\"around\\\", \\\"paste\\\");\\n\\t\\t\\t\\t\\tcm.display.input.focus();\\n\\t\\t\\t  }\\n\\t\\t\\t}\\n\\t\\t\\tcatch(e){}\\n\\t\\t}\\n\\t\\treturn false;\\n\\t});\\n\\tthis.cm.on(\\\"keydown\\\",function(cm,event) {\\n\\t\\tif ($tw.keyboardManager.handleKeydownEvent(event, {onlyPriority: true})) {\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t\\n\\t\\treturn self.widget.handleKeydownEvent.call(self.widget,event);\\n\\t});\\n\\tthis.cm.on(\\\"focus\\\",function(cm,event) {\\n\\t\\tif(self.widget.editCancelPopups) {\\n\\t\\t\\t$tw.popup.cancel(0);\\t\\n\\t\\t}\\n\\t});\\n\\t// Add drag and drop event listeners if fileDrop is enabled\\n\\tif(this.widget.isFileDropEnabled) {\\n\\t\\t// If the drag event contains Files, prevent the default CodeMirror handling\\n\\t\\tthis.cm.on(\\\"dragenter\\\",function(cm,event) {\\n\\t\\t\\tif($tw.utils.dragEventContainsFiles(event)) {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t});\\n\\t\\tthis.cm.on(\\\"dragleave\\\",function(cm,event) {\\n\\t\\t\\tevent.preventDefault();\\n\\t\\t});\\n\\t\\tthis.cm.on(\\\"dragover\\\",function(cm,event) {\\n\\t\\t\\tif($tw.utils.dragEventContainsFiles(event)) {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\tthis.cm.on(\\\"drop\\\",function(cm,event) {\\n\\t\\t\\tif($tw.utils.dragEventContainsFiles(event)) {\\n\\t\\t\\t\\tevent.preventDefault();\\n\\t\\t\\t}\\n\\t\\t});\\n\\t\\tthis.cm.on(\\\"paste\\\",function(cm,event) {\\n\\t\\t\\tself.widget.handlePasteEvent.call(self.widget,event);\\n\\t\\t});\\n\\t}\\n}\\n\\n/*\\nSet the text of the engine if it doesn't currently have focus\\n*/\\nCodeMirrorEngine.prototype.setText = function(text,type) {\\n\\tvar self = this;\\n\\tself.cm.setOption(\\\"mode\\\",type);\\n\\tif(!this.cm.hasFocus()) {\\n\\t\\tthis.updateDomNodeText(text);\\n\\t}\\n};\\n\\n/*\\nUpdate the DomNode with the new text\\n*/\\nCodeMirrorEngine.prototype.updateDomNodeText = function(text) {\\n\\tthis.cm.setValue(text);\\n};\\n\\n/*\\nGet the text of the engine\\n*/\\nCodeMirrorEngine.prototype.getText = function() {\\n\\treturn this.cm.getValue();\\n};\\n\\n/*\\nFix the height of textarea to fit content\\n*/\\nCodeMirrorEngine.prototype.fixHeight = function() {\\n\\tif(this.widget.editAutoHeight) {\\n\\t\\t// Resize to fit\\n\\t\\tthis.cm.setSize(null,null);\\n\\t} else {\\n\\t\\tvar fixedHeight = parseInt(this.widget.wiki.getTiddlerText(HEIGHT_VALUE_TITLE,\\\"400px\\\"),10);\\n\\t\\tfixedHeight = Math.max(fixedHeight,20);\\n\\t\\tthis.cm.setSize(null,fixedHeight);\\n\\t}\\n};\\n\\n/*\\nFocus the engine node\\n*/\\nCodeMirrorEngine.prototype.focus  = function() {\\n\\tthis.cm.focus();\\n}\\n\\n/*\\nCreate a blank structure representing a text operation\\n*/\\nCodeMirrorEngine.prototype.createTextOperation = function() {\\n\\tvar selections = this.cm.listSelections();\\n\\tif(selections.length > 0) {\\n\\t\\tvar anchorPos = this.cm.indexFromPos(selections[0].anchor),\\n\\t\\theadPos = this.cm.indexFromPos(selections[0].head);\\n\\t}\\n\\tvar operation = {\\n\\t\\ttext: this.cm.getValue(),\\n\\t\\tselStart: Math.min(anchorPos,headPos),\\n\\t\\tselEnd: Math.max(anchorPos,headPos),\\n\\t\\tcutStart: null,\\n\\t\\tcutEnd: null,\\n\\t\\treplacement: null,\\n\\t\\tnewSelStart: null,\\n\\t\\tnewSelEnd: null\\n\\t};\\n\\toperation.selection = operation.text.substring(operation.selStart,operation.selEnd);\\n\\treturn operation;\\n};\\n\\n/*\\nExecute a text operation\\n*/\\nCodeMirrorEngine.prototype.executeTextOperation = function(operation) {\\n\\t// Perform the required changes to the text area and the underlying tiddler\\n\\tvar newText = operation.text;\\n\\tif(operation.replacement !== null) {\\n\\t\\tthis.cm.replaceRange(operation.replacement,this.cm.posFromIndex(operation.cutStart),this.cm.posFromIndex(operation.cutEnd));\\n\\t\\tthis.cm.setSelection(this.cm.posFromIndex(operation.newSelStart),this.cm.posFromIndex(operation.newSelEnd));\\n\\t\\tnewText = operation.text.substring(0,operation.cutStart) + operation.replacement + operation.text.substring(operation.cutEnd);\\n\\t}\\n\\tthis.cm.focus();\\n\\treturn newText;\\n};\\n\\nexports.CodeMirrorEngine = $tw.browser ? CodeMirrorEngine : require(\\\"$:/core/modules/editor/engines/simple.js\\\").SimpleEngine;\\n\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/tiddlywiki/codemirror/lib/codemirror.js\":{\"text\":\"!function(e,t){\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module?module.exports=t():\\\"function\\\"==typeof define&&define.amd?define(t):(e=e||self).CodeMirror=t()}(this,function(){\\\"use strict\\\";var e=navigator.userAgent,t=navigator.platform,d=/gecko\\\\/\\\\d/i.test(e),n=/MSIE \\\\d/.test(e),r=/Trident\\\\/(?:[7-9]|\\\\d{2,})\\\\..*rv:(\\\\d+)/.exec(e),i=/Edge\\\\/(\\\\d+)/.exec(e),w=n||r||i,v=w&&(n?document.documentMode||6:+(i||r)[1]),f=!i&&/WebKit\\\\//.test(e),r=f&&/Qt\\\\/\\\\d+\\\\.\\\\d+/.test(e),o=!i&&/Chrome\\\\//.test(e),p=/Opera\\\\//.test(e),c=/Apple Computer/.test(navigator.vendor),l=/Mac OS X 1\\\\d\\\\D([8-9]|\\\\d\\\\d)\\\\D/.test(e),u=/PhantomJS/.test(e),s=!i&&/AppleWebKit/.test(e)&&/Mobile\\\\/\\\\w+/.test(e),a=/Android/.test(e),h=s||a||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),g=s||/Mac/.test(t),m=/\\\\bCrOS\\\\b/.test(e),y=/win/i.test(t),e=p&&e.match(/Version\\\\/(\\\\d*\\\\.\\\\d*)/);(e=e&&Number(e[1]))&&15\u003C=e&&(f=!(p=!1));var b=g&&(r||p&&(null==e||e\u003C12.11)),x=d||w&&9\u003C=v;function C(e){return new RegExp(\\\"(^|\\\\\\\\s)\\\"+e+\\\"(?:$|\\\\\\\\s)\\\\\\\\s*\\\")}var S,L=function(e,t){var n=e.className,r=C(t).exec(n);r&&(t=n.slice(r.index+r[0].length),e.className=n.slice(0,r.index)+(t?r[1]+t:\\\"\\\"))};function k(e){for(var t=e.childNodes.length;0\u003Ct;--t)e.removeChild(e.firstChild);return e}function T(e,t){return k(e).appendChild(t)}function M(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),\\\"string\\\"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o\u003Ct.length;++o)i.appendChild(t[o]);return i}function N(e,t,n,r){r=M(e,t,n,r);return r.setAttribute(\\\"role\\\",\\\"presentation\\\"),r}function A(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function O(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function D(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?\\\" \\\":\\\"\\\")+t)}function W(e,t){for(var n=e.split(\\\" \\\"),r=0;r\u003Cn.length;r++)n[r]&&!C(n[r]).test(t)&&(t+=\\\" \\\"+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd(\\\"character\\\",n),r.moveStart(\\\"character\\\",t),r};var H=function(e){e.select()};function F(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function E(e,t,n){for(var r in t=t||{},e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function P(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\\\\s\\\\u00a0]/))&&(t=e.length);for(var o=r||0,l=i||0;;){var s=e.indexOf(\\\"\\\\t\\\",o);if(s\u003C0||t\u003C=s)return l+(t-o);l+=s-o,l+=n-l%n,o=s+1}}s?H=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:w&&(H=function(e){try{e.select()}catch(e){}});var I=function(){this.id=null,this.f=null,this.time=0,this.handler=F(this.onTimeout,this)};function R(e,t){for(var n=0;n\u003Ce.length;++n)if(e[n]==t)return n;return-1}I.prototype.onTimeout=function(e){e.id=0,e.time\u003C=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},I.prototype.set=function(e,t){this.f=t;t=+new Date+e;(!this.id||t\u003Cthis.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=t)};var z=50,B={toString:function(){return\\\"CodeMirror.Pass\\\"}},G={scroll:!1},U={origin:\\\"*mouse\\\"},V={origin:\\\"+move\\\"};function K(e,t,n){for(var r=0,i=0;;){var o=e.indexOf(\\\"\\\\t\\\",r);-1==o&&(o=e.length);var l=o-r;if(o==e.length||t\u003C=i+l)return r+Math.min(l,t-i);if(i+=o-r,r=o+1,t\u003C=(i+=n-i%n))return r}}var j=[\\\"\\\"];function X(e){for(;j.length\u003C=e;)j.push(Y(j)+\\\" \\\");return j[e]}function Y(e){return e[e.length-1]}function _(e,t){for(var n=[],r=0;r\u003Ce.length;r++)n[r]=t(e[r],r);return n}function $(){}function q(e,t){e=Object.create?Object.create(e):($.prototype=e,new $);return t&&E(t,e),e}var Z=/[\\\\u00df\\\\u0587\\\\u0590-\\\\u05f4\\\\u0600-\\\\u06ff\\\\u3040-\\\\u309f\\\\u30a0-\\\\u30ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\uac00-\\\\ud7af]/;function Q(e){return/\\\\w/.test(e)||\\\"\\\"\u003Ce&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function J(e,t){return t?!!(-1\u003Ct.source.indexOf(\\\"\\\\\\\\w\\\")&&Q(e))||t.test(e):Q(e)}function ee(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}var te=/[\\\\u0300-\\\\u036f\\\\u0483-\\\\u0489\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u064b-\\\\u065e\\\\u0670\\\\u06d6-\\\\u06dc\\\\u06de-\\\\u06e4\\\\u06e7\\\\u06e8\\\\u06ea-\\\\u06ed\\\\u0711\\\\u0730-\\\\u074a\\\\u07a6-\\\\u07b0\\\\u07eb-\\\\u07f3\\\\u0816-\\\\u0819\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0900-\\\\u0902\\\\u093c\\\\u0941-\\\\u0948\\\\u094d\\\\u0951-\\\\u0955\\\\u0962\\\\u0963\\\\u0981\\\\u09bc\\\\u09be\\\\u09c1-\\\\u09c4\\\\u09cd\\\\u09d7\\\\u09e2\\\\u09e3\\\\u0a01\\\\u0a02\\\\u0a3c\\\\u0a41\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a70\\\\u0a71\\\\u0a75\\\\u0a81\\\\u0a82\\\\u0abc\\\\u0ac1-\\\\u0ac5\\\\u0ac7\\\\u0ac8\\\\u0acd\\\\u0ae2\\\\u0ae3\\\\u0b01\\\\u0b3c\\\\u0b3e\\\\u0b3f\\\\u0b41-\\\\u0b44\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b62\\\\u0b63\\\\u0b82\\\\u0bbe\\\\u0bc0\\\\u0bcd\\\\u0bd7\\\\u0c3e-\\\\u0c40\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62\\\\u0c63\\\\u0cbc\\\\u0cbf\\\\u0cc2\\\\u0cc6\\\\u0ccc\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2\\\\u0ce3\\\\u0d3e\\\\u0d41-\\\\u0d44\\\\u0d4d\\\\u0d57\\\\u0d62\\\\u0d63\\\\u0dca\\\\u0dcf\\\\u0dd2-\\\\u0dd4\\\\u0dd6\\\\u0ddf\\\\u0e31\\\\u0e34-\\\\u0e3a\\\\u0e47-\\\\u0e4e\\\\u0eb1\\\\u0eb4-\\\\u0eb9\\\\u0ebb\\\\u0ebc\\\\u0ec8-\\\\u0ecd\\\\u0f18\\\\u0f19\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f71-\\\\u0f7e\\\\u0f80-\\\\u0f84\\\\u0f86\\\\u0f87\\\\u0f90-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u102d-\\\\u1030\\\\u1032-\\\\u1037\\\\u1039\\\\u103a\\\\u103d\\\\u103e\\\\u1058\\\\u1059\\\\u105e-\\\\u1060\\\\u1071-\\\\u1074\\\\u1082\\\\u1085\\\\u1086\\\\u108d\\\\u109d\\\\u135f\\\\u1712-\\\\u1714\\\\u1732-\\\\u1734\\\\u1752\\\\u1753\\\\u1772\\\\u1773\\\\u17b7-\\\\u17bd\\\\u17c6\\\\u17c9-\\\\u17d3\\\\u17dd\\\\u180b-\\\\u180d\\\\u18a9\\\\u1920-\\\\u1922\\\\u1927\\\\u1928\\\\u1932\\\\u1939-\\\\u193b\\\\u1a17\\\\u1a18\\\\u1a56\\\\u1a58-\\\\u1a5e\\\\u1a60\\\\u1a62\\\\u1a65-\\\\u1a6c\\\\u1a73-\\\\u1a7c\\\\u1a7f\\\\u1b00-\\\\u1b03\\\\u1b34\\\\u1b36-\\\\u1b3a\\\\u1b3c\\\\u1b42\\\\u1b6b-\\\\u1b73\\\\u1b80\\\\u1b81\\\\u1ba2-\\\\u1ba5\\\\u1ba8\\\\u1ba9\\\\u1c2c-\\\\u1c33\\\\u1c36\\\\u1c37\\\\u1cd0-\\\\u1cd2\\\\u1cd4-\\\\u1ce0\\\\u1ce2-\\\\u1ce8\\\\u1ced\\\\u1dc0-\\\\u1de6\\\\u1dfd-\\\\u1dff\\\\u200c\\\\u200d\\\\u20d0-\\\\u20f0\\\\u2cef-\\\\u2cf1\\\\u2de0-\\\\u2dff\\\\u302a-\\\\u302f\\\\u3099\\\\u309a\\\\ua66f-\\\\ua672\\\\ua67c\\\\ua67d\\\\ua6f0\\\\ua6f1\\\\ua802\\\\ua806\\\\ua80b\\\\ua825\\\\ua826\\\\ua8c4\\\\ua8e0-\\\\ua8f1\\\\ua926-\\\\ua92d\\\\ua947-\\\\ua951\\\\ua980-\\\\ua982\\\\ua9b3\\\\ua9b6-\\\\ua9b9\\\\ua9bc\\\\uaa29-\\\\uaa2e\\\\uaa31\\\\uaa32\\\\uaa35\\\\uaa36\\\\uaa43\\\\uaa4c\\\\uaab0\\\\uaab2-\\\\uaab4\\\\uaab7\\\\uaab8\\\\uaabe\\\\uaabf\\\\uaac1\\\\uabe5\\\\uabe8\\\\uabed\\\\udc00-\\\\udfff\\\\ufb1e\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\uff9e\\\\uff9f]/;function ne(e){return 768\u003C=e.charCodeAt(0)&&te.test(e)}function re(e,t,n){for(;(n\u003C0?0\u003Ct:t\u003Ce.length)&&ne(e.charAt(t));)t+=n;return t}function ie(e,t,n){for(var r=n\u003Ct?-1:1;;){if(t==n)return t;var i=(t+n)/2,i=r\u003C0?Math.ceil(i):Math.floor(i);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}var oe=null;function le(e,t,n){var r;oe=null;for(var i=0;i\u003Ce.length;++i){var o=e[i];if(o.from\u003Ct&&o.to>t)return i;o.to==t&&(o.from!=o.to&&\\\"before\\\"==n?r=i:oe=i),o.from==t&&(o.from!=o.to&&\\\"before\\\"!=n?r=i:oe=i)}return null!=r?r:oe}var se,ae,ue,ce,he,de,fe,pe=(se=\\\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\\\",ae=\\\"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\\\",ue=/[\\\\u0590-\\\\u05f4\\\\u0600-\\\\u06ff\\\\u0700-\\\\u08ac]/,ce=/[stwN]/,he=/[LRr]/,de=/[Lb1n]/,fe=/[1n]/,function(e,t){var n=\\\"ltr\\\"==t?\\\"L\\\":\\\"R\\\";if(0==e.length||\\\"ltr\\\"==t&&!ue.test(e))return!1;for(var r,i=e.length,o=[],l=0;l\u003Ci;++l)o.push((r=e.charCodeAt(l))\u003C=247?se.charAt(r):1424\u003C=r&&r\u003C=1524?\\\"R\\\":1536\u003C=r&&r\u003C=1785?ae.charAt(r-1536):1774\u003C=r&&r\u003C=2220?\\\"r\\\":8192\u003C=r&&r\u003C=8203?\\\"w\\\":8204==r?\\\"b\\\":\\\"L\\\");for(var s=0,a=n;s\u003Ci;++s){var u=o[s];\\\"m\\\"==u?o[s]=a:a=u}for(var c=0,h=n;c\u003Ci;++c){var d=o[c];\\\"1\\\"==d&&\\\"r\\\"==h?o[c]=\\\"n\\\":he.test(d)&&\\\"r\\\"==(h=d)&&(o[c]=\\\"R\\\")}for(var f=1,p=o[0];f\u003Ci-1;++f){var g=o[f];\\\"+\\\"==g&&\\\"1\\\"==p&&\\\"1\\\"==o[f+1]?o[f]=\\\"1\\\":\\\",\\\"!=g||p!=o[f+1]||\\\"1\\\"!=p&&\\\"n\\\"!=p||(o[f]=p),p=g}for(var m=0;m\u003Ci;++m){var v=o[m];if(\\\",\\\"==v)o[m]=\\\"N\\\";else if(\\\"%\\\"==v){for(var y=void 0,y=m+1;y\u003Ci&&\\\"%\\\"==o[y];++y);for(var b=m&&\\\"!\\\"==o[m-1]||y\u003Ci&&\\\"1\\\"==o[y]?\\\"1\\\":\\\"N\\\",w=m;w\u003Cy;++w)o[w]=b;m=y-1}}for(var x=0,C=n;x\u003Ci;++x){var S=o[x];\\\"L\\\"==C&&\\\"1\\\"==S?o[x]=\\\"L\\\":he.test(S)&&(C=S)}for(var L=0;L\u003Ci;++L)if(ce.test(o[L])){for(var k=void 0,k=L+1;k\u003Ci&&ce.test(o[k]);++k);for(var T=\\\"L\\\"==(L?o[L-1]:n),M=T==(\\\"L\\\"==(k\u003Ci?o[k]:n))?T?\\\"L\\\":\\\"R\\\":n,N=L;N\u003Ck;++N)o[N]=M;L=k-1}for(var A,O=[],D=0;D\u003Ci;)if(de.test(o[D])){var W=D;for(++D;D\u003Ci&&de.test(o[D]);++D);O.push(new ge(0,W,D))}else{var H=D,F=O.length,E=\\\"rtl\\\"==t?1:0;for(++D;D\u003Ci&&\\\"L\\\"!=o[D];++D);for(var P=H;P\u003CD;)if(fe.test(o[P])){H\u003CP&&(O.splice(F,0,new ge(1,H,P)),F+=E);var I=P;for(++P;P\u003CD&&fe.test(o[P]);++P);O.splice(F,0,new ge(2,I,P)),F+=E,H=P}else++P;H\u003CD&&O.splice(F,0,new ge(1,H,D))}return\\\"ltr\\\"==t&&(1==O[0].level&&(A=e.match(/^\\\\s+/))&&(O[0].from=A[0].length,O.unshift(new ge(0,0,A[0].length))),1==Y(O).level&&(A=e.match(/\\\\s+$/))&&(Y(O).to-=A[0].length,O.push(new ge(0,i-A[0].length,i)))),\\\"rtl\\\"==t?O.reverse():O});function ge(e,t,n){this.level=e,this.from=t,this.to=n}function me(e,t){var n=e.order;return null==n&&(n=e.order=pe(e.text,t)),n}var ve=[],ye=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(\\\"on\\\"+t,n):(e=e._handlers||(e._handlers={}))[t]=(e[t]||ve).concat(n)};function be(e,t){return e._handlers&&e._handlers[t]||ve}function we(e,t,n){var r;e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(\\\"on\\\"+t,n):!(e=(r=e._handlers)&&r[t])||-1\u003C(n=R(e,n))&&(r[t]=e.slice(0,n).concat(e.slice(n+1)))}function xe(e,t){var n=be(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i\u003Cn.length;++i)n[i].apply(null,r)}function Ce(e,t,n){return\\\"string\\\"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),xe(e,n||t.type,e,t),Ne(t)||t.codemirrorIgnore}function Se(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r\u003Ct.length;++r)-1==R(n,t[r])&&n.push(t[r])}function Le(e,t){return 0\u003Cbe(e,t).length}function ke(e){e.prototype.on=function(e,t){ye(this,e,t)},e.prototype.off=function(e,t){we(this,e,t)}}function Te(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Me(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ne(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ae(e){Te(e),Me(e)}function Oe(e){return e.target||e.srcElement}function De(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),g&&e.ctrlKey&&1==t&&(t=3),t}var We,He,Fe=function(){if(w&&v\u003C9)return!1;var e=M(\\\"div\\\");return\\\"draggable\\\"in e||\\\"dragDrop\\\"in e}();var Ee=3!=\\\"\\\\n\\\\nb\\\".split(/\\\\n/).length?function(e){for(var t=0,n=[],r=e.length;t\u003C=r;){var i=e.indexOf(\\\"\\\\n\\\",t);-1==i&&(i=e.length);var o=e.slice(t,\\\"\\\\r\\\"==e.charAt(i-1)?i-1:i),l=o.indexOf(\\\"\\\\r\\\");-1!=l?(n.push(o.slice(0,l)),t+=l+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\\\\r\\\\n?|\\\\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints(\\\"StartToEnd\\\",t)},Ie=\\\"oncopy\\\"in(r=M(\\\"div\\\"))||(r.setAttribute(\\\"oncopy\\\",\\\"return;\\\"),\\\"function\\\"==typeof r.oncopy),Re=null;var ze={},Be={};function Ge(e){if(\\\"string\\\"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&\\\"string\\\"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];\\\"string\\\"==typeof t&&(t={name:t}),(e=q(t,e)).name=t.name}else{if(\\\"string\\\"==typeof e&&/^[\\\\w\\\\-]+\\\\/[\\\\w\\\\-]+\\\\+xml$/.test(e))return Ge(\\\"application/xml\\\");if(\\\"string\\\"==typeof e&&/^[\\\\w\\\\-]+\\\\/[\\\\w\\\\-]+\\\\+json$/.test(e))return Ge(\\\"application/json\\\")}return\\\"string\\\"==typeof e?{name:e}:e||{name:\\\"null\\\"}}function Ue(e,t){t=Ge(t);var n=ze[t.name];if(!n)return Ue(e,\\\"text/plain\\\");var r=n(e,t);if(Ve.hasOwnProperty(t.name)){var i,o=Ve[t.name];for(i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r[\\\"_\\\"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)r[l]=t.modeProps[l];return r}var Ve={};function Ke(e,t){E(t,Ve.hasOwnProperty(e)?Ve[e]:Ve[e]={})}function je(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n,r={};for(n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Xe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var _e=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function $e(e,t){if((t-=e.first)\u003C0||t>=e.size)throw new Error(\\\"There is no line \\\"+(t+e.first)+\\\" in the document.\\\");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t\u003Co){n=i;break}t-=o}return n.lines[t]}function qe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){e=e.text;i==n.line&&(e=e.slice(0,n.ch)),i==t.line&&(e=e.slice(t.ch)),r.push(e),++i}),r}function Ze(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Je(e){if(null==e.parent)return null;for(var t=e.parent,n=R(t.lines,e),r=t.parent;r;r=(t=r).parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function et(e,t){var n=e.first;e:do{for(var r=0;r\u003Ce.children.length;++r){var i=e.children[r],o=i.height;if(t\u003Co){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var l=0;l\u003Ce.lines.length;++l){var s=e.lines[l].height;if(t\u003Cs)break;t-=s}return n+l}function tt(e,t){return t>=e.first&&t\u003Ce.first+e.size}function nt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function rt(e,t,n){if(void 0===n&&(n=null),!(this instanceof rt))return new rt(e,t,n);this.line=e,this.ch=t,this.sticky=n}function it(e,t){return e.line-t.line||e.ch-t.ch}function ot(e,t){return e.sticky==t.sticky&&0==it(e,t)}function lt(e){return rt(e.line,e.ch)}function st(e,t){return it(e,t)\u003C0?t:e}function at(e,t){return it(e,t)\u003C0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ct(e,t){if(t.line\u003Ce.first)return rt(e.first,0);var n=e.first+e.size-1;return t.line>n?rt(n,$e(e,n).text.length):(e=$e(e,(n=t).line).text.length,null==(t=n.ch)||e\u003Ct?rt(n.line,e):t\u003C0?rt(n.line,0):n)}function ht(e,t){for(var n=[],r=0;r\u003Ct.length;r++)n[r]=ct(e,t[r]);return n}_e.prototype.eol=function(){return this.pos>=this.string.length},_e.prototype.sol=function(){return this.pos==this.lineStart},_e.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},_e.prototype.next=function(){if(this.pos\u003Cthis.string.length)return this.string.charAt(this.pos++)},_e.prototype.eat=function(e){var t=this.string.charAt(this.pos),e=\\\"string\\\"==typeof e?t==e:t&&(e.test?e.test(t):e(t));if(e)return++this.pos,t},_e.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},_e.prototype.eatSpace=function(){for(var e=this.pos;/[\\\\s\\\\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},_e.prototype.skipToEnd=function(){this.pos=this.string.length},_e.prototype.skipTo=function(e){e=this.string.indexOf(e,this.pos);if(-1\u003Ce)return this.pos=e,!0},_e.prototype.backUp=function(e){this.pos-=e},_e.prototype.column=function(){return this.lastColumnPos\u003Cthis.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},_e.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},_e.prototype.match=function(e,t,n){if(\\\"string\\\"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&0\u003Cr.index?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},_e.prototype.current=function(){return this.string.slice(this.start,this.pos)},_e.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},_e.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},_e.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var dt=function(e,t){this.state=e,this.lookAhead=t},ft=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function pt(t,n,r,e){var a=[t.state.modeGen],i={};St(t,n.text,t.doc.mode,r,function(e,t){return a.push(e,t)},i,e);for(var u=r.state,o=0;o\u003Ct.state.overlays.length;++o)!function(e){r.baseTokens=a;var o=t.state.overlays[e],l=1,s=0;r.state=!0,St(t,n.text,o.mode,r,function(e,t){for(var n=l;s\u003Ce;){var r=a[l];e\u003Cr&&a.splice(l,1,e,a[l+1],r),l+=2,s=Math.min(e,r)}if(t)if(o.opaque)a.splice(n,l-n,e,\\\"overlay \\\"+t),l=n+2;else for(;n\u003Cl;n+=2){var i=a[n+1];a[n+1]=(i?i+\\\" \\\":\\\"\\\")+\\\"overlay \\\"+t}},i),r.state=u,r.baseTokens=null,r.baseTokenPos=1}(o);return{styles:a,classes:i.bgClass||i.textClass?i:null}}function gt(e,t,n){var r,i,o;return t.styles&&t.styles[0]==e.state.modeGen||(r=mt(e,Je(t)),i=t.text.length>e.options.maxHighlightLength&&je(e.doc.mode,r.state),o=pt(e,t,r),i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))),t.styles}function mt(n,r,e){var t=n.doc,i=n.display;if(!t.mode.startState)return new ft(t,!0,r);var o=function(e,t,n){for(var r,i,o=e.doc,l=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;l\u003Cs;--s){if(s\u003C=o.first)return o.first;var a=$e(o,s-1),u=a.stateAfter;if(u&&(!n||s+(u instanceof dt?u.lookAhead:0)\u003C=o.modeFrontier))return s;a=P(a.text,null,e.options.tabSize);(null==i||a\u003Cr)&&(i=s-1,r=a)}return i}(n,r,e),l=o>t.first&&$e(t,o-1).stateAfter,s=l?ft.fromSaved(t,l,o):new ft(t,Ye(t.mode),o);return t.iter(o,r,function(e){vt(n,e.text,s);var t=s.line;e.stateAfter=t==r-1||t%5==0||t>=i.viewFrom&&t\u003Ci.viewTo?s.save():null,s.nextLine()}),e&&(t.modeFrontier=s.line),s}function vt(e,t,n,r){var i=e.doc.mode,o=new _e(t,e.options.tabSize,n);for(o.start=o.pos=r||0,\\\"\\\"==t&&yt(i,n.state);!o.eol();)bt(i,o,n.state),o.start=o.pos}function yt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){t=Xe(e,t);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function bt(e,t,n,r){for(var i=0;i\u003C10;i++){r&&(r[0]=Xe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error(\\\"Mode \\\"+e.name+\\\" failed to advance stream.\\\")}ft.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ft.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]\u003C=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,\\\"\\\"),size:this.baseTokens[this.baseTokenPos]-e}},ft.prototype.nextLine=function(){this.line++,0\u003Cthis.maxLookAhead&&this.maxLookAhead--},ft.fromSaved=function(e,t,n){return t instanceof dt?new ft(e,je(e.mode,t.state),n,t.lookAhead):new ft(e,je(e.mode,t),n)},ft.prototype.save=function(e){e=!1!==e?je(this.doc.mode,this.state):this.state;return 0\u003Cthis.maxLookAhead?new dt(e,this.maxLookAhead):e};var wt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function xt(e,t,n,r){var i,o,l=e.doc,s=l.mode,a=$e(l,(t=ct(l,t)).line),u=mt(e,t.line,n),c=new _e(a.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos\u003Ct.ch)&&!c.eol();)c.start=c.pos,i=bt(s,c,u.state),r&&o.push(new wt(c,i,je(l.mode,u.state)));return r?o:new wt(c,i,u.state)}function Ct(e,t){if(e)for(;;){var n=e.match(/(?:^|\\\\s+)line-(background-)?(\\\\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?\\\"bgClass\\\":\\\"textClass\\\";null==t[r]?t[r]=n[2]:new RegExp(\\\"(?:^|\\\\\\\\s)\\\"+n[2]+\\\"(?:$|\\\\\\\\s)\\\").test(t[r])||(t[r]+=\\\" \\\"+n[2])}return e}function St(e,t,n,r,i,o,l){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var a=0,u=null,c=new _e(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(\\\"\\\"==t&&Ct(yt(n,r.state),o);!c.eol();){var d,f=c.pos>e.options.maxHighlightLength?(s=!1,l&&vt(e,t,r,c.pos),c.pos=t.length,null):Ct(bt(n,c,r.state,h),o);if(!h||(d=h[0].name)&&(f=\\\"m-\\\"+(f?d+\\\" \\\"+f:d)),!s||u!=f){for(;a\u003Cc.start;)i(a=Math.min(c.start,a+5e3),u);u=f}c.start=c.pos}for(;a\u003Cc.pos;){var p=Math.min(c.pos,a+5e3);i(p,u),a=p}}var Lt=!1,kt=!1;function Tt(e,t,n){this.marker=e,this.from=t,this.to=n}function Mt(e,t){if(e)for(var n=0;n\u003Ce.length;++n){var r=e[n];if(r.marker==t)return r}}function Nt(e,t){if(t.full)return null;var n=tt(e,t.from.line)&&$e(e,t.from.line).markedSpans,r=tt(e,t.to.line)&&$e(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,e=0==it(t.from,t.to),l=function(e,t,n){var r;if(e)for(var i=0;i\u003Ce.length;++i){var o,l=e[i],s=l.marker;!(null==l.from||(s.inclusiveLeft?l.from\u003C=t:l.from\u003Ct))&&(l.from!=t||\\\"bookmark\\\"!=s.type||n&&l.marker.insertLeft)||(o=null==l.to||(s.inclusiveRight?l.to>=t:l.to>t),(r=r||[]).push(new Tt(s,l.from,o?null:l.to)))}return r}(n,i,e),s=function(e,t,n){var r;if(e)for(var i=0;i\u003Ce.length;++i){var o,l=e[i],s=l.marker;!(null==l.to||(s.inclusiveRight?l.to>=t:l.to>t))&&(l.from!=t||\\\"bookmark\\\"!=s.type||n&&!l.marker.insertLeft)||(o=null==l.from||(s.inclusiveLeft?l.from\u003C=t:l.from\u003Ct),(r=r||[]).push(new Tt(s,o?null:l.from-t,null==l.to?null:l.to-t)))}return r}(r,o,e),a=1==t.text.length,u=Y(t.text).length+(a?i:0);if(l)for(var c=0;c\u003Cl.length;++c){var h,d=l[c];null==d.to&&((h=Mt(s,d.marker))?a&&(d.to=null==h.to?null:h.to+u):d.to=i)}if(s)for(var f=0;f\u003Cs.length;++f){var p=s[f];null!=p.to&&(p.to+=u),null==p.from?Mt(l,p.marker)||(p.from=u,a&&(l=l||[]).push(p)):(p.from+=u,a&&(l=l||[]).push(p))}l=l&&At(l),s&&s!=l&&(s=At(s));var g=[l];if(!a){var m,v=t.text.length-2;if(0\u003Cv&&l)for(var y=0;y\u003Cl.length;++y)null==l[y].to&&(m=m||[]).push(new Tt(l[y].marker,null,null));for(var b=0;b\u003Cv;++b)g.push(m);g.push(s)}return g}function At(e){for(var t=0;t\u003Ce.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ot(e){var t=e.markedSpans;if(t){for(var n=0;n\u003Ct.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Dt(e,t){if(t){for(var n=0;n\u003Ct.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Wt(e){return e.inclusiveLeft?-1:0}function Ht(e){return e.inclusiveRight?1:0}function Ft(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),n=it(r.from,i.from)||Wt(e)-Wt(t);if(n)return-n;i=it(r.to,i.to)||Ht(e)-Ht(t);return i||t.id-e.id}function Et(e,t){var n,r=kt&&e.markedSpans;if(r)for(var i,o=0;o\u003Cr.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ft(n,i.marker)\u003C0)&&(n=i.marker);return n}function Pt(e){return Et(e,!0)}function It(e){return Et(e,!1)}function Rt(e,t,n,r,i){var t=$e(e,t),o=kt&&t.markedSpans;if(o)for(var l=0;l\u003Co.length;++l){var s=o[l];if(s.marker.collapsed){var a=s.marker.find(0),u=it(a.from,n)||Wt(s.marker)-Wt(i),c=it(a.to,r)||Ht(s.marker)-Ht(i);if(!(0\u003C=u&&c\u003C=0||u\u003C=0&&0\u003C=c)&&(u\u003C=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?0\u003C=it(a.to,n):0\u003Cit(a.to,n))||0\u003C=u&&(s.marker.inclusiveRight&&i.inclusiveLeft?it(a.from,r)\u003C=0:it(a.from,r)\u003C0)))return 1}}}function zt(e){for(var t;t=Pt(e);)e=t.find(-1,!0).line;return e}function Bt(e,t){var n=$e(e,t),e=zt(n);return n==e?t:Je(e)}function Gt(e,t){if(t>e.lastLine())return t;var n,r=$e(e,t);if(!Ut(e,r))return t;for(;n=It(r);)r=n.find(1,!0).line;return Je(r)+1}function Ut(e,t){var n=kt&&t.markedSpans;if(n)for(var r,i=0;i\u003Cn.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&function e(t,n,r){if(null==r.to){var i=r.marker.find(1,!0);return e(t,i.line,Mt(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==n.text.length)return!0;for(var o=void 0,l=0;l\u003Cn.markedSpans.length;++l)if((o=n.markedSpans[l]).marker.collapsed&&!o.marker.widgetNode&&o.from==r.to&&(null==o.to||o.to!=r.from)&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&e(t,n,o))return!0}(e,t,r))return!0}}function Vt(e){for(var t=0,n=(e=zt(e)).parent,r=0;r\u003Cn.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var l=0;l\u003Co.children.length;++l){var s=o.children[l];if(s==n)break;t+=s.height}return t}function Kt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Pt(r);){var i=t.find(0,!0),r=i.from.line;n+=i.from.ch-i.to.ch}for(r=e;t=It(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function jt(e){var n=e.display,e=e.doc;n.maxLine=$e(e,e.first),n.maxLineLength=Kt(n.maxLine),n.maxLineChanged=!0,e.iter(function(e){var t=Kt(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}var Xt=function(e,t,n){this.text=e,Dt(this,t),this.height=n?n(this):1};Xt.prototype.lineNo=function(){return Je(this)},ke(Xt);var Yt={},_t={};function $t(e,t){if(!e||/^\\\\s*$/.test(e))return null;t=t.addModeClass?_t:Yt;return t[e]||(t[e]=e.replace(/\\\\S+/g,\\\"cm-$&\\\"))}function qt(e,t){var n=N(\\\"span\\\",null,null,f?\\\"padding-right: .1px\\\":null),r={pre:N(\\\"pre\\\",[n],\\\"CodeMirror-line\\\"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption(\\\"lineWrapping\\\")};t.measure={};for(var i=0;i\u003C=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,l=void 0;r.pos=0,r.addToken=Qt,function(e){if(null!=He)return He;var t=T(e,document.createTextNode(\\\"AخA\\\")),n=S(t,0,1).getBoundingClientRect(),t=S(t,1,2).getBoundingClientRect();return k(e),n&&n.left!=n.right&&(He=t.right-n.right\u003C3)}(e.display.measure)&&(l=me(o,e.doc.direction))&&(r.addToken=function(h,d){return function(e,t,n,r,i,o,l){n=n?n+\\\" cm-force-border\\\":\\\"cm-force-border\\\";for(var s=e.pos,a=s+t.length;;){for(var u=void 0,c=0;c\u003Cd.length&&!((u=d[c]).to>s&&u.from\u003C=s);c++);if(u.to>=a)return h(e,t,n,r,i,o,l);h(e,t.slice(0,u.to-s),n,r,null,o,l),r=null,t=t.slice(u.to-s),s=u.to}}}(r.addToken,l)),r.map=[],function(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(!r){for(var l=1;l\u003Cn.length;l+=2)t.addToken(t,i.slice(o,o=n[l]),$t(n[l+1],t.cm.options));return}for(var s,a,u,c,h,d,f,p=i.length,g=0,m=1,v=\\\"\\\",y=0;;){if(y==g){u=c=h=a=\\\"\\\",d=f=null,y=1/0;for(var b=[],w=void 0,x=0;x\u003Cr.length;++x){var C=r[x],S=C.marker;if(\\\"bookmark\\\"==S.type&&C.from==g&&S.widgetNode)b.push(S);else if(C.from\u003C=g&&(null==C.to||C.to>g||S.collapsed&&C.to==g&&C.from==g)){if(null!=C.to&&C.to!=g&&y>C.to&&(y=C.to,c=\\\"\\\"),S.className&&(u+=\\\" \\\"+S.className),S.css&&(a=(a?a+\\\";\\\":\\\"\\\")+S.css),S.startStyle&&C.from==g&&(h+=\\\" \\\"+S.startStyle),S.endStyle&&C.to==y&&(w=w||[]).push(S.endStyle,C.to),S.title&&((f=f||{}).title=S.title),S.attributes)for(var L in S.attributes)(f=f||{})[L]=S.attributes[L];S.collapsed&&(!d||Ft(d.marker,S)\u003C0)&&(d=C)}else C.from>g&&y>C.from&&(y=C.from)}if(w)for(var k=0;k\u003Cw.length;k+=2)w[k+1]==y&&(c+=\\\" \\\"+w[k]);if(!d||d.from==g)for(var T=0;T\u003Cb.length;++T)Jt(t,0,b[T]);if(d&&(d.from||0)==g){if(Jt(t,(null==d.to?p+1:d.to)-g,d.marker,null==d.from),null==d.to)return;d.to==g&&(d=!1)}}if(p\u003C=g)break;for(var M=Math.min(p,y);;){if(v){var N,A=g+v.length;if(d||(N=M\u003CA?v.slice(0,M-g):v,t.addToken(t,N,s?s+u:u,h,g+N.length==y?c:\\\"\\\",a,f)),M\u003C=A){v=v.slice(M-g),g=M;break}g=A,h=\\\"\\\"}v=i.slice(o,o=n[m++]),s=$t(n[m++],t.cm.options)}}}(o,r,gt(e,o,t!=e.display.externalMeasured&&Je(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=W(o.styleClasses.bgClass,r.bgClass||\\\"\\\")),o.styleClasses.textClass&&(r.textClass=W(o.styleClasses.textClass,r.textClass||\\\"\\\"))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(function(e){null==We&&(t=M(\\\"span\\\",\\\"​\\\"),T(e,M(\\\"span\\\",[t,document.createTextNode(\\\"x\\\")])),0!=e.firstChild.offsetHeight&&(We=t.offsetWidth\u003C=1&&2\u003Ct.offsetHeight&&!(w&&v\u003C8)));var t=We?M(\\\"span\\\",\\\"​\\\"):M(\\\"span\\\",\\\" \\\",null,\\\"display: inline-block; width: 1px; margin-right: -1px\\\");return t.setAttribute(\\\"cm-text\\\",\\\"\\\"),t}(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return f&&(n=r.content.lastChild,(/\\\\bcm-tab\\\\b/.test(n.className)||n.querySelector&&n.querySelector(\\\".cm-tab\\\"))&&(r.content.className=\\\"cm-tab-wrap-hack\\\")),xe(e,\\\"renderLine\\\",e,t.line,r.pre),r.pre.className&&(r.textClass=W(r.pre.className,r.textClass||\\\"\\\")),r}function Zt(e){var t=M(\\\"span\\\",\\\"•\\\",\\\"cm-invalidchar\\\");return t.title=\\\"\\\\\\\\u\\\"+e.charCodeAt(0).toString(16),t.setAttribute(\\\"aria-label\\\",t.title),t}function Qt(e,t,n,r,i,o,l){if(t){var s,a=e.splitSpaces?function(e,t){if(1\u003Ce.length&&!/  /.test(e))return e;for(var n=t,r=\\\"\\\",i=0;i\u003Ce.length;i++){var o=e.charAt(i);\\\" \\\"!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=\\\" \\\"),r+=o,n=\\\" \\\"==o}return r}(t,e.trailingSpace):t,u=e.cm.state.specialChars,c=!1;if(u.test(t)){s=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var d=u.exec(t),f=d?d.index-h:t.length-h;if(f&&(p=document.createTextNode(a.slice(h,h+f)),w&&v\u003C9?s.appendChild(M(\\\"span\\\",[p])):s.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f),!d)break;h+=1+f;var p=void 0;\\\"\\\\t\\\"==d[0]?(f=(f=e.cm.options.tabSize)-e.col%f,(p=s.appendChild(M(\\\"span\\\",X(f),\\\"cm-tab\\\"))).setAttribute(\\\"role\\\",\\\"presentation\\\"),p.setAttribute(\\\"cm-text\\\",\\\"\\\\t\\\"),e.col+=f):(\\\"\\\\r\\\"==d[0]||\\\"\\\\n\\\"==d[0]?(p=s.appendChild(M(\\\"span\\\",\\\"\\\\r\\\"==d[0]?\\\"␍\\\":\\\"␤\\\",\\\"cm-invalidchar\\\"))).setAttribute(\\\"cm-text\\\",d[0]):((p=e.cm.options.specialCharPlaceholder(d[0])).setAttribute(\\\"cm-text\\\",d[0]),w&&v\u003C9?s.appendChild(M(\\\"span\\\",[p])):s.appendChild(p)),e.col+=1),e.map.push(e.pos,e.pos+1,p),e.pos++}}else e.col+=t.length,s=document.createTextNode(a),e.map.push(e.pos,e.pos+t.length,s),w&&v\u003C9&&(c=!0),e.pos+=t.length;if(e.trailingSpace=32==a.charCodeAt(t.length-1),n||r||i||c||o||l){n=n||\\\"\\\";r&&(n+=r),i&&(n+=i);var g=M(\\\"span\\\",[s],n,o);if(l)for(var m in l)l.hasOwnProperty(m)&&\\\"style\\\"!=m&&\\\"class\\\"!=m&&g.setAttribute(m,l[m]);return e.content.appendChild(g)}e.content.appendChild(s)}}function Jt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i=i||e.content.appendChild(document.createElement(\\\"span\\\"))).setAttribute(\\\"cm-marker\\\",n.id),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function en(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=It(e);)e=t.find(1,!0).line,(n=n||[]).push(e);return n}(t),this.size=this.rest?Je(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ut(e,t)}function tn(e,t,n){for(var r=[],i=t;i\u003Cn;i=l){var o=new en(e.doc,$e(e.doc,i),i),l=i+o.size;r.push(o)}return r}var nn=null;function rn(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n\u003Ct.length;n++)t[n].call(null);for(var r=0;r\u003Ce.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled\u003Ci.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n\u003Ct.length)}(n)}finally{nn=null,t(n)}}var on=null;function ln(e,t){var n=be(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);nn?r=nn.delayedCallbacks:on?r=on:(r=on=[],setTimeout(sn,0));for(var o=0;o\u003Cn.length;++o)!function(e){r.push(function(){return n[e].apply(null,i)})}(o)}}function sn(){var e=on;on=null;for(var t=0;t\u003Ce.length;++t)e[t]()}function an(e,t,n,r){for(var i=0;i\u003Ct.changes.length;i++){var o=t.changes[i];\\\"text\\\"==o?function(e,t){var n=t.text.className,r=cn(e,t);t.text==t.node&&(t.node=r.pre);t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,hn(e,t)):n&&(t.text.className=n)}(e,t):\\\"gutter\\\"==o?dn(e,t,n,r):\\\"class\\\"==o?hn(e,t):\\\"widget\\\"==o&&function(e,t,n){t.alignable&&(t.alignable=null);for(var r=C(\\\"CodeMirror-linewidget\\\"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);fn(e,t,n)}(e,t,r)}t.changes=null}function un(e){return e.node==e.text&&(e.node=M(\\\"div\\\",null,null,\\\"position: relative\\\"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),w&&v\u003C8&&(e.node.style.zIndex=2)),e.node}function cn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):qt(e,t)}function hn(e,t){var n,r;n=e,(r=(i=t).bgClass?i.bgClass+\\\" \\\"+(i.line.bgClass||\\\"\\\"):i.line.bgClass)&&(r+=\\\" CodeMirror-linebackground\\\"),i.background?r?i.background.className=r:(i.background.parentNode.removeChild(i.background),i.background=null):r&&(e=un(i),i.background=e.insertBefore(M(\\\"div\\\",null,r),e.firstChild),n.display.input.setUneditable(i.background)),t.line.wrapClass?un(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=\\\"\\\");var i=t.textClass?t.textClass+\\\" \\\"+(t.line.textClass||\\\"\\\"):t.line.textClass;t.text.className=i||\\\"\\\"}function dn(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass&&(o=un(t),t.gutterBackground=M(\\\"div\\\",null,\\\"CodeMirror-gutter-background \\\"+t.line.gutterClass,\\\"left: \\\"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\\\"px; width: \\\"+r.gutterTotalWidth+\\\"px\\\"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text));var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=un(t),l=t.gutter=M(\\\"div\\\",null,\\\"CodeMirror-gutter-wrapper\\\",\\\"left: \\\"+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+\\\"px\\\");if(e.display.input.setUneditable(l),o.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=\\\" \\\"+t.line.gutterClass),!e.options.lineNumbers||i&&i[\\\"CodeMirror-linenumbers\\\"]||(t.lineNumber=l.appendChild(M(\\\"div\\\",nt(e.options,n),\\\"CodeMirror-linenumber CodeMirror-gutter-elt\\\",\\\"left: \\\"+r.gutterLeft[\\\"CodeMirror-linenumbers\\\"]+\\\"px; width: \\\"+e.display.lineNumInnerWidth+\\\"px\\\"))),i)for(var s=0;s\u003Ce.display.gutterSpecs.length;++s){var a=e.display.gutterSpecs[s].className,u=i.hasOwnProperty(a)&&i[a];u&&l.appendChild(M(\\\"div\\\",[u],\\\"CodeMirror-gutter-elt\\\",\\\"left: \\\"+r.gutterLeft[a]+\\\"px; width: \\\"+r.gutterWidth[a]+\\\"px\\\"))}}}function fn(e,t,n){if(pn(e,t.line,t,n,!0),t.rest)for(var r=0;r\u003Ct.rest.length;r++)pn(e,t.rest[r],t,n,!1)}function pn(e,t,n,r,i){if(t.widgets)for(var o=un(n),l=0,s=t.widgets;l\u003Cs.length;++l){var a=s[l],u=M(\\\"div\\\",[a.node],\\\"CodeMirror-linewidget\\\"+(a.className?\\\" \\\"+a.className:\\\"\\\"));a.handleMouseEvents||u.setAttribute(\\\"cm-ignore-events\\\",\\\"true\\\"),function(e,t,n,r){e.noHScroll&&((n.alignable||(n.alignable=[])).push(t),n=r.wrapperWidth,t.style.left=r.fixedPos+\\\"px\\\",e.coverGutter||(n-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+\\\"px\\\"),t.style.width=n+\\\"px\\\");e.coverGutter&&(t.style.zIndex=5,t.style.position=\\\"relative\\\",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+\\\"px\\\"))}(a,u,n,r),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),ln(a,\\\"redraw\\\")}}function gn(e){if(null!=e.height)return e.height;var t,n=e.doc.cm;return n?(A(document.body,e.node)||(t=\\\"position: relative;\\\",e.coverGutter&&(t+=\\\"margin-left: -\\\"+n.display.gutters.offsetWidth+\\\"px;\\\"),e.noHScroll&&(t+=\\\"width: \\\"+n.display.wrapper.clientWidth+\\\"px;\\\"),T(n.display.measure,M(\\\"div\\\",[e.node],null,t))),e.height=e.node.parentNode.offsetHeight):0}function mn(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&\\\"true\\\"==n.getAttribute(\\\"cm-ignore-events\\\")||n.parentNode==e.sizer&&n!=e.mover)return 1}function vn(e){return e.lineSpace.offsetTop}function yn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function bn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,M(\\\"pre\\\",\\\"x\\\",\\\"CodeMirror-line-like\\\")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};return isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t}function wn(e){return z-e.display.nativeBarWidth}function xn(e){return e.display.scroller.clientWidth-wn(e)-e.display.barWidth}function Cn(e){return e.display.scroller.clientHeight-wn(e)-e.display.barHeight}function Sn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r\u003Ce.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i\u003Ce.rest.length;i++)if(Je(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Ln(e,t,n,r){return Mn(e,Tn(e,t),n,r)}function kn(e,t){if(t>=e.display.viewFrom&&t\u003Ce.display.viewTo)return e.display.view[er(e,t)];e=e.display.externalMeasured;return e&&t>=e.lineN&&t\u003Ce.lineN+e.size?e:void 0}function Tn(e,t){var n,r,i=Je(t),o=kn(e,i);o&&!o.text?o=null:o&&o.changes&&(an(e,o,i,$n(e)),e.curOp.forceUpdate=!0),o||(n=e,e=Je(r=zt(r=t)),(r=n.display.externalMeasured=new en(n.doc,r,e)).lineN=e,e=r.built=qt(n,r),r.text=e.pre,T(n.display.lineMeasure,e.pre),o=r);i=Sn(o,t,i);return{line:t,view:o,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Mn(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||\\\"\\\");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,e=r&&xn(e);if(!t.measure.heights||r&&t.measure.width!=e){var i=t.measure.heights=[];if(r){t.measure.width=e;for(var o=t.text.firstChild.getClientRects(),l=0;l\u003Co.length-1;l++){var s=o[l],a=o[l+1];2\u003CMath.abs(s.bottom-a.bottom)&&i.push((s.bottom+a.top)/2-n.top)}}i.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=On(t.map,n,r),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c\u003C4;c++){for(;s&&ne(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a\u003Co.coverEnd&&ne(t.line.text.charAt(o.coverStart+a));)++a;if((i=w&&v\u003C9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():function(e,t){var n=An;if(\\\"left\\\"==t)for(var r=0;r\u003Ce.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;0\u003C=i&&(n=e[i]).left==n.right;i--);return n}(S(l,s,a).getClientRects(),r)).left||i.right||0==s)break;a=s,--s,u=\\\"right\\\"}w&&v\u003C11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Re)return Re;var e=(t=T(e,M(\\\"span\\\",\\\"x\\\"))).getBoundingClientRect(),t=S(t,0,1).getBoundingClientRect();return Re=1\u003CMath.abs(e.left-t.left)}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,e=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*e,bottom:t.bottom*e}}(e.display.measure,i))}else 0\u003Cs&&(u=r=\\\"right\\\"),i=e.options.lineWrapping&&1\u003C(g=l.getClientRects()).length?g[\\\"right\\\"==r?g.length-1:0]:l.getBoundingClientRect();!(w&&v\u003C9)||s||i&&(i.left||i.right)||(m=l.parentNode.getClientRects()[0],i=m?{left:m.left,right:m.left+_n(e.display),top:m.top,bottom:m.bottom}:An);for(var h=i.top-t.rect.top,n=i.bottom-t.rect.top,d=(h+n)/2,f=t.view.measure.heights,p=0;p\u003Cf.length-1&&!(d\u003Cf[p]);p++);var g=p?f[p-1]:0,m=f[p],m={left:(\\\"right\\\"==u?i.right:i.left)-t.rect.left,right:(\\\"left\\\"==u?i.left:i.right)-t.rect.left,top:g,bottom:m};i.left||i.right||(m.bogus=!0);e.options.singleCursorHeightPerLine||(m.rtop=h,m.rbottom=n);return m}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Nn,An={left:0,right:0,top:0,bottom:0};function On(e,t,n){for(var r,i,o,l,s,a,u=0;u\u003Ce.length;u+=3)if(s=e[u],a=e[u+1],t\u003Cs?(i=0,o=1,l=\\\"left\\\"):t\u003Ca?o=(i=t-s)+1:(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,a\u003C=t&&(l=\\\"right\\\")),null!=i){if(r=e[u+2],s==a&&n==(r.insertLeft?\\\"left\\\":\\\"right\\\")&&(l=n),\\\"left\\\"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],l=\\\"left\\\";if(\\\"right\\\"==n&&i==a-s)for(;u\u003Ce.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],l=\\\"right\\\";break}return{node:r,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Dn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t\u003Ce.rest.length;t++)e.measure.caches[t]={}}function Wn(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t\u003Ce.display.view.length;t++)Dn(e.display.view[t])}function Hn(e){Wn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Fn(){return o&&a?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function En(){return o&&a?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Pn(e){var t=0;if(e.widgets)for(var n=0;n\u003Ce.widgets.length;++n)e.widgets[n].above&&(t+=gn(e.widgets[n]));return t}function In(e,t,n,r,i){if(i||(i=Pn(t),n.top+=i,n.bottom+=i),\\\"line\\\"==r)return n;r=r||\\\"local\\\";t=Vt(t);return\\\"local\\\"==r?t+=vn(e.display):t-=e.display.viewOffset,\\\"page\\\"!=r&&\\\"window\\\"!=r||(t+=(e=e.display.lineSpace.getBoundingClientRect()).top+(\\\"window\\\"==r?0:En()),r=e.left+(\\\"window\\\"==r?0:Fn()),n.left+=r,n.right+=r),n.top+=t,n.bottom+=t,n}function Rn(e,t,n){if(\\\"div\\\"==n)return t;var r=t.left,t=t.top;\\\"page\\\"==n?(r-=Fn(),t-=En()):\\\"local\\\"!=n&&n||(r+=(n=e.display.sizer.getBoundingClientRect()).left,t+=n.top);e=e.display.lineSpace.getBoundingClientRect();return{left:r-e.left,top:t-e.top}}function zn(e,t,n,r,i){return In(e,r=r||$e(e.doc,t.line),Ln(e,r,t.ch,i),n)}function Bn(n,e,r,i,o,l){function s(e,t){e=Mn(n,o,e,t?\\\"right\\\":\\\"left\\\",l);return t?e.left=e.right:e.right=e.left,In(n,i,e,r)}i=i||$e(n.doc,e.line),o=o||Tn(n,i);var a=me(i,n.doc.direction),t=e.ch,u=e.sticky;if(t>=i.text.length?(t=i.text.length,u=\\\"before\\\"):t\u003C=0&&(t=0,u=\\\"after\\\"),!a)return s(\\\"before\\\"==u?t-1:t,\\\"before\\\"==u);function c(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var h=le(a,t,u),e=oe,h=c(t,h,\\\"before\\\"==u);return null!=e&&(h.other=c(t,e,\\\"before\\\"!=u)),h}function Gn(e,t){var n=0;t=ct(e.doc,t),e.options.lineWrapping||(n=_n(e.display)*t.ch);t=$e(e.doc,t.line),e=Vt(t)+vn(e.display);return{left:n,right:n,top:e,bottom:e+t.height}}function Un(e,t,n,r,i){n=rt(e,t,n);return n.xRel=i,r&&(n.outside=r),n}function Vn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)\u003C0)return Un(r.first,0,null,-1,-1);var i=et(r,n),o=r.first+r.size-1;if(o\u003Ci)return Un(r.first+r.size-1,$e(r,o).text.length,null,1,1);t\u003C0&&(t=0);for(var l=$e(r,i);;){var s=function(n,e,t,r,i){i-=Vt(e);var o=Tn(n,e),l=Pn(e),s=0,a=e.text.length,u=!0,c=me(e,n.doc.direction);c&&(f=(n.options.lineWrapping?function(e,t,n,r,i,o,l){var l=Kn(e,t,r,l),s=l.begin,a=l.end;/\\\\s/.test(t.text.charAt(a-1))&&a--;for(var u=null,c=null,h=0;h\u003Ci.length;h++){var d,f=i[h];f.from>=a||f.to\u003C=s||(d=1!=f.level,d=Mn(e,r,d?Math.min(a,f.to)-1:Math.max(s,f.from)).right,d=d\u003Co?o-d+1e9:d-o,(!u||d\u003Cc)&&(u=f,c=d))}u=u||i[i.length-1];u.from\u003Cs&&(u={from:s,to:u.to,level:u.level});u.to>a&&(u={from:u.from,to:a,level:u.level});return u}:function(n,r,i,o,l,s,a){var e=ie(function(e){var t=l[e],e=1!=t.level;return Xn(Bn(n,rt(i,e?t.to:t.from,e?\\\"before\\\":\\\"after\\\"),\\\"line\\\",r,o),s,a,!0)},0,l.length-1),t=l[e];{var u;0\u003Ce&&(u=1!=t.level,Xn(u=Bn(n,rt(i,u?t.from:t.to,u?\\\"after\\\":\\\"before\\\"),\\\"line\\\",r,o),s,a,!0)&&u.top>a&&(t=l[e-1]))}return t})(n,e,t,o,c,r,i),u=1!=f.level,s=u?f.from:f.to-1,a=u?f.to:f.from-1);var h=null,d=null,c=ie(function(e){var t=Mn(n,o,e);return t.top+=l,t.bottom+=l,Xn(t,r,i,!1)&&(t.top\u003C=i&&t.left\u003C=r&&(h=e,d=t),1)},s,a),f=!1;{var p,g;d?(p=r-d.left\u003Cd.right-r,c=h+((g=p==u)?0:1),g=g?\\\"after\\\":\\\"before\\\",p=p?d.left:d.right):(u||c!=a&&c!=s||c++,g=0==c||c!=e.text.length&&Mn(n,o,c-(u?1:0)).bottom+l\u003C=i==u?\\\"after\\\":\\\"before\\\",u=Bn(n,rt(t,c,g),\\\"line\\\",e,o),p=u.left,f=i\u003Cu.top?-1:i>=u.bottom?1:0)}return c=re(e.text,c,1),Un(t,c,g,f,r-p)}(e,l,i,t,n),a=function(e,t){var n,r=kt&&e.markedSpans;if(r)for(var i=0;i\u003Cr.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from\u003Ct)&&(null==o.to||o.to>t)&&(!n||Ft(n,o.marker)\u003C0)&&(n=o.marker)}return n}(l,s.ch+(0\u003Cs.xRel||0\u003Cs.outside?1:0));if(!a)return s;a=a.find(1);if(a.line==i)return a;l=$e(r,i=a.line)}}function Kn(t,e,n,r){r-=Pn(e);var i=e.text.length,e=ie(function(e){return Mn(t,n,e-1).bottom\u003C=r},i,0);return{begin:e,end:i=ie(function(e){return Mn(t,n,e).top>r},e,i)}}function jn(e,t,n,r){return Kn(e,t,n=n||Tn(e,t),In(e,t,Mn(e,n,r),\\\"line\\\").top)}function Xn(e,t,n,r){return!(e.bottom\u003C=n)&&(e.top>n||(r?e.left:e.right)>t)}function Yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Nn){Nn=M(\\\"pre\\\",null,\\\"CodeMirror-line-like\\\");for(var t=0;t\u003C49;++t)Nn.appendChild(document.createTextNode(\\\"x\\\")),Nn.appendChild(M(\\\"br\\\"));Nn.appendChild(document.createTextNode(\\\"x\\\"))}T(e.measure,Nn);var n=Nn.offsetHeight/50;return 3\u003Cn&&(e.cachedTextHeight=n),k(e.measure),n||1}function _n(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=M(\\\"span\\\",\\\"xxxxxxxxxx\\\"),n=M(\\\"pre\\\",[t],\\\"CodeMirror-line-like\\\");T(e.measure,n);t=t.getBoundingClientRect(),t=(t.right-t.left)/10;return 2\u003Ct&&(e.cachedCharWidth=t),t||10}function $n(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l){var s=e.display.gutterSpecs[l].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:qn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function qn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Zn(r){var i=Yn(r.display),o=r.options.lineWrapping,l=o&&Math.max(5,r.display.scroller.clientWidth/_n(r.display)-3);return function(e){if(Ut(r.doc,e))return 0;var t=0;if(e.widgets)for(var n=0;n\u003Ce.widgets.length;n++)e.widgets[n].height&&(t+=e.widgets[n].height);return o?t+(Math.ceil(e.text.length/l)||1)*i:t+i}}function Qn(e){var t=e.doc,n=Zn(e);t.iter(function(e){var t=n(e);t!=e.height&&Qe(e,t)})}function Jn(e,t,n,r){var i=e.display;if(!n&&\\\"true\\\"==Oe(t).getAttribute(\\\"cm-not-content\\\"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(e){return null}var a,i=Vn(e,o,l);return r&&0\u003Ci.xRel&&(a=$e(e.doc,i.line).text).length==i.ch&&(a=P(a,a.length,e.options.tabSize)-a.length,i=rt(i.line,Math.max(0,Math.round((o-bn(e.display).left)/_n(e.display))-a))),i}function er(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)\u003C0)return null;for(var n=e.display.view,r=0;r\u003Cn.length;r++)if((t-=n[r].size)\u003C0)return r}function tr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r=r||0;var i,o,l=e.display;r&&n\u003Cl.viewTo&&(null==l.updateLineNumbers||l.updateLineNumbers>t)&&(l.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=l.viewTo?kt&&Bt(e.doc,t)\u003Cl.viewTo&&rr(e):n\u003C=l.viewFrom?kt&&Gt(e.doc,n+r)>l.viewFrom?rr(e):(l.viewFrom+=r,l.viewTo+=r):t\u003C=l.viewFrom&&n>=l.viewTo?rr(e):t\u003C=l.viewFrom?(i=ir(e,n,n+r,1))?(l.view=l.view.slice(i.index),l.viewFrom=i.lineN,l.viewTo+=r):rr(e):n>=l.viewTo?(o=ir(e,t,t,-1))?(l.view=l.view.slice(0,o.index),l.viewTo=o.lineN):rr(e):(i=ir(e,t,t,-1),o=ir(e,n,n+r,1),i&&o?(l.view=l.view.slice(0,i.index).concat(tn(e,i.lineN,o.lineN)).concat(l.view.slice(o.index)),l.viewTo+=r):rr(e));e=l.externalMeasured;e&&(n\u003Ce.lineN?e.lineN+=r:t\u003Ce.lineN+e.size&&(l.externalMeasured=null))}function nr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t\u003Ci.lineN+i.size&&(r.externalMeasured=null),t\u003Cr.viewFrom||t>=r.viewTo||(null==(t=r.view[er(e,t)]).node||-1==R(t=t.changes||(t.changes=[]),n)&&t.push(n))}function rr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ir(e,t,n,r){var i,o=er(e,t),l=e.display.view;if(!kt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,a=0;a\u003Co;a++)s+=l[a].size;if(s!=t){if(0\u003Cr){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Bt(e.doc,n)!=n;){if(o==(r\u003C0?0:l.length-1))return null;n+=r*l[o-(r\u003C0?1:0)].size,o+=r}return{index:o,lineN:n}}function or(e){for(var t=e.display.view,n=0,r=0;r\u003Ct.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function sr(e,t){void 0===t&&(t=!0);for(var n,r,i=e.doc,o={},l=o.cursors=document.createDocumentFragment(),s=o.selection=document.createDocumentFragment(),a=0;a\u003Ci.sel.ranges.length;a++)!t&&a==i.sel.primIndex||((n=i.sel.ranges[a]).from().line>=e.display.viewTo||n.to().line\u003Ce.display.viewFrom||(((r=n.empty())||e.options.showCursorWhenSelecting)&&ar(e,n.head,l),r||function(i,e,t){var n=i.display,o=i.doc,l=document.createDocumentFragment(),r=bn(i.display),S=r.left,L=Math.max(n.sizerWidth,xn(i)-n.sizer.offsetLeft)-r.right,k=\\\"ltr\\\"==o.direction;function T(e,t,n,r){t\u003C0&&(t=0),t=Math.round(t),r=Math.round(r),l.appendChild(M(\\\"div\\\",null,\\\"CodeMirror-selected\\\",\\\"position: absolute; left: \\\"+e+\\\"px;\\\\n                             top: \\\"+t+\\\"px; width: \\\"+(null==n?L-e:n)+\\\"px;\\\\n                             height: \\\"+(r-t)+\\\"px\\\"))}function s(n,g,m){var v,y,r=$e(o,n),b=r.text.length;function w(e,t){return zn(i,rt(n,e),\\\"div\\\",r,t)}function x(e,t,n){e=jn(i,r,null,e),t=\\\"ltr\\\"==t==(\\\"after\\\"==n)?\\\"left\\\":\\\"right\\\";return w(\\\"after\\\"==n?e.begin:e.end-(/\\\\s/.test(r.text.charAt(e.end-1))?2:1),t)[t]}var C=me(r,o.direction);return function(e,t,n,r){if(!e)return r(t,n,\\\"ltr\\\",0);for(var i=!1,o=0;o\u003Ce.length;++o){var l=e[o];(l.from\u003Cn&&l.to>t||t==n&&l.to==t)&&(r(Math.max(l.from,t),Math.min(l.to,n),1==l.level?\\\"rtl\\\":\\\"ltr\\\",o),i=!0)}i||r(t,n,\\\"ltr\\\")}(C,g||0,null==m?b:m,function(e,t,n,r){var i,o,l,s,a=\\\"ltr\\\"==n,u=w(e,a?\\\"left\\\":\\\"right\\\"),c=w(t-1,a?\\\"right\\\":\\\"left\\\"),h=null==g&&0==e,d=null==m&&t==b,f=0==r,p=!C||r==C.length-1;c.top-u.top\u003C=3?(i=(k?d:h)&&p,r=(k?h:d)&&f?S:(a?u:c).left,i=i?L:(a?c:u).right,T(r,u.top,i-r,u.bottom)):(n=a?(o=k&&h&&f?S:u.left,l=k?L:x(e,n,\\\"before\\\"),s=k?S:x(t,n,\\\"after\\\"),k&&d&&p?L:c.right):(o=k?x(e,n,\\\"before\\\"):S,l=!k&&h&&f?L:u.right,s=!k&&d&&p?S:c.left,k?x(t,n,\\\"after\\\"):L),T(o,u.top,l-o,u.bottom),u.bottom\u003Cc.top&&T(S,u.bottom,null,c.top),T(s,c.top,n-s,c.bottom)),(!v||ur(u,v)\u003C0)&&(v=u),ur(c,v)\u003C0&&(v=c),(!y||ur(u,y)\u003C0)&&(y=u),ur(c,y)\u003C0&&(y=c)}),{start:v,end:y}}var a=e.from(),n=e.to();a.line==n.line?s(a.line,a.ch,n.ch):(r=$e(o,a.line),e=$e(o,n.line),e=zt(r)==zt(e),r=s(a.line,a.ch,e?r.text.length+1:null).end,n=s(n.line,e?0:null,n.ch).start,e&&(r.top\u003Cn.top-2?(T(r.right,r.top,null,r.bottom),T(S,n.top,n.left,n.bottom)):T(r.right,r.top,n.left-r.right,r.bottom)),r.bottom\u003Cn.top&&T(S,r.bottom,null,n.top));t.appendChild(l)}(e,n,s)));return o}function ar(e,t,n){var r=Bn(e,t,\\\"div\\\",null,null,!e.options.singleCursorHeightPerLine),t=n.appendChild(M(\\\"div\\\",\\\" \\\",\\\"CodeMirror-cursor\\\"));t.style.left=r.left+\\\"px\\\",t.style.top=r.top+\\\"px\\\",t.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+\\\"px\\\",r.other&&((n=n.appendChild(M(\\\"div\\\",\\\" \\\",\\\"CodeMirror-cursor CodeMirror-secondarycursor\\\"))).style.display=\\\"\\\",n.style.left=r.other.left+\\\"px\\\",n.style.top=r.other.top+\\\"px\\\",n.style.height=.85*(r.other.bottom-r.other.top)+\\\"px\\\")}function ur(e,t){return e.top-t.top||e.left-t.left}function cr(e){var t,n;e.state.focused&&(t=e.display,clearInterval(t.blinker),n=!0,t.cursorDiv.style.visibility=\\\"\\\",0\u003Ce.options.cursorBlinkRate?t.blinker=setInterval(function(){e.hasFocus()||pr(e),t.cursorDiv.style.visibility=(n=!n)?\\\"\\\":\\\"hidden\\\"},e.options.cursorBlinkRate):e.options.cursorBlinkRate\u003C0&&(t.cursorDiv.style.visibility=\\\"hidden\\\"))}function hr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||fr(e))}function dr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&pr(e))},100)}function fr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),\\\"nocursor\\\"!=e.options.readOnly&&(e.state.focused||(xe(e,\\\"focus\\\",e,t),e.state.focused=!0,D(e.display.wrapper,\\\"CodeMirror-focused\\\"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),f&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),cr(e))}function pr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(xe(e,\\\"blur\\\",e,t),e.state.focused=!1,L(e.display.wrapper,\\\"CodeMirror-focused\\\")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function gr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r\u003Ct.view.length;r++){var i,o=t.view[r],l=e.options.lineWrapping,s=void 0,a=0;if(!o.hidden){w&&v\u003C8?(s=(i=o.node.offsetTop+o.node.offsetHeight)-n,n=i):(s=(u=o.node.getBoundingClientRect()).bottom-u.top,!l&&o.text.firstChild&&(a=o.text.firstChild.getBoundingClientRect().right-u.left-1));var u=o.line.height-s;if((.005\u003Cu||u\u003C-.005)&&(Qe(o.line,s),mr(o.line),o.rest))for(var c=0;c\u003Co.rest.length;c++)mr(o.rest[c]);a>e.display.sizerWidth&&((a=Math.ceil(a/_n(e.display)))>e.display.maxLineLength&&(e.display.maxLineLength=a,e.display.maxLine=o.line,e.display.maxLineChanged=!0))}}}function mr(e){if(e.widgets)for(var t=0;t\u003Ce.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function vr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop,r=Math.floor(r-vn(e)),i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=et(t,r),r=et(t,i);return n&&n.ensure&&(i=n.ensure.from.line,n=n.ensure.to.line,i\u003Co?r=et(t,Vt($e(t,o=i))+e.wrapper.clientHeight):Math.min(n,t.lastLine())>=r&&(o=et(t,Vt($e(t,n))-e.wrapper.clientHeight),r=n)),{from:o,to:Math.max(r,o+1)}}function yr(e,t){var n=e.display,r=Yn(e.display);t.top\u003C0&&(t.top=0);var i=(e.curOp&&null!=e.curOp.scrollTop?e.curOp:n.scroller).scrollTop,o=Cn(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+yn(n),a=t.top\u003Cr,r=t.bottom>s-r;t.top\u003Ci?l.scrollTop=a?0:t.top:t.bottom>i+o&&((u=Math.min(t.top,(r?s:t.bottom)-o))!=i&&(l.scrollTop=u));var i=e.options.fixedGutter?0:n.gutters.offsetWidth,u=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-i,e=xn(e)-n.gutters.offsetWidth,n=t.right-t.left>e;return n&&(t.right=t.left+e),t.left\u003C10?l.scrollLeft=0:t.left\u003Cu?l.scrollLeft=Math.max(0,t.left+i-(n?0:10)):t.right>e+u-3&&(l.scrollLeft=t.right+(n?0:10)-e),l}function br(e,t){null!=t&&(Cr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+t)}function wr(e){Cr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function xr(e,t,n){null==t&&null==n||Cr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Cr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Sr(e,Gn(e,t.from),Gn(e,t.to),t.margin))}function Sr(e,t,n,r){r=yr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});xr(e,r.scrollLeft,r.scrollTop)}function Lr(e,t){Math.abs(e.doc.scrollTop-t)\u003C2||(d||Kr(e,{top:t}),kr(e,t,!0),d&&Kr(e),zr(e,100))}function kr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),e.display.scroller.scrollTop==t&&!n||(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Tr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)\u003C2)&&!r||(e.doc.scrollLeft=t,Yr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Mr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+yn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+wn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}e=function(e,t,n){this.cm=n;var r=this.vert=M(\\\"div\\\",[M(\\\"div\\\",null,null,\\\"min-width: 1px\\\")],\\\"CodeMirror-vscrollbar\\\"),i=this.horiz=M(\\\"div\\\",[M(\\\"div\\\",null,null,\\\"height: 100%; min-height: 1px\\\")],\\\"CodeMirror-hscrollbar\\\");r.tabIndex=i.tabIndex=-1,e(r),e(i),ye(r,\\\"scroll\\\",function(){r.clientHeight&&t(r.scrollTop,\\\"vertical\\\")}),ye(i,\\\"scroll\\\",function(){i.clientWidth&&t(i.scrollLeft,\\\"horizontal\\\")}),this.checkedZeroWidth=!1,w&&v\u003C8&&(this.horiz.style.minHeight=this.vert.style.minWidth=\\\"18px\\\")};e.prototype.update=function(e){var t,n=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;return r?(this.vert.style.display=\\\"block\\\",this.vert.style.bottom=n?i+\\\"px\\\":\\\"0\\\",t=e.viewHeight-(n?i:0),this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+t)+\\\"px\\\"):(this.vert.style.display=\\\"\\\",this.vert.firstChild.style.height=\\\"0\\\"),n?(this.horiz.style.display=\\\"block\\\",this.horiz.style.right=r?i+\\\"px\\\":\\\"0\\\",this.horiz.style.left=e.barLeft+\\\"px\\\",t=e.viewWidth-e.barLeft-(r?i:0),this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+t)+\\\"px\\\"):(this.horiz.style.display=\\\"\\\",this.horiz.firstChild.style.width=\\\"0\\\"),!this.checkedZeroWidth&&0\u003Ce.clientHeight&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?i:0,bottom:n?i:0}},e.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,\\\"horiz\\\")},e.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,\\\"vert\\\")},e.prototype.zeroWidthHack=function(){var e=g&&!l?\\\"12px\\\":\\\"18px\\\";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\\\"none\\\",this.disableHoriz=new I,this.disableVert=new I},e.prototype.enableZeroWidthBar=function(n,r,i){n.style.pointerEvents=\\\"auto\\\",r.set(1e3,function e(){var t=n.getBoundingClientRect();(\\\"vert\\\"==i?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=n?n.style.pointerEvents=\\\"none\\\":r.set(1e3,e)})},e.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};r=function(){};function Nr(e,t){t=t||Mr(e);var n=e.display.barWidth,r=e.display.barHeight;Ar(e,t);for(var i=0;i\u003C4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&gr(e),Ar(e,Mr(e)),n=e.display.barWidth,r=e.display.barHeight}function Ar(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+\\\"px\\\",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+\\\"px\\\",n.heightForcer.style.borderBottom=r.bottom+\\\"px solid transparent\\\",r.right&&r.bottom?(n.scrollbarFiller.style.display=\\\"block\\\",n.scrollbarFiller.style.height=r.bottom+\\\"px\\\",n.scrollbarFiller.style.width=r.right+\\\"px\\\"):n.scrollbarFiller.style.display=\\\"\\\",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display=\\\"block\\\",n.gutterFiller.style.height=r.bottom+\\\"px\\\",n.gutterFiller.style.width=t.gutterWidth+\\\"px\\\"):n.gutterFiller.style.display=\\\"\\\"}r.prototype.update=function(){return{bottom:0,right:0}},r.prototype.setScrollLeft=function(){},r.prototype.setScrollTop=function(){},r.prototype.clear=function(){};var Or={native:e,null:r};function Dr(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&L(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Or[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller),ye(e,\\\"mousedown\\\",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),e.setAttribute(\\\"cm-not-content\\\",\\\"true\\\")},function(e,t){(\\\"horizontal\\\"==t?Tr:Lr)(n,e)},n),n.display.scrollbars.addClass&&D(n.display.wrapper,n.display.scrollbars.addClass)}var Wr=0;function Hr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wr},e=e.curOp,nn?nn.ops.push(e):e.ownsGroup=nn={ops:[e],delayedCallbacks:[]}}function Fr(e){e=e.curOp;e&&rn(e,function(e){for(var t=0;t\u003Ce.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n\u003Ct.length;n++)!function(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=wn(e)+\\\"px\\\",t.sizer.style.marginBottom=-t.nativeBarWidth+\\\"px\\\",t.sizer.style.borderRightWidth=wn(e)+\\\"px\\\",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&jt(t);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line\u003Cn.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Gr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}(t[n]);for(var r=0;r\u003Ct.length;r++)!function(e){e.updatedDisplay=e.mustUpdate&&Ur(e.cm,e.update)}(t[r]);for(var i=0;i\u003Ct.length;i++)!function(e){var t=e.cm,n=t.display;e.updatedDisplay&&gr(t);e.barMeasure=Mr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ln(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+wn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-xn(t)));(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}(t[i]);for(var o=0;o\u003Ct.length;o++)!function(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+\\\"px\\\",e.maxScrollLeft\u003Ct.doc.scrollLeft&&Tr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n);!e.updatedDisplay&&e.startHeight==t.doc.height||Nr(t,e.barMeasure);e.updatedDisplay&&Xr(t,e.barMeasure);e.selectionChanged&&cr(t);t.state.focused&&e.updateInput&&t.display.input.reset(e.typing);n&&hr(e.cm)}(t[o]);for(var l=0;l\u003Ct.length;l++)!function(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Vr(t,e.update);null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null);null!=e.scrollTop&&kr(t,e.scrollTop,e.forceScroll);null!=e.scrollLeft&&Tr(t,e.scrollLeft,!0,!0);{var i;e.scrollToPos&&(i=function(e,t,n,r){null==r&&(r=0),e.options.lineWrapping||t!=n||(n=\\\"before\\\"==(t=t.ch?rt(t.line,\\\"before\\\"==t.sticky?t.ch-1:t.ch,\\\"after\\\"):t).sticky?rt(t.line,t.ch+1,\\\"before\\\"):t);for(var i=0;i\u003C5;i++){var o,l=!1,s=Bn(e,t),a=n&&n!=t?Bn(e,n):s,u=yr(e,o={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-r,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+r}),s=e.doc.scrollTop,a=e.doc.scrollLeft;if(null!=u.scrollTop&&(Lr(e,u.scrollTop),1\u003CMath.abs(e.doc.scrollTop-s)&&(l=!0)),null!=u.scrollLeft&&(Tr(e,u.scrollLeft),1\u003CMath.abs(e.doc.scrollLeft-a)&&(l=!0)),!l)break}return o}(t,ct(r,e.scrollToPos.from),ct(r,e.scrollToPos.to),e.scrollToPos.margin),function(e,t){var n,r,i;Ce(e,\\\"scrollCursorIntoView\\\")||(r=(n=e.display).sizer.getBoundingClientRect(),i=null,t.top+r.top\u003C0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null==i||u||(t=M(\\\"div\\\",\\\"​\\\",null,\\\"position: absolute;\\\\n                         top: \\\"+(t.top-n.viewOffset-vn(e.display))+\\\"px;\\\\n                         height: \\\"+(t.bottom-t.top+wn(e)+n.barHeight)+\\\"px;\\\\n                         left: \\\"+t.left+\\\"px; width: \\\"+Math.max(2,t.right-t.left)+\\\"px;\\\"),e.display.lineSpace.appendChild(t),t.scrollIntoView(i),e.display.lineSpace.removeChild(t)))}(t,i))}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s\u003Co.length;++s)o[s].lines.length||xe(o[s],\\\"hide\\\");if(l)for(var a=0;a\u003Cl.length;++a)l[a].lines.length&&xe(l[a],\\\"unhide\\\");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop);e.changeObjs&&xe(t,\\\"changes\\\",t,e.changeObjs);e.update&&e.update.finish()}(t[l])}(e)})}function Er(e,t){if(e.curOp)return t();Hr(e);try{return t()}finally{Fr(e)}}function Pr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Hr(e);try{return t.apply(e,arguments)}finally{Fr(e)}}}function Ir(e){return function(){if(this.curOp)return e.apply(this,arguments);Hr(this);try{return e.apply(this,arguments)}finally{Fr(this)}}}function Rr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Hr(e);try{return t.apply(this,arguments)}finally{Fr(e)}}}function zr(e,t){e.doc.highlightFrontier\u003Ce.display.viewTo&&e.state.highlight.set(t,F(Br,e))}function Br(l){var s,a,u,c=l.doc;c.highlightFrontier>=l.display.viewTo||(s=+new Date+l.options.workTime,a=mt(l,c.highlightFrontier),u=[],c.iter(a.line,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(a.line>=l.display.viewFrom){var t=e.styles,n=e.text.length>l.options.maxHighlightLength?je(c.mode,a.state):null,r=pt(l,e,a,!0);n&&(a.state=n),e.styles=r.styles;n=e.styleClasses,r=r.classes;r?e.styleClasses=r:n&&(e.styleClasses=null);for(var i=!t||t.length!=e.styles.length||n!=r&&(!n||!r||n.bgClass!=r.bgClass||n.textClass!=r.textClass),o=0;!i&&o\u003Ct.length;++o)i=t[o]!=e.styles[o];i&&u.push(a.line),e.stateAfter=a.save(),a.nextLine()}else e.text.length\u003C=l.options.maxHighlightLength&&vt(l,e.text,a),e.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>s)return zr(l,l.options.workDelay),!0}),c.highlightFrontier=a.line,c.modeFrontier=Math.max(c.modeFrontier,a.line),u.length&&Er(l,function(){for(var e=0;e\u003Cu.length;e++)nr(l,u[e],\\\"text\\\")}))}var Gr=function(e,t,n){var r=e.display;this.viewport=t,this.visible=vr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=xn(e),this.force=n,this.dims=$n(e),this.events=[]};function Ur(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return rr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to\u003C=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==or(e))return!1;_r(e)&&(rr(e),t.dims=$n(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom\u003Co&&o-n.viewFrom\u003C20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>l&&n.viewTo-l\u003C20&&(l=Math.min(i,n.viewTo)),kt&&(o=Bt(e.doc,o),l=Gt(e.doc,l));var s=o!=n.viewFrom||l!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;r=o,i=l,0==(l=(o=e).display).view.length||r>=l.viewTo||i\u003C=l.viewFrom?(l.view=tn(o,r,i),l.viewFrom=r):(l.viewFrom>r?l.view=tn(o,r,l.viewFrom).concat(l.view):l.viewFrom\u003Cr&&(l.view=l.view.slice(er(o,r))),l.viewFrom=r,l.viewTo\u003Ci?l.view=l.view.concat(tn(o,l.viewTo,i)):l.viewTo>i&&(l.view=l.view.slice(0,er(o,i)))),l.viewTo=i,n.viewOffset=Vt($e(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+\\\"px\\\";o=or(e);if(!s&&0==o&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;l=function(e){if(e.hasFocus())return null;var t=O();if(!t||!A(e.display.lineDiv,t))return null;var n={activeElt:t};return!window.getSelection||(t=window.getSelection()).anchorNode&&t.extend&&A(e.display.lineDiv,t.anchorNode)&&(n.anchorNode=t.anchorNode,n.anchorOffset=t.anchorOffset,n.focusNode=t.focusNode,n.focusOffset=t.focusOffset),n}(e);return 4\u003Co&&(n.lineDiv.style.display=\\\"none\\\"),function(n,e,t){var r=n.display,i=n.options.lineNumbers,o=r.lineDiv,l=o.firstChild;function s(e){var t=e.nextSibling;return f&&g&&n.display.currentWheelTarget==e?e.style.display=\\\"none\\\":e.parentNode.removeChild(e),t}for(var a=r.view,u=r.viewFrom,c=0;c\u003Ca.length;c++){var h=a[c];if(!h.hidden)if(h.node&&h.node.parentNode==o){for(;l!=h.node;)l=s(l);var d=i&&null!=e&&e\u003C=u&&h.lineNumber;h.changes&&(-1\u003CR(h.changes,\\\"gutter\\\")&&(d=!1),an(n,h,u,t)),d&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(nt(n.options,u)))),l=h.node.nextSibling}else{d=function(e,t,n,r){var i=cn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),hn(e,t),dn(e,t,n,r),fn(e,t,r),t.node}(n,h,u,t);o.insertBefore(d,l)}u+=h.size}for(;l;)l=s(l)}(e,n.updateLineNumbers,t.dims),4\u003Co&&(n.lineDiv.style.display=\\\"\\\"),n.renderedView=n.view,(i=l)&&i.activeElt&&i.activeElt!=O()&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&A(document.body,i.anchorNode)&&A(document.body,i.focusNode)&&(o=window.getSelection(),(l=document.createRange()).setEnd(i.anchorNode,i.anchorOffset),l.collapse(!1),o.removeAllRanges(),o.addRange(l),o.extend(i.focusNode,i.focusOffset))),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,zr(e,400)),!(n.updateLineNumbers=null)}function Vr(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=xn(e))r&&(t.visible=vr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+yn(e.display)-Cn(e),n.top)}),t.visible=vr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to\u003C=e.display.viewTo)break;if(!Ur(e,t))break;gr(e);var i=Mr(e);lr(e),Nr(e,i),Xr(e,i),t.force=!1}t.signal(e,\\\"update\\\",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,\\\"viewportChange\\\",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Kr(e,t){var n=new Gr(e,t);Ur(e,n)&&(gr(e),Vr(e,n),t=Mr(e),lr(e),Nr(e,t),Xr(e,t),n.finish())}function jr(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+\\\"px\\\"}function Xr(e,t){e.display.sizer.style.minHeight=t.docHeight+\\\"px\\\",e.display.heightForcer.style.top=t.docHeight+\\\"px\\\",e.display.gutters.style.height=t.docHeight+e.display.barHeight+wn(e)+\\\"px\\\"}function Yr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=qn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+\\\"px\\\",l=0;l\u003Cn.length;l++)if(!n[l].hidden){e.options.fixedGutter&&(n[l].gutter&&(n[l].gutter.style.left=o),n[l].gutterBackground&&(n[l].gutterBackground.style.left=o));var s=n[l].alignable;if(s)for(var a=0;a\u003Cs.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+\\\"px\\\")}}function _r(e){if(e.options.lineNumbers){var t=e.doc,n=nt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M(\\\"div\\\",[M(\\\"div\\\",n)],\\\"CodeMirror-linenumber CodeMirror-gutter-elt\\\")),t=i.firstChild.offsetWidth,i=i.offsetWidth-t;return r.lineGutter.style.width=\\\"\\\",r.lineNumInnerWidth=Math.max(t,r.lineGutter.offsetWidth-i)+1,r.lineNumWidth=r.lineNumInnerWidth+i,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+\\\"px\\\",jr(e.display),1}}}function $r(e,t){for(var n=[],r=!1,i=0;i\u003Ce.length;i++){var o=e[i],l=null;if(\\\"string\\\"!=typeof o&&(l=o.style,o=o.className),\\\"CodeMirror-linenumbers\\\"==o){if(!t)continue;r=!0}n.push({className:o,style:l})}return t&&!r&&n.push({className:\\\"CodeMirror-linenumbers\\\",style:null}),n}function qr(e){var t=e.gutters,n=e.gutterSpecs;k(t),e.lineGutter=null;for(var r=0;r\u003Cn.length;++r){var i=n[r],o=i.className,l=i.style,i=t.appendChild(M(\\\"div\\\",null,\\\"CodeMirror-gutter \\\"+o));l&&(i.style.cssText=l),\\\"CodeMirror-linenumbers\\\"==o&&((e.lineGutter=i).style.width=(e.lineNumWidth||1)+\\\"px\\\")}t.style.display=n.length?\\\"\\\":\\\"none\\\",jr(e)}function Zr(e){qr(e.display),tr(e),Yr(e)}function Qr(e,t,n,r){var i=this;this.input=n,i.scrollbarFiller=M(\\\"div\\\",null,\\\"CodeMirror-scrollbar-filler\\\"),i.scrollbarFiller.setAttribute(\\\"cm-not-content\\\",\\\"true\\\"),i.gutterFiller=M(\\\"div\\\",null,\\\"CodeMirror-gutter-filler\\\"),i.gutterFiller.setAttribute(\\\"cm-not-content\\\",\\\"true\\\"),i.lineDiv=N(\\\"div\\\",null,\\\"CodeMirror-code\\\"),i.selectionDiv=M(\\\"div\\\",null,null,\\\"position: relative; z-index: 1\\\"),i.cursorDiv=M(\\\"div\\\",null,\\\"CodeMirror-cursors\\\"),i.measure=M(\\\"div\\\",null,\\\"CodeMirror-measure\\\"),i.lineMeasure=M(\\\"div\\\",null,\\\"CodeMirror-measure\\\"),i.lineSpace=N(\\\"div\\\",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,\\\"position: relative; outline: none\\\");var o=N(\\\"div\\\",[i.lineSpace],\\\"CodeMirror-lines\\\");i.mover=M(\\\"div\\\",[o],null,\\\"position: relative\\\"),i.sizer=M(\\\"div\\\",[i.mover],\\\"CodeMirror-sizer\\\"),i.sizerWidth=null,i.heightForcer=M(\\\"div\\\",null,null,\\\"position: absolute; height: \\\"+z+\\\"px; width: 1px;\\\"),i.gutters=M(\\\"div\\\",null,\\\"CodeMirror-gutters\\\"),i.lineGutter=null,i.scroller=M(\\\"div\\\",[i.sizer,i.heightForcer,i.gutters],\\\"CodeMirror-scroll\\\"),i.scroller.setAttribute(\\\"tabIndex\\\",\\\"-1\\\"),i.wrapper=M(\\\"div\\\",[i.scrollbarFiller,i.gutterFiller,i.scroller],\\\"CodeMirror\\\"),w&&v\u003C8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),f||d&&h||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=$r(r.gutters,r.lineNumbers),qr(i),n.init(i)}Gr.prototype.signal=function(e,t){Le(e,t)&&this.events.push(arguments)},Gr.prototype.finish=function(){for(var e=0;e\u003Cthis.events.length;e++)xe.apply(null,this.events[e])};var Jr=0,ei=null;function ti(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ni(e){e=ti(e);return e.x*=ei,e.y*=ei,e}function ri(e,t){var n=ti(t),r=n.x,i=n.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(r&&s||i&&a){if(i&&g&&f)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var h=0;h\u003Cc.length;h++)if(c[h].node==u){e.display.currentWheelTarget=u;break e}if(r&&!d&&!p&&null!=ei)return i&&a&&Lr(e,Math.max(0,l.scrollTop+i*ei)),Tr(e,Math.max(0,l.scrollLeft+r*ei)),(!i||i&&a)&&Te(t),void(o.wheelStartX=null);i&&null!=ei&&(n=i*ei,a=(s=e.doc.scrollTop)+o.wrapper.clientHeight,n\u003C0?s=Math.max(0,s+n-50):a=Math.min(e.doc.height,a+n+50),Kr(e,{top:s,bottom:a})),Jr\u003C20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){var e,t;null!=o.wheelStartX&&(t=l.scrollLeft-o.wheelStartX,t=(e=l.scrollTop-o.wheelStartY)&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX,o.wheelStartX=o.wheelStartY=null,t&&(ei=(ei*Jr+t)/(Jr+1),++Jr))},200)):(o.wheelDX+=r,o.wheelDY+=i))}}w?ei=-.53:d?ei=15:o?ei=-.7:c&&(ei=-1/3);var ii=function(e,t){this.ranges=e,this.primIndex=t};ii.prototype.primary=function(){return this.ranges[this.primIndex]},ii.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t\u003Cthis.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ot(n.anchor,r.anchor)||!ot(n.head,r.head))return!1}return!0},ii.prototype.deepCopy=function(){for(var e=[],t=0;t\u003Cthis.ranges.length;t++)e[t]=new oi(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new ii(e,this.primIndex)},ii.prototype.somethingSelected=function(){for(var e=0;e\u003Cthis.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ii.prototype.contains=function(e,t){t=t||e;for(var n=0;n\u003Cthis.ranges.length;n++){var r=this.ranges[n];if(0\u003C=it(t,r.from())&&it(e,r.to())\u003C=0)return n}return-1};var oi=function(e,t){this.anchor=e,this.head=t};function li(e,t,n){var r=e&&e.options.selectionsMayTouch,e=t[n];t.sort(function(e,t){return it(e.from(),t.from())}),n=R(t,e);for(var i=1;i\u003Ct.length;i++){var o,l=t[i],s=t[i-1],a=it(s.to(),l.from());(r&&!l.empty()?0\u003Ca:0\u003C=a)&&(o=at(s.from(),l.from()),a=st(s.to(),l.to()),s=s.empty()?l.from()==l.head:s.from()==s.head,i\u003C=n&&--n,t.splice(--i,2,new oi(s?a:o,s?o:a)))}return new ii(t,n)}function si(e,t){return new ii([new oi(e,t||e)],0)}function ai(e){return e.text?rt(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ui(e,t){if(it(e,t.from)\u003C0)return e;if(it(e,t.to)\u003C=0)return ai(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ai(t).ch-t.to.ch),rt(n,r)}function ci(e,t){for(var n=[],r=0;r\u003Ce.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new oi(ui(i.anchor,t),ui(i.head,t)))}return li(e.cm,n,e.sel.primIndex)}function hi(e,t,n){return e.line==t.line?rt(n.line,e.ch-t.ch+n.ch):rt(n.line+(e.line-t.line),e.ch)}function di(e){e.doc.mode=Ue(e.options,e.doc.modeOption),fi(e)}function fi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,zr(e,100),e.state.modeGen++,e.curOp&&tr(e)}function pi(e,t){return 0==t.from.ch&&0==t.to.ch&&\\\"\\\"==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function gi(e,o,t,l){function i(e){return t?t[e]:null}function n(e,t,n){var r,i;r=t,i=n,t=l,(n=e).text=r,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Ot(n),Dt(n,i),(t=t?t(n):1)!=n.height&&Qe(n,t),ln(e,\\\"change\\\",e,o)}function r(e,t){for(var n=[],r=e;r\u003Ct;++r)n.push(new Xt(c[r],i(r),l));return n}var s,a=o.from,u=o.to,c=o.text,h=$e(e,a.line),d=$e(e,u.line),f=Y(c),p=i(c.length-1),g=u.line-a.line;o.full?(e.insert(0,r(0,c.length)),e.remove(c.length,e.size-c.length)):pi(e,o)?(s=r(0,c.length-1),n(d,d.text,p),g&&e.remove(a.line,g),s.length&&e.insert(a.line,s)):h==d?1==c.length?n(h,h.text.slice(0,a.ch)+f+h.text.slice(u.ch),p):((s=r(1,c.length-1)).push(new Xt(f+h.text.slice(u.ch),p,l)),n(h,h.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,s)):1==c.length?(n(h,h.text.slice(0,a.ch)+c[0]+d.text.slice(u.ch),i(0)),e.remove(a.line+1,g)):(n(h,h.text.slice(0,a.ch)+c[0],i(0)),n(d,f+d.text.slice(u.ch),p),p=r(1,c.length-1),1\u003Cg&&e.remove(a.line+1,g-1),e.insert(a.line+1,p)),ln(e,\\\"change\\\",e,o)}function mi(e,s,a){!function e(t,n,r){if(t.linked)for(var i=0;i\u003Ct.linked.length;++i){var o,l=t.linked[i];l.doc!=n&&(o=r&&l.sharedHist,a&&!o||(s(l.doc,o),e(l.doc,t,o)))}}(e,null,!0)}function vi(e,t){if(t.cm)throw new Error(\\\"This document is already in use.\\\");Qn((e.doc=t).cm=e),di(e),yi(e),e.options.lineWrapping||jt(e),e.options.mode=t.modeOption,tr(e)}function yi(e){(\\\"rtl\\\"==e.doc.direction?D:L)(e.display.lineDiv,\\\"CodeMirror-rtl\\\")}function bi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function wi(e,t){var n={from:lt(t.from),to:ai(t),text:qe(e,t.from,t.to)};return ki(e,n,t.from.line,t.to.line+1),mi(e,function(e){return ki(e,n,t.from.line,t.to.line+1),0},!0),n}function xi(e){for(;e.length;){if(!Y(e).ranges)break;e.pop()}}function Ci(e,t,n,r){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(\\\"+\\\"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||\\\"*\\\"==t.origin.charAt(0)))&&(o=(a=i).lastOp==r?(xi(a.done),Y(a.done)):a.done.length&&!Y(a.done).ranges?Y(a.done):1\u003Ca.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),Y(a.done)):void 0))l=Y(o.changes),0==it(t.from,t.to)&&0==it(t.from,l.to)?l.to=ai(t):o.changes.push(wi(e,t));else{var a=Y(i.done);for(a&&a.ranges||Li(e.sel,i.done),o={changes:[wi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,l||xe(e,\\\"historyAdded\\\")}function Si(e,t,n,r){var i,o,l,s=e.history,a=r&&r.origin;n==s.lastSelOp||a&&s.lastSelOrigin==a&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==a||(i=e,o=a,l=Y(s.done),e=t,\\\"*\\\"==(o=o.charAt(0))||\\\"+\\\"==o&&l.ranges.length==e.ranges.length&&l.somethingSelected()==e.somethingSelected()&&new Date-i.history.lastSelTime\u003C=(i.cm?i.cm.options.historyEventDelay:500)))?s.done[s.done.length-1]=t:Li(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=a,s.lastSelOp=n,r&&!1!==r.clearRedo&&xi(s.undone)}function Li(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ki(t,n,e,r){var i=n[\\\"spans_\\\"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){e.markedSpans&&((i=i||(n[\\\"spans_\\\"+t.id]={}))[o]=e.markedSpans),++o})}function Ti(e,t){var n=t[\\\"spans_\\\"+e.id];if(!n)return null;for(var r=[],i=0;i\u003Ct.text.length;++i)r.push(function(e){if(!e)return null;for(var t,n=0;n\u003Ce.length;++n)e[n].marker.explicitlyCleared?t=t||e.slice(0,n):t&&t.push(e[n]);return t?t.length?t:null:e}(n[i]));return r}function Mi(e,t){var n=Ti(e,t),r=Nt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i\u003Cn.length;++i){var o=n[i],l=r[i];if(o&&l)e:for(var s=0;s\u003Cl.length;++s){for(var a=l[s],u=0;u\u003Co.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(n[i]=l)}return n}function Ni(e,t,n){for(var r=[],i=0;i\u003Ce.length;++i){var o=e[i];if(o.ranges)r.push(n?ii.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];r.push({changes:s});for(var a=0;a\u003Cl.length;++a){var u,c=l[a];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\\\\d+)$/))&&-1\u003CR(t,Number(u[1]))&&(Y(s)[h]=c[h],delete c[h])}}}return r}function Ai(e,t,n,r){if(r){r=e.anchor;return n&&((e=it(t,r)\u003C0)!=it(n,r)\u003C0?(r=t,t=n):e!=it(t,n)\u003C0&&(t=n)),new oi(r,t)}return new oi(n||t,t)}function Oi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ei(e,new ii([Ai(e.sel.primary(),t,n,i)],0),r)}function Di(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o\u003Ce.sel.ranges.length;o++)r[o]=Ai(e.sel.ranges[o],t[o],null,i);Ei(e,li(e.cm,r,e.sel.primIndex),n)}function Wi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ei(e,li(e.cm,i,e.sel.primIndex),r)}function Hi(e,t,n,r){Ei(e,si(t,n),r)}function Fi(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?Pi(e,r[r.length-1]=t,n):Ei(e,t,n)}function Ei(e,t,n){Pi(e,t,n),Si(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Pi(e,t,n){var r,i;(Le(e,\\\"beforeSelectionChange\\\")||e.cm&&Le(e.cm,\\\"beforeSelectionChange\\\"))&&(r=e,i=n,i={ranges:(o=t).ranges,update:function(e){this.ranges=[];for(var t=0;t\u003Ce.length;t++)this.ranges[t]=new oi(ct(r,e[t].anchor),ct(r,e[t].head))},origin:i&&i.origin},xe(r,\\\"beforeSelectionChange\\\",r,i),r.cm&&xe(r.cm,\\\"beforeSelectionChange\\\",r.cm,i),t=i.ranges!=o.ranges?li(r.cm,i.ranges,i.ranges.length-1):o);var o=n&&n.bias||(it(t.primary().head,e.sel.primary().head)\u003C0?-1:1);Ii(e,zi(e,t,o,!0)),n&&!1===n.scroll||!e.cm||wr(e.cm)}function Ii(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Se(e.cm)),ln(e,\\\"cursorActivity\\\",e))}function Ri(e){Ii(e,zi(e,e.sel,null,!1))}function zi(e,t,n,r){for(var i,o=0;o\u003Ct.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=Gi(e,l.anchor,s&&s.anchor,n,r),s=Gi(e,l.head,s&&s.head,n,r);!i&&a==l.anchor&&s==l.head||((i=i||t.ranges.slice(0,o))[o]=new oi(a,s))}return i?li(e.cm,i,t.primIndex):t}function Bi(e,t,n,r,i){var o=$e(e,t.line);if(o.markedSpans)for(var l=0;l\u003Co.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker,u=\\\"selectLeft\\\"in a?!a.selectLeft:a.inclusiveLeft,c=\\\"selectRight\\\"in a?!a.selectRight:a.inclusiveRight;if((null==s.from||(u?s.from\u003C=t.ch:s.from\u003Ct.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(xe(a,\\\"beforeCursorEnter\\\"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(a.atomic){if(n){var h=a.find(r\u003C0?1:-1),s=void 0;if((r\u003C0?c:u)&&(h=Ui(e,h,-r,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(s=it(h,n))&&(r\u003C0?s\u003C0:0\u003Cs))return Bi(e,h,t,r,i)}a=a.find(r\u003C0?-1:1);return(r\u003C0?u:c)&&(a=Ui(e,a,r,a.line==t.line?o:null)),a?Bi(e,a,t,r,i):null}}}return t}function Gi(e,t,n,r,i){r=r||1,r=Bi(e,t,n,r,i)||!i&&Bi(e,t,n,r,!0)||Bi(e,t,n,-r,i)||!i&&Bi(e,t,n,-r,!0);return r||(e.cantEdit=!0,rt(e.first,0))}function Ui(e,t,n,r){return n\u003C0&&0==t.ch?t.line>e.first?ct(e,rt(t.line-1)):null:0\u003Cn&&t.ch==(r||$e(e,t.line)).text.length?t.line\u003Ce.first+e.size-1?rt(t.line+1,0):null:new rt(t.line,t.ch+n)}function Vi(e){e.setSelection(rt(e.firstLine(),0),rt(e.lastLine()),G)}function Ki(i,e,t){var o={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=!0}};return t&&(o.update=function(e,t,n,r){e&&(o.from=ct(i,e)),t&&(o.to=ct(i,t)),n&&(o.text=n),void 0!==r&&(o.origin=r)}),xe(i,\\\"beforeChange\\\",i,o),i.cm&&xe(i.cm,\\\"beforeChange\\\",i.cm,o),o.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ji(e,t,n){if(e.cm){if(!e.cm.curOp)return Pr(e.cm,ji)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Le(e,\\\"beforeChange\\\")||e.cm&&Le(e.cm,\\\"beforeChange\\\"))||(t=Ki(e,t,!0))){var r=Lt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t\u003Ce.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=R(r,n)||(r=r||[]).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o\u003Cr.length;++o)for(var l=r[o],s=l.find(0),a=0;a\u003Ci.length;++a){var u,c,h,d=i[a];it(d.to,s.from)\u003C0||0\u003Cit(d.from,s.to)||(u=[a,1],c=it(d.from,s.from),h=it(d.to,s.to),(c\u003C0||!l.inclusiveLeft&&!c)&&u.push({from:d.from,to:s.from}),(0\u003Ch||!l.inclusiveRight&&!h)&&u.push({from:s.to,to:d.to}),i.splice.apply(i,u),a+=u.length-3)}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;0\u003C=i;--i)Xi(e,{from:r[i].from,to:r[i].to,text:i?[\\\"\\\"]:t.text,origin:t.origin});else Xi(e,t)}}function Xi(e,n){var t,r;1==n.text.length&&\\\"\\\"==n.text[0]&&0==it(n.from,n.to)||(t=ci(e,n),Ci(e,n,t,e.cm?e.cm.curOp.id:NaN),$i(e,n,t,Nt(e,n)),r=[],mi(e,function(e,t){t||-1!=R(r,e.history)||(Ji(e.history,n),r.push(e.history)),$i(e,n,null,Nt(e,n))}))}function Yi(i,o,e){var t=i.cm&&i.cm.state.suppressEdits;if(!t||e){for(var l,n=i.history,r=i.sel,s=\\\"undo\\\"==o?n.done:n.undone,a=\\\"undo\\\"==o?n.undone:n.done,u=0;u\u003Cs.length&&(l=s[u],e?!l.ranges||l.equals(i.sel):l.ranges);u++);if(u!=s.length){for(n.lastOrigin=n.lastSelOrigin=null;;){if(!(l=s.pop()).ranges){if(t)return void s.push(l);break}if(Li(l,a),e&&!l.equals(i.sel))return void Ei(i,l,{clearRedo:!1});r=l}var c=[];Li(r,a),a.push({changes:c,generation:n.generation}),n.generation=l.generation||++n.maxGeneration;for(var h=Le(i,\\\"beforeChange\\\")||i.cm&&Le(i.cm,\\\"beforeChange\\\"),d=l.changes.length-1;0\u003C=d;--d){var f=function(e){var n=l.changes[e];if(n.origin=o,h&&!Ki(i,n,!1))return s.length=0,{};c.push(wi(i,n));var t=e?ci(i,n):Y(s);$i(i,n,t,Mi(i,n)),!e&&i.cm&&i.cm.scrollIntoView({from:n.from,to:ai(n)});var r=[];mi(i,function(e,t){t||-1!=R(r,e.history)||(Ji(e.history,n),r.push(e.history)),$i(e,n,null,Mi(e,n))})}(d);if(f)return f.v}}}}function _i(e,t){if(0!=t&&(e.first+=t,e.sel=new ii(_(e.sel.ranges,function(e){return new oi(rt(e.anchor.line+t,e.anchor.ch),rt(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){tr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r\u003Cn.viewTo;r++)nr(e.cm,r,\\\"gutter\\\")}}function $i(e,t,n,r){if(e.cm&&!e.cm.curOp)return Pr(e.cm,$i)(e,t,n,r);var i;t.to.line\u003Ce.first?_i(e,t.text.length-1-(t.to.line-t.from.line)):t.from.line>e.lastLine()||(t.from.line\u003Ce.first&&(_i(e,i=t.text.length-1-(e.first-t.from.line)),t={from:rt(e.first,0),to:rt(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}),i=e.lastLine(),t.to.line>i&&(t={from:t.from,to:rt(i,$e(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=qe(e,t.from,t.to),n=n||ci(e,t),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=Je(zt($e(r,o.line))),r.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0}));-1\u003Cr.sel.contains(t.from,t.to)&&Se(e);gi(r,t,n,Zn(e)),e.options.lineWrapping||(r.iter(a,o.line+t.text.length,function(e){var t=Kt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier\u003Ct-10)){for(var n=e.first,r=t-1;n\u003Cr;r--){var i=$e(e,r).stateAfter;if(i&&(!(i instanceof dt)||r+i.lookAhead\u003Ct)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(r,o.line),zr(e,400);a=t.text.length-(l.line-o.line)-1;t.full?tr(e):o.line!=l.line||1!=t.text.length||pi(e.doc,t)?tr(e,o.line,l.line+1,a):nr(e,o.line,\\\"text\\\");r=Le(e,\\\"changes\\\"),a=Le(e,\\\"change\\\");(a||r)&&(t={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin},a&&ln(e,\\\"change\\\",e,t),r&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(t));e.display.selForContextMenu=null}(e.cm,t,r):gi(e,t,r),Pi(e,n,G),e.cantEdit&&Gi(e,rt(e.firstLine(),0))&&(e.cantEdit=!1))}function qi(e,t,n,r,i){var o;it(r=r||n,n)\u003C0&&(n=(o=[r,n])[0],r=o[1]),\\\"string\\\"==typeof t&&(t=e.splitLines(t)),ji(e,{from:n,to:r,text:t,origin:i})}function Zi(e,t,n,r){n\u003Ce.line?e.line+=r:t\u003Ce.line&&(e.line=t,e.ch=0)}function Qi(e,t,n,r){for(var i=0;i\u003Ce.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s\u003Co.ranges.length;s++)Zi(o.ranges[s].anchor,t,n,r),Zi(o.ranges[s].head,t,n,r)}else{for(var a=0;a\u003Co.changes.length;++a){var u=o.changes[a];if(n\u003Cu.from.line)u.from=rt(u.from.line+r,u.from.ch),u.to=rt(u.to.line+r,u.to.ch);else if(t\u003C=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Ji(e,t){var n=t.from.line,r=t.to.line,t=t.text.length-(r-n)-1;Qi(e.done,n,r,t),Qi(e.undone,n,r,t)}function eo(e,t,n,r){var i=t,o=t;return\\\"number\\\"==typeof t?o=$e(e,ut(e,t)):i=Je(t),null==i?null:(r(o,i)&&e.cm&&nr(e.cm,i,n),o)}function to(e){this.lines=e,this.parent=null;for(var t=0,n=0;n\u003Ce.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function no(e){this.children=e;for(var t=0,n=0,r=0;r\u003Ce.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}oi.prototype.from=function(){return at(this.anchor,this.head)},oi.prototype.to=function(){return st(this.anchor,this.head)},oi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},to.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n,r=e,i=e+t;r\u003Ci;++r){var o=this.lines[r];this.height-=o.height,(n=o).parent=null,Ot(n),ln(o,\\\"delete\\\")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r\u003Ct.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e\u003Cr;++e)if(n(this.lines[e]))return!0}},no.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n,r=0;r\u003Cthis.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e\u003Co){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),this.height-=s-i.height,o==l&&(this.children.splice(r--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}this.size-t\u003C25&&(1\u003Cthis.children.length||!(this.children[0]instanceof to))&&(n=[],this.collapse(n),this.children=[new to(n)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t\u003Cthis.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r\u003Cthis.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e\u003C=o){if(i.insertInner(e,t,n),i.lines&&50\u003Ci.lines.length){for(var l=i.lines.length%25+25,s=l;s\u003Ci.lines.length;){var a=new to(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++r,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length\u003C=10)){var e=this;do{var t,n=new no(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=n.size,e.height-=n.height,t=R(e.parent.children,e),e.parent.children.splice(t+1,0,n)):(((t=new no(e.children)).parent=e).children=[t,n],e=t),n.parent=e.parent,10\u003Ce.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r\u003Cthis.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e\u003Co){var l=Math.min(t,o-e);if(i.iterN(e,l,n))return!0;if(0==(t-=l))break;e=0}else e-=o}}};function ro(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t}function io(e,t,n){Vt(t)\u003C(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&br(e,n)}ro.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Je(n);if(null!=r&&t){for(var i=0;i\u003Ct.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=gn(this);Qe(n,Math.max(0,n.height-o)),e&&(Er(e,function(){io(e,n,-o),nr(e,r,\\\"widget\\\")}),ln(e,\\\"lineWidgetCleared\\\",e,this,r))}},ro.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=gn(this)-t;i&&(Ut(this.doc,r)||Qe(r,r.height+i),n&&Er(n,function(){n.curOp.forceUpdate=!0,io(n,r,i),ln(n,\\\"lineWidgetChanged\\\",n,e,Je(r))}))},ke(ro);var oo=0,lo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++oo};function so(t,n,r,e,i){if(e&&e.shared)return function(e,n,r,i,o){(i=E(i)).shared=!1;var l=[so(e,n,r,i,o)],s=l[0],a=i.widgetNode;return mi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),l.push(so(e,ct(e,n),ct(e,r),i,o));for(var t=0;t\u003Ce.linked.length;++t)if(e.linked[t].isParent)return;s=Y(l)}),new ao(l,s)}(t,n,r,e,i);if(t.cm&&!t.cm.curOp)return Pr(t.cm,so)(t,n,r,e,i);var o=new lo(t,i),i=it(n,r);if(e&&E(e,o,!1),0\u003Ci||0==i&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=N(\\\"span\\\",[o.replacedWith],\\\"CodeMirror-widget\\\"),e.handleMouseEvents||o.widgetNode.setAttribute(\\\"cm-ignore-events\\\",\\\"true\\\"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Rt(t,n.line,n,r,o)||n.line!=r.line&&Rt(t,r.line,n,r,o))throw new Error(\\\"Inserting collapsed marker partially overlapping an existing one\\\");kt=!0}o.addToHistory&&Ci(t,{from:n,to:r,origin:\\\"markText\\\"},t.sel,NaN);var l,s=n.line,a=t.cm;if(t.iter(s,r.line+1,function(e){var t;a&&o.collapsed&&!a.options.lineWrapping&&zt(e)==a.display.maxLine&&(l=!0),o.collapsed&&s!=n.line&&Qe(e,0),t=e,e=new Tt(o,s==n.line?n.ch:null,s==r.line?r.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t),++s}),o.collapsed&&t.iter(n.line,r.line+1,function(e){Ut(t,e)&&Qe(e,0)}),o.clearOnEnter&&ye(o,\\\"beforeCursorEnter\\\",function(){return o.clear()}),o.readOnly&&(Lt=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++oo,o.atomic=!0),a){if(l&&(a.curOp.updateMaxLine=!0),o.collapsed)tr(a,n.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=n.line;u\u003C=r.line;u++)nr(a,u,\\\"text\\\");o.atomic&&Ri(a.doc),ln(a,\\\"markerAdded\\\",a,o)}return o}lo.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,n=t&&!t.curOp;n&&Hr(t),!Le(this,\\\"clear\\\")||(e=this.find())&&ln(this,\\\"clear\\\",e.from,e.to);for(var r=null,i=null,o=0;o\u003Cthis.lines.length;++o){var l=this.lines[o],s=Mt(l.markedSpans,this);t&&!this.collapsed?nr(t,Je(l),\\\"text\\\"):t&&(null!=s.to&&(i=Je(l)),null!=s.from&&(r=Je(l))),l.markedSpans=function(e,t){for(var n,r=0;r\u003Ce.length;++r)e[r]!=t&&(n=n||[]).push(e[r]);return n}(l.markedSpans,s),null==s.from&&this.collapsed&&!Ut(this.doc,l)&&t&&Qe(l,Yn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var a=0;a\u003Cthis.lines.length;++a){var u=zt(this.lines[a]),c=Kt(u);c>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&tr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ri(t.doc)),t&&ln(t,\\\"markerCleared\\\",t,this,r,i),n&&Fr(t),this.parent&&this.parent.clear()}},lo.prototype.find=function(e,t){var n,r;null==e&&\\\"bookmark\\\"==this.type&&(e=1);for(var i=0;i\u003Cthis.lines.length;++i){var o=this.lines[i],l=Mt(o.markedSpans,this);if(null!=l.from&&(n=rt(t?o:Je(o),l.from),-1==e))return n;if(null!=l.to&&(r=rt(t?o:Je(o),l.to),1==e))return r}return n&&{from:n,to:r}},lo.prototype.changed=function(){var n=this,r=this.find(-1,!0),i=this,o=this.doc.cm;r&&o&&Er(o,function(){var e=r.line,t=Je(r.line),t=kn(o,t);t&&(Dn(t),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,Ut(i.doc,e)||null==i.height||(t=i.height,i.height=null,(t=gn(i)-t)&&Qe(e,e.height+t)),ln(o,\\\"markerChanged\\\",o,n)})},lo.prototype.attachLine=function(e){var t;!this.lines.length&&this.doc.cm&&((t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=R(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)),this.lines.push(e)},lo.prototype.detachLine=function(e){this.lines.splice(R(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},ke(lo);var ao=function(e,t){this.markers=e,this.primary=t;for(var n=0;n\u003Ce.length;++n)e[n].parent=this};function uo(e){return e.findMarks(rt(e.first,0),e.clipPos(rt(e.lastLine())),function(e){return e.parent})}ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e\u003Cthis.markers.length;++e)this.markers[e].clear();ln(this,\\\"clear\\\")}},ao.prototype.find=function(e,t){return this.primary.find(e,t)},ke(ao);var co=0,ho=function(e,t,n,r,i){if(!(this instanceof ho))return new ho(e,t,n,r,i);null==n&&(n=0),no.call(this,[new to([new Xt(\\\"\\\",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1;n=rt(this.modeFrontier=this.highlightFrontier=n,0);this.sel=si(n),this.history=new bi(null),this.id=++co,this.modeOption=t,this.lineSep=r,this.direction=\\\"rtl\\\"==i?\\\"rtl\\\":\\\"ltr\\\",this.extend=!1,\\\"string\\\"==typeof e&&(e=this.splitLines(e)),gi(this,{from:n,to:n,text:e}),Ei(this,si(n),G)};ho.prototype=q(no.prototype,{constructor:ho,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r\u003Ct.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Rr(function(e){var t=rt(this.first,0),n=this.first+this.size-1;ji(this,{from:t,to:rt(n,$e(this,n).text.length),text:this.splitLines(e),origin:\\\"setValue\\\",full:!0},!0),this.cm&&xr(this.cm,0,0),Ei(this,si(t),G)}),replaceRange:function(e,t,n,r){qi(this,e,t=ct(this,t),n=n?ct(this,n):t,r)},getRange:function(e,t,n){t=qe(this,ct(this,e),ct(this,t));return!1===n?t:t.join(n||this.lineSeparator())},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){if(tt(this,e))return $e(this,e)},getLineNumber:Je,getLineHandleVisualStart:function(e){return\\\"number\\\"==typeof e&&(e=$e(this,e)),zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ct(this,e)},getCursor:function(e){var t=this.sel.primary(),t=null==e||\\\"head\\\"==e?t.head:\\\"anchor\\\"==e?t.anchor:\\\"end\\\"==e||\\\"to\\\"==e||!1===e?t.to():t.from();return t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rr(function(e,t,n){Hi(this,ct(this,\\\"number\\\"==typeof e?rt(e,t||0):e),null,n)}),setSelection:Rr(function(e,t,n){Hi(this,ct(this,e),ct(this,t||e),n)}),extendSelection:Rr(function(e,t,n){Oi(this,ct(this,e),t&&ct(this,t),n)}),extendSelections:Rr(function(e,t){Di(this,ht(this,e),t)}),extendSelectionsBy:Rr(function(e,t){Di(this,ht(this,_(this.sel.ranges,e)),t)}),setSelections:Rr(function(e,t,n){if(e.length){for(var r=[],i=0;i\u003Ce.length;i++)r[i]=new oi(ct(this,e[i].anchor),ct(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ei(this,li(this.cm,r,t),n)}}),addSelection:Rr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new oi(ct(this,e),ct(this,t||e))),Ei(this,li(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n=0;n\u003Ct.length;n++)var r=qe(this,t[n].from(),t[n].to()),i=i?i.concat(r):r;return!1===e?i:i.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r\u003Cn.length;r++){var i=qe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i\u003Cthis.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||\\\"+input\\\")},replaceSelections:Rr(function(e,t,n){for(var r=[],i=this.sel,o=0;o\u003Ci.ranges.length;o++){var l=i.ranges[o];r[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:n}}for(var t=t&&\\\"end\\\"!=t&&function(e,t,n){for(var r=[],i=u=rt(e.first,0),o=0;o\u003Ct.length;o++){var l=t[o],s=hi(l.from,u,i),a=hi(ai(l),u,i),u=l.to,i=a;\\\"around\\\"==n?(l=it((l=e.sel.ranges[o]).head,l.anchor)\u003C0,r[o]=new oi(l?a:s,l?s:a)):r[o]=new oi(s,s)}return new ii(r,e.sel.primIndex)}(this,r,t),s=r.length-1;0\u003C=s;s--)ji(this,r[s]);t?Fi(this,t):this.cm&&wr(this.cm)}),undo:Rr(function(){Yi(this,\\\"undo\\\")}),redo:Rr(function(){Yi(this,\\\"redo\\\")}),undoSelection:Rr(function(){Yi(this,\\\"undo\\\",!0)}),redoSelection:Rr(function(){Yi(this,\\\"redo\\\",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r\u003Ce.done.length;r++)e.done[r].ranges||++t;for(var i=0;i\u003Ce.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var t=this;this.history=new bi(this.history.maxGeneration),mi(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ni(this.history.done),undone:Ni(this.history.undone)}},setHistory:function(e){var t=this.history=new bi(this.history.maxGeneration);t.done=Ni(e.done.slice(0),null,!0),t.undone=Ni(e.undone.slice(0),null,!0)},setGutterMarker:Rr(function(e,n,r){return eo(this,e,\\\"gutter\\\",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[n]=r)&&ee(t)&&(e.gutterMarkers=null),1})}),clearGutter:Rr(function(t){var n=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&eo(n,e,\\\"gutter\\\",function(){return e.gutterMarkers[t]=null,ee(e.gutterMarkers)&&(e.gutterMarkers=null),1})})}),lineInfo:function(e){var t;if(\\\"number\\\"==typeof e){if(!tt(this,e))return null;if(!(e=$e(this,t=e)))return null}else if(null==(t=Je(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Rr(function(e,n,r){return eo(this,e,\\\"gutter\\\"==n?\\\"gutter\\\":\\\"class\\\",function(e){var t=\\\"text\\\"==n?\\\"textClass\\\":\\\"background\\\"==n?\\\"bgClass\\\":\\\"gutter\\\"==n?\\\"gutterClass\\\":\\\"wrapClass\\\";if(e[t]){if(C(r).test(e[t]))return;e[t]+=\\\" \\\"+r}else e[t]=r;return 1})}),removeLineClass:Rr(function(e,o,l){return eo(this,e,\\\"gutter\\\"==o?\\\"gutter\\\":\\\"class\\\",function(e){var t=\\\"text\\\"==o?\\\"textClass\\\":\\\"background\\\"==o?\\\"bgClass\\\":\\\"gutter\\\"==o?\\\"gutterClass\\\":\\\"wrapClass\\\",n=e[t];if(n){if(null==l)e[t]=null;else{var r=n.match(C(l));if(!r)return;var i=r.index+r[0].length;e[t]=n.slice(0,r.index)+(r.index&&i!=n.length?\\\" \\\":\\\"\\\")+n.slice(i)||null}return 1}})}),addLineWidget:Rr(function(e,t,n){return e=e,i=new ro(r=this,t,n),(o=r.cm)&&i.noHScroll&&(o.display.alignWidgets=!0),eo(r,e,\\\"widget\\\",function(e){var t=e.widgets||(e.widgets=[]);return null==i.insertAt?t.push(i):t.splice(Math.min(t.length,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Ut(r,e)&&(t=Vt(e)\u003Cr.scrollTop,Qe(e,e.height+gn(i)),t&&br(o,i.height),o.curOp.forceUpdate=!0),1}),o&&ln(o,\\\"lineWidgetAdded\\\",o,i,\\\"number\\\"==typeof e?e:Je(e)),i;var r,i,o}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return so(this,ct(this,e),ct(this,t),n,n&&n.type||\\\"range\\\")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return so(this,e=ct(this,e),e,t,\\\"bookmark\\\")},findMarksAt:function(e){var t=[],n=$e(this,(e=ct(this,e)).line).markedSpans;if(n)for(var r=0;r\u003Cn.length;++r){var i=n[r];(null==i.from||i.from\u003C=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,o,l){i=ct(this,i),o=ct(this,o);var s=[],a=i.line;return this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var n=0;n\u003Ct.length;n++){var r=t[n];null!=r.to&&a==i.line&&i.ch>=r.to||null==r.from&&a!=i.line||null!=r.from&&a==o.line&&r.from>=o.ch||l&&!l(r.marker)||s.push(r.marker.parent||r.marker)}++a}),s},getAllMarks:function(){var r=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var n=0;n\u003Ct.length;++n)null!=t[n].from&&r.push(t[n].marker)}),r},posFromIndex:function(t){var n,r=this.first,i=this.lineSeparator().length;return this.iter(function(e){e=e.text.length+i;if(t\u003Ce)return n=t,!0;t-=e,++r}),ct(this,rt(r,n))},indexFromPos:function(e){var t=(e=ct(this,e)).ch;if(e.line\u003Cthis.first||e.ch\u003C0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new ho(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e=e||{};var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to\u003Cn&&(n=e.to);t=new ho(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:e.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n\u003Ct.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),i=e.clipPos(i.to);it(o,i)&&(i=so(e,o,i,r.primary,r.primary.type),r.markers.push(i),i.parent=r)}}(t,uo(this)),t},unlinkDoc:function(e){if(e instanceof ul&&(e=e.doc),this.linked)for(var t=0;t\u003Cthis.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),function(o){for(var e=0;e\u003Co.length;e++)!function(e){var t=o[e],n=[t.primary.doc];mi(t.primary.doc,function(e){return n.push(e)});for(var r=0;r\u003Ct.markers.length;r++){var i=t.markers[r];-1==R(n,i.doc)&&(i.parent=null,t.markers.splice(r--,1))}}(e)}(uo(this));break}var n;e.history==this.history&&(n=[e.id],mi(e,function(e){return n.push(e.id)},!0),e.history=new bi(null),e.history.done=Ni(this.history.done,n),e.history.undone=Ni(this.history.undone,n))},iterLinkedDocs:function(e){mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ee(e)},lineSeparator:function(){return this.lineSep||\\\"\\\\n\\\"},setDirection:Rr(function(e){var t;\\\"rtl\\\"!=e&&(e=\\\"ltr\\\"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Er(t=this.cm,function(){yi(t),tr(t)}))})}),ho.prototype.eachLine=ho.prototype.iter;var fo=0;function po(e){var r=this;if(go(r),!Ce(r,e)&&!mn(r.display,e)){Te(e),w&&(fo=+new Date);var t=Jn(r,e,!0),n=e.dataTransfer.files;if(t&&!r.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(){++l==i&&Pr(r,function(){var e={from:t=ct(r.doc,t),to:t,text:r.doc.splitLines(o.filter(function(e){return null!=e}).join(r.doc.lineSeparator())),origin:\\\"paste\\\"};ji(r.doc,e),Fi(r.doc,si(ct(r.doc,t),ct(r.doc,ai(e))))})()},a=0;a\u003Cn.length;a++)!function(e,t){var n;r.options.allowDropFileTypes&&-1==R(r.options.allowDropFileTypes,e.type)?s():((n=new FileReader).onerror=s,n.onload=function(){var e=n.result;/[\\\\x00-\\\\x08\\\\x0e-\\\\x1f]{2}/.test(e)||(o[t]=e),s()},n.readAsText(e))}(n[a],a);else{if(r.state.draggingText&&-1\u003Cr.doc.sel.contains(t))return r.state.draggingText(e),void setTimeout(function(){return r.display.input.focus()},20);try{var u,c=e.dataTransfer.getData(\\\"Text\\\");if(c){if(r.state.draggingText&&!r.state.draggingText.copy&&(u=r.listSelections()),Pi(r.doc,si(t,t)),u)for(var h=0;h\u003Cu.length;++h)qi(r.doc,\\\"\\\",u[h].anchor,u[h].head,\\\"drag\\\");r.replaceSelection(c,\\\"around\\\",\\\"paste\\\"),r.display.input.focus()}}catch(e){}}}}function go(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function mo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName(\\\"CodeMirror\\\"),n=[],r=0;r\u003Ce.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var e=0;e\u003Cn.length;e++)t(n[e])})}}var vo=!1;function yo(){var e;vo||(ye(window,\\\"resize\\\",function(){null==e&&(e=setTimeout(function(){e=null,mo(bo)},100))}),ye(window,\\\"blur\\\",function(){return mo(pr)}),vo=!0)}function bo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var wo={3:\\\"Pause\\\",8:\\\"Backspace\\\",9:\\\"Tab\\\",13:\\\"Enter\\\",16:\\\"Shift\\\",17:\\\"Ctrl\\\",18:\\\"Alt\\\",19:\\\"Pause\\\",20:\\\"CapsLock\\\",27:\\\"Esc\\\",32:\\\"Space\\\",33:\\\"PageUp\\\",34:\\\"PageDown\\\",35:\\\"End\\\",36:\\\"Home\\\",37:\\\"Left\\\",38:\\\"Up\\\",39:\\\"Right\\\",40:\\\"Down\\\",44:\\\"PrintScrn\\\",45:\\\"Insert\\\",46:\\\"Delete\\\",59:\\\";\\\",61:\\\"=\\\",91:\\\"Mod\\\",92:\\\"Mod\\\",93:\\\"Mod\\\",106:\\\"*\\\",107:\\\"=\\\",109:\\\"-\\\",110:\\\".\\\",111:\\\"/\\\",145:\\\"ScrollLock\\\",173:\\\"-\\\",186:\\\";\\\",187:\\\"=\\\",188:\\\",\\\",189:\\\"-\\\",190:\\\".\\\",191:\\\"/\\\",192:\\\"`\\\",219:\\\"[\\\",220:\\\"\\\\\\\\\\\",221:\\\"]\\\",222:\\\"'\\\",224:\\\"Mod\\\",63232:\\\"Up\\\",63233:\\\"Down\\\",63234:\\\"Left\\\",63235:\\\"Right\\\",63272:\\\"Delete\\\",63273:\\\"Home\\\",63275:\\\"End\\\",63276:\\\"PageUp\\\",63277:\\\"PageDown\\\",63302:\\\"Insert\\\"},xo=0;xo\u003C10;xo++)wo[xo+48]=wo[xo+96]=String(xo);for(var Co=65;Co\u003C=90;Co++)wo[Co]=String.fromCharCode(Co);for(var So=1;So\u003C=12;So++)wo[So+111]=wo[So+63235]=\\\"F\\\"+So;var Lo={};function ko(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var l=0;l\u003Co.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error(\\\"Unrecognized modifier name: \\\"+s);r=!0}}return t&&(e=\\\"Alt-\\\"+e),n&&(e=\\\"Ctrl-\\\"+e),i&&(e=\\\"Cmd-\\\"+e),r&&(e=\\\"Shift-\\\"+e),e}function To(e){var t,n,r={};for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!/^(name|fallthrough|(de|at)tach)$/.test(t))if(\\\"...\\\"!=i){for(var o=_(t.split(\\\" \\\"),ko),l=0;l\u003Co.length;l++){var s=void 0,a=void 0,s=l==o.length-1?(a=o.join(\\\" \\\"),i):(a=o.slice(0,l+1).join(\\\" \\\"),\\\"...\\\"),u=r[a];if(u){if(u!=s)throw new Error(\\\"Inconsistent bindings for \\\"+a)}else r[a]=s}delete e[t]}else delete e[t]}for(n in r)e[n]=r[n];return e}function Mo(e,t,n,r){var i=(t=Do(t)).call?t.call(e,r):t[e];if(!1===i)return\\\"nothing\\\";if(\\\"...\\\"===i)return\\\"multi\\\";if(null!=i&&n(i))return\\\"handled\\\";if(t.fallthrough){if(\\\"[object Array]\\\"!=Object.prototype.toString.call(t.fallthrough))return Mo(e,t.fallthrough,n,r);for(var o=0;o\u003Ct.fallthrough.length;o++){var l=Mo(e,t.fallthrough[o],n,r);if(l)return l}}}function No(e){e=\\\"string\\\"==typeof e?e:wo[e.keyCode];return\\\"Ctrl\\\"==e||\\\"Alt\\\"==e||\\\"Shift\\\"==e||\\\"Mod\\\"==e}function Ao(e,t,n){var r=e;return t.altKey&&\\\"Alt\\\"!=r&&(e=\\\"Alt-\\\"+e),(b?t.metaKey:t.ctrlKey)&&\\\"Ctrl\\\"!=r&&(e=\\\"Ctrl-\\\"+e),(b?t.ctrlKey:t.metaKey)&&\\\"Mod\\\"!=r&&(e=\\\"Cmd-\\\"+e),!n&&t.shiftKey&&\\\"Shift\\\"!=r&&(e=\\\"Shift-\\\"+e),e}function Oo(e,t){if(p&&34==e.keyCode&&e.char)return!1;var n=wo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ao(n,e,t))}function Do(e){return\\\"string\\\"==typeof e?Lo[e]:e}function Wo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i\u003Cn.length;i++){for(var o=e(n[i]);r.length&&it(o.from,Y(r).to)\u003C=0;){var l=r.pop();if(it(l.from,o.from)\u003C0){o.from=l.from;break}}r.push(o)}Er(t,function(){for(var e=r.length-1;0\u003C=e;e--)qi(t.doc,\\\"\\\",r[e].from,r[e].to,\\\"+delete\\\");wr(t)})}function Ho(e,t,n){n=re(e.text,t+n,n);return n\u003C0||n>e.text.length?null:n}function Fo(e,t,n){e=Ho(e,t.ch,n);return null==e?null:new rt(t.line,e,n\u003C0?\\\"after\\\":\\\"before\\\")}function Eo(e,t,n,r,i){if(e){\\\"rtl\\\"==t.doc.direction&&(i=-i);var o=me(n,t.doc.direction);if(o){var l,s,a,e=i\u003C0?Y(o):o[0],o=i\u003C0==(1==e.level)?\\\"after\\\":\\\"before\\\";return 0\u003Ce.level||\\\"rtl\\\"==t.doc.direction?(l=Tn(t,n),s=i\u003C0?n.text.length-1:0,a=Mn(t,l,s).top,s=ie(function(e){return Mn(t,l,e).top==a},i\u003C0==(1==e.level)?e.from:e.to-1,s),\\\"before\\\"==o&&(s=Ho(n,s,1))):s=i\u003C0?e.to:e.from,new rt(r,s,o)}}return new rt(r,i\u003C0?n.text.length:0,i\u003C0?\\\"before\\\":\\\"after\\\")}function Po(t,n,s,e){var a=me(n,t.doc.direction);if(!a)return Fo(n,s,e);s.ch>=n.text.length?(s.ch=n.text.length,s.sticky=\\\"before\\\"):s.ch\u003C=0&&(s.ch=0,s.sticky=\\\"after\\\");var r=le(a,s.ch,s.sticky),i=a[r];if(\\\"ltr\\\"==t.doc.direction&&i.level%2==0&&(0\u003Ce?i.to>s.ch:i.from\u003Cs.ch))return Fo(n,s,e);function u(e,t){return Ho(n,e instanceof rt?e.ch:e,t)}function o(e){return t.options.lineWrapping?(l=l||Tn(t,n),jn(t,n,l,e)):{begin:0,end:n.text.length}}var l,c=o(\\\"before\\\"==s.sticky?u(s,-1):s.ch);if(\\\"rtl\\\"==t.doc.direction||1==i.level){var h=1==i.level==e\u003C0,d=u(s,h?1:-1);if(null!=d&&(h?d\u003C=i.to&&d\u003C=c.end:d>=i.from&&d>=c.begin)){var f=h?\\\"before\\\":\\\"after\\\";return new rt(s.line,d,f)}}f=function(e,t,n){for(var r=function(e,t){return t?new rt(s.line,u(e,1),\\\"before\\\"):new rt(s.line,e,\\\"after\\\")};0\u003C=e&&e\u003Ca.length;e+=t){var i=a[e],o=0\u003Ct==(1!=i.level),l=o?n.begin:u(n.end,-1);if(i.from\u003C=l&&l\u003Ci.to)return r(l,o);if(l=o?i.from:u(i.to,-1),n.begin\u003C=l&&l\u003Cn.end)return r(l,o)}},r=f(r+e,e,c);if(r)return r;c=0\u003Ce?c.end:u(c.begin,-1);return null==c||0\u003Ce&&c==n.text.length||!(r=f(0\u003Ce?0:a.length-1,e,o(c)))?null:r}Lo.basic={Left:\\\"goCharLeft\\\",Right:\\\"goCharRight\\\",Up:\\\"goLineUp\\\",Down:\\\"goLineDown\\\",End:\\\"goLineEnd\\\",Home:\\\"goLineStartSmart\\\",PageUp:\\\"goPageUp\\\",PageDown:\\\"goPageDown\\\",Delete:\\\"delCharAfter\\\",Backspace:\\\"delCharBefore\\\",\\\"Shift-Backspace\\\":\\\"delCharBefore\\\",Tab:\\\"defaultTab\\\",\\\"Shift-Tab\\\":\\\"indentAuto\\\",Enter:\\\"newlineAndIndent\\\",Insert:\\\"toggleOverwrite\\\",Esc:\\\"singleSelection\\\"},Lo.pcDefault={\\\"Ctrl-A\\\":\\\"selectAll\\\",\\\"Ctrl-D\\\":\\\"deleteLine\\\",\\\"Ctrl-Z\\\":\\\"undo\\\",\\\"Shift-Ctrl-Z\\\":\\\"redo\\\",\\\"Ctrl-Y\\\":\\\"redo\\\",\\\"Ctrl-Home\\\":\\\"goDocStart\\\",\\\"Ctrl-End\\\":\\\"goDocEnd\\\",\\\"Ctrl-Up\\\":\\\"goLineUp\\\",\\\"Ctrl-Down\\\":\\\"goLineDown\\\",\\\"Ctrl-Left\\\":\\\"goGroupLeft\\\",\\\"Ctrl-Right\\\":\\\"goGroupRight\\\",\\\"Alt-Left\\\":\\\"goLineStart\\\",\\\"Alt-Right\\\":\\\"goLineEnd\\\",\\\"Ctrl-Backspace\\\":\\\"delGroupBefore\\\",\\\"Ctrl-Delete\\\":\\\"delGroupAfter\\\",\\\"Ctrl-S\\\":\\\"save\\\",\\\"Ctrl-F\\\":\\\"find\\\",\\\"Ctrl-G\\\":\\\"findNext\\\",\\\"Shift-Ctrl-G\\\":\\\"findPrev\\\",\\\"Shift-Ctrl-F\\\":\\\"replace\\\",\\\"Shift-Ctrl-R\\\":\\\"replaceAll\\\",\\\"Ctrl-[\\\":\\\"indentLess\\\",\\\"Ctrl-]\\\":\\\"indentMore\\\",\\\"Ctrl-U\\\":\\\"undoSelection\\\",\\\"Shift-Ctrl-U\\\":\\\"redoSelection\\\",\\\"Alt-U\\\":\\\"redoSelection\\\",fallthrough:\\\"basic\\\"},Lo.emacsy={\\\"Ctrl-F\\\":\\\"goCharRight\\\",\\\"Ctrl-B\\\":\\\"goCharLeft\\\",\\\"Ctrl-P\\\":\\\"goLineUp\\\",\\\"Ctrl-N\\\":\\\"goLineDown\\\",\\\"Alt-F\\\":\\\"goWordRight\\\",\\\"Alt-B\\\":\\\"goWordLeft\\\",\\\"Ctrl-A\\\":\\\"goLineStart\\\",\\\"Ctrl-E\\\":\\\"goLineEnd\\\",\\\"Ctrl-V\\\":\\\"goPageDown\\\",\\\"Shift-Ctrl-V\\\":\\\"goPageUp\\\",\\\"Ctrl-D\\\":\\\"delCharAfter\\\",\\\"Ctrl-H\\\":\\\"delCharBefore\\\",\\\"Alt-D\\\":\\\"delWordAfter\\\",\\\"Alt-Backspace\\\":\\\"delWordBefore\\\",\\\"Ctrl-K\\\":\\\"killLine\\\",\\\"Ctrl-T\\\":\\\"transposeChars\\\",\\\"Ctrl-O\\\":\\\"openLine\\\"},Lo.macDefault={\\\"Cmd-A\\\":\\\"selectAll\\\",\\\"Cmd-D\\\":\\\"deleteLine\\\",\\\"Cmd-Z\\\":\\\"undo\\\",\\\"Shift-Cmd-Z\\\":\\\"redo\\\",\\\"Cmd-Y\\\":\\\"redo\\\",\\\"Cmd-Home\\\":\\\"goDocStart\\\",\\\"Cmd-Up\\\":\\\"goDocStart\\\",\\\"Cmd-End\\\":\\\"goDocEnd\\\",\\\"Cmd-Down\\\":\\\"goDocEnd\\\",\\\"Alt-Left\\\":\\\"goGroupLeft\\\",\\\"Alt-Right\\\":\\\"goGroupRight\\\",\\\"Cmd-Left\\\":\\\"goLineLeft\\\",\\\"Cmd-Right\\\":\\\"goLineRight\\\",\\\"Alt-Backspace\\\":\\\"delGroupBefore\\\",\\\"Ctrl-Alt-Backspace\\\":\\\"delGroupAfter\\\",\\\"Alt-Delete\\\":\\\"delGroupAfter\\\",\\\"Cmd-S\\\":\\\"save\\\",\\\"Cmd-F\\\":\\\"find\\\",\\\"Cmd-G\\\":\\\"findNext\\\",\\\"Shift-Cmd-G\\\":\\\"findPrev\\\",\\\"Cmd-Alt-F\\\":\\\"replace\\\",\\\"Shift-Cmd-Alt-F\\\":\\\"replaceAll\\\",\\\"Cmd-[\\\":\\\"indentLess\\\",\\\"Cmd-]\\\":\\\"indentMore\\\",\\\"Cmd-Backspace\\\":\\\"delWrappedLineLeft\\\",\\\"Cmd-Delete\\\":\\\"delWrappedLineRight\\\",\\\"Cmd-U\\\":\\\"undoSelection\\\",\\\"Shift-Cmd-U\\\":\\\"redoSelection\\\",\\\"Ctrl-Up\\\":\\\"goDocStart\\\",\\\"Ctrl-Down\\\":\\\"goDocEnd\\\",fallthrough:[\\\"basic\\\",\\\"emacsy\\\"]},Lo.default=g?Lo.macDefault:Lo.pcDefault;var Io={selectAll:Vi,singleSelection:function(e){return e.setSelection(e.getCursor(\\\"anchor\\\"),e.getCursor(\\\"head\\\"),G)},killLine:function(n){return Wo(n,function(e){if(e.empty()){var t=$e(n.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line\u003Cn.lastLine()?{from:e.head,to:rt(e.head.line+1,0)}:{from:e.head,to:rt(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Wo(t,function(e){return{from:rt(e.from().line,0),to:ct(t.doc,rt(e.to().line+1,0))}})},delLineLeft:function(e){return Wo(e,function(e){return{from:rt(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(n){return Wo(n,function(e){var t=n.charCoords(e.head,\\\"div\\\").top+5;return{from:n.coordsChar({left:0,top:t},\\\"div\\\"),to:e.from()}})},delWrappedLineRight:function(n){return Wo(n,function(e){var t=n.charCoords(e.head,\\\"div\\\").top+5,t=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},\\\"div\\\");return{from:e.from(),to:t}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(rt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(rt(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Ro(t,e.head.line)},{origin:\\\"+move\\\",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return zo(t,e.head)},{origin:\\\"+move\\\",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(e,t){var n=$e(e.doc,t),r=function(e){for(var t;t=It(e);)e=t.find(1,!0).line;return e}(n);r!=n&&(t=Je(r));return Eo(!0,e,n,t,-1)}(t,e.head.line)},{origin:\\\"+move\\\",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,\\\"div\\\").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},\\\"div\\\")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,\\\"div\\\").top+5;return t.coordsChar({left:0,top:e},\\\"div\\\")},V)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,\\\"div\\\").top+5,t=n.coordsChar({left:0,top:t},\\\"div\\\");return t.ch\u003Cn.getLine(t.line).search(/\\\\S/)?zo(n,e.head):t},V)},goLineUp:function(e){return e.moveV(-1,\\\"line\\\")},goLineDown:function(e){return e.moveV(1,\\\"line\\\")},goPageUp:function(e){return e.moveV(-1,\\\"page\\\")},goPageDown:function(e){return e.moveV(1,\\\"page\\\")},goCharLeft:function(e){return e.moveH(-1,\\\"char\\\")},goCharRight:function(e){return e.moveH(1,\\\"char\\\")},goColumnLeft:function(e){return e.moveH(-1,\\\"column\\\")},goColumnRight:function(e){return e.moveH(1,\\\"column\\\")},goWordLeft:function(e){return e.moveH(-1,\\\"word\\\")},goGroupRight:function(e){return e.moveH(1,\\\"group\\\")},goGroupLeft:function(e){return e.moveH(-1,\\\"group\\\")},goWordRight:function(e){return e.moveH(1,\\\"word\\\")},delCharBefore:function(e){return e.deleteH(-1,\\\"codepoint\\\")},delCharAfter:function(e){return e.deleteH(1,\\\"char\\\")},delWordBefore:function(e){return e.deleteH(-1,\\\"word\\\")},delWordAfter:function(e){return e.deleteH(1,\\\"word\\\")},delGroupBefore:function(e){return e.deleteH(-1,\\\"group\\\")},delGroupAfter:function(e){return e.deleteH(1,\\\"group\\\")},indentAuto:function(e){return e.indentSelection(\\\"smart\\\")},indentMore:function(e){return e.indentSelection(\\\"add\\\")},indentLess:function(e){return e.indentSelection(\\\"subtract\\\")},insertTab:function(e){return e.replaceSelection(\\\"\\\\t\\\")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i\u003Cn.length;i++){var o=n[i].from(),o=P(e.getLine(o.line),o.ch,r);t.push(X(r-o%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection(\\\"add\\\"):e.execCommand(\\\"insertTab\\\")},transposeChars:function(l){return Er(l,function(){for(var e,t,n,r=l.listSelections(),i=[],o=0;o\u003Cr.length;o++)r[o].empty()&&(e=r[o].head,(t=$e(l.doc,e.line).text)&&(e.ch==t.length&&(e=new rt(e.line,e.ch-1)),0\u003Ce.ch?(e=new rt(e.line,e.ch+1),l.replaceRange(t.charAt(e.ch-1)+t.charAt(e.ch-2),rt(e.line,e.ch-2),e,\\\"+transpose\\\")):e.line>l.doc.first&&((n=$e(l.doc,e.line-1).text)&&(e=new rt(e.line,1),l.replaceRange(t.charAt(0)+l.doc.lineSeparator()+n.charAt(n.length-1),rt(e.line-1,n.length-1),e,\\\"+transpose\\\")))),i.push(new oi(e,e)));l.setSelections(i)})},newlineAndIndent:function(r){return Er(r,function(){for(var e=r.listSelections(),t=e.length-1;0\u003C=t;t--)r.replaceRange(r.doc.lineSeparator(),e[t].anchor,e[t].head,\\\"+input\\\");e=r.listSelections();for(var n=0;n\u003Ce.length;n++)r.indentLine(e[n].from().line,null,!0);wr(r)})},openLine:function(e){return e.replaceSelection(\\\"\\\\n\\\",\\\"start\\\")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ro(e,t){var n=$e(e.doc,t),r=zt(n);return r!=n&&(t=Je(r)),Eo(!0,e,r,t,1)}function zo(e,t){var n=Ro(e,t.line),r=$e(e.doc,n.line),e=me(r,e.doc.direction);if(e&&0!=e[0].level)return n;r=Math.max(n.ch,r.text.search(/\\\\S/)),t=t.line==n.line&&t.ch\u003C=r&&t.ch;return rt(n.line,t?0:r,n.sticky)}function Bo(e,t,n){if(\\\"string\\\"==typeof t&&!(t=Io[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=B}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var Go=new I;function Uo(e,t,n,r){var i=e.state.keySeq;if(i){if(No(t))return\\\"handled\\\";if(/\\\\'$/.test(t)?e.state.keySeq=null:Go.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Vo(e,i+\\\" \\\"+t,n,r))return!0}return Vo(e,t,n,r)}function Vo(e,t,n,r){r=function(e,t,n){for(var r=0;r\u003Ce.state.keyMaps.length;r++){var i=Mo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Mo(t,e.options.extraKeys,n,e)||Mo(t,e.options.keyMap,n,e)}(e,t,r);return\\\"multi\\\"==r&&(e.state.keySeq=t),\\\"handled\\\"==r&&ln(e,\\\"keyHandled\\\",e,t,n),\\\"handled\\\"!=r&&\\\"multi\\\"!=r||(Te(n),cr(e)),!!r}function Ko(t,e){var n=Oo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?Uo(t,\\\"Shift-\\\"+n,e,function(e){return Bo(t,e,!0)})||Uo(t,n,e,function(e){if(\\\"string\\\"==typeof e?/^go[A-Z]/.test(e):e.motion)return Bo(t,e)}):Uo(t,n,e,function(e){return Bo(t,e)}))}var jo=null;function Xo(e){var t,n,r,i=this;function o(e){18!=e.keyCode&&e.altKey||(L(r,\\\"CodeMirror-crosshair\\\"),we(document,\\\"keyup\\\",o),we(document,\\\"mouseover\\\",o))}e.target&&e.target!=i.display.input.getField()||(i.curOp.focus=O(),Ce(i,e)||(w&&v\u003C11&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,i.display.shift=16==t||e.shiftKey,n=Ko(i,e),p&&(jo=n?t:null,!n&&88==t&&!Ie&&(g?e.metaKey:e.ctrlKey)&&i.replaceSelection(\\\"\\\",null,\\\"cut\\\")),d&&!g&&!n&&46==t&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand(\\\"cut\\\"),18!=t||/\\\\bCodeMirror-crosshair\\\\b/.test(i.display.lineDiv.className)||(D(r=i.display.lineDiv,\\\"CodeMirror-crosshair\\\"),ye(document,\\\"keyup\\\",o),ye(document,\\\"mouseover\\\",o))))}function Yo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ce(this,e)}function _o(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||mn(t.display,e)||Ce(t,e)||e.ctrlKey&&!e.altKey||g&&e.metaKey)){var n,r=e.keyCode,i=e.charCode;if(p&&r==jo)return jo=null,void Te(e);p&&(!e.which||e.which\u003C10)&&Ko(t,e)||\\\"\\\\b\\\"!=(i=String.fromCharCode(null==i?r:i))&&(Uo(n=t,\\\"'\\\"+i+\\\"'\\\",e,function(e){return Bo(n,e,!0)})||t.display.input.onKeyPress(e))}}var $o,qo,Zo=function(e,t,n){this.time=e,this.pos=t,this.button=n};function Qo(e){var t,n,r,i,o,l=this,s=l.display;Ce(l,e)||s.activeTouch&&s.input.supportsTouch()||(s.input.ensurePolled(),s.shift=e.shiftKey,mn(s,e)?f||(s.scroller.draggable=!1,setTimeout(function(){return s.scroller.draggable=!0},100)):tl(l,e)||(t=Jn(l,e),n=De(e),i=t?(r=t,i=n,o=+new Date,qo&&qo.compare(o,r,i)?($o=qo=null,\\\"triple\\\"):$o&&$o.compare(o,r,i)?(qo=new Zo(o,r,i),$o=null,\\\"double\\\"):($o=new Zo(o,r,i),qo=null,\\\"single\\\")):\\\"single\\\",window.focus(),1==n&&l.state.selectingText&&l.state.selectingText(e),t&&function(n,e,r,t,i){var o=\\\"Click\\\";\\\"double\\\"==t?o=\\\"Double\\\"+o:\\\"triple\\\"==t&&(o=\\\"Triple\\\"+o);return Uo(n,Ao(o=(1==e?\\\"Left\\\":2==e?\\\"Middle\\\":\\\"Right\\\")+o,i),i,function(e){if(\\\"string\\\"==typeof e&&(e=Io[e]),!e)return!1;var t=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),t=e(n,r)!=B}finally{n.state.suppressEdits=!1}return t})}(l,n,t,i,e)||(1==n?t?function(e,t,n,r){w?setTimeout(F(hr,e),0):e.curOp.focus=O();var i,o=function(e,t,n){var r=e.getOption(\\\"configureMouse\\\"),i=r?r(e,t,n):{};null==i.unit&&(r=m?n.shiftKey&&n.metaKey:n.altKey,i.unit=r?\\\"rectangle\\\":\\\"single\\\"==t?\\\"char\\\":\\\"double\\\"==t?\\\"word\\\":\\\"line\\\");null!=i.extend&&!e.doc.extend||(i.extend=e.doc.extend||n.shiftKey);null==i.addNew&&(i.addNew=g?n.metaKey:n.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(g?n.altKey:n.ctrlKey));return i}(e,n,r),l=e.doc.sel;(e.options.dragDrop&&Fe&&!e.isReadOnly()&&\\\"single\\\"==n&&-1\u003C(i=l.contains(t))&&(it((i=l.ranges[i]).from(),t)\u003C0||0\u003Ct.xRel)&&(0\u003Cit(i.to(),t)||t.xRel\u003C0)?function(t,n,r,i){var o=t.display,l=!1,s=Pr(t,function(e){f&&(o.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:dr(t)),we(o.wrapper.ownerDocument,\\\"mouseup\\\",s),we(o.wrapper.ownerDocument,\\\"mousemove\\\",a),we(o.scroller,\\\"dragstart\\\",u),we(o.scroller,\\\"drop\\\",s),l||(Te(e),i.addNew||Oi(t.doc,r,null,null,i.extend),f&&!c||w&&9==v?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),a=function(e){l=l||10\u003C=Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)},u=function(){return l=!0};f&&(o.scroller.draggable=!0);(t.state.draggingText=s).copy=!i.moveOnDrag,ye(o.wrapper.ownerDocument,\\\"mouseup\\\",s),ye(o.wrapper.ownerDocument,\\\"mousemove\\\",a),ye(o.scroller,\\\"dragstart\\\",u),ye(o.scroller,\\\"drop\\\",s),t.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}:function(d,e,f,p){w&&dr(d);var l=d.display,g=d.doc;Te(e);var m,v,y=g.sel,t=y.ranges;p.addNew&&!p.extend?(v=g.sel.contains(f),m=-1\u003Cv?t[v]:new oi(f,f)):(m=g.sel.primary(),v=g.sel.primIndex);\\\"rectangle\\\"==p.unit?(p.addNew||(m=new oi(f,f)),f=Jn(d,e,!0,!0),v=-1):(e=Jo(d,f,p.unit),m=p.extend?Ai(m,e.anchor,e.head,p.extend):e);p.addNew?-1==v?(v=t.length,Ei(g,li(d,t.concat([m]),v),{scroll:!1,origin:\\\"*mouse\\\"})):1\u003Ct.length&&t[v].empty()&&\\\"char\\\"==p.unit&&!p.extend?(Ei(g,li(d,t.slice(0,v).concat(t.slice(v+1)),0),{scroll:!1,origin:\\\"*mouse\\\"}),y=g.sel):Wi(g,v,m,U):(Ei(g,new ii([m],v=0),U),y=g.sel);var b=f;function s(e){if(0!=it(b,e))if(b=e,\\\"rectangle\\\"==p.unit){for(var t=[],n=d.options.tabSize,r=P($e(g,f.line).text,f.ch,n),i=P($e(g,e.line).text,e.ch,n),o=Math.min(r,i),l=Math.max(r,i),s=Math.min(f.line,e.line),a=Math.min(d.lastLine(),Math.max(f.line,e.line));s\u003C=a;s++){var u=$e(g,s).text,c=K(u,o,n);o==l?t.push(new oi(rt(s,c),rt(s,c))):u.length>c&&t.push(new oi(rt(s,c),rt(s,K(u,l,n))))}t.length||t.push(new oi(f,f)),Ei(g,li(d,y.ranges.slice(0,v).concat(t),v),{origin:\\\"*mouse\\\",scroll:!1}),d.scrollIntoView(e)}else{var h,r=m,i=Jo(d,e,p.unit),e=r.anchor,e=0\u003Cit(i.anchor,e)?(h=i.head,at(r.from(),i.anchor)):(h=i.anchor,st(r.to(),i.head)),i=y.ranges.slice(0);i[v]=function(e,t){var n=t.anchor,r=t.head,i=$e(e.doc,n.line);if(0==it(n,r)&&n.sticky==r.sticky)return t;var o=me(i);if(!o)return t;var l=le(o,n.ch,n.sticky),s=o[l];if(s.from!=n.ch&&s.to!=n.ch)return t;i=l+(s.from==n.ch==(1!=s.level)?0:1);if(0==i||i==o.length)return t;a=r.line!=n.line?0\u003C(r.line-n.line)*(\\\"ltr\\\"==e.doc.direction?1:-1):(e=le(o,r.ch,r.sticky),a=e-l||(r.ch-n.ch)*(1==s.level?-1:1),e==i-1||e==i?a\u003C0:0\u003Ca);var i=o[i+(a?-1:0)],a=a==(1==i.level),i=a?i.from:i.to,a=a?\\\"after\\\":\\\"before\\\";return n.ch==i&&n.sticky==a?t:new oi(new rt(n.line,i,a),r)}(d,new oi(ct(g,e),h)),Ei(g,li(d,i,v),U)}}var a=l.wrapper.getBoundingClientRect(),u=0;function n(e){d.state.selectingText=!1,u=1/0,e&&(Te(e),l.input.focus()),we(l.wrapper.ownerDocument,\\\"mousemove\\\",r),we(l.wrapper.ownerDocument,\\\"mouseup\\\",i),g.history.lastSelOrigin=null}var r=Pr(d,function(e){(0!==e.buttons&&De(e)?function e(t){var n,r,i=++u,o=Jn(d,t,!0,\\\"rectangle\\\"==p.unit);o&&(0!=it(o,b)?(d.curOp.focus=O(),s(o),n=vr(l,g),(o.line>=n.to||o.line\u003Cn.from)&&setTimeout(Pr(d,function(){u==i&&e(t)}),150)):(r=t.clientY\u003Ca.top?-20:t.clientY>a.bottom?20:0)&&setTimeout(Pr(d,function(){u==i&&(l.scroller.scrollTop+=r,e(t))}),50))}:n)(e)}),i=Pr(d,n);d.state.selectingText=i,ye(l.wrapper.ownerDocument,\\\"mousemove\\\",r),ye(l.wrapper.ownerDocument,\\\"mouseup\\\",i)})(e,r,t,o)}(l,t,i,e):Oe(e)==s.scroller&&Te(e):2==n?(t&&Oi(l.doc,t),setTimeout(function(){return s.input.focus()},20)):3==n&&(x?l.display.input.onContextMenu(e):dr(l)))))}function Jo(e,t,n){if(\\\"char\\\"==n)return new oi(t,t);if(\\\"word\\\"==n)return e.findWordAt(t);if(\\\"line\\\"==n)return new oi(rt(t.line,0),ct(e.doc,rt(t.line+1,0)));t=n(e,t);return new oi(t.from,t.to)}function el(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Te(t);var l=e.display,r=l.lineDiv.getBoundingClientRect();if(o>r.bottom||!Le(e,n))return Ne(t);o-=r.top-l.viewOffset;for(var s=0;s\u003Ce.display.gutterSpecs.length;++s){var a=l.gutters.childNodes[s];if(a&&a.getBoundingClientRect().right>=i)return xe(e,n,e,et(e.doc,o),e.display.gutterSpecs[s].className,t),Ne(t)}}function tl(e,t){return el(e,t,\\\"gutterClick\\\",!0)}function nl(e,t){var n,r;mn(e.display,t)||(r=t,Le(n=e,\\\"gutterContextMenu\\\")&&el(n,r,\\\"gutterContextMenu\\\",!1))||Ce(e,t,\\\"contextmenu\\\")||x||e.display.input.onContextMenu(t)}function rl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\\\\s*cm-s-\\\\S+/g,\\\"\\\")+e.options.theme.replace(/(^|\\\\s)\\\\s*/g,\\\" cm-s-\\\"),Hn(e)}Zo.prototype.compare=function(e,t,n){return this.time+400>e&&0==it(t,this.pos)&&n==this.button};var il={toString:function(){return\\\"CodeMirror.Init\\\"}},ol={},ll={};function sl(e,t,n){!t!=!(n&&n!=il)&&(n=e.display.dragFunctions,(t=t?ye:we)(e.display.scroller,\\\"dragstart\\\",n.start),t(e.display.scroller,\\\"dragenter\\\",n.enter),t(e.display.scroller,\\\"dragover\\\",n.over),t(e.display.scroller,\\\"dragleave\\\",n.leave),t(e.display.scroller,\\\"drop\\\",n.drop))}function al(e){e.options.lineWrapping?(D(e.display.wrapper,\\\"CodeMirror-wrap\\\"),e.display.sizer.style.minWidth=\\\"\\\",e.display.sizerWidth=null):(L(e.display.wrapper,\\\"CodeMirror-wrap\\\"),jt(e)),Qn(e),tr(e),Hn(e),setTimeout(function(){return Nr(e)},100)}function ul(e,t){var n=this;if(!(this instanceof ul))return new ul(e,t);this.options=t=t?E(t):{},E(ol,t,!1);var r=t.value;\\\"string\\\"==typeof r?r=new ho(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i,o=new ul.inputStyles[t.inputStyle](this),o=this.display=new Qr(e,r,o,t);for(i in rl(o.wrapper.CodeMirror=this),t.lineWrapping&&(this.display.wrapper.className+=\\\" CodeMirror-wrap\\\"),Dr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new I,keySeq:null,specialChars:null},t.autofocus&&!h&&o.input.focus(),w&&v\u003C11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(r){var i=r.display;ye(i.scroller,\\\"mousedown\\\",Pr(r,Qo)),ye(i.scroller,\\\"dblclick\\\",w&&v\u003C11?Pr(r,function(e){var t;Ce(r,e)||(!(t=Jn(r,e))||tl(r,e)||mn(r.display,e)||(Te(e),t=r.findWordAt(t),Oi(r.doc,t.anchor,t.head)))}):function(e){return Ce(r,e)||Te(e)});ye(i.scroller,\\\"contextmenu\\\",function(e){return nl(r,e)}),ye(i.input.getField(),\\\"contextmenu\\\",function(e){i.scroller.contains(e.target)||nl(r,e)});var n,o={end:0};function l(){i.activeTouch&&(n=setTimeout(function(){return i.activeTouch=null},1e3),(o=i.activeTouch).end=+new Date)}function s(e,t){if(null==t.left)return 1;var n=t.left-e.left,e=t.top-e.top;return 400\u003Cn*n+e*e}ye(i.scroller,\\\"touchstart\\\",function(e){var t;Ce(r,e)||function(e){if(1==e.touches.length){e=e.touches[0];return e.radiusX\u003C=1&&e.radiusY\u003C=1}}(e)||tl(r,e)||(i.input.ensurePolled(),clearTimeout(n),t=+new Date,i.activeTouch={start:t,moved:!1,prev:t-o.end\u003C=300?o:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY))}),ye(i.scroller,\\\"touchmove\\\",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ye(i.scroller,\\\"touchend\\\",function(e){var t,n=i.activeTouch;n&&!mn(i,e)&&null!=n.left&&!n.moved&&new Date-n.start\u003C300&&(t=r.coordsChar(i.activeTouch,\\\"page\\\"),t=!n.prev||s(n,n.prev)?new oi(t,t):!n.prev.prev||s(n,n.prev.prev)?r.findWordAt(t):new oi(rt(t.line,0),ct(r.doc,rt(t.line+1,0))),r.setSelection(t.anchor,t.head),r.focus(),Te(e)),l()}),ye(i.scroller,\\\"touchcancel\\\",l),ye(i.scroller,\\\"scroll\\\",function(){i.scroller.clientHeight&&(Lr(r,i.scroller.scrollTop),Tr(r,i.scroller.scrollLeft,!0),xe(r,\\\"scroll\\\",r))}),ye(i.scroller,\\\"mousewheel\\\",function(e){return ri(r,e)}),ye(i.scroller,\\\"DOMMouseScroll\\\",function(e){return ri(r,e)}),ye(i.wrapper,\\\"scroll\\\",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){Ce(r,e)||Ae(e)},over:function(e){var t,n;Ce(r,e)||((n=Jn(t=r,n=e))&&(ar(t,n,n=document.createDocumentFragment()),t.display.dragCursor||(t.display.dragCursor=M(\\\"div\\\",null,\\\"CodeMirror-cursors CodeMirror-dragcursors\\\"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),T(t.display.dragCursor,n)),Ae(e))},start:function(e){return t=r,n=e,void(w&&(!t.state.draggingText||+new Date-fo\u003C100)?Ae(n):Ce(t,n)||mn(t.display,n)||(n.dataTransfer.setData(\\\"Text\\\",t.getSelection()),n.dataTransfer.effectAllowed=\\\"copyMove\\\",n.dataTransfer.setDragImage&&!c&&((e=M(\\\"img\\\",null,null,\\\"position: fixed; left: 0; top: 0;\\\")).src=\\\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\\\",p&&(e.width=e.height=1,t.display.wrapper.appendChild(e),e._top=e.offsetTop),n.dataTransfer.setDragImage(e,0,0),p&&e.parentNode.removeChild(e))));var t,n},drop:Pr(r,po),leave:function(e){Ce(r,e)||go(r)}};var e=i.input.getField();ye(e,\\\"keyup\\\",function(e){return Yo.call(r,e)}),ye(e,\\\"keydown\\\",Pr(r,Xo)),ye(e,\\\"keypress\\\",Pr(r,_o)),ye(e,\\\"focus\\\",function(e){return fr(r,e)}),ye(e,\\\"blur\\\",function(e){return pr(r,e)})}(this),yo(),Hr(this),this.curOp.forceUpdate=!0,vi(this,r),t.autofocus&&!h||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&fr(n)},20):pr(this),ll)ll.hasOwnProperty(i)&&ll[i](this,t[i],il);_r(this),t.finishInit&&t.finishInit(this);for(var l=0;l\u003Ccl.length;++l)cl[l](this);Fr(this),f&&t.lineWrapping&&\\\"optimizelegibility\\\"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering=\\\"auto\\\")}ul.defaults=ol,ul.optionHandlers=ll;var cl=[];function hl(e,t,n,r){var i,o=e.doc;null==n&&(n=\\\"add\\\"),\\\"smart\\\"==n&&(o.mode.indent?i=mt(e,t).state:n=\\\"prev\\\");var l=e.options.tabSize,s=$e(o,t),a=P(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\\\\s*/)[0];if(r||/\\\\S/.test(s.text)){if(\\\"smart\\\"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==B||150\u003Cu)){if(!r)return;n=\\\"prev\\\"}}else u=0,n=\\\"not\\\";\\\"prev\\\"==n?u=t>o.first?P($e(o,t-1).text,null,l):0:\\\"add\\\"==n?u=a+e.options.indentUnit:\\\"subtract\\\"==n?u=a-e.options.indentUnit:\\\"number\\\"==typeof n&&(u=a+n),u=Math.max(0,u);var h=\\\"\\\",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/l);f;--f)d+=l,h+=\\\"\\\\t\\\";if(d\u003Cu&&(h+=X(u-d)),h!=c)return qi(o,h,rt(t,0),rt(t,c.length),\\\"+input\\\"),!(s.stateAfter=null);for(var p=0;p\u003Co.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch\u003Cc.length){g=rt(t,c.length);Wi(o,p,new oi(g,g));break}}}ul.defineInitHook=function(e){return cl.push(e)};var dl=null;function fl(e){dl=e}function pl(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r=r||o.sel;var l=+new Date-200,s=\\\"paste\\\"==i||e.state.pasteIncoming>l,a=Ee(t),u=null;if(s&&1\u003Cr.ranges.length)if(dl&&dl.text.join(\\\"\\\\n\\\")==t){if(r.ranges.length%dl.text.length==0){u=[];for(var c=0;c\u003Cdl.text.length;c++)u.push(o.splitLines(dl.text[c]))}}else a.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=_(a,function(e){return[e]}));for(var h=e.curOp.updateInput,d=r.ranges.length-1;0\u003C=d;d--){var f=r.ranges[d],p=f.from(),g=f.to();f.empty()&&(n&&0\u003Cn?p=rt(p.line,p.ch-n):e.state.overwrite&&!s?g=rt(g.line,Math.min($e(o,g.line).text.length,g.ch+Y(a).length)):s&&dl&&dl.lineWise&&dl.text.join(\\\"\\\\n\\\")==a.join(\\\"\\\\n\\\")&&(p=g=rt(p.line,0)));g={from:p,to:g,text:u?u[d%u.length]:a,origin:i||(s?\\\"paste\\\":e.state.cutIncoming>l?\\\"cut\\\":\\\"+input\\\")};ji(e.doc,g),ln(e,\\\"inputRead\\\",e,g)}t&&!s&&ml(e,t),wr(e),e.curOp.updateInput\u003C2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function gl(e,t){var n=e.clipboardData&&e.clipboardData.getData(\\\"Text\\\");return n&&(e.preventDefault(),t.isReadOnly()||t.options.disableInput||Er(t,function(){return pl(t,n,0,null,\\\"paste\\\")}),1)}function ml(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;0\u003C=r;r--){var i=n.ranges[r];if(!(100\u003Ci.head.ch||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s\u003Co.electricChars.length;s++)if(-1\u003Ct.indexOf(o.electricChars.charAt(s))){l=hl(e,i.head.line,\\\"smart\\\");break}}else o.electricInput&&o.electricInput.test($e(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=hl(e,i.head.line,\\\"smart\\\"));l&&ln(e,\\\"electricInput\\\",e,i.head.line)}}}function vl(e){for(var t=[],n=[],r=0;r\u003Ce.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,i={anchor:rt(i,0),head:rt(i+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function yl(e,t,n,r){e.setAttribute(\\\"autocorrect\\\",n?\\\"\\\":\\\"off\\\"),e.setAttribute(\\\"autocapitalize\\\",r?\\\"\\\":\\\"off\\\"),e.setAttribute(\\\"spellcheck\\\",!!t)}function bl(){var e=M(\\\"textarea\\\",null,null,\\\"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\\\"),t=M(\\\"div\\\",[e],null,\\\"overflow: hidden; position: relative; width: 3px; height: 0px;\\\");return f?e.style.width=\\\"1000px\\\":e.setAttribute(\\\"wrap\\\",\\\"off\\\"),s&&(e.style.border=\\\"1px solid black\\\"),yl(e),t}function wl(r,i,o,l,s){var e=i,t=o,a=$e(r,i.line),u=s&&\\\"rtl\\\"==r.direction?-o:o;function n(e){var t,n;if(null==(t=\\\"codepoint\\\"==l?(t=a.text.charCodeAt(i.ch+(0\u003Cl?0:-1)),isNaN(t)?null:new rt(i.line,Math.max(0,Math.min(a.text.length,i.ch+o*(55296\u003C=t&&t\u003C56320?2:1))),-o)):s?Po(r.cm,a,i,o):Fo(a,i,o))){if(e||(n=i.line+u)\u003Cr.first||n>=r.first+r.size||(i=new rt(n,i.ch,i.sticky),!(a=$e(r,n))))return;i=Eo(s,r.cm,a,i.line,u)}else i=t;return 1}if(\\\"char\\\"==l||\\\"codepoint\\\"==l)n();else if(\\\"column\\\"==l)n(!0);else if(\\\"word\\\"==l||\\\"group\\\"==l)for(var c=null,h=\\\"group\\\"==l,d=r.cm&&r.cm.getHelper(i,\\\"wordChars\\\"),f=!0;!(o\u003C0)||n(!f);f=!1){var p=a.text.charAt(i.ch)||\\\"\\\\n\\\",p=J(p,d)?\\\"w\\\":h&&\\\"\\\\n\\\"==p?\\\"n\\\":!h||/\\\\s/.test(p)?null:\\\"p\\\";if(!h||f||p||(p=\\\"s\\\"),c&&c!=p){o\u003C0&&(o=1,n(),i.sticky=\\\"after\\\");break}if(p&&(c=p),0\u003Co&&!n(!f))break}t=Gi(r,i,e,t,!0);return ot(e,t)&&(t.hitSide=!0),t}function xl(e,t,n,r){var i,o,l,s=e.doc,a=t.left;for(\\\"page\\\"==r?(i=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=Math.max(i-.5*Yn(e.display),3),o=(0\u003Cn?t.bottom:t.top)+n*i):\\\"line\\\"==r&&(o=0\u003Cn?t.bottom+3:t.top-3);(l=Vn(e,a,o)).outside;){if(n\u003C0?o\u003C=0:o>=s.height){l.hitSide=!0;break}o+=5*n}return l}e=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new I,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Cl(e,t){var n=kn(e,t.line);if(!n||n.hidden)return null;var r=$e(e.doc,t.line),n=Sn(n,r,t.line),r=me(r,e.doc.direction),e=\\\"left\\\";r&&(e=le(r,t.ch)%2?\\\"right\\\":\\\"left\\\");e=On(n.map,t.ch,e);return e.offset=\\\"right\\\"==e.collapse?e.end:e.start,e}function Sl(e,t){return t&&(e.bad=!0),e}function Ll(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Sl(e.clipPos(rt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i\u003Ce.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return function(u,e,t){var n=u.text.firstChild,r=!1;if(!e||!A(n,e))return Sl(rt(Je(u.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[t],t=0,!e)){var i=u.rest?Y(u.rest):u.line;return Sl(rt(Je(i),i.text.length),r)}var i=3==e.nodeType?e:null,o=e;i||1!=e.childNodes.length||3!=e.firstChild.nodeType||(i=e.firstChild,t=t&&i.nodeValue.length);for(;o.parentNode!=n;)o=o.parentNode;var c=u.measure,h=c.maps;function l(e,t,n){for(var r=-1;r\u003C(h?h.length:0);r++)for(var i=r\u003C0?c.map:h[r],o=0;o\u003Ci.length;o+=3){var l=i[o+2];if(l==e||l==t){var s=Je(r\u003C0?u.line:u.rest[r]),a=i[o]+n;return(n\u003C0||l!=e)&&(a=i[o+(n?1:0)]),rt(s,a)}}}var s=l(i,o,t);if(s)return Sl(s,r);for(var a=o.nextSibling,d=i?i.nodeValue.length-t:0;a;a=a.nextSibling){if(s=l(a,a.firstChild,0))return Sl(rt(s.line,s.ch-d),r);d+=a.textContent.length}for(var f=o.previousSibling,p=t;f;f=f.previousSibling){if(s=l(f,f.firstChild,-1))return Sl(rt(s.line,s.ch+p),r);p+=f.textContent.length}}(o,t,n)}}e.prototype.init=function(e){var t=this,o=this,l=o.cm,s=o.div=e.lineDiv;function a(e){for(var t=e.target;t;t=t.parentNode){if(t==s)return 1;if(/\\\\bCodeMirror-(?:line)?widget\\\\b/.test(t.className))break}}function n(e){if(a(e)&&!Ce(l,e)){if(l.somethingSelected())fl({lineWise:!1,text:l.getSelections()}),\\\"cut\\\"==e.type&&l.replaceSelection(\\\"\\\",null,\\\"cut\\\");else{if(!l.options.lineWiseCopyCut)return;var t=vl(l);fl({lineWise:!0,text:t.text}),\\\"cut\\\"==e.type&&l.operation(function(){l.setSelections(t.ranges,0,G),l.replaceSelection(\\\"\\\",null,\\\"cut\\\")})}if(e.clipboardData){e.clipboardData.clearData();var n=dl.text.join(\\\"\\\\n\\\");if(e.clipboardData.setData(\\\"Text\\\",n),e.clipboardData.getData(\\\"Text\\\")==n)return void e.preventDefault()}var r=bl(),e=r.firstChild;l.display.lineSpace.insertBefore(r,l.display.lineSpace.firstChild),e.value=dl.text.join(\\\"\\\\n\\\");var i=document.activeElement;H(e),setTimeout(function(){l.display.lineSpace.removeChild(r),i.focus(),i==s&&o.showPrimarySelection()},50)}}yl(s,l.options.spellcheck,l.options.autocorrect,l.options.autocapitalize),ye(s,\\\"paste\\\",function(e){!a(e)||Ce(l,e)||gl(e,l)||v\u003C=11&&setTimeout(Pr(l,function(){return t.updateFromDOM()}),20)}),ye(s,\\\"compositionstart\\\",function(e){t.composing={data:e.data,done:!1}}),ye(s,\\\"compositionupdate\\\",function(e){t.composing||(t.composing={data:e.data,done:!1})}),ye(s,\\\"compositionend\\\",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ye(s,\\\"touchstart\\\",function(){return o.forceCompositionEnd()}),ye(s,\\\"input\\\",function(){t.composing||t.readFromDOMSoon()}),ye(s,\\\"copy\\\",n),ye(s,\\\"cut\\\",n)},e.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute(\\\"aria-label\\\",e):this.div.removeAttribute(\\\"aria-label\\\")},e.prototype.prepareSelection=function(){var e=sr(this.cm,!1);return e.focus=document.activeElement==this.div,e},e.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},e.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},e.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line\u003Ct.display.viewFrom)e.removeAllRanges();else{var o=Ll(t,e.anchorNode,e.anchorOffset),n=Ll(t,e.focusNode,e.focusOffset);if(!o||o.bad||!n||n.bad||0!=it(at(o,n),r)||0!=it(st(o,n),i)){var n=t.display.view,l=r.line>=t.display.viewFrom&&Cl(t,r)||{node:n[0].measure.map[2],offset:0},s=i.line\u003Ct.display.viewTo&&Cl(t,i);if(s||(s={node:(u=(u=n[n.length-1].measure).maps?u.maps[u.maps.length-1]:u.map)[u.length-1],offset:u[u.length-2]-u[u.length-3]}),l&&s){var a,u=e.rangeCount&&e.getRangeAt(0);try{a=S(l.node,l.offset,s.offset,s.node)}catch(e){}a&&(!d&&t.state.focused?(e.collapse(l.node,l.offset),a.collapsed||(e.removeAllRanges(),e.addRange(a))):(e.removeAllRanges(),e.addRange(a)),u&&null==e.anchorNode?e.addRange(u):d&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},e.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},e.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},e.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},e.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;e=e.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},e.prototype.focus=function(){\\\"nocursor\\\"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},e.prototype.blur=function(){this.div.blur()},e.prototype.getField=function(){return this.div},e.prototype.supportsTouch=function(){return!0},e.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Er(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},e.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},e.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e,t,n=this.getSelection(),r=this.cm;if(a&&o&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(n.anchorNode))return this.cm.triggerOnKeyDown({type:\\\"keydown\\\",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();this.composing||(this.rememberSelection(),e=Ll(r,n.anchorNode,n.anchorOffset),t=Ll(r,n.focusNode,n.focusOffset),e&&t&&Er(r,function(){Ei(r.doc,si(e,t),G),(e.bad||t.bad)&&(r.curOp.selectionChanged=!0)}))}},e.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),i=r.from(),r=r.to();if(0==i.ch&&i.line>t.firstLine()&&(i=rt(i.line-1,$e(t.doc,i.line-1).length)),r.ch==$e(t.doc,r.line).text.length&&r.line\u003Ct.lastLine()&&(r=rt(r.line+1,0)),i.line\u003Cn.viewFrom||r.line>n.viewTo-1)return!1;m=i.line==n.viewFrom||0==(m=er(t,i.line))?(e=Je(n.view[0].line),n.view[0].node):(e=Je(n.view[m].line),n.view[m-1].node.nextSibling);var o,r=er(t,r.line),r=r==n.view.length-1?(o=n.viewTo-1,n.lineDiv.lastChild):(o=Je(n.view[r+1].line)-1,n.view[r+1].node.previousSibling);if(!m)return!1;for(var l=t.doc.splitLines(function(l,e,t,s,a){var n=\\\"\\\",u=!1,c=l.doc.lineSeparator(),h=!1;function d(){u&&(n+=c,h&&(n+=c),u=h=!1)}function f(e){e&&(d(),n+=e)}for(;!function e(t){if(1==t.nodeType){var n=t.getAttribute(\\\"cm-text\\\");if(n)f(n);else if(n=t.getAttribute(\\\"cm-marker\\\"))(n=l.findMarks(rt(s,0),rt(a+1,0),(o=+n,function(e){return e.id==o}))).length&&(r=n[0].find(0))&&f(qe(l.doc,r.from,r.to).join(c));else if(\\\"false\\\"!=t.getAttribute(\\\"contenteditable\\\")){var r=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(/^br$/i.test(t.nodeName)||0!=t.textContent.length){r&&d();for(var i=0;i\u003Ct.childNodes.length;i++)e(t.childNodes[i]);/^(pre|p)$/i.test(t.nodeName)&&(h=!0),r&&(u=!0)}}}else 3==t.nodeType&&f(t.nodeValue.replace(/\\\\u200b/g,\\\"\\\").replace(/\\\\u00a0/g,\\\" \\\"));var o}(e),e!=t;)e=e.nextSibling,h=!1;return n}(t,m,r,e,o)),s=qe(t.doc,rt(e,0),rt(o,$e(t.doc,o).text.length));1\u003Cl.length&&1\u003Cs.length;)if(Y(l)==Y(s))l.pop(),s.pop(),o--;else{if(l[0]!=s[0])break;l.shift(),s.shift(),e++}for(var a=0,u=0,c=l[0],h=s[0],d=Math.min(c.length,h.length);a\u003Cd&&c.charCodeAt(a)==h.charCodeAt(a);)++a;for(var f=Y(l),p=Y(s),g=Math.min(f.length-(1==l.length?a:0),p.length-(1==s.length?a:0));u\u003Cg&&f.charCodeAt(f.length-u-1)==p.charCodeAt(p.length-u-1);)++u;if(1==l.length&&1==s.length&&e==i.line)for(;a&&a>i.ch&&f.charCodeAt(f.length-u-1)==p.charCodeAt(p.length-u-1);)a--,u++;l[l.length-1]=f.slice(0,f.length-u).replace(/^\\\\u200b+/,\\\"\\\"),l[0]=l[0].slice(a).replace(/\\\\u200b+$/,\\\"\\\");var m=rt(e,a),r=rt(o,s.length?Y(s).length-u:0);return 1\u003Cl.length||l[0]||it(m,r)?(qi(t.doc,l,m,r,\\\"+input\\\"),!0):void 0},e.prototype.ensurePolled=function(){this.forceCompositionEnd()},e.prototype.reset=function(){this.forceCompositionEnd()},e.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},e.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},e.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Er(this.cm,function(){return tr(e.cm)})},e.prototype.setUneditable=function(e){e.contentEditable=\\\"false\\\"},e.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Pr(this.cm,pl)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},e.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(\\\"nocursor\\\"!=e)},e.prototype.onContextMenu=function(){},e.prototype.resetPosition=function(){},e.prototype.needsContentAttribute=!0;var kl,Tl,Ml,Nl,Al,r=function(e){this.cm=e,this.prevInput=\\\"\\\",this.pollingFast=!1,this.polling=new I,this.hasSelection=!1,this.composing=null};function Ol(e,t,r,n){kl.defaults[e]=t,r&&(Tl[e]=n?function(e,t,n){n!=il&&r(e,t,n)}:r)}r.prototype.init=function(n){var e=this,r=this,i=this.cm;this.createField(n);var o=this.textarea;function t(e){if(!Ce(i,e)){if(i.somethingSelected())fl({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=vl(i);fl({lineWise:!0,text:t.text}),\\\"cut\\\"==e.type?i.setSelections(t.ranges,null,G):(r.prevInput=\\\"\\\",o.value=t.text.join(\\\"\\\\n\\\"),H(o))}\\\"cut\\\"==e.type&&(i.state.cutIncoming=+new Date)}}n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),s&&(o.style.width=\\\"0px\\\"),ye(o,\\\"input\\\",function(){w&&9\u003C=v&&e.hasSelection&&(e.hasSelection=null),r.poll()}),ye(o,\\\"paste\\\",function(e){Ce(i,e)||gl(e,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())}),ye(o,\\\"cut\\\",t),ye(o,\\\"copy\\\",t),ye(n.scroller,\\\"paste\\\",function(e){if(!mn(n,e)&&!Ce(i,e)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var t=new Event(\\\"paste\\\");t.clipboardData=e.clipboardData,o.dispatchEvent(t)}}),ye(n.lineSpace,\\\"selectstart\\\",function(e){mn(n,e)||Te(e)}),ye(o,\\\"compositionstart\\\",function(){var e=i.getCursor(\\\"from\\\");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor(\\\"to\\\"),{className:\\\"CodeMirror-composing\\\"})}}),ye(o,\\\"compositionend\\\",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},r.prototype.createField=function(e){this.wrapper=bl(),this.textarea=this.wrapper.firstChild},r.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute(\\\"aria-label\\\",e):this.textarea.removeAttribute(\\\"aria-label\\\")},r.prototype.prepareSelection=function(){var e,t=this.cm,n=t.display,r=t.doc,i=sr(t);return t.options.moveInputWithCursor&&(e=Bn(t,r.sel.primary().head,\\\"div\\\"),t=n.wrapper.getBoundingClientRect(),r=n.lineDiv.getBoundingClientRect(),i.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,e.top+r.top-t.top)),i.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,e.left+r.left-t.left))),i},r.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+\\\"px\\\",this.wrapper.style.left=e.teLeft+\\\"px\\\")},r.prototype.reset=function(e){var t,n;this.contextMenuPending||this.composing||((t=this.cm).somethingSelected()?(this.prevInput=\\\"\\\",n=t.getSelection(),this.textarea.value=n,t.state.focused&&H(this.textarea),w&&9\u003C=v&&(this.hasSelection=n)):e||(this.prevInput=this.textarea.value=\\\"\\\",w&&9\u003C=v&&(this.hasSelection=null)))},r.prototype.getField=function(){return this.textarea},r.prototype.supportsTouch=function(){return!1},r.prototype.focus=function(){if(\\\"nocursor\\\"!=this.cm.options.readOnly&&(!h||O()!=this.textarea))try{this.textarea.focus()}catch(e){}},r.prototype.blur=function(){this.textarea.blur()},r.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},r.prototype.receivedFocus=function(){this.slowPoll()},r.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},r.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))})},r.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Pe(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(w&&9\u003C=v&&this.hasSelection===i||g&&/[\\\\uf700-\\\\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=\\\"​\\\"),8666==o)return this.reset(),this.cm.execCommand(\\\"undo\\\")}for(var l=0,s=Math.min(r.length,i.length);l\u003Cs&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Er(t,function(){pl(t,i.slice(l),r.length-l,null,e.composing?\\\"*compose\\\":null),1e3\u003Ci.length||-1\u003Ci.indexOf(\\\"\\\\n\\\")?n.value=e.prevInput=\\\"\\\":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor(\\\"to\\\"),{className:\\\"CodeMirror-composing\\\"}))}),!0},r.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},r.prototype.onKeyPress=function(){w&&9\u003C=v&&(this.hasSelection=null),this.fastPoll()},r.prototype.onContextMenu=function(e){var n=this,r=n.cm,i=r.display,o=n.textarea;n.contextMenuPending&&n.contextMenuPending();var l,s,t,a,u=Jn(r,e),c=i.scroller.scrollTop;function h(){var e,t;null!=o.selectionStart&&(t=\\\"​\\\"+((e=r.somethingSelected())?o.value:\\\"\\\"),o.value=\\\"⇚\\\",o.value=t,n.prevInput=e?\\\"\\\":\\\"​\\\",o.selectionStart=1,o.selectionEnd=t.length,i.selForContextMenu=r.doc.sel)}function d(){var e,t;n.contextMenuPending==d&&(n.contextMenuPending=!1,n.wrapper.style.cssText=s,o.style.cssText=l,w&&v\u003C9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=o.selectionStart&&((!w||w&&v\u003C9)&&h(),e=0,t=function(){i.selForContextMenu==r.doc.sel&&0==o.selectionStart&&0\u003Co.selectionEnd&&\\\"​\\\"==n.prevInput?Pr(r,Vi)(r):e++\u003C10?i.detectingSelectAll=setTimeout(t,500):(i.selForContextMenu=null,i.input.reset())},i.detectingSelectAll=setTimeout(t,200)))}u&&!p&&(r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(u)&&Pr(r,Ei)(r.doc,si(u),G),l=o.style.cssText,s=n.wrapper.style.cssText,u=n.wrapper.offsetParent.getBoundingClientRect(),n.wrapper.style.cssText=\\\"position: static\\\",o.style.cssText=\\\"position: absolute; width: 30px; height: 30px;\\\\n      top: \\\"+(e.clientY-u.top-5)+\\\"px; left: \\\"+(e.clientX-u.left-5)+\\\"px;\\\\n      z-index: 1000; background: \\\"+(w?\\\"rgba(255, 255, 255, .05)\\\":\\\"transparent\\\")+\\\";\\\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\\\",f&&(t=window.scrollY),i.input.focus(),f&&window.scrollTo(null,t),i.input.reset(),r.somethingSelected()||(o.value=n.prevInput=\\\" \\\"),n.contextMenuPending=d,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),w&&9\u003C=v&&h(),x?(Ae(e),a=function(){we(window,\\\"mouseup\\\",a),setTimeout(d,20)},ye(window,\\\"mouseup\\\",a)):setTimeout(d,50))},r.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=\\\"nocursor\\\"==e,this.textarea.readOnly=!!e},r.prototype.setUneditable=function(){},r.prototype.needsContentAttribute=!1,Tl=(kl=ul).optionHandlers,kl.defineOption=Ol,kl.Init=il,Ol(\\\"value\\\",\\\"\\\",function(e,t){return e.setValue(t)},!0),Ol(\\\"mode\\\",null,function(e,t){e.doc.modeOption=t,di(e)},!0),Ol(\\\"indentUnit\\\",2,di,!0),Ol(\\\"indentWithTabs\\\",!1),Ol(\\\"smartIndent\\\",!0),Ol(\\\"tabSize\\\",4,function(e){fi(e),Hn(e),tr(e)},!0),Ol(\\\"lineSeparator\\\",null,function(e,r){if(e.doc.lineSep=r){var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(r,t);if(-1==n)break;t=n+r.length,i.push(rt(o,n))}o++});for(var t=i.length-1;0\u003C=t;t--)qi(e.doc,r,i[t],rt(i[t].line,i[t].ch+r.length))}}),Ol(\\\"specialChars\\\",/[\\\\u0000-\\\\u001f\\\\u007f-\\\\u009f\\\\u00ad\\\\u061c\\\\u200b-\\\\u200c\\\\u200e\\\\u200f\\\\u2028\\\\u2029\\\\ufeff\\\\ufff9-\\\\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test(\\\"\\\\t\\\")?\\\"\\\":\\\"|\\\\t\\\"),\\\"g\\\"),n!=il&&e.refresh()}),Ol(\\\"specialCharPlaceholder\\\",Zt,function(e){return e.refresh()},!0),Ol(\\\"electricChars\\\",!0),Ol(\\\"inputStyle\\\",h?\\\"contenteditable\\\":\\\"textarea\\\",function(){throw new Error(\\\"inputStyle can not (yet) be changed in a running editor\\\")},!0),Ol(\\\"spellcheck\\\",!1,function(e,t){return e.getInputField().spellcheck=t},!0),Ol(\\\"autocorrect\\\",!1,function(e,t){return e.getInputField().autocorrect=t},!0),Ol(\\\"autocapitalize\\\",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),Ol(\\\"rtlMoveVisually\\\",!y),Ol(\\\"wholeLineUpdateBefore\\\",!0),Ol(\\\"theme\\\",\\\"default\\\",function(e){rl(e),Zr(e)},!0),Ol(\\\"keyMap\\\",\\\"default\\\",function(e,t,n){t=Do(t),n=n!=il&&Do(n);n&&n.detach&&n.detach(e,t),t.attach&&t.attach(e,n||null)}),Ol(\\\"extraKeys\\\",null),Ol(\\\"configureMouse\\\",null),Ol(\\\"lineWrapping\\\",!1,al,!0),Ol(\\\"gutters\\\",[],function(e,t){e.display.gutterSpecs=$r(t,e.options.lineNumbers),Zr(e)},!0),Ol(\\\"fixedGutter\\\",!0,function(e,t){e.display.gutters.style.left=t?qn(e.display)+\\\"px\\\":\\\"0\\\",e.refresh()},!0),Ol(\\\"coverGutterNextToScrollbar\\\",!1,function(e){return Nr(e)},!0),Ol(\\\"scrollbarStyle\\\",\\\"native\\\",function(e){Dr(e),Nr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Ol(\\\"lineNumbers\\\",!1,function(e,t){e.display.gutterSpecs=$r(e.options.gutters,t),Zr(e)},!0),Ol(\\\"firstLineNumber\\\",1,Zr,!0),Ol(\\\"lineNumberFormatter\\\",function(e){return e},Zr,!0),Ol(\\\"showCursorWhenSelecting\\\",!1,lr,!0),Ol(\\\"resetSelectionOnContextMenu\\\",!0),Ol(\\\"lineWiseCopyCut\\\",!0),Ol(\\\"pasteLinesPerSelection\\\",!0),Ol(\\\"selectionsMayTouch\\\",!1),Ol(\\\"readOnly\\\",!1,function(e,t){\\\"nocursor\\\"==t&&(pr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),Ol(\\\"screenReaderLabel\\\",null,function(e,t){t=\\\"\\\"===t?null:t,e.display.input.screenReaderLabelChanged(t)}),Ol(\\\"disableInput\\\",!1,function(e,t){t||e.display.input.reset()},!0),Ol(\\\"dragDrop\\\",!0,sl),Ol(\\\"allowDropFileTypes\\\",null),Ol(\\\"cursorBlinkRate\\\",530),Ol(\\\"cursorScrollMargin\\\",0),Ol(\\\"cursorHeight\\\",1,lr,!0),Ol(\\\"singleCursorHeightPerLine\\\",!0,lr,!0),Ol(\\\"workTime\\\",100),Ol(\\\"workDelay\\\",100),Ol(\\\"flattenSpans\\\",!0,fi,!0),Ol(\\\"addModeClass\\\",!1,fi,!0),Ol(\\\"pollInterval\\\",100),Ol(\\\"undoDepth\\\",200,function(e,t){return e.doc.history.undoDepth=t}),Ol(\\\"historyEventDelay\\\",1250),Ol(\\\"viewportMargin\\\",10,function(e){return e.refresh()},!0),Ol(\\\"maxHighlightLength\\\",1e4,fi,!0),Ol(\\\"moveInputWithCursor\\\",!0,function(e,t){t||e.display.input.resetPosition()}),Ol(\\\"tabindex\\\",null,function(e,t){return e.display.input.getField().tabIndex=t||\\\"\\\"}),Ol(\\\"autofocus\\\",null),Ol(\\\"direction\\\",\\\"ltr\\\",function(e,t){return e.doc.setDirection(t)},!0),Ol(\\\"phrases\\\",null),Nl=(Ml=ul).optionHandlers,Al=Ml.helpers={},Ml.prototype={constructor:Ml,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&\\\"mode\\\"!=e||(n[e]=t,Nl.hasOwnProperty(e)&&Pr(this,Nl[e])(this,t,r),xe(this,\\\"optionChange\\\",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?\\\"push\\\":\\\"unshift\\\"](Do(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n\u003Ct.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ir(function(e,t){var n=e.token?e:Ml.getMode(this.options,e);if(n.startState)throw new Error(\\\"Overlays may not be stateful.\\\");!function(e,t,n){for(var r=0,i=n(t);r\u003Ce.length&&n(e[r])\u003C=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,tr(this)}),removeOverlay:Ir(function(e){for(var t=this.state.overlays,n=0;n\u003Ct.length;++n){var r=t[n].modeSpec;if(r==e||\\\"string\\\"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void tr(this)}}),indentLine:Ir(function(e,t,n){\\\"string\\\"!=typeof t&&\\\"number\\\"!=typeof t&&(t=null==t?this.options.smartIndent?\\\"smart\\\":\\\"prev\\\":t?\\\"add\\\":\\\"subtract\\\"),tt(this.doc,e)&&hl(this,e,t,n)}),indentSelection:Ir(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r\u003Ct.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(hl(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&wr(this));else{for(var o=i.from(),l=i.to(),i=Math.max(n,o.line),n=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1,s=i;s\u003Cn;++s)hl(this,s,e);i=this.doc.sel.ranges;0==o.ch&&t.length==i.length&&0\u003Ci[r].from().ch&&Wi(this.doc,r,new oi(o,i[r].to()),G)}}}),getTokenAt:function(e,t){return xt(this,e,t)},getLineTokens:function(e,t){return xt(this,rt(e),t,!0)},getTokenTypeAt:function(e){e=ct(this.doc,e);var t,n=gt(this,$e(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var l=r+i>>1;if((l?n[2*l-1]:0)>=o)i=l;else{if(!(n[2*l+1]\u003Co)){t=n[2*l+2];break}r=1+l}}e=t?t.indexOf(\\\"overlay \\\"):-1;return e\u003C0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?Ml.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Al.hasOwnProperty(t))return n;var r=Al[t],i=this.getModeAt(e);if(\\\"string\\\"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o\u003Ci[t].length;o++){var l=r[i[t][o]];l&&n.push(l)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var s=0;s\u003Cr._global.length;s++){var a=r._global[s];a.pred(i,this)&&-1==R(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return mt(this,(e=ut(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary(),n=null==e?n.head:\\\"object\\\"==typeof e?ct(this.doc,e):e?n.from():n.to();return Bn(this,n,t||\\\"page\\\")},charCoords:function(e,t){return zn(this,ct(this.doc,e),t||\\\"page\\\")},coordsChar:function(e,t){return Vn(this,(e=Rn(this,e,t||\\\"page\\\")).left,e.top)},lineAtHeight:function(e,t){return e=Rn(this,{top:e,left:0},t||\\\"page\\\").top,et(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1,e=\\\"number\\\"==typeof e?(r=this.doc.first+this.doc.size-1,e\u003Cthis.doc.first?e=this.doc.first:r\u003Ce&&(e=r,i=!0),$e(this.doc,e)):e;return In(this,e,{top:0,left:0},t||\\\"page\\\",n||i).top+(i?this.doc.height-Vt(e):0)},defaultTextHeight:function(){return Yn(this.display)},defaultCharWidth:function(){return _n(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,l,s=this.display,a=(e=Bn(this,ct(this.doc,e))).bottom,u=e.left;t.style.position=\\\"absolute\\\",t.setAttribute(\\\"cm-ignore-events\\\",\\\"true\\\"),this.display.input.setUneditable(t),s.sizer.appendChild(t),\\\"over\\\"==r?a=e.top:\\\"above\\\"!=r&&\\\"near\\\"!=r||(o=Math.max(s.wrapper.clientHeight,this.doc.height),l=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth),(\\\"above\\\"==r||e.bottom+t.offsetHeight>o)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight\u003C=o&&(a=e.bottom),u+t.offsetWidth>l&&(u=l-t.offsetWidth)),t.style.top=a+\\\"px\\\",t.style.left=t.style.right=\\\"\\\",\\\"right\\\"==i?(u=s.sizer.clientWidth-t.offsetWidth,t.style.right=\\\"0px\\\"):(\\\"left\\\"==i?u=0:\\\"middle\\\"==i&&(u=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+\\\"px\\\"),n&&(n=this,t={left:u,top:a,right:u+t.offsetWidth,bottom:a+t.offsetHeight},null!=(t=yr(n,t)).scrollTop&&Lr(n,t.scrollTop),null!=t.scrollLeft&&Tr(n,t.scrollLeft))},triggerOnKeyDown:Ir(Xo),triggerOnKeyPress:Ir(_o),triggerOnKeyUp:Yo,triggerOnMouseDown:Ir(Qo),execCommand:function(e){if(Io.hasOwnProperty(e))return Io[e].call(null,this)},triggerElectric:Ir(function(e){ml(this,e)}),findPosH:function(e,t,n,r){var i=1;t\u003C0&&(i=-1,t=-t);for(var o=ct(this.doc,e),l=0;l\u003Ct&&!(o=wl(this.doc,o,i,n,r)).hitSide;++l);return o},moveH:Ir(function(t,n){var r=this;this.extendSelectionsBy(function(e){return r.display.shift||r.doc.extend||e.empty()?wl(r.doc,e.head,t,n,r.options.rtlMoveVisually):t\u003C0?e.from():e.to()},V)}),deleteH:Ir(function(n,r){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection(\\\"\\\",null,\\\"+delete\\\"):Wo(this,function(e){var t=wl(i,e.head,n,r,!1);return n\u003C0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,n,r){var i=1,o=r;t\u003C0&&(i=-1,t=-t);for(var l=ct(this.doc,e),s=0;s\u003Ct;++s){var a=Bn(this,l,\\\"div\\\");if(null==o?o=a.left:a.left=o,(l=xl(this,a,i,n)).hitSide)break}return l},moveV:Ir(function(r,i){var o=this,l=this.doc,s=[],a=!this.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(function(e){if(a)return r\u003C0?e.from():e.to();var t=Bn(o,e.head,\\\"div\\\");null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left);var n=xl(o,t,r,i);return\\\"page\\\"==i&&e==l.sel.primary()&&br(o,zn(o,n,\\\"div\\\").top-t.top),n},V),s.length)for(var e=0;e\u003Cl.sel.ranges.length;e++)l.sel.ranges[e].goalColumn=s[e]}),findWordAt:function(e){var t=$e(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,\\\"wordChars\\\");\\\"before\\\"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),l=J(o,i)?function(e){return J(e,i)}:/\\\\s/.test(o)?function(e){return/\\\\s/.test(e)}:function(e){return!/\\\\s/.test(e)&&!J(e)};0\u003Cn&&l(t.charAt(n-1));)--n;for(;r\u003Ct.length&&l(t.charAt(r));)++r}return new oi(rt(e.line,n),rt(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?D:L)(this.display.cursorDiv,\\\"CodeMirror-overwrite\\\"),xe(this,\\\"overwriteToggle\\\",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ir(function(e,t){xr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-wn(this)-this.display.barHeight,width:e.scrollWidth-wn(this)-this.display.barWidth,clientHeight:Cn(this),clientWidth:xn(this)}},scrollIntoView:Ir(function(e,t){var n;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):\\\"number\\\"==typeof e?e={from:rt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(n=e,Cr(t=this),t.curOp.scrollToPos=n):Sr(this,e.from,e.to,e.margin)}),setSize:Ir(function(e,t){function n(e){return\\\"number\\\"==typeof e||/^\\\\d+$/.test(String(e))?e+\\\"px\\\":e}var r=this;null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Wn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t\u003Ce.widgets.length;t++)if(e.widgets[t].noHScroll){nr(r,i,\\\"widget\\\");break}++i}),this.curOp.forceUpdate=!0,xe(this,\\\"refresh\\\",this)}),operation:function(e){return Er(this,e)},startOperation:function(){return Hr(this)},endOperation:function(){return Fr(this)},refresh:Ir(function(){var e=this.display.cachedTextHeight;tr(this),this.curOp.forceUpdate=!0,Hn(this),xr(this,this.doc.scrollLeft,this.doc.scrollTop),jr(this.display),(null==e||.5\u003CMath.abs(e-Yn(this.display))||this.options.lineWrapping)&&Qn(this),xe(this,\\\"refresh\\\",this)}),swapDoc:Ir(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),vi(this,e),Hn(this),this.display.input.reset(),xr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ln(this,\\\"swapDoc\\\",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ke(Ml),Ml.registerHelper=function(e,t,n){Al.hasOwnProperty(e)||(Al[e]=Ml[e]={_global:[]}),Al[e][t]=n},Ml.registerGlobalHelper=function(e,t,n,r){Ml.registerHelper(e,t,r),Al[e]._global.push({pred:n,val:r})};var Dl,Wl,Hl=\\\"iter insert remove copy getEditor constructor\\\".split(\\\" \\\");for(Dl in ho.prototype)ho.prototype.hasOwnProperty(Dl)&&R(Hl,Dl)\u003C0&&(ul.prototype[Dl]=function(e){return function(){return e.apply(this.doc,arguments)}}(ho.prototype[Dl]));return ke(ho),ul.inputStyles={textarea:r,contenteditable:e},ul.defineMode=function(e){ul.defaults.mode||\\\"null\\\"==e||(ul.defaults.mode=e),function(e,t){2\u003Carguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}.apply(this,arguments)},ul.defineMIME=function(e,t){Be[e]=t},ul.defineMode(\\\"null\\\",function(){return{token:function(e){return e.skipToEnd()}}}),ul.defineMIME(\\\"text/plain\\\",\\\"null\\\"),ul.defineExtension=function(e,t){ul.prototype[e]=t},ul.defineDocExtension=function(e,t){ho.prototype[e]=t},ul.fromTextArea=function(t,n){var e;function r(){t.value=s.getValue()}if(n=n?E(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus&&(e=O(),n.autofocus=e==t||null!=t.getAttribute(\\\"autofocus\\\")&&e==document.body),t.form&&(ye(t.form,\\\"submit\\\",r),!n.leaveSubmitMethodAlone)){var i=t.form,o=i.submit;try{var l=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=l}}catch(e){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display=\\\"\\\",t.form&&(we(t.form,\\\"submit\\\",r),n.leaveSubmitMethodAlone||\\\"function\\\"!=typeof t.form.submit||(t.form.submit=o))}},t.style.display=\\\"none\\\";var s=ul(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},n);return s},(Wl=ul).off=we,Wl.on=ye,Wl.wheelEventPixels=ni,Wl.Doc=ho,Wl.splitLines=Ee,Wl.countColumn=P,Wl.findColumn=K,Wl.isWordChar=Q,Wl.Pass=B,Wl.signal=xe,Wl.Line=Xt,Wl.changeEnd=ai,Wl.scrollbarModel=Or,Wl.Pos=rt,Wl.cmpPos=it,Wl.modes=ze,Wl.mimeModes=Be,Wl.resolveMode=Ge,Wl.getMode=Ue,Wl.modeExtensions=Ve,Wl.extendMode=Ke,Wl.copyState=je,Wl.startState=Ye,Wl.innerMode=Xe,Wl.commands=Io,Wl.keyMap=Lo,Wl.keyName=Oo,Wl.isModifierKey=No,Wl.lookupKey=Mo,Wl.normalizeKeyMap=To,Wl.StringStream=_e,Wl.SharedTextMarker=ao,Wl.TextMarker=lo,Wl.LineWidget=ro,Wl.e_preventDefault=Te,Wl.e_stopPropagation=Me,Wl.e_stop=Ae,Wl.addClass=D,Wl.contains=A,Wl.rmClass=L,Wl.keyNames=wo,ul.version=\\\"5.58.3\\\",ul});\\n\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/tiddlywiki/codemirror/lib/codemirror.js\",\"module-type\":\"library\"},\"$:/plugins/tiddlywiki/codemirror/lib/codemirror.css\":{\"text\":\".CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line > span::selection,.CodeMirror-line > span > span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line > span::-moz-selection,.CodeMirror-line > span > span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:none}\\n\",\"type\":\"text/vnd.tiddlywiki\",\"title\":\"$:/plugins/tiddlywiki/codemirror/lib/codemirror.css\",\"tags\":\"[[$:/tags/Stylesheet]]\"},\"$:/plugins/tiddlywiki/codemirror/addon/dialog/dialog.css\":{\"text\":\".CodeMirror-dialog {\\n  position: absolute;\\n  left: 0; right: 0;\\n  background: inherit;\\n  z-index: 15;\\n  padding: .1em .8em;\\n  overflow: hidden;\\n  color: inherit;\\n}\\n\\n.CodeMirror-dialog-top {\\n  border-bottom: 1px solid #eee;\\n  top: 0;\\n}\\n\\n.CodeMirror-dialog-bottom {\\n  border-top: 1px solid #eee;\\n  bottom: 0;\\n}\\n\\n.CodeMirror-dialog input {\\n  border: none;\\n  outline: none;\\n  background: transparent;\\n  width: 20em;\\n  color: inherit;\\n  font-family: monospace;\\n}\\n\\n.CodeMirror-dialog button {\\n  font-size: 70%;\\n}\\n\",\"type\":\"text/css\",\"title\":\"$:/plugins/tiddlywiki/codemirror/addon/dialog/dialog.css\",\"tags\":\"[[$:/tags/Stylesheet]]\"},\"$:/plugins/tiddlywiki/codemirror/addon/dialog/dialog.js\":{\"text\":\"!function(e){\\\"object\\\"==typeof exports&&\\\"object\\\"==typeof module?e(require(\\\"../../lib/codemirror\\\")):\\\"function\\\"==typeof define&&define.amd?define([\\\"../../lib/codemirror\\\"],e):e(CodeMirror)}(function(s){function f(e,o,n){var t=e.getWrapperElement(),i=t.appendChild(document.createElement(\\\"div\\\"));return i.className=n?\\\"CodeMirror-dialog CodeMirror-dialog-bottom\\\":\\\"CodeMirror-dialog CodeMirror-dialog-top\\\",\\\"string\\\"==typeof o?i.innerHTML=o:i.appendChild(o),s.addClass(t,\\\"dialog-opened\\\"),i}function p(e,o){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=o}s.defineExtension(\\\"openDialog\\\",function(e,o,n){n=n||{},p(this,null);var t=f(this,e,n.bottom),i=!1,r=this;function u(e){if(\\\"string\\\"==typeof e)a.value=e;else{if(i)return;i=!0,s.rmClass(t.parentNode,\\\"dialog-opened\\\"),t.parentNode.removeChild(t),r.focus(),n.onClose&&n.onClose(t)}}var l,a=t.getElementsByTagName(\\\"input\\\")[0];return a?(a.focus(),n.value&&(a.value=n.value,!1!==n.selectValueOnOpen&&a.select()),n.onInput&&s.on(a,\\\"input\\\",function(e){n.onInput(e,a.value,u)}),n.onKeyUp&&s.on(a,\\\"keyup\\\",function(e){n.onKeyUp(e,a.value,u)}),s.on(a,\\\"keydown\\\",function(e){n&&n.onKeyDown&&n.onKeyDown(e,a.value,u)||((27==e.keyCode||!1!==n.closeOnEnter&&13==e.keyCode)&&(a.blur(),s.e_stop(e),u()),13==e.keyCode&&o(a.value,e))}),!1!==n.closeOnBlur&&s.on(t,\\\"focusout\\\",function(e){null!==e.relatedTarget&&u()})):(l=t.getElementsByTagName(\\\"button\\\")[0])&&(s.on(l,\\\"click\\\",function(){u(),r.focus()}),!1!==n.closeOnBlur&&s.on(l,\\\"blur\\\",u),l.focus()),u}),s.defineExtension(\\\"openConfirm\\\",function(e,o,n){p(this,null);var t=f(this,e,n&&n.bottom),i=t.getElementsByTagName(\\\"button\\\"),r=!1,u=this,l=1;function a(){r||(r=!0,s.rmClass(t.parentNode,\\\"dialog-opened\\\"),t.parentNode.removeChild(t),u.focus())}i[0].focus();for(var c=0;c\u003Ci.length;++c){var d=i[c];!function(o){s.on(d,\\\"click\\\",function(e){s.e_preventDefault(e),a(),o&&o(u)})}(o[c]),s.on(d,\\\"blur\\\",function(){--l,setTimeout(function(){l\u003C=0&&a()},200)}),s.on(d,\\\"focus\\\",function(){++l})}}),s.defineExtension(\\\"openNotification\\\",function(e,o){p(this,u);var n,t=f(this,e,o&&o.bottom),i=!1,r=o&&void 0!==o.duration?o.duration:5e3;function u(){i||(i=!0,clearTimeout(n),s.rmClass(t.parentNode,\\\"dialog-opened\\\"),t.parentNode.removeChild(t))}return s.on(t,\\\"click\\\",function(e){s.e_preventDefault(e),u()}),r&&(n=setTimeout(u,r)),u})});\\n\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/tiddlywiki/codemirror/addon/dialog/dialog.js\",\"module-type\":\"codemirror\"},\"$:/plugins/tiddlywiki/codemirror/addon/selection/activeline.js\":{\"text\":\"!function(e){\\\"object\\\"==typeof exports&&\\\"object\\\"==typeof module?e(require(\\\"../../lib/codemirror\\\")):\\\"function\\\"==typeof define&&define.amd?define([\\\"../../lib/codemirror\\\"],e):e(CodeMirror)}(function(r){\\\"use strict\\\";var s=\\\"CodeMirror-activeline\\\",c=\\\"CodeMirror-activeline-background\\\",l=\\\"CodeMirror-activeline-gutter\\\";function f(e){for(var t=0;t\u003Ce.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],\\\"wrap\\\",s),e.removeLineClass(e.state.activeLines[t],\\\"background\\\",c),e.removeLineClass(e.state.activeLines[t],\\\"gutter\\\",l)}function o(t,e){for(var n=[],i=0;i\u003Ce.length;i++){var r,o=e[i],a=t.getOption(\\\"styleActiveLine\\\");(\\\"object\\\"==typeof a&&a.nonEmpty?o.anchor.line==o.head.line:o.empty())&&(r=t.getLineHandleVisualStart(o.head.line),n[n.length-1]!=r&&n.push(r))}!function(e,t){if(e.length==t.length){for(var n=0;n\u003Ce.length;n++)if(e[n]!=t[n])return;return 1}}(t.state.activeLines,n)&&t.operation(function(){f(t);for(var e=0;e\u003Cn.length;e++)t.addLineClass(n[e],\\\"wrap\\\",s),t.addLineClass(n[e],\\\"background\\\",c),t.addLineClass(n[e],\\\"gutter\\\",l);t.state.activeLines=n})}function a(e,t){o(e,t.ranges)}r.defineOption(\\\"styleActiveLine\\\",!1,function(e,t,n){var i=n!=r.Init&&n;t!=i&&(i&&(e.off(\\\"beforeSelectionChange\\\",a),f(e),delete e.state.activeLines),t&&(e.state.activeLines=[],o(e,e.listSelections()),e.on(\\\"beforeSelectionChange\\\",a)))})});\\n\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/tiddlywiki/codemirror/addon/selection/activeline.js\",\"module-type\":\"codemirror\"},\"$:/plugins/tiddlywiki/codemirror/mode/tw-meta.js\":{\"text\":\"!function(e){\\\"object\\\"==typeof exports&&\\\"object\\\"==typeof module?e(require(\\\"../lib/codemirror\\\")):\\\"function\\\"==typeof define&&define.amd?define([\\\"../lib/codemirror\\\"],e):e(CodeMirror)}(function(e){\\\"use strict\\\";e.modeInfo=[{name:\\\"CMake\\\",mime:\\\"text/x-cmake\\\",mode:\\\"cmake\\\",ext:[\\\"cmake\\\",\\\"cmake.in\\\"],file:/^CMakeLists.txt$/},{name:\\\"Cython\\\",mime:\\\"text/x-cython\\\",mode:\\\"python\\\",ext:[\\\"pyx\\\",\\\"pxd\\\",\\\"pxi\\\"]},{name:\\\"CSS\\\",mime:\\\"text/css\\\",mode:\\\"css\\\",ext:[\\\"css\\\"]},{name:\\\"diff\\\",mime:\\\"text/x-diff\\\",mode:\\\"diff\\\",ext:[\\\"diff\\\",\\\"patch\\\"]},{name:\\\"Embedded Javascript\\\",mime:\\\"application/x-ejs\\\",mode:\\\"htmlembedded\\\",ext:[\\\"ejs\\\"]},{name:\\\"Embedded Ruby\\\",mime:\\\"application/x-erb\\\",mode:\\\"htmlembedded\\\",ext:[\\\"erb\\\"]},{name:\\\"Erlang\\\",mime:\\\"text/x-erlang\\\",mode:\\\"erlang\\\",ext:[\\\"erl\\\"]},{name:\\\"GitHub Flavored Markdown\\\",mime:\\\"text/x-gfm\\\",mode:\\\"gfm\\\",file:/^(readme|contributing|history).md$/i},{name:\\\"Go\\\",mime:\\\"text/x-go\\\",mode:\\\"go\\\",ext:[\\\"go\\\"]},{name:\\\"ASP.NET\\\",mime:\\\"application/x-aspx\\\",mode:\\\"htmlembedded\\\",ext:[\\\"aspx\\\"],alias:[\\\"asp\\\",\\\"aspx\\\"]},{name:\\\"HTML\\\",mime:\\\"text/html\\\",mode:\\\"htmlmixed\\\",ext:[\\\"html\\\",\\\"htm\\\",\\\"handlebars\\\",\\\"hbs\\\"],alias:[\\\"xhtml\\\"]},{name:\\\"HTTP\\\",mime:\\\"message/http\\\",mode:\\\"http\\\"},{name:\\\"JavaScript\\\",mimes:[\\\"text/javascript\\\",\\\"text/ecmascript\\\",\\\"application/javascript\\\",\\\"application/x-javascript\\\",\\\"application/ecmascript\\\"],mode:\\\"javascript\\\",ext:[\\\"js\\\"],alias:[\\\"ecmascript\\\",\\\"js\\\",\\\"node\\\"]},{name:\\\"JSON\\\",mimes:[\\\"application/json\\\",\\\"application/x-json\\\"],mode:\\\"javascript\\\",ext:[\\\"json\\\",\\\"map\\\"],alias:[\\\"json5\\\"]},{name:\\\"JSON-LD\\\",mime:\\\"application/ld+json\\\",mode:\\\"javascript\\\",ext:[\\\"jsonld\\\"],alias:[\\\"jsonld\\\"]},{name:\\\"Lua\\\",mime:\\\"text/x-lua\\\",mode:\\\"lua\\\",ext:[\\\"lua\\\"]},{name:\\\"Markdown\\\",mime:\\\"text/x-markdown\\\",mode:\\\"markdown\\\",ext:[\\\"markdown\\\",\\\"md\\\",\\\"mkd\\\"]},{name:\\\"MySQL\\\",mime:\\\"text/x-mysql\\\",mode:\\\"sql\\\"},{name:\\\"Plain Text\\\",mime:\\\"text/plain\\\",mode:\\\"null\\\",ext:[\\\"txt\\\",\\\"text\\\",\\\"conf\\\",\\\"def\\\",\\\"list\\\",\\\"log\\\"]},{name:\\\"Python\\\",mime:\\\"text/x-python\\\",mode:\\\"python\\\",ext:[\\\"BUILD\\\",\\\"bzl\\\",\\\"py\\\",\\\"pyw\\\"],file:/^(BUCK|BUILD)$/},{name:\\\"SCSS\\\",mime:\\\"text/x-scss\\\",mode:\\\"css\\\",ext:[\\\"scss\\\"]},{name:\\\"LaTeX\\\",mime:\\\"text/x-latex\\\",mode:\\\"stex\\\",ext:[\\\"text\\\",\\\"ltx\\\",\\\"tex\\\"],alias:[\\\"tex\\\"]},{name:\\\"TiddlyWiki \\\",mime:\\\"text/x-tiddlywiki\\\",mode:\\\"tiddlywiki\\\"}];for(var t=0;t\u003Ce.modeInfo.length;t++){var m=e.modeInfo[t];m.mimes&&(m.mime=m.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var m=0;m\u003Ce.modeInfo.length;m++){var i=e.modeInfo[m];if(i.mime==t)return i;if(i.mimes)for(var a=0;a\u003Ci.mimes.length;a++)if(i.mimes[a]==t)return i}return/\\\\+xml$/.test(t)?e.findModeByMIME(\\\"application/xml\\\"):/\\\\+json$/.test(t)?e.findModeByMIME(\\\"application/json\\\"):void 0},e.findModeByExtension=function(t){for(var m=0;m\u003Ce.modeInfo.length;m++){var i=e.modeInfo[m];if(i.ext)for(var a=0;a\u003Ci.ext.length;a++)if(i.ext[a]==t)return i}},e.findModeByFileName=function(t){for(var m=0;m\u003Ce.modeInfo.length;m++){var i=e.modeInfo[m];if(i.file&&i.file.test(t))return i}var a=t.lastIndexOf(\\\".\\\"),o=a>-1&&t.substring(a+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var m=0;m\u003Ce.modeInfo.length;m++){var i=e.modeInfo[m];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var a=0;a\u003Ci.alias.length;a++)if(i.alias[a].toLowerCase()==t)return i}}});\\n\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/tiddlywiki/codemirror/mode/tw-meta.js\",\"module-type\":\"codemirror\"},\"$:/plugins/tiddlywiki/codemirror/keyboard\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/keyboard\",\"text\":\"\\n!!Default keyboard shortcuts\\n\\n!!!Basic shortcuts\\n\\n|Shortcut |Function |h\\n|Left |goCharLeft |\\n|Right |goCharRight |\\n|Up |goLineUp |\\n|Down |goLineDown |\\n|End |goLineEnd |\\n|Home |goLineStartSmart |\\n|~PageUp |goPageUp |\\n|~PageDown |goPageDown |\\n|Delete |delCharAfter |\\n|Backspace |delCharBefore |\\n|Shift-Backspace |delCharBefore |\\n|Tab |defaultTab |\\n|Shift-Tab |indentAuto |\\n|Enter |newlineAndIndent |\\n|Insert |toggleOverwrite |\\n|Ctrl-Esc |singleSelection |\\n\\n\\n!!!Shortcuts on Windows and Linux\\n\\n|Shortcut |Function |h\\n|Ctrl-A |selectAll |\\n|Ctrl-D |deleteLine |\\n|Ctrl-Z |undo |\\n|Shift-Ctrl-Z |redo |\\n|Ctrl-Y |redo |\\n|Ctrl-Home |goDocStart |\\n|Ctrl-End |goDocEnd |\\n|Ctrl-Up |goLineUp |\\n|Ctrl-Down |goLineDown |\\n|Ctrl-Left |goGroupLeft |\\n|Ctrl-Right |goGroupRight |\\n|Alt-Left |goLineStart |\\n|Alt-Right |goLineEnd |\\n|Ctrl-Backspace |delGroupBefore |\\n|Ctrl-Delete |delGroupAfter |\\n|Ctrl-F |find |\\n|Ctrl-G |findNext |\\n|Shift-Ctrl-G |findPrev |\\n|Shift-Ctrl-F |replace |\\n|Shift-Ctrl-R |replaceAll |\\n|Ctrl-[ |indentLess |\\n|Ctrl-] |indentMore |\\n|Alt-U |undoSelection |\\n|Shift-Ctrl-U |redoSelection |\\n|Shift-Alt-U |redoSelection |\\n\\n\\n!!!Shortcuts on ~MacOs\\n\\n|Shortcut |Function |h\\n|Cmd-A |selectAll |\\n|Cmd-D |deleteLine |\\n|Cmd-Z |undo |\\n|Shift-Cmd-Z |redo |\\n|Cmd-Y |redo |\\n|Cmd-Home |goDocStart |\\n|Cmd-Up |goDocStart |\\n|Cmd-End |goDocEnd |\\n|Cmd-Down |goDocEnd |\\n|Alt-Left |goGroupLeft |\\n|Alt-Right |goGroupRight |\\n|Cmd-Left |goLineLeft |\\n|Cmd-Right |goLineRight |\\n|Alt-Backspace |delGroupBefore |\\n|Ctrl-Alt-Backspace |delGroupAfter |\\n|Alt-Delete |delGroupAfter |\\n|Cmd-F |find |\\n|Cmd-G |findNext |\\n|Shift-Cmd-G |findPrev |\\n|Cmd-Alt-F |replace |\\n|Shift-Cmd-Alt-F |replaceAll |\\n|Cmd-[ |indentLess |\\n|Cmd-] |indentMore |\\n|Cmd-Backspace |delWrappedLineLeft |\\n|Cmd-Delete |delWrappedLineRight |\\n|Alt-U |undoSelection |\\n|Shift-Alt-U |redoSelection |\\n|Ctrl-Up |goDocStart |\\n|Ctrl-Down |goDocEnd |\\n|Ctrl-F |goCharRight |\\n|Ctrl-B |goCharLeft |\\n|Ctrl-P |goLineUp |\\n|Ctrl-N |goLineDown |\\n|Alt-F |goWordRight |\\n|Alt-B |goWordLeft |\\n|Ctrl-A |goLineStart |\\n|Ctrl-E |goLineEnd |\\n|Ctrl-V |goPageDown |\\n|Shift-Ctrl-V |goPageUp |\\n|Ctrl-D |delCharAfter |\\n|Ctrl-H |delCharBefore |\\n|Alt-D |delWordAfter |\\n|Alt-Backspace |delWordBefore |\\n|Ctrl-K |killLine |\\n|Alt-T |transposeChars |\\n|Ctrl-O |openLine |\\n\\n\\n\"},\"$:/plugins/tiddlywiki/codemirror/license\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/license\",\"text\":\"\\\"\\\"\\\"\\n~CodeMirror, copyright (c) by Marijn Haverbeke and others\\nDistributed under an MIT license: http://codemirror.net/LICENSE\\n\\nCopyright (c) 2004-2007, Jeremy Ruston\\nCopyright (c) 2007-2018, UnaMesa Association\\nDistributed under an BSD license: https://tiddlywiki.com/#License\\n\\\"\\\"\\\"\\n\"},\"$:/plugins/tiddlywiki/codemirror/readme\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/readme\",\"text\":\"This plugin provides an enhanced text editor component based on [[CodeMirror|http://codemirror.net]]. The basic configuration is designed to be as lightweight as possible and is just around 235kb of size. Additional features can be installed with ~CodeMirror ~AddOns from the plugin library.\\n\\n[[Source code|https://github.com/Jermolene/TiddlyWiki5/blob/master/plugins/tiddlywiki/codemirror]]\\n\\nBased on ~CodeMirror version 5.58.3\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/cursorBlinkRate\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/cursorBlinkRate\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/cursorBlinkRate/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/cursorBlinkRate/\\n\\n|\u003C$link to=\\\"$:/config/codemirror/cursorBlinkRate\\\">\u003C\u003Clingo hint>>\u003C/$link> |\u003C$edit-text tiddler=\\\"$:/config/codemirror/cursorBlinkRate\\\" default=\\\"\\\" placeholder=\\\"cursorBlinkRate\\\" tag=\\\"input\\\"/> |\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/editorFont\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/editorFont\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/editorFont/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/ThemeTweaks/\\n\\n|\u003C$link to=\\\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\\\">\u003C\u003Clingo Settings/EditorFontFamily>>\u003C/$link> |\u003C$edit-text tiddler=\\\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\\\" default=\\\"\\\" tag=\\\"input\\\"/> | |\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/indentUnit\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/indentUnit\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/indentUnit/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/indentUnit/\\n\\n|\u003C$link to=\\\"$:/config/codemirror/indentUnit\\\">\u003C\u003Clingo hint>>\u003C/$link> |\u003C$edit-text tiddler=\\\"$:/config/codemirror/indentUnit\\\" default=\\\"\\\" placeholder=\\\"indentUnit\\\" tag=\\\"input\\\"/> |\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/indentWithTabs\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/indentWithTabs\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/indentWithTabs/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/indentWithTabs/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/indentWithTabs\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"true\\\"> \u003C$link to=\\\"$:/config/codemirror/indentWithTabs\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/keyMap\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/keyMap\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/keyMap/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/keyMap\\n\\n\u003C$link to=\\\"$:/config/codemirror/keyMap\\\">\u003C\u003Clingo hint>>\u003C/$link>\\n\\n\u003C$select tiddler=\\\"$:/config/codemirror/keyMap\\\" default=\\\"default\\\">\\n\u003Coption value=\\\"default\\\">default\u003C/option>\\n\u003C$list filter=\\\"[all[shadows+tiddlers]module-type[codemirror-keymap]!has[draft.of]get[text]]\\\">\\n\u003Coption value=\u003C\u003CcurrentTiddler>>>\u003C$transclude>\u003C$text text=\u003C\u003CcurrentTiddler>>/>\u003C/$transclude>\u003C/option>\\n\u003C/$list>\\n\u003C/$select>\\n\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/lineNumbers\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/lineNumbers\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/lineNumbers/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/lineNumbers/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/lineNumbers\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"false\\\"> \u003C$link to=\\\"$:/config/codemirror/lineNumbers\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/lineWrapping\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/lineWrapping\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/lineWrapping/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/lineWrapping/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/lineWrapping\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"true\\\"> \u003C$link to=\\\"$:/config/codemirror/lineWrapping\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/showCursorWhenSelecting\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/showCursorWhenSelecting\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/showCursorWhenSelecting/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/showCursorWhenSelecting/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/showCursorWhenSelecting\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"true\\\"> \u003C$link to=\\\"$:/config/codemirror/showCursorWhenSelecting\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/smartIndent\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/smartIndent\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/smartIndent/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/smartIndent/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/smartIndent\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"true\\\"> \u003C$link to=\\\"$:/config/codemirror/smartIndent\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/styleActiveLine\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/styleActiveLine\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/styleActiveLine/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/styleActiveLine/\\n\u003C\u003Clingo hint>>\\n\\n\u003C$checkbox tiddler=\\\"$:/config/codemirror/styleActiveLine\\\" field=\\\"text\\\" checked=\\\"true\\\" unchecked=\\\"false\\\" default=\\\"false\\\"> \u003C$link to=\\\"$:/config/codemirror/styleActiveLine\\\">\u003C\u003Clingo info>>\u003C/$link> \u003C/$checkbox>\\n\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/tabSize\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/tabSize\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/tabSize/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/tabSize/\\n\\n|\u003C$link to=\\\"$:/config/codemirror/tabSize\\\">\u003C\u003Clingo hint>>\u003C/$link> |\u003C$edit-text tiddler=\\\"$:/config/codemirror/tabSize\\\" default=\\\"\\\" placeholder=\\\"tabSize\\\" tag=\\\"input\\\"/> |\\n\"},\"$:/core/ui/ControlPanel/Settings/codemirror/theme\":{\"title\":\"$:/core/ui/ControlPanel/Settings/codemirror/theme\",\"tags\":\"$:/tags/ControlPanel/Settings/CodeMirror\",\"caption\":\"{{$:/language/codemirror/theme/hint}}\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/\\n\\n\u003C$link to=\\\"$:/config/codemirror/theme\\\">\u003C\u003Clingo hint>>\u003C/$link>\\n\\n\u003C$select tiddler=\\\"$:/config/codemirror/theme\\\" default=\\\"default\\\">\\n\u003Coption value=\\\"default\\\">default\u003C/option>\\n\u003C$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Stylesheet]module-type[codemirror-theme]!has[draft.of]get[name]]\\\">\\n\u003Coption value=\u003C\u003CcurrentTiddler>>>\u003C$transclude field=\\\"name\\\">\u003C$text text=\u003C\u003CcurrentTiddler>>/>\u003C/$transclude>\u003C/option>\\n\u003C/$list>\\n\u003C/$select>\\n\\n//see the [[CodeMirror Usage|$:/plugins/tiddlywiki/codemirror/usage]] how to add themes//\\n\"},\"$:/plugins/tiddlywiki/codemirror/styles\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/styles\",\"tags\":\"[[$:/tags/Stylesheet]]\",\"module-type\":\"codemirror-theme\",\"name\":\"tiddlywiki\",\"text\":\"\\\\define set-fat-cursor-background-css(colour,colourA,colourB)\\n\u003C$set name=\\\"backgroundColour\\\" value=\u003C\u003Ccontrastcolour target:\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget:\\\"\\\"\\\"\\\"\\\"\\\" colourA:\\\"\\\"\\\"$colourA$\\\"\\\"\\\" colourB:\\\"\\\"\\\"$colourB$\\\"\\\"\\\">>>\\n.cm-s-tiddlywiki.cm-fat-cursor .CodeMirror-cursor { background: \u003C\u003CbackgroundColour>>; }\\n.cm-s-tiddlywiki .cm-animate-fat-cursor { background-color: \u003C\u003CbackgroundColour>>; }\\n\u003C/$set>\\n\\\\end\\n\\\\define set-fat-cursor-background-colours(palette)\\n\u003C$macrocall $name=\\\"set-fat-cursor-background-css\\\" colour={{$palette$##foreground}} colourA=\\\"#77ee77\\\" colourB=\\\"#586e75\\\"/>\\n\\\\end\\n\\\\define set-fat-cursor-background()\\n\u003C$macrocall $name=\\\"set-fat-cursor-background-colours\\\" palette={{$:/palette}}/>\\n\\\\end\\n\\\\define set-selection-background-css(colour,colourA,colourB,tiddlerEditorBackground)\\n\u003C$wikify name=\\\"tiddlerEditorBackground\\\" text={{{ [[$tiddlerEditorBackground$]lowercase[]] }}}>\\n\u003C$set name=\\\"backgroundColour\\\" value=\u003C\u003Ccontrastcolour target:\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget:\\\"\\\"\\\"\\\"\\\"\\\" colourA:\\\"\\\"\\\"$colourA$\\\"\\\"\\\" colourB:\\\"\\\"\\\"$colourB$\\\"\\\"\\\">>>\\n\u003C$set name=\\\"backgroundColour\\\" value={{{ [\u003CbackgroundColour>lowercase[]match\u003CtiddlerEditorBackground>then[]] ~[\u003CbackgroundColour>] }}}>\\n.cm-s-tiddlywiki div.CodeMirror-selected { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\\n.cm-s-tiddlywiki.CodeMirror ::selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\\n.cm-s-tiddlywiki .CodeMirror-line::-moz-selection,  .CodeMirror-line > span::-moz-selection,  .CodeMirror-line > span > span::-moz-selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\\n.cm-s-tiddlywiki .CodeMirror-line::selection,  .CodeMirror-line > span::selection,  .CodeMirror-line > span > span::selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\\n\u003C/$set>\\n\u003C/$set>\\n\u003C/$wikify>\\n\\\\end\\n\\\\define set-selection-background-colours(palette)\\n\u003C$macrocall $name=\\\"set-selection-background-css\\\" colour={{$palette$##foreground}} colourA={{{ [{$palette$##selection-background}!match[]!prefix[\u003C\u003C]!suffix[>>]] ~#073642 }}} colourB={{{ [{$palette$##selection-background}!match[]!prefix[\u003C\u003C]!suffix[>>]] ~#eee8d5 }}} tiddlerEditorBackground={{$palette$##tiddler-editor-background}}/>\\n\\\\end\\n\\\\define set-selection-background()\\n\u003C$macrocall $name=\\\"set-selection-background-colours\\\" palette={{$:/palette}}/>\\n\\\\end\\n\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n/* Make the editor resize to fit its content */\\n\\n.CodeMirror {\\n\\theight: auto;\\n\\tborder: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\\n\\tline-height: 1.5;\\n\\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\\n\\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\\n}\\n\\n.CodeMirror-scroll {\\n\\toverflow-x: auto;\\n\\toverflow-y: hidden;\\n}\\n\\n.cm-s-tiddlywiki {\\n  color-profile: sRGB;\\n  rendering-intent: auto;\\n}\\n\\n.cm-s-tiddlywiki.CodeMirror, .cm-s-tiddlywiki .CodeMirror-gutters { background-color: \u003C\u003Ccolour tiddler-editor-background>>; color: \u003C\u003Ccolour foreground>>; }\\n.cm-s-tiddlywiki .CodeMirror-gutters {background: \u003C\u003Ccolour tiddler-editor-background>>; border-right: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;}\\n.cm-s-tiddlywiki .CodeMirror-linenumber {color: \u003C\u003Ccolour foreground>>;}\\n.cm-s-tiddlywiki .CodeMirror-cursor { border-left: 2px solid \u003C\u003Ccolour foreground>>; }\\n.cm-s-tiddlywiki span.cm-comment { color: #586e75; font-style:italic; font-weight:normal; }\\n.cm-s-tiddlywiki .CodeMirror-activeline-background, .cm-s-tiddlywiki .CodeMirror-activeline-gutter .CodeMirror-linenumber { background: rgba(127,127,127,0.2); }\\n.cm-s-tiddlywiki span.cm-matchhighlight { color: \u003C\u003Ccolour background>>; background-color: \u003C\u003Ccolour primary>>; font-weight: normal;}\\n.cm-s-tiddlywiki .CodeMirror-widget { text-shadow: none; }\\n.cm-s-tiddlywiki .CodeMirror-dialog { background: \u003C\u003Ccolour tiddler-background>>; }\\n.cm-s-tiddlywiki .cm-header { color: #586e75; }\\n.cm-s-tiddlywiki .cm-quote { color: #93a1a1; }\\n.cm-s-tiddlywiki .cm-keyword { color: #cb4b16; }\\n.cm-s-tiddlywiki .cm-atom { color: #d33682; }\\n.cm-s-tiddlywiki .cm-number { color: #d33682; }\\n.cm-s-tiddlywiki .cm-def { color: #2aa198; }\\n.cm-s-tiddlywiki .cm-variable { color: #839496; }\\n.cm-s-tiddlywiki .cm-variable-2 { color: #b58900; }\\n.cm-s-tiddlywiki .cm-variable-3, .cm-s-tiddlywiki .cm-type { color: #6c71c4; }\\n.cm-s-tiddlywiki .cm-property { color: #2aa198; }\\n.cm-s-tiddlywiki .cm-operator { color: #6c71c4; }\\n.cm-s-tiddlywiki .cm-comment { color: #586e75; font-style:italic; }\\n.cm-s-tiddlywiki .cm-string { color: #859900; }\\n.cm-s-tiddlywiki .cm-string-2 { color: #b58900; }\\n.cm-s-tiddlywiki .cm-meta { color: #859900; }\\n.cm-s-tiddlywiki .cm-qualifier { color: #b58900; }\\n.cm-s-tiddlywiki .cm-builtin { color: #d33682; }\\n.cm-s-tiddlywiki .cm-bracket { color: #cb4b16; }\\n.cm-s-tiddlywiki .CodeMirror-matchingbracket { color: #859900; }\\n.cm-s-tiddlywiki .CodeMirror-nonmatchingbracket { color: #dc322f; }\\n.cm-s-tiddlywiki .cm-tag { color: #93a1a1; }\\n.cm-s-tiddlywiki .cm-attribute { color: #2aa198; }\\n.cm-s-tiddlywiki .cm-hr { color: transparent; border-top: 1px solid #586e75; display: block; }\\n.cm-s-tiddlywiki .cm-link { color: #93a1a1; cursor: pointer; }\\n.cm-s-tiddlywiki .cm-special { color: #6c71c4; }\\n.cm-s-tiddlywiki .cm-em { color: #999; text-decoration: underline; text-decoration-style: dotted; }\\n.cm-s-tiddlywiki .cm-error,\\n.cm-s-tiddlywiki .cm-invalidchar { color: #586e75; border-bottom: 1px dotted #dc322f; }\\n.cm-s-tiddlywiki .CodeMirror-matchingbracket { color: #859900; }\\n.cm-s-tiddlywiki .CodeMirror-nonmatchingbracket { color: #dc322f; }\\n.cm-s-tiddlywiki .cm-searching { background: rgba(243, 155, 53, .3); outline: 1px solid #F39B35; }\\n\u003C\u003Cset-fat-cursor-background>>\\n\u003C\u003Cset-selection-background>>\\n\"},\"$:/core/ui/ControlPanel/Settings/CodeMirror\":{\"title\":\"$:/core/ui/ControlPanel/Settings/CodeMirror\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"caption\":\"CodeMirror\",\"list-after\":\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\",\"text\":\"\\\\define lingo-base() $:/language/codemirror/controlPanel/\\n\\n\u003C\u003Clingo hint>>\\n\\n\u003C$link to=\\\"$:/plugins/tiddlywiki/codemirror/usage\\\">\u003C\u003Clingo usage>>\u003C/$link>\\n\\n\u003C$link to=\\\"$:/plugins/tiddlywiki/codemirror/keyboard\\\">\u003C\u003Clingo keyboard>>\u003C/$link>\\n\\n\u003C$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings/CodeMirror]]\\\">\\n\\n\u003Cdiv style=\\\"border-top:1px solid #eee;\\\">\\n\\n!! \u003C$link>\u003C$transclude field=\\\"caption\\\"/>\u003C/$link>\\n\\n\u003C$transclude/>\\n\\n\u003C/div>\\n\\n\u003C/$list>\\n\"},\"$:/core/ui/ControlPanel/Settings\":{\"title\":\"$:/core/ui/ControlPanel/Settings\",\"tags\":\"$:/tags/ControlPanel\",\"caption\":\"{{$:/language/ControlPanel/Settings/Caption}}\",\"text\":\"\u003Cdiv class=\\\"tc-control-panel\\\">\\n\u003C$macrocall $name=\\\"tabs\\\" tabsList=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/SettingsTab]!has[draft.of]]\\\" default=\\\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\\\" explicitState=\\\"$:/state/tab--697582678\\\"/>\\n\u003C/div>\\n\"},\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\":{\"title\":\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"caption\":\"TiddlyWiki\",\"text\":\"\\\\define lingo-base() $:/language/ControlPanel/Settings/\\n\\n\u003C\u003Clingo Hint>>\\n\\n\u003C$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\\\">\\n\\n\u003Cdiv style=\\\"border-top:1px solid #eee;\\\">\\n\\n!! \u003C$link>\u003C$transclude field=\\\"caption\\\"/>\u003C/$link>\\n\\n\u003C$transclude/>\\n\\n\u003C/div>\\n\\n\u003C/$list>\\n\"},\"$:/plugins/tiddlywiki/codemirror/usage\":{\"title\":\"$:/plugins/tiddlywiki/codemirror/usage\",\"text\":\"! Configuration\\n\\nConfiguration for the ~CodeMirror text-editor can be done from within the CodeMirror Settings Tab in the [[ControlPanel|$:/ControlPanel]] (Settings - ~CodeMirror)\\n\\n\\n!!Setting a different Theme\\n\\n~CodeMirror themes are available in the [ext[official GitHub repository|https://github.com/codemirror/CodeMirror/tree/master/theme]]\\n\\nMore themes can be found at https://github.com/FarhadG/code-mirror-themes/tree/master/themes and previewed [ext[here|http://farhadg.github.io/code-mirror-themes/]]\\n\\n\\nTo add a theme to your wiki, follow these four steps:\\n\\n* choose one of the CSS files and copy its content to a new tiddler\\n* remove all comments from the top and tag the tiddler with \u003C\u003Ctag-pill \\\"$:/tags/Stylesheet\\\">>\\n* add a field \\\"module-type\\\" with the value \\\"codemirror-theme\\\". add a field \\\"name\\\" with the exact ''name'' of the theme as value\\n* save the tiddler and go to the Settings tab in $:/ControlPanel - look for the \\\"theme\\\" dropdown to select your newly added theme\\n\\n\\n!!Line Numbers\\n\\nTo show or hide the Line Numbers at the left, go to ~ControlPanel - Settings - ~CodeMirror and look for the \\\"Line Numbers\\\" checkbox\\n\\n\\n!!Line Wrapping\\n\\nControls if long lines get visually wrapped to a new line if they're too long to fit the editor width or if the editor should scroll horizontally\\n\\nTo change the line-wrapping behaviour, go to  ~ControlPanel - Settings - ~CodeMirror and look for the \\\"Line Wrapping\\\" checkbox\\n\\n\\n!!Show Cursor when selecting\\n\\nDefines whether the Mouse cursor should be visually shown or hidden when making a text-selection\\n\\nTo change the show-cursor-when-selecting behaviour, go to  ~ControlPanel - Settings - ~CodeMirror and look for the \\\"Show cursor when selecting\\\" checkbox\\n\\n\\n!!~CodeMirror Font Family\\n\\nThe Font-Family used within the ~CodeMirror text-editor defaults to \\\"monospace\\\" which will choose your configured monospace system-font\\n\\nThat setting can be overridden entering one or more Font-Families in the \\\"Font Family\\\" input field at ~ControlPanel - Settings - ~CodeMirror\\n\\n* The entries must be separated by semicolons ','\\n* Font-Family Names that contain spaces must be quoted like \\\"My Font\\\"\\n* If a list of Font-Families is specified, the last Font-Family found on the user-system gets used, non-existing fonts get ignored\\n* If none of the specified Font-Families is available, ~CodeMirror uses the default \\\"monospace\\\"\\n\\n\\n!!\\\"Hidden\\\" Settings:\\n\\n!!!Cursor Blink Rate\\n\\nThe cursor blink-rate defines how fast (in milliseconds) the cursor blinks inside the textarea\\n\\nYou can change it by editing $:/config/codemirror/cursorBlinkRate\\n\\\"0\\\" disables blinking\\n\\n!!!Tabsize\\n\\nThe Tabsize defines the width of a tab character. Default is 4.\\n\\nYou can change it by editing $:/config/codemirror/tabSize\\n\\n!!!Indent Unit\\n\\nNot enabled for vnd.tiddlywiki and x-tiddlywiki\\n\\nDefines how many spaces a text-block should be indented. Defaults to 2.\\n\\nYou can change it by editing $:/config/codemirror/indentUnit\\n\\n\"}}}"},
{"title":"$:/plugins/tiddlywiki/codemirror/styles","tags":"$:/tags/Stylesheet","module-type":"codemirror-theme","name":"tiddlywiki","text":"\\define set-fat-cursor-background-css(colour,colourA,colourB)\n\u003C$set name=\"backgroundColour\" value=\u003C\u003Ccontrastcolour target:\"\"\"$colour$\"\"\" fallbackTarget:\"\"\"\"\"\" colourA:\"\"\"$colourA$\"\"\" colourB:\"\"\"$colourB$\"\"\">>>\n.cm-s-tiddlywiki.cm-fat-cursor .CodeMirror-cursor { background: \u003C\u003CbackgroundColour>>; }\n.cm-s-tiddlywiki .cm-animate-fat-cursor { background-color: \u003C\u003CbackgroundColour>>; }\n\u003C/$set>\n\\end\n\\define set-fat-cursor-background-colours(palette)\n\u003C$macrocall $name=\"set-fat-cursor-background-css\" colour={{$palette$##foreground}} colourA=\"#77ee77\" colourB=\"#586e75\"/>\n\\end\n\\define set-fat-cursor-background()\n\u003C$macrocall $name=\"set-fat-cursor-background-colours\" palette={{$:/palette}}/>\n\\end\n\\define set-selection-background-css(colour,colourA,colourB,tiddlerEditorBackground)\n\u003C$wikify name=\"tiddlerEditorBackground\" text={{{ [[$tiddlerEditorBackground$]lowercase[]] }}}>\n\u003C$set name=\"backgroundColour\" value=\u003C\u003Ccontrastcolour target:\"\"\"$colour$\"\"\" fallbackTarget:\"\"\"\"\"\" colourA:\"\"\"$colourA$\"\"\" colourB:\"\"\"$colourB$\"\"\">>>\n\u003C$set name=\"backgroundColour\" value={{{ [\u003CbackgroundColour>lowercase[]match\u003CtiddlerEditorBackground>then[]] ~[\u003CbackgroundColour>] }}}>\n.cm-s-tiddlywiki div.CodeMirror-selected { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\n.cm-s-tiddlywiki.CodeMirror ::selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\n.cm-s-tiddlywiki .CodeMirror-line::-moz-selection,  .CodeMirror-line > span::-moz-selection,  .CodeMirror-line > span > span::-moz-selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\n.cm-s-tiddlywiki .CodeMirror-line::selection,  .CodeMirror-line > span::selection,  .CodeMirror-line > span > span::selection { background: \u003C\u003CbackgroundColour>>; color: \u003C\u003Ccolour foreground>>; }\n\u003C/$set>\n\u003C/$set>\n\u003C/$wikify>\n\\end\n\\define set-selection-background-colours(palette)\n\u003C$macrocall $name=\"set-selection-background-css\" colour={{$palette$##foreground}} colourA={{{ [{$palette$##selection-background}!match[]!prefix[\u003C\u003C]!suffix[>>]] ~#073642 }}} colourB={{{ [{$palette$##selection-background}!match[]!prefix[\u003C\u003C]!suffix[>>]] ~#eee8d5 }}} tiddlerEditorBackground={{$palette$##tiddler-editor-background}}/>\n\\end\n\\define set-selection-background()\n\u003C$macrocall $name=\"set-selection-background-colours\" palette={{$:/palette}}/>\n\\end\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\n\n/* Make the editor resize to fit its content */\n\n.CodeMirror {\n\theight: auto;\n\tborder: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\n\tline-height: 1.5;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\n}\n\n.CodeMirror-scroll {\n\toverflow-x: auto;\n\toverflow-y: hidden;\n}\n\n.cm-s-tiddlywiki {\n  color-profile: sRGB;\n  rendering-intent: auto;\n}\n\n.cm-s-tiddlywiki.CodeMirror, .cm-s-tiddlywiki .CodeMirror-gutters { background-color: \u003C\u003Ccolour tiddler-editor-background>>; color: \u003C\u003Ccolour foreground>>; }\n.cm-s-tiddlywiki .CodeMirror-gutters {background: \u003C\u003Ccolour tiddler-editor-background>>; border-right: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;}\n.cm-s-tiddlywiki .CodeMirror-linenumber {color: \u003C\u003Ccolour foreground>>;}\n.cm-s-tiddlywiki .CodeMirror-cursor { border-left: 2px solid \u003C\u003Ccolour foreground>>; }\n.cm-s-tiddlywiki span.cm-comment { color: #586e75; font-style:italic; font-weight:normal; }\n.cm-s-tiddlywiki .CodeMirror-activeline-background, .cm-s-tiddlywiki .CodeMirror-activeline-gutter .CodeMirror-linenumber { background: rgba(127,127,127,0.2); }\n.cm-s-tiddlywiki span.cm-matchhighlight { color: \u003C\u003Ccolour background>>; background-color: \u003C\u003Ccolour primary>>; font-weight: normal;}\n.cm-s-tiddlywiki .CodeMirror-widget { text-shadow: none; }\n.cm-s-tiddlywiki .CodeMirror-dialog { background: \u003C\u003Ccolour tiddler-background>>; }\n.cm-s-tiddlywiki .cm-header { color: #586e75; }\n.cm-s-tiddlywiki .cm-quote { color: #93a1a1; }\n.cm-s-tiddlywiki .cm-keyword { color: #cb4b16; }\n.cm-s-tiddlywiki .cm-atom { color: #d33682; }\n.cm-s-tiddlywiki .cm-number { color: #d33682; }\n.cm-s-tiddlywiki .cm-def { color: #2aa198; }\n.cm-s-tiddlywiki .cm-variable { color: #839496; }\n.cm-s-tiddlywiki .cm-variable-2 { color: #b58900; }\n.cm-s-tiddlywiki .cm-variable-3, .cm-s-tiddlywiki .cm-type { color: #6c71c4; }\n.cm-s-tiddlywiki .cm-property { color: #2aa198; }\n.cm-s-tiddlywiki .cm-operator { color: #6c71c4; }\n.cm-s-tiddlywiki .cm-comment { color: #586e75; font-style:italic; }\n.cm-s-tiddlywiki .cm-string { color: #859900; }\n.cm-s-tiddlywiki .cm-string-2 { color: #b58900; }\n.cm-s-tiddlywiki .cm-meta { color: #859900; }\n.cm-s-tiddlywiki .cm-qualifier { color: #b58900; }\n.cm-s-tiddlywiki .cm-builtin { color: #d33682; }\n.cm-s-tiddlywiki .cm-bracket { color: #cb4b16; }\n.cm-s-tiddlywiki .CodeMirror-matchingbracket { color: #859900; }\n.cm-s-tiddlywiki .CodeMirror-nonmatchingbracket { color: #dc322f; }\n.cm-s-tiddlywiki .cm-tag { color: #93a1a1; }\n.cm-s-tiddlywiki .cm-attribute { color: #2aa198; }\n.cm-s-tiddlywiki .cm-hr { color: transparent; border-top: 1px solid #586e75; display: block; }\n.cm-s-tiddlywiki .cm-link { color: #93a1a1; cursor: pointer; }\n.cm-s-tiddlywiki .cm-special { color: #6c71c4; }\n.cm-s-tiddlywiki .cm-em { color: #999; text-decoration: underline; text-decoration-style: dotted; }\n.cm-s-tiddlywiki .cm-error,\n.cm-s-tiddlywiki .cm-invalidchar { color: #586e75; border-bottom: 1px dotted #dc322f; }\n.cm-s-tiddlywiki .CodeMirror-matchingbracket { color: #859900; }\n.cm-s-tiddlywiki .CodeMirror-nonmatchingbracket { color: #dc322f; }\n.cm-s-tiddlywiki .cm-searching { background: rgba(243, 155, 53, .3); outline: 1px solid #F39B35; }\n\u003C\u003Cset-fat-cursor-background>>\n\u003C\u003Cset-selection-background>>\n"},
{"created":"20221107145420122","text":"\u003C\u003Clist-links \"[{!!title}tagging[]]\">>","title":"$:/SaveToGitHub","modified":"20221107150031162"},
{"created":"20210813013650836","creator":"Telumire","text":"\u003C!-- >>Warning\u003C\u003C\nThe syncer module uses the saver with the highest priority capable of the requested method to save the file.\nIf another saver has a higher priority than the GitHub Saver, this will not work !\nA better way to do this would be to manually trigger the GitHub saver, but it is not possible at the moment without custom JavaScript code.\n\nSee: \n* https://tiddlywiki.com/dev/static/Extended%2520Persistence.html\n* https://bimlas.gitlab.io/demo/tw5/preferred-saver.html\n-->\n\\whitespace trim\n\u003C$button tooltip=\"save wiki to GitHub\" aria-label={{$:/SaveToGitHub/Caption}}  class=\u003C\u003Ctv-config-toolbar-class>>>\n\u003C!--\n1. Disable AutoSave to prevent accidental tiddler deletion \n-->\n\u003C$action-setfield $tiddler=\"$:/config/AutoSave\" text=\"no\"/>\n\u003C!--\n2. Create the tiddlers containing the settings for the save exist if they dont exist\n-->\n\u003C$action-listops $tiddler=\"$:/SaveToGitHub/private/username\" $tags=\"[[$:/SaveToGitHub]]\"/>\n\u003C$action-listops $tiddler=\"$:/SaveToGitHub/private/state\" $tags=\"[[$:/SaveToGitHub]]\"/>\n\u003C!--\n3. Set the GitHub username to enable the GitHub Saver. \n-->\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text={{$:/SaveToGitHub/private/username}}/>\n\u003C!--\n4. Ask for a commit if the checkbox is checked. See [[$:/SaveToGitHub/CommitMessage/Modal]]\n-->\n\u003C$list filter=\"[{$:/SaveToGitHub/Settings!!ask-commit}match[true]]\">\n\u003C$action-sendmessage $message=\"tm-modal\" $param=\"$:/SaveToGitHub/CommitMessage/Modal\"/>\n\u003C/$list>\n\u003C!-- \n5. Else, save to GitHub without modifying the commit message and finally re-enable the AutoSave.\n-->\n\u003C$list filter=\"[{$:/SaveToGitHub/Settings!!ask-commit}match[false]]\">\n\u003C$action-sendmessage $message=\"tm-save-wiki\" $param=\"$:/core/save/all\" publishFilter={{$:/SaveToGitHub/PublishFilter}} />\n\u003C!-- \n   $:/GitHub/Username is deleted to disable the GitHub Saver.\n-->\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text=\"\"/>\n\u003C$action-setfield $tiddler=\"$:/config/AutoSave\" text=\"yes\"/>\n\u003C/$list>\n\u003Cspan class=\"tc-dirty-indicator\">\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n{{$:/core/images/github}}\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">save wiki to GitHub\u003C/span>\n\u003C/$list>\n\u003C/span>\n\u003C/$button>","title":"$:/SaveToGitHub/Button","bag":"default","caption":"{{$:/core/images/github}} send wiki","description":"save wiki to GitHub","modified":"20221121124847930","revision":"0","tags":"$:/tags/PageControls $:/SaveToGitHub","modifier":"Telumire"},
{"created":"20210921232322676","text":"\\whitespace trim\n\u003C$vars separator-start=\":[[\" separator-end=\"]]\">\n\u003C$set name=GithubPageTiddlerUrl filter=\"\n[[https://]][{$:/SaveToGitHub/private/username}][[.github.io/]]\n[{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}removeprefix[/]]\n[{$:/GitHub/Path}addsuffix{$:/GitHub/Filename}]\n#\n[\u003Cseparator-start>]\n[all[current]]\n[\u003Cseparator-end>]\n+[join[]encodeuri[]]\n\">\n\u003C$button class=tc-btn-invisible message=\"tm-copy-to-clipboard\" \nparam=\u003C\u003CGithubPageTiddlerUrl>> tooltip={{!!hint}} aria-label=\"GitHub permalink\">\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n{{$:/core/images/file}}\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\n\u003C$text text=\" \"/>\n\u003C$text text={{$:/SaveToGitHub/Button/GitHubPermalink!!caption}}/>\n\u003C/span>\n\u003C/$list>\n\u003C/$button>\n\u003C/$set>\n\u003C/$vars>","title":"$:/SaveToGitHub/Button/GitHubPermalink","bag":"default","caption":"GitHub permalink","description":"Button to get the GitHub Page url of a tiddler. ","hint":"Click to copy the GitHub Page url of this tiddler to the clipboard","modified":"20211021220512447","revision":"0","tags":"$:/SaveToGitHub $:/tags/ViewToolbar"},
{"created":"20210922001530951","creator":"Telumire","text":"\\whitespace trim\n\u003C$vars separator=\"]][[\" separator-start=\":[[\" separator-end=\"]]\">\n\u003C$set name=GithubPageTiddlerUrl filter=\"\n[[https://]][{$:/SaveToGitHub/private/username}][[.github.io/]]\n[{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}removeprefix[/]]\n[{$:/GitHub/Path}addsuffix{$:/GitHub/Filename}]\n#\n[\u003Cseparator-start>] [list[$:/StoryList]join\u003Cseparator>] [\u003Cseparator-end>]\n+[join[]encodeuri[]]\n\">\n\u003C$button class=tc-btn-invisible message=\"tm-copy-to-clipboard\" \nparam=\u003C\u003CGithubPageTiddlerUrl>> tooltip={{!!hint}} aria-label=\"GitHub permaview\">\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n{{$:/core/images/folder}}\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\n\u003C$text text=\" \"/>\n\u003C$text text={{$:/SaveToGitHub/Button/GitHubPermaView!!caption}}/>\n\u003C/span>\n\u003C/$list>\n\u003C/$button>\n\u003C/$set>\n\u003C/$vars>","title":"$:/SaveToGitHub/Button/GitHubPermaView","bag":"default","caption":"GitHub permaview","description":"Button to get the ~GitHub Page url of this story. TODO : add a proper icon","hint":"Click to copy the ~GitHub Page url of this story to the clipboard","modified":"20221117152319186","revision":"0","tags":"$:/SaveToGitHub $:/tags/ViewToolbar","modifier":"Telumire"},
{"created":"20210922022754002","text":"\\whitespace trim\n\u003C$button class=tc-btn-invisible tooltip={{$:/SaveToGitHub/Button/Private!!hint}} aria-label=\"set password\">\n\u003C$action-listops  $tiddler=\u003C\u003CcurrentTiddler>> $tags=\"+[toggle[private]]\" />\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\" variable=_>\n\u003C$list filter=\"[all[current]tag[private]]\">\n{{$:/core/images/locked-padlock}}\n\u003C/$list>\n\u003C$list filter=\"[all[current]!tag[private]]\">\n{{$:/core/images/unlocked-padlock}}\n\u003C/$list>\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\n\u003C$text text=\" \"/>\n\u003C$text text={{$:/SaveToGitHub/Button/Private!!caption}}/>\n\u003C/span>\n\u003C/$list>\n\u003C/$button>","title":"$:/SaveToGitHub/Button/Private","bag":"default","caption":"Private","description":"Mark the tiddler as private.","hint":"Click to set the tiddler to private","modified":"20211021215729064","revision":"0","tags":"$:/SaveToGitHub $:/tags/EditToolbar $:/tags/ViewToolbar"},
{"title":"$:/SaveToGitHub/CommitMessage/Modal","text":"\u003Cstyle>\n.tc-edit-texteditor{\nwidth:100%;\n}\n\n\u003C/style>\n\n\u003C$edit-text class=\"commit-message\" tiddler=\"$:/language/ControlPanel/Saving/GitService/CommitMessage\" default=\"Saved by TiddlyWiki\" tag=\"textarea\" class=\"tc-edit-texteditor\"/>","bag":"default","created":"20210813010927077","footer":"\u003C$button message=\"tm-close-tiddler\">Commit\u003C$action-sendmessage $message=\"tm-save-wiki\" $param=\"$:/core/save/all\" publishFilter={{$:/SaveToGitHub/PublishFilter}} /> \u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text=\"\"/> \u003C$action-setfield $tiddler=\"$:/config/AutoSave\" text=\"yes\"/>\u003C/$button>","modified":"20210813014424463","revision":"0","subtitle":"Commit message","tags":"$:/SaveToGitHub"},
{"created":"20221114202807445","creator":"Telumire","text":"\\define if-images-to-upload() [type[image/png]!has[_canonical_uri]limit[1]]\n\\define send-images-action()\n\u003C$list filter=\u003C\u003Cif-images-to-upload>>>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text={{$:/SaveToGitHub/private/username}}/>\n\u003C$action-sendmessage $message=\"tm-upload-tiddlers\" $param=\"[type[image/png]!has[_canonical_uri]]\"/>\n\u003C$action-setfield $tiddler=\"$:/GitHub/Username\" text=\"\"/>\n\u003C/$list>\n\\end\n\\whitespace trim\n\u003C$tiddler tiddler=\"$:/SaveToGitHub/FileUpload/SendImages\">\n\u003C$button\ntooltip={{{ [filter\u003Cif-images-to-upload>then{!!images-to-upload-message}else{!!no-images-to-upload-message}] }}}\nclass=\u003C\u003Ctv-config-toolbar-class>>\naria-label=\"Send images to GitHub\"\nactions=\u003C\u003Csend-images-action>>\n>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n\u003C$transclude tiddler=\"$:/core/images/picture\"/>\n\u003C/$list>\n\u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\u003Cspan class=\"tc-btn-text\">\u003C$text text=\"send images to GitHub\"/>\u003C/span>\n\u003C/$list>\n\u003C/$button>\n\u003C/$tiddler>","tags":"$:/SaveToGitHub/Settings $:/SaveToGitHub $:/tags/PageControls $:/libro/FileUpload","title":"$:/SaveToGitHub/FileUpload/SendImages","modified":"20221121124725796","modifier":"Telumire","images-to-upload-message":"send images to GitHub","no-images-to-upload-message":"no images to send","caption":"{{$:/plugins/commons/file-uploads/images/upload}} send images to GitHub","description":"a button that use the file upload plugin to send images to GitHub."},
{"created":"20210922004120766","text":"[[https://]]\n[{$:/SaveToGitHub/private/username}]\n[[.github.io]]\n[{$:/GitHub/Repo}removeprefix{$:/SaveToGitHub/private/username}]\n[{$:/GitHub/Path}]\n+[join[]]","title":"$:/SaveToGitHub/GithubPageUrlFilter","bag":"default","modified":"20211003164332449","revision":"0","tags":"$:/SaveToGitHub/Settings $:/SaveToGitHub"},
{"created":"20221113123544876","title":"$:/SaveToGitHub/private/state","tags":"$:/SaveToGitHub","modified":"20221113123544876"},
{"created":"20221113123238964","creator":"Telumire","title":"$:/SaveToGitHub/private/username","text":"Telumire","modified":"20221119151142778","tags":"$:/SaveToGitHub","modifier":"Telumire"},
{"created":"20210727234120954","text":"\u003Cstyle>\n.sidebar-link .tc-btn-invisible.tc-tiddlylink{\ncolor:\u003C\u003Ccolour tiddler-link-foreground>>;\n}\n\u003C/style>\n\n!![[Download|$:/SaveToGitHub/publish]]\n\n\u003Cspan class=\"sidebar-link\">\n\n* \u003C$button class=\"tc-btn-invisible tc-tiddlylink\">\n\u003C$action-sendmessage $message=\"tm-download-file\" $param=\"$:/core/save/all\" filename=\"public.html\" publishFilter={{$:/SaveToGitHub/PublishFilter}} />\npublic\n\u003C/$button>\n* \u003C$button class=\"tc-btn-invisible tc-tiddlylink\">\n\u003C$action-sendmessage $message=\"tm-download-file\" $param=\"$:/core/save/all\" filename=\"complete.html\"/>\nall\n\u003C/$button>\n\n\u003C/span>","title":"$:/SaveToGitHub/publish","bag":"default","modified":"20221105233731424","revision":"0","tags":"$:/SaveToGitHub $:/About"},
{"created":"20210806130312321","title":"$:/SaveToGitHub/PublishFilter","text":"-[tag[private]] \n-$:/HistoryList \n-[$:/status/IsLoggedIn]\n-[search:title[$:/state/folded]] -[has[draft.of]] -[search:title[$:/GitHub]] -[search:title[$:/SaveToGitHub/private]]","bag":"default","description":"If no filter is specified, ALL tiddlers will be uploaded when saving to github.","modified":"20211104170541648","revision":"0","tags":"$:/SaveToGitHub"},
{"created":"20210805131146320","creator":"Télumire","text":"\\define lingo-base() $:/language/ControlPanel/Saving/GitService/\n\\define service-name() ~GitHub\n\nThese settings are only used when saving to GitHub\n\n|GitHub-Table-Settings|k\n|\u003C\u003Clingo UserName>>|\u003C$edit-text tiddler=\"$:/SaveToGitHub/private/username\" autocomplete=\"username\"  placeholder=\"github username\" default={{$:/GitHub/Username}} tag=\"input\"/>|\n|\u003C\u003Clingo GitHub/Password>>. [[Create a Personal Access Token here.|https://github.com/settings/tokens/new?scopes=repo&description=tw]]|\u003C$password name=\"github\"/> |\n|\u003C\u003Clingo Repo>> |\u003C$edit-text tiddler=\"$:/GitHub/Repo\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo Branch>> |\u003C$edit-text tiddler=\"$:/GitHub/Branch\" default=\"master\" tag=\"input\"/> |\n|\u003C\u003Clingo Path>> |\u003C$edit-text tiddler=\"$:/GitHub/Path\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo Filename>> |\u003C$edit-text tiddler=\"$:/GitHub/Filename\" default=\"\" tag=\"input\"/> |\n|\u003C\u003Clingo ServerURL>> |\u003C$edit-text tiddler=\"$:/GitHub/ServerURL\" default=\"https://api.github.com\" tag=\"input\"/> |\n\n\u003C$let repo={{{ https://github.com/[{$:/GitHub/Repo}]/tree/main[{$:/GitHub/Path}] +[join[]] }}}>\n\u003C\u003Crepo>>\n\u003C/$let>\n\n!!![[Send images to Github|$:/SaveToGitHub/FileUpload/SendImages]]\n\n{{$:/SaveToGitHub/FileUpload/SendImages}}\n\n!!![[Commit Message|$:/language/ControlPanel/Saving/GitService/CommitMessage]]\n\u003C$edit-text tiddler=\"$:/language/ControlPanel/Saving/GitService/CommitMessage\" default=\"Saved by TiddlyWiki\" tag=\"textarea\" class=\"tc-edit-texteditor\"/>\n\n\u003C$checkbox tiddler=\"$:/SaveToGitHub/Settings\" field=\"ask-commit\" checked=\"true\" unchecked=\"false\" default=\"false\"> Ask for a commit message\u003C/$checkbox>\n\n\n!!![[Filter|$:/SaveToGitHub/PublishFilter]]\n\n\u003C$edit-text tiddler=\"$:/SaveToGitHub/PublishFilter\" default=\"\" tag=\"textarea\" class=\"tc-edit-texteditor\"/>\n\n!!! ~GitHub Pages url\n\n\u003C$let link={{{[subfilter{$:/SaveToGitHub/GithubPageUrlFilter}]}}}>\n\u003C\u003Clink>>\n\u003C/$let>","title":"$:/SaveToGitHub/Settings","ask-commit":"true","bag":"default","caption":"{{$:/language/ControlPanel/Saving/GitService/GitHub/Caption}}","modified":"20221117201453625","revision":"0","tags":"$:/SaveToGitHub $:/tags/ControlPanel/Saving","modifier":"Telumire"},
{"title":"$:/SaveToGitHub/Settings/Style","text":"\u003Cpre>\n.tc-story-river table.GitHub-Table-Settings{\n\tpadding-top: 0px;\n}\n\n.tc-story-river table.GitHub-Table-Settings caption {\n\tcaption-side: top;\n\ttext-align: left;\n\tfont-size: 22.5px;\n\tline-height: 27px;\n\tfont-weight: 500;\n\tmargin-top: 18.675px;\n\tmargin-bottom: 18.675px;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings{\ndisplay:flex;\nflex-direction:column;\npadding:1em;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings td{\nborder:0;\ndisplay:flex;\nflex-wrap: wrap;\nflex: 1;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings td a{\n    padding-left: .5ch;\n    padding-right: .5ch;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings td input{\ndisplay:flex;\nflex: 1;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings td:first-child {\nmargin-top:1em;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main :is(table.GitHub-Table-Settings tbody, table.GitHub-Table-Settings tr){\ndisplay:contents;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main table.GitHub-Table-Settings caption{\nmargin-top:-1.8em;\npadding-left:.5em;\npadding-right:.5em;\nbackground:\u003C\u003Ccolor sidebar-tab-background-selected>>;\nalign-self: center;\n}\n\n.tc-tab-content.tc-sidebar-tabs-main textarea.tc-edit-texteditor{\nwidth:100%;\n}\n\n\u003C/pre>","bag":"default","created":"20210810223410206","modified":"20210813030810346","revision":"0","tags":"$:/tags/Stylesheet $:/SaveToGitHub"},
{"title":"$:/showInfo/code/Stylesheet/ViewTemplate","created":"20211027134000011","list-before":"$:/core/ui/ViewTemplate/body","modified":"20211106034213105","tags":"$:/showInfo/macro/copy-code $:/tags/ViewTemplate bookmark","type":"text/vnd.tiddlywiki","text":"\u003C$list filter=\"[all[current]tag[$:/tags/Stylesheet]]\">\n\u003C$reveal tag=\"div\" type=\"nomatch\" stateTitle=\u003C\u003Cfolded-state>> text=\"hide\">\n\u003C$macrocall $name=\"copy-code\" language=css display-language=show code={{!!text}} />\n\u003C/$reveal>\n\u003C/$list>\n\u003C$list filter=\"[all[current]tag[$:/tags/Macro]]\">\n\u003C$reveal tag=\"div\" type=\"nomatch\" stateTitle=\u003C\u003Cfolded-state>> text=\"hide\">\n\u003C$macrocall $name=\"copy-code\" language=\"text/vnd.tiddlywiki\" display-language=show code={{!!text}} />\n\u003C/$reveal>\n\u003C/$list>\n\u003C$list filter=\"[all[current]tag[$:/tags/ViewTemplate]]\">\n\u003C$reveal tag=\"div\" type=\"nomatch\" stateTitle=\u003C\u003Cfolded-state>> text=\"hide\">\n\u003C$macrocall $name=\"copy-code\" language=\"text/vnd.tiddlywiki\" display-language=show code={{!!text}} />\n\u003C/$reveal>\n\u003C/$list>","revision":"0","bag":"default"},
{"created":"20210527202956234","text":"\\define copy-code(language:\"\" code:\"\" title:\"\" display-language:\"\")\n\u003Cdl class=\"copy-code\">\n\t\u003Cdt>\u003C\u003C__title__>>\u003C/dt>\n\t\u003Cdd>\n\t\t\u003C$macrocall $name=\"copy-to-clipboard\" src=\u003C\u003C__code__>>/> \n\t\t\u003C$codeblock code=\u003C\u003C__code__>> language=\u003C\u003C__language__>>/>\n\t\t\u003Csmall class={{{ [\u003C__display-language__>!is[blank]]:else[\u003C__code__>split[\n]count[]compare:number:gt[2]then[show]else[hide]]}}}>\u003C\u003C__language__>>\u003C/small>\n\t\u003C/dd>\n\u003C/dl>\n\\end","creator":"user","title":"$:/showInfo/macro/copy-code","list":"","modified":"20230106040245395","modifier":"Telumire","tagging":"after","tags":"$:/showInfo $:/tags/Macro $:/showInfo/macro/copy-code Tools","type":"text/vnd.tiddlywiki","revision":"0","bag":"default","install":"\u003C\u003Cexport \"[is[current]] [is[current]tagging[]]\" filename:\"copy-code-macro\" hint:\"Click or drag and drop this button into your wiki: \">>","caption":"Copy code macro","description":"A macro to show a codeblock + a copy button. Support syntax highlighting with the highlight.js plugin.\n\n\u003Cp>Require \u003C\u003Clist-links \"[is[current]] [is[current]tagging[]]\">>\u003C/p>"},
{"title":"$:/showInfo/macro/copy-code/examples","created":"20210527204100789","creator":"user","modified":"20220105145036165","modifier":"user","tags":"$:/showInfo/macro/copy-code","type":"text/vnd.tiddlywiki","text":";Default code block (without copy-to-clipboard) (syntax coloring provided by [[highlight.js|$:/plugins/tiddlywiki/highlight]])\n\n```html\n\u003Cul>\n \u003Cli>Without title\u003C/li>\n\u003C/ul>\n```\n\n;Basic macro call copy-code-to-clipboard \u003Ckbd>alt-m\u003C/kbd>\n\n\u003C\u003Ccopy-code html\n\"\u003Cul>\n \u003Cli>Without title\u003C/li>\n\u003C/ul>\">>\n\n\u003C\u003Ccopy-code html\n\"\u003Cul>\n \u003Cli>Without language indicator\u003C/li>\n\u003C/ul>\" \"\" hide>>\n\n\u003C\u003Ccopy-code \"html\"\n\"\u003Cul>\n \u003Cli>default parameter order\u003C/li>\n\u003C/ul>\"\n\n\"Now with a title !\">>\n\n\u003C\u003Ccopy-code \ntitle:\"Code sample\"\nlanguage:html\ncode:\"\u003Cul>\n \u003Cli>Specific parameter order\u003C/li>\n\u003C/ul>\"\n>>\n\n;~~Limitation : can't use \u003C\u003C>> inside a block of code with this technique, otherwise it breaks :~~\n> EDIT: the newer version of tiddlywiki no longer have this issue !\n\n\u003C\u003Ccopy-code \ntitle:\"Code sample\"\nlanguage:html\ncode:\"\u003Cul>\n \u003Cli>Specific parameter order\u003C/li> \u003C\u003Cnot safe to use>>\n\u003C/ul>\"\n>>\n\n;The full macrocall notation \u003Ckbd>alt-shift-m\u003C/kbd> prevent this issue :\n\n\u003C$macrocall $name=\"copy-code\"\ntitle=\"Code sample\"\nlanguage=html\ndisplay-language=show\ncode=\"\u003Cul>\n \u003Cli>This works !\u003C/li> \u003C\u003Csafe to use>>\n\u003C/ul>\"\n/>","revision":"0","bag":"default"},
{"title":"$:/showInfo/macro/copy-code/shortcuts/full","caption":"shortcut copy code button with full macrocall syntax","condition":"[\u003CtargetTiddler>!has[type]] [\u003CtargetTiddler>type[text/vnd.tiddlywiki]]","created":"20210528014602259","creator":"user","description":"Transform the selection into a code bloc with a copy to clipboard button - allow double angle brackets","icon":"$:/core/images/copy-clipboard","modified":"20211027155009472","modifier":"user","shortcuts":"alt-shift-m","tags":"$:/tags/EditorToolbar $:/showInfo/macro/copy-code","type":"text/vnd.tiddlywiki","text":"\u003C$action-sendmessage\n    $message=\"tm-edit-text-operation\"\n    $param=\"wrap-selection\"\n    prefix='\u003C$macrocall $name=\"copy-code\"\ntitle=\"\"\nlanguage=\"\"\ndisplay-language=\"show\"\ncode=\"\"\"'\n\nsuffix='\"\"\"/>'\n/>","revision":"0","bag":"default"},
{"created":"20210527212751871","text":"\u003C$action-sendmessage\n    $message=\"tm-edit-text-operation\"\n    $param=\"wrap-selection\"\n    prefix='\u003C\u003Ccopy-code ts \"\"\"'\n    suffix='\"\"\">>'\n/>","title":"$:/showInfo/macro/copy-code/shortcuts/short","caption":"shortcut copy code button","condition":"[\u003CtargetTiddler>!has[type]] [\u003CtargetTiddler>type[text/vnd.tiddlywiki]]","creator":"user","description":"Transform the selection into a code bloc with a copy to clipboard button","icon":"$:/core/images/copy-clipboard","modified":"20221231124500571","modifier":"user","shortcuts":"alt-m","tags":"$:/tags/EditorToolbar $:/showInfo/macro/copy-code","type":"text/vnd.tiddlywiki","revision":"0","bag":"default"},
{"title":"$:/showInfo/macro/copy-code/style","comment":"\u003C\u003Ccopy-code html \"\"\"test\"\"\" \"title\">>","created":"20210527214847395","creator":"user","modified":"20211115014106263","modifier":"user","tags":"$:/showInfo/macro/copy-code $:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":".copy-code{\n    font-family: Consolas;\n}\n\n.copy-code dt{\n    background: \u003C\u003Ccolor pre-background>>;\n    border: solid 1px \u003C\u003Ccolor pre-border>>;\n    border-bottom:unset;\n    padding: 0.5em;\n    border-radius: 3px 3px 0 0;\n    font-size: 1.1em;\n}\n\n.copy-code dt:empty, .copy-code dd small.hide{\n    display: none;\n}\n\n.copy-code dd{\n    margin: 0;\n}\n\n.copy-code dd>pre{\n    border-radius: 3px;\n    background-color:\u003C\u003Ccolor tiddler-editor-background>>\n}\n\n.copy-code dt:not(:empty)+dd>pre{\n    border-radius: 0 0 3px 3px;\n    margin-top: 0em;\n}\n\n.copy-code dd{\n    position: relative;\n    display: block;\n}\n\n.copy-code dd :is(button, small) {\n    position: absolute;\n    opacity: 0.3;\n    padding: 5px;\n}\n\n.copy-code dd button:hover{\n    transition: opacity 150ms ease-in-out;\n    opacity: 1;\n}\n\n.copy-code dd button {\n    font-size: 0;\n    right:0;\n    display: flex;\n    align-items:flex-start;\n    justify-content:flex-end;\n    pointer-events:none;\n}\n\n.copy-code dd button svg {\n    width: 20px;\n    height: auto;\n    pointer-events:all;\n}\n\n.copy-code dd small {\n    inset: auto 0 0 auto;\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 1em;\n}","revision":"0","bag":"default"},
{"title":"$:/showInfo/Stylesheet/Style","created":"20211027143252536","description":"remember to add the field `hide-body:yes` for better performances","hide-body":"yes","modified":"20211105234333491","tags":"$:/showInfo/code/Stylesheet/ViewTemplate $:/showInfo/macro/copy-code/style $:/showInfo/macro/copy-code $:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":"\\rules only\n:is([data-tags*=\"$:/tags/Stylesheet\"],[data-tags*=\"$:/tags/ViewTemplate\"],[data-tags*=\"$:/tags/Macro\"]) .tc-tiddler-body{\ndisplay:none;\n}","revision":"0","bag":"default"},
{"created":"20221104102159831","creator":"Telumire","title":"$:/SiteSubtitle","text":"My notes on learning the Angular Framework","modified":"20221122175145670","modifier":"Telumire"},
{"created":"20221104102143853","creator":"Telumire","title":"$:/SiteTitle","text":"Learning Angular","modified":"20221122175138660","modifier":"Telumire"},
{"created":"20221229133541419","text":"{{||$:/core/ui/Buttons/new-here}}","tags":"$:/tags/TextEditor/Snippet","title":"$:/Snippet/Insert new here","modified":"20221229133629410","caption":"Insert new here"},
{"created":"20180927082601825","creator":"Telumire","text":"\\import [[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\n\\rules only filteredtranscludeinline transcludeinline macrocallinline\n\u003Cdiv class=\"tc-remove-when-wiki-loaded tc-splash-container\">\n\u003Cstyle scoped>\n.tc-splash-container{\ndisplay:grid;\nplace-content:center;\nposition:absolute;\ninset:0;\n}\n\n.tc-splash-text {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 16px;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n\tmargin: 20px auto 0;\n\twidth: 200px;\n\ttext-align: center;\n\tcolor: \u003C\u003Ccolour foreground>>;\n\tfill: \u003C\u003Ccolour foreground>>;\n}\n\n.tc-splash-text img {\n\twidth: 150px;\n\t\u003C\u003Cbox-shadow \"2px 2px 10px rgba(0, 0, 0, 0.5)\">>\n}\n\nhtml body.tc-body {\n\tbackground: \u003C\u003Ccolour page-background>>;\n}\n\n/*\nSpinner from https://github.com/tobiasahlin/SpinKit/ by Tobias Ahlin\n\nThe MIT License (MIT)\n\nCopyright (c) 2015 Tobias Ahlin\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n.tc-splash-spinner {\n\tmargin: 20px auto 0;\n\twidth: 70px;\n\ttext-align: center;\n}\n\n.tc-splash-spinner > div {\n\twidth: 18px;\n\theight: 18px;\n\tborder-radius: 100%;\n\tdisplay: inline-block;\n\t-webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n\tanimation: sk-bouncedelay 1.4s infinite ease-in-out both;\n\tbackground-color: #f88;\n}\n\n.tc-splash-spinner .tc-splash-bounce-1 {\n\t-webkit-animation-delay: -0.32s;\n\tanimation-delay: -0.32s;\n\tbackground-color: #8f8;\n}\n\n.tc-splash-spinner .tc-splash-bounce-2 {\n\t-webkit-animation-delay: -0.16s;\n\tanimation-delay: -0.16s;\n\tbackground-color: #88f;\n}\n\n@-webkit-keyframes sk-bouncedelay {\n\t0%, 80%, 100% { -webkit-transform: scale(0) }\n\t40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes sk-bouncedelay {\n\t0%, 80%, 100% { \n\t-webkit-transform: scale(0);\n\ttransform: scale(0);\n\t} 40% { \n\t-webkit-transform: scale(1.0);\n\ttransform: scale(1.0);\n\t}\n}\n\u003C/style>\n\n\u003Cdiv class=\"tc-splash-spinner\">\n  \u003Cdiv class=\"tc-splash-bounce-1\">\u003C/div>\n  \u003Cdiv class=\"tc-splash-bounce-2\">\u003C/div>\n  \u003Cdiv class=\"tc-splash-bounce-3\">\u003C/div>\n\u003C/div>\n\n\u003Cdiv class=\"tc-splash-text\">\n{{$:/SiteTitle}} is loading\n\u003C/div>\n\u003C/div>","title":"$:/SplashScreen","modified":"20221202145408610","tags":"$:/tags/RawMarkupWikified/TopBody","type":"text/vnd.tiddlywiki","modifier":"Telumire"},
{"created":"20221231135742316","title":"$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddly-gittly.github.io/TiddlyWiki-CPL/library/index.html/$:/temp/RemoteAssetInfo/https://tiddly-gittly.github.io/TiddlyWiki-CPL/library/index.html/$:/plugins/Gk0Wk/echarts","text":"yes","modified":"20221231135742316"},
{"created":"20221228034858719","title":"$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddlywiki.com/library/v5.2.4/index.html/$:/temp/RemoteAssetInfo/https://tiddlywiki.com/library/v5.2.4/index.html/$:/plugins/tiddlywiki/codemirror","text":"yes","modified":"20221228034858719"},
{"created":"20221231135553987","title":"$:/state/add-plugin-info/$:/temp/ServerConnection/https://tiddlywiki.com/library/v5.2.4/index.html/$:/temp/RemoteAssetInfo/https://tiddlywiki.com/library/v5.2.4/index.html/$:/plugins/tiddlywiki/railroad","text":"yes","modified":"20221231135553988"},
{"created":"20221214005229511","title":"$:/state/addplugins/tab-1342078386","text":"$:/config/TiddlyWiki-CPL/GitHub","modified":"20221231135700296"},
{"created":"20221223145436513","title":"$:/state/advancedsearch/currentTab","text":"$:/core/ui/AdvancedSearch/Filter","modified":"20230201005520458"},
{"created":"20221226140817373","title":"$:/state/breakzplatform/github-comments","text":"","modified":"20230107172130392"},
{"created":"20221215212800093","creator":"Telumire","title":"$:/state/commander/log-tiddler","text":"$:/temp/commander/logs/tid-2","modified":"20221215212820004","modifier":"Telumire"},
{"created":"20230116161947068","title":"$:/state/commander/snr/select-tiddler","text":"","modified":"20230116161947068"},
{"created":"20230116161947069","title":"$:/state/compInspect/temp/commander/selectState-tiddler","text":"","modified":"20230116161947069"},
{"created":"20221227230633281","title":"$:/state/folded/Become a Ninja with Angular","text":"show","modified":"20221227234033334"},
{"created":"20221229052947615","title":"$:/state/folded/Tasks: Learning","text":"show","modified":"20221229081101620"},
{"created":"20221229092036951","title":"$:/state/folded/TypeScript: Overview","text":"show","modified":"20221229092037628"},
{"created":"20221214010203870","creator":"Telumire","title":"$:/state/importpreviewtype","text":"$:/core/ui/ImportPreviews/DiffFields","modified":"20221214010241480","modifier":"Telumire"},
{"created":"20221229133522108","title":"$:/state/Link/-643049427/search","text":"","modified":"20221229133525885"},
{"created":"20221214005140021","creator":"Telumire","title":"$:/state/notebook-sidebar","text":"no","modified":"20230411125158026","modifier":"Telumire"},
{"created":"20221214170529461","creator":"Telumire","title":"$:/state/notebook-sidebar-section","text":"","modified":"20230411125157138","modifier":"Telumire"},
{"created":"20221228041048635","title":"$:/state/plugin-info-1025023944-$:/plugins/Gk0Wk/codemirror-mode-tiddlywiki5--1122715730","text":"ControlPanel","modified":"20221228041048635"},
{"created":"20221214005918647","creator":"Telumire","title":"$:/state/plugin-info-1108689160-$:/plugins/cdr/external-js---960882608","text":"contents","modified":"20221214010433552","modifier":"Telumire"},
{"created":"20221228035301666","title":"$:/state/plugin-info-1723325576-$:/plugins/smilyorg/monaco---1386083083","text":"contents","modified":"20221228035301666"},
{"created":"20221214171152138","creator":"Telumire","title":"$:/state/plugin-info-208292166-$:/plugins/EvidentlyCube/AutoComplete--1467470539","text":"readme","modified":"20221223181507073","modifier":"Telumire"},
{"created":"20221223180056220","title":"$:/state/showeditpreview","text":"no","modified":"20230201011843721"},
{"created":"20221223145436513","title":"$:/state/tab--1498284803","text":"$:/core/ui/AdvancedSearch/Filter","modified":"20230201005520458"},
{"created":"20221228005917530","title":"$:/state/tab--1963855381","text":"$:/core/ui/ControlPanel/Toolbars","modified":"20230106231459956"},
{"created":"20221228035521821","title":"$:/state/tab--697582678","text":"$:/core/ui/ControlPanel/Settings/CodeMirror","modified":"20221228040415475"},
{"created":"20221214005224705","creator":"Telumire","title":"$:/state/tab-1749438307","text":"$:/core/ui/ControlPanel/Appearance","modified":"20230106231458459","modifier":"Telumire"},
{"created":"20221215212751021","creator":"Telumire","title":"$:/state/tab-668442618","text":"$:/plugins/kookma/commander/tag/ui","modified":"20221215212751021","modifier":"Telumire"},
{"created":"20221228005919263","title":"$:/state/tabs/controlpanel/toolbars-1345989671","text":"$:/core/ui/ControlPanel/Toolbars/ViewToolbar","modified":"20230106231509124"},
{"title":"$:/status/RequireReloadDueToPluginChange","text":"no"},
{"text":"","title":"$:/status/UserName"},
{"created":"20230426122515100","title":"$:/StoryList","text":"","list":"$:/ControlPanel Encryption [[Tasks: Learning]]","modified":"20230426122515100"},
{"created":"20220830145238557","creator":"Telumire","text":"/* Hide subtitle */\n\n.tc-subtitle{\ndisplay:none;\n}\n\n/* List */\n\nol li{\npadding-block: 0.5em;\n}\n\n/*\nTiddler title icon\n*/\n\n.tc-tiddler-title-icon {\n\tdisplay: inline-grid;\n}\n\n/*\nFloat\n*/\n\n.tc-tiddler-controls.float-right{\nfloat:right;\n}\n\n.tc-tiddler-controls.float-left{\nfloat:left;\n}\n\n/*\nTweaks Notebook theme\n*/\n\n.nc-topbar-wrapper .left{\n    display: flex;\n    gap: 0.5ch;\n\t\tposition:relative;\n}\n\n.nc-topbar-wrapper .left .tc-page-controls{\n  display: inline-grid;\n  place-content: center;\n}\n\n.nc-topbar-wrapper .left .tc-block-dropdown-wrapper {\n\t\tposition:absolute;\n\t\tleft:30px;\n\t\ttop:35px;\n}","tags":"$:/tags/Stylesheet","title":"$:/Style","modified":"20221104144237791","modifier":"Telumire"},
{"created":"20221117200835546","creator":"Telumire","title":"$:/tags/Image","search":"fi","modified":"20230130165854422","modifier":"Telumire"},
{"created":"20221104125049936","creator":"Telumire","title":"$:/tags/PageControls","list":"$:/core/ui/Buttons/more-page-actions $:/TiddlyTweaks/ui/Buttons/ThemeSwitcher $:/plugins/kookma/commander/buttons/pagecontrol $:/core/ui/Buttons/home $:/core/ui/Buttons/close-all $:/core/ui/Buttons/fold-all $:/core/ui/Buttons/unfold-all $:/core/ui/Buttons/permaview $:/core/ui/Buttons/new-tiddler $:/core/ui/Buttons/new-journal $:/core/ui/Buttons/new-image $:/core/ui/Buttons/import $:/core/ui/Buttons/export-page $:/core/ui/Buttons/control-panel $:/core/ui/Buttons/advanced-search $:/core/ui/Buttons/manager $:/core/ui/Buttons/tag-manager $:/core/ui/Buttons/language $:/core/ui/Buttons/palette $:/core/ui/Buttons/theme $:/core/ui/Buttons/storyview $:/core/ui/Buttons/encryption $:/core/ui/Buttons/timestamp $:/core/ui/Buttons/full-screen $:/core/ui/Buttons/print $:/core/ui/Buttons/refresh $:/core/ui/Buttons/save-wiki $:/SaveToGitHub/Button","modified":"20221117155342332","modifier":"Telumire"},
{"created":"20221121022449528","creator":"Telumire","title":"$:/tags/SideBar","list":"todo $:/core/ui/SideBar/Open $:/core/ui/SideBar/Recent $:/core/ui/SideBar/Tools $:/core/ui/SideBar/More $:/Commander $:/Libro/Icons $:/Feed $:/Help $:/Donate","text":"","modified":"20221202180244101","modifier":"Telumire"},
{"created":"20221117153232705","creator":"Telumire","title":"$:/tags/Stylesheet","list":"$:/plugins/sq/editor-autolist/styles $:/themes/tiddlywiki/vanilla/base $:/plugins/ahanniga/context-menu/styles.css $:/plugins/flibbles/relink/ui/stylesheet.css $:/plugins/flibbles/relink-fieldnames/style $:/plugins/kookma/commander/stylesheet/alert $:/plugins/kookma/commander/stylesheet/buttons $:/plugins/kookma/commander/stylesheet/compInspect/table $:/plugins/kookma/commander/stylesheet/new $:/plugins/kookma/commander/stylesheet/select-width $:/plugins/kookma/commander/stylesheet/snr/flexbox $:/plugins/kookma/commander/stylesheet/snr/form $:/plugins/kookma/commander/stylesheet/tiddler-list $:/plugins/tiddlywiki/highlight/highlight.css $:/plugins/tiddlywiki/highlight/styles $:/themes/nico/notebook/base $:/themes/nico/notebook/stickytitles $:/TiddlyTweaks/CountList $:/AltLinkTemplate/Style $:/SaveToGitHub/Settings/Style $:/showInfo/macro/copy-code/style $:/showInfo/Stylesheet/Style $:/Style $:/temp/$:/TiddlyTweaks/Icons/StyleGenerator/output $:/ThemeTweaks/style/fold_banner $:/TiddlyTweaks/Details/Style $:/Libro/ExternalLinksIcon/Style $:/TiddlyTweaks/ui/Buttons/ThemeSwitcher/Style $:/ViewTemplate/Sources/Style","modified":"20221117202607047","modifier":"Telumire"},
{"created":"20221105234027241","title":"$:/tags/ViewToolbar","list":"$:/core/ui/Buttons/more-tiddler-actions $:/SaveToGitHub/Button/Private $:/plugins/breakzplatform/github-comments/viewtoolbar/github-comments-open $:/core/ui/Buttons/info $:/core/ui/Buttons/new-here $:/core/ui/Buttons/new-journal-here $:/core/ui/Buttons/clone $:/core/ui/Buttons/export-tiddler $:/core/ui/Buttons/edit $:/core/ui/Buttons/delete $:/core/ui/Buttons/permalink $:/core/ui/Buttons/permaview $:/core/ui/Buttons/open-window $:/core/ui/Buttons/fold-others $:/core/ui/Buttons/fold $:/core/ui/Buttons/fold-bar $:/SaveToGitHub/Button/GitHubPermalink $:/SaveToGitHub/Button/GitHubPermaView $:/core/ui/Buttons/close-others $:/core/ui/Buttons/close","modified":"20221228005932778"},
{"created":"20220830171706810","creator":"Telumire","text":"\u003C$button class=\"tc-btn-download\">\n\u003C$action-sendmessage $message=\"tm-download-file\" filename=\"SteamDeckGuide.html\"/>\nTélécharger\u003C!-- {{$:/core/images/save-button}}-->\n\u003C/$button>\n\u003Cstyle>\n.tc-btn-download:active,.tc-btn-download:focus{\n\toutline:none;\n}\n.tc-btn-download {\n\tpadding: 10px 30px;\n\tborder-radius: 5px;\n\tbackground: #1462ff;\n\tborder: none;\n\tbox-shadow: 0 2px 2px 0 #4a74c9;\n\toverflow: hidden;\n\tcursor: pointer;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n\tcolor: #fff;\n\tfill: #fff;\n}\n\n.tc-btn-download:active {\n\tbackground: #1475ff;\n}\n\u003C/style>","tags":"","title":"$:/Télécharger","modified":"20221105222931592","modifier":"Telumire"},
{"created":"20221223181225275","text":"\u003Ctable style=\"width:100%;table-layout:fixed;\">\n\u003Cthead>\n\u003Cth>Col1\u003C/th>\n\u003Cth>Col2\u003C/th>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr style=\"vertical-align:top;\">\n\u003Ctd>Cel1\u003C/td>\n\u003Ctd>Cel2\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>","tags":"template $:/tags/TextEditor/Snippet","title":"$:/template/Table","modified":"20221229061015938","caption":"Insert a basic html table"},
{"created":"20221104102731413","creator":"Telumire","title":"$:/theme","text":"$:/themes/nico/notebook","modified":"20221104102731413","modifier":"Telumire"},
{"created":"20200419141443144","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n\\define if-sidebar(text)\n  \u003C$reveal state=\"$:/state/notebook-sidebar\" type=\"match\" text=\"yes\">\n    $text$\n  \u003C/$reveal>\n\\end\n\n\\define if-reveal-tiddler-controls-on-hover(text)\n  \u003C$reveal state=\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\" type=\"match\" text=\"yes\">\n    $text$\n  \u003C/$reveal>\n\\end\n  \n/* Top and bottom bars */\n\n/* Hide the top-right bar */\n.tc-topbar.tc-topbar-right {\n  display: none;\n}\n\ndiv.tc-sidebar-header {\n  padding: 0;\n  min-height: 0;\n}\n\n.tc-story-river {\n  padding: 6px 0 !important;\n  width: 100% !important;\n  max-width: {{$:/themes/nico/notebook/metrics/story-width}} !important;\n  margin: 0 auto !important;\n  margin-top: 34px !important;\n}\n\ndiv.tc-tiddler-frame {\n  width: 100%;\n  margin: 20px 0;\n  background: \u003C\u003Ccolour tiddler-background>>;\n  box-shadow: 0 5px 20px rgba(0,0,0, 0.12);\n  border-radius: 6px;\n  padding: 42px 60px 60px 60px;\n}\n\nh1.tc-site-title {\n  margin-top: 14px;\n  font-size: 1.5em !important;\n}\n\n.nc-bar {\n  padding: 10px;\n  height: {{$:/themes/nico/notebook/metrics/topbar-height}};\n  background: \u003C\u003Ccolour page-background>>;\n  display: flex;\n  justify-content: space-between;\n}\n\n.nc-topbar-wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  /* The z-index needs to be above the z-index used in tiddlers in zoomin view */\n  z-index: 501;\n}\n\n.nc-bar.nc-topbar {\n  top: 0;\n  background: \u003C\u003Ccolour page-background>>ee;\n  max-width: calc({{$:/themes/nico/notebook/metrics/story-width}} + 40px);\n  padding: 10px 20px;\n  margin: 0 auto;\n}\n\n.nc-bar.nc-bottombar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  /* The z-index needs to be above the z-index used in tiddlers in zoomin view */\n  z-index: 501;\n}\n\n.nc-bar .left svg {\n  fill: \u003C\u003Ccolour sidebar-controls-foreground>>;\n}\n\n.nc-bar input[type=\"search\"] {\n  width: 200px;\n  padding: .6em 1em;\n  margin-top: -.2em;\n  background: \u003C\u003Ccolour sidebar-button-foreground>>44;\n  color: \u003C\u003Ccolour foreground>>cc;\n  transition: all ease-in .2s;\n  border: 1px solid transparent;\n  outline: 0;\n}\n\n.nc-bar input[type=\"search\"]:focus {\n  width: 300px;\n  background: \u003C\u003Ccolour tiddler-background>>;\n  color: \u003C\u003Ccolour foreground>>;\n  border: 1px solid \u003C\u003Ccolour primary>>;\n  box-shadow: 0 0 .2rem 0 \u003C\u003Ccolour primary>>;\n}\n\ninput[type=\"search\"]::-webkit-search-cancel-button {\n  -webkit-appearance: auto;\n}\n\n.nc-bar .tc-block-dropdown.tc-search-drop-down {\n  margin-left: 0;\n  width: 400px;\n  border: 0;\n  box-shadow: 0 0 6px 0 rgba(0,0,0,.2);\n  border-radius: 6px;\n  padding: 20px 0;\n}\n\n.nc-bar p {\n  margin: 0;\n}\n\n.nc-bar .tc-page-controls {\n  margin-top: 0;\n}\n\n.nc-bar .tc-page-controls button {\n  margin-right: .8em;\n}\n\n.nc-bar .tc-page-controls button .tc-btn-text {\n  font-size: 14px;\n}\n\n.nc-bar .tc-block-dropdown {\n  max-height: 70vh;\n  overflow: auto;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .nc-topbar {\n    display: none;\n  }\n\n  .tc-story-river {\n    padding: 0 !important;\n    margin-top: 0 !important;\n    margin-bottom: 60px !important;\n  }\n\n  div.tc-tiddler-frame {\n    margin: 0;\n    box-shadow: none;\n    border-radius: 0;\n    border-top: 0;\n  }\n}\n\n/*\nEDIT: Fixed mediaquery with calc +1\n*/\n\n@media (min-width: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}} + 1px)) {\n  .nc-bottombar {\n    display: none;\n  }\n}\n\n/*\nEND OF EDIT\n*/\n\n@media(max-width: 1100px) {\n  .nc-bar input[type=\"search\"] {\n    width: 200px;\n  }\n}\n\n/* Sidebar */\n\n@keyframes sidebar-appear {\n  0%   {\n    left: -{{$:/themes/nico/notebook/metrics/sidebar-width}};\n  }\n  100% {\n    left: 0;\n  }\n}\n\n\u003C\u003Cif-sidebar \"\"\"\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .nc-sidebar {\n    animation: sidebar-appear .14s;\n    padding-top: 10px;\n  }\n}\n\"\"\">>\n\n.nc-sidebar {\n  background: \u003C\u003Ccolour tiddler-background>>;\n  border-right: 1px solid \u003C\u003Ccolour tiddler-border>>;\n  width: {{$:/themes/nico/notebook/metrics/sidebar-width}};\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 500;\n}\n\n.nc-sidebar .segment {\n  border-bottom: 1px solid rgba(0,0,0,.1);\n}\n\n.nc-sidebar ol {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  line-height: 1.8em;\n}\n\n.nc-sidebar ol ol {\n  padding-left: 18px;\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .mobile-only {\n    display: none;\n  }\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .desktop-only {\n    display: none;\n  }\n}\n\n.nc-sidebar h1.tc-site-title {\n  margin: 0;\n}\n\n.nc-sidebar p {\n  margin: 6px 0;\n}\n\n.nc-sidebar .tc-site-subtitle {\n  color: \u003C\u003Ccolour site-title-foreground>>;\n}\n\n.nc-sidebar .section .label {\n  padding: 2px 0;\n  color: \u003C\u003Ccolour site-title-foreground>>;\n  fill: \u003C\u003Ccolour site-title-foreground>>;\n  font-weight: bold;\n  line-height: 1.6em;\n  display: block;\n  width: 100%;\n  text-align: left;\n  padding: 8px 15px;\n  border-radius: 0;\n}\n\n.nc-sidebar .section:not(.open) .label:hover {\n  background: rgba(0,0,0,.06);\n}\n\n.nc-sidebar .section.open .label {\n  color: \u003C\u003Ccolour tiddler-background>>;\n  fill: \u003C\u003Ccolour tiddler-background>>;\n  background: \u003C\u003Ccolour primary>>;\n  border-bottom: 1px solid rgba(0,0,0,.1);\n}\n\n.nc-sidebar .section .label .caret {\n  display: inline-block;\n  width: 15px;\n  float: right;\n}\n\n.nc-sidebar .content {\n  padding: 6px 15px;\n  font-size: 1em;\n}\n\n.nc-sidebar .tc-tiddlylink {\n  color: \u003C\u003Ccolour primary>>;\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .nc-sidebar {\n    position: fixed;\n    left: 0;\n    top:  0;\n    bottom: 0;\n  }\n}\n\n\u003C\u003Cif-sidebar \"\"\"\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  @keyframes sidebar-slide {\n    0%   {\n      left: -100vw;\n    }\n    100% {\n      left: 0;\n    }\n  }\n  .nc-sidebar {\n    overflow: auto;\n    position: fixed;\n    width: 100%;\n    left: 0;\n    top: 0;\n    bottom: 48px;\n    z-index: 3000;\n    animation: sidebar-slide ease-in .2s;\n    animation-fill-mode: forwards;\n  }\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .tc-page-container {\n    margin-left: {{$:/themes/nico/notebook/metrics/sidebar-width}} !important;\n  }\n\n  .nc-topbar-wrapper {\n    left: {{$:/themes/nico/notebook/metrics/sidebar-width}};\n  }\n}\n\"\"\">>\n\n/* Animate the hamburger button */\n\n@keyframes menu-bars-1 {\n  0%   {}\n  100% {\n    transform: rotate(-45deg) translateY(-10px) translateX(-6px);\n    fill: \u003C\u003Ccolour foreground>>;\n  }\n}\n\n@keyframes menu-bars-2 {\n  0%   {}\n  100% { opacity: 0; }\n}\n\n@keyframes menu-bars-3 {\n  0%   {}\n  100% {\n    transform: rotate(45deg) translateY(6px) translateX(2px);\n    fill: \u003C\u003Ccolour foreground>>;\n  }\n}\n\n.sidebar-toggle {\n  /* position: fixed; */\n  /* top: 6px; */\n  /* left: 6px; */\n  /* z-index: 600; */\n  /* padding: 4px; */\n  /* border-radius: 8px; */\n  margin-right: 10px;\n  transition: all ease-in-out .2s;\n  fill: \u003C\u003Ccolour sidebar-controls-foreground>>;\n}\n\n.sidebar-toggle:hover,\n.sidebar-toggle.open {\n  fill: \u003C\u003Ccolour sidebar-controls-foreground-hover>>;\n}\n\n/* @media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) { */\n/*   .sidebar-toggle { */\n/*     top: auto; */\n/*     bottom: 10px; */\n/*     left: 10px; */\n/*   } */\n/* } */\n\n.sidebar-toggle .bars .bar {\n    transform: rotate(0) translateY(0) translateX(0);\n    opacity: 1;\n    transform-origin: 20px 10px;\n    transition: transform 0.4s ease-in-out, opacity 0.2s ease-in-out, fill .4s ease-in-out;\n}\n\n.sidebar-toggle .bars .bar:nth-of-type(3) {\n    transform-origin: 20px 20px;\n}\n\n.sidebar-toggle.open .bars .bar:nth-of-type(1) {\n  animation: menu-bars-1 .6s;\n  animation-fill-mode: forwards;\n}\n.sidebar-toggle.open .bars .bar:nth-of-type(2) {\n  animation: menu-bars-2 .6s;\n  animation-fill-mode: forwards;\n}\n.sidebar-toggle.open .bars .bar:nth-of-type(3) {\n  animation: menu-bars-3 .6s;\n  animation-fill-mode: forwards;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  div.tc-tiddler-frame {\n    padding: 14px;\n  }\n}\n\n/* Inputs */\n\ninput, textarea {\n  transition: border .14s ease-in-out;\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\n  padding: .5em;\n  border-radius: 4px;\n}\n\ninput:focus, textarea:focus {\n  box-shadow: 0 0 0.2rem 0 \u003C\u003Ccolour primary>>;\n  outline: 0;\n  border-color: \u003C\u003Ccolour primary>>;\n}\n\nbutton {\n  border-radius: 1.5em;\n  border: 1px solid #ccc;\n  background: \u003C\u003Ccolour tiddler-background>>;\n  padding: .3em 1em;\n  cursor: pointer;\n  transition: box-shadow ease-in .1s;\n  color: \u003C\u003Ccolor foreground>>;\n}\n\nbutton:focus, button:active {\n  outline: 0 none;\n}\n\nbutton.tc-btn-invisible {\n  border-radius: 0;\n}\n\n.tc-editor-toolbar button,\n.tc-editor-toolbar button.tc-btn-invisible {\n  border-radius: 3px;\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\n  color: \u003C\u003Ccolour foreground>>;\n  fill: \u003C\u003Ccolour foreground>>;\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\n}\n\n.tc-editor-toolbar button:hover,\n.tc-editor-toolbar button:active {\n  border-color: \u003C\u003Ccolour primary>>;\n  background: \u003C\u003Ccolour primary>>;\n  color: \u003C\u003Ccolour background>>;\n  fill: \u003C\u003Ccolour background>>;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\n.tc-tiddler-frame textarea.tc-edit-texteditor,\n.tc-tiddler-frame iframe.tc-edit-texteditor {\n  transition: border .14s ease-in-out;\n  border: 1px solid \u003C\u003Ccolour tiddler-editor-border>>;\n  background: \u003C\u003Ccolour tiddler-editor-background>>;\n  padding: 4px;\n  border-radius: 4px;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor:focus,\n.tc-tiddler-frame textarea.tc-edit-texteditor:focus,\n.tc-tiddler-frame iframe.tc-edit-texteditor:focus {\n  box-shadow: 0 0 0.2rem 0 \u003C\u003Ccolour primary>>;\n  outline: 0;\n  border-color: \u003C\u003Ccolour primary>>;\n}\n\n.tc-tiddler-controls .tc-btn-text {\n    font-size: 16px;\n}\n\n\u003C\u003Cif-reveal-tiddler-controls-on-hover \"\"\"\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n  .tc-tiddler-frame .tc-tiddler-controls svg {\n    opacity: 0;\n    transition: all .2s ease-in;\n  }\n\n  .tc-tiddler-controls svg.tc-image-close-button,\n  .tc-tiddler-controls .py-toggle-todo-button svg,\n  .tc-tiddler-controls svg.tc-image-done-button,\n  .tc-tiddler-frame .tc-tiddler-controls:hover svg {\n    opacity: 1;\n  }\n\n  .tc-tiddler-controls .py-toggle-todo-button .done svg {\n    fill: #2da562;\n  }\n}\n\"\"\">>\n\nbutton.tc-tag-label, span.tc-tag-label {\n  padding: 0.3em 1em !important;\n}\n\n/* Fonts */\n\nhtml, body {\n  font-family: {{$:/themes/nico/notebook/settings/fontfamily}};\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor,\n.tc-tiddler-frame textarea.tc-edit-texteditor,\n.tc-tiddler-frame iframe.tc-edit-texteditor {\n  font-family: {{$:/themes/nico/notebook/settings/editorfontfamily}};\n}\n\npre, code {\n  font-family: {{$:/themes/nico/notebook/settings/codefontfamily}};\n}\n\n.tc-titlebar, .tc-site-title {\n  font-size: 28px !important;\n  line-height: 34px !important;\n  font-weight: 600 !important;\n  letter-spacing: -0.5px !important;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  font-weight: 600;\n}\n\n.tc-tiddler-body h1,\n.tc-tiddler-body h2,\n.tc-tiddler-preview-preview h1,\n.tc-tiddler-preview-preview h2 {\n  font-weight: bold;\n}\n\ndiv.tc-tiddler-frame .tc-tiddler-body {\n  font-size: {{$:/themes/nico/notebook/metrics/bodyfontsize}};\n  line-height: {{$:/themes/nico/notebook/metrics/bodylineheight}};\n}\n\n/* Tabs */\n\ndiv.tc-tab-buttons {\n  margin-bottom: -4px;\n}\n\ndiv.tc-tab-buttons button {\n  font-weight: bold;\n  font-size: 1.2em;\n  line-height: 1em;\n  padding: .6em .8em .4em .8em;\n  border: 0;\n  border-radius: 0;\n  background: transparent;\n  cursor: pointer;\n  transition: background ease-in .2s;\n}\n\ndiv.tc-tab-buttons button:hover {\n  background: rgba(0,0,0,.03);\n}\n\ndiv.tc-tab-buttons button.tc-tab-selected {\n  border: 0;\n  background: transparent;\n  border-bottom: 4px solid \u003C\u003Ccolour primary>>;\n}\n\n/* Dropdowns */\n\n@keyframes pop {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n\n  80% {\n    transform: scale(1.03);\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.tc-drop-down {\n  box-shadow: 0 0 10px rgba(0,0,0,.2);\n  border-radius: 6px;\n  padding: 10px 0 !important;\n  animation: pop .15s ease-in forwards;\n}\n\n.tc-drop-down a, .tc-drop-down button {\n  padding: 3px 15px !important;\n}\n\n.tc-search-results {\n  line-height: 2em;\n}\n\n.tc-search-results em {\n  font-weight: bold;\n  font-style: normal;\n}\n\n/* Draft list */\n\n.tc-drafts-list {\n  font-size: .9em;\n  left: auto;\n  right: 0;\n}\n\n.tc-drafts-list a {\n  padding: 6px 12px;\n  font-weight: bold;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  display: inline-block;\n}\n\n.nc-refs {\n  color: #888;\n  font-size: .9em;\n}\n\n.nc-refs h4 {\n  margin-bottom: 4px;\n}\n\n.nc-post-created {\n  color: #acacac;\n  font-size: .8em;\n}\n","title":"$:/themes/nico/notebook/base","modified":"20221113102620426","tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki"},
{"created":"20210123210054185","creator":"Telumire","title":"$:/themes/nico/notebook/metrics/story-width","modified":"20221213102346465","tags":"","type":"text/vnd.tiddlywiki","text":"100%","modifier":"Telumire"},
{"created":"20221104160219011","creator":"Telumire","title":"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover","text":"yes","modified":"20221104160219011","modifier":"Telumire"},
{"created":"20221104160212935","creator":"Telumire","title":"$:/themes/nico/notebook/options/stickytitles","text":"yes","modified":"20221104160212935","modifier":"Telumire"},
{"created":"20201217172915960","creator":"Telumire","text":"\\define lingo-base() $:/language/ThemeTweaks/\n\nYou can tweak certain aspects of the ''Notebook'' theme.\n\n! \u003C\u003Clingo Options>>\n\n|\u003C$link to=\"$:/themes/nico/notebook/options/stickytitles\">\u003C\u003Clingo Options/StickyTitles>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Options/StickyTitles/Hint>>// |\u003C$select tiddler=\"$:/themes/nico/notebook/options/stickytitles\">\u003Coption value=\"no\">{{$:/language/No}}\u003C/option>\u003Coption value=\"yes\">{{$:/language/Yes}}\u003C/option>\u003C/$select> |\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\">\u003C\u003Clingo Options/CodeWrapping>>\u003C/$link> |\u003C$select tiddler=\"$:/themes/tiddlywiki/vanilla/options/codewrapping\">\u003Coption value=\"pre\">{{$:/language/No}}\u003C/option>\u003Coption value=\"pre-wrap\">{{$:/language/Yes}}\u003C/option>\u003C/$select> |\n|\u003C$link to=\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\">Reveal tiddler controls on mouseover\u003C/$link> |\u003C$select tiddler=\"$:/themes/nico/notebook/options/reveal-tiddler-controls-on-hover\">\u003Coption value=\"no\">{{$:/language/No}}\u003C/option>\u003Coption value=\"yes\">{{$:/language/Yes}}\u003C/option>\u003C/$select> |\n\n! \u003C\u003Clingo Settings>>\n\n|\u003C$link to=\"$:/themes/nico/notebook/settings/fontfamily\">\u003C\u003Clingo Settings/FontFamily>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/nico/notebook/settings/fontfamily\" default=\"\" tag=\"input\"/> | |\n|\u003C$link to=\"$:/themes/nico/notebook/settings/codefontfamily\">\u003C\u003Clingo Settings/CodeFontFamily>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/nico/notebook/settings/codefontfamily\" default=\"\" tag=\"input\"/> | |\n|\u003C$link to=\"$:/themes/nico/notebook/settings/editorfontfamily\">\u003C\u003Clingo Settings/EditorFontFamily>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/nico/notebook/settings/editorfontfamily\" default=\"\" tag=\"input\"/> | |\n\n! \u003C\u003Clingo Metrics>>\n\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/metrics/fontsize\">\u003C\u003Clingo Metrics/FontSize>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/fontsize\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/metrics/lineheight\">\u003C\u003Clingo Metrics/LineHeight>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/lineheight\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize\">\u003C\u003Clingo Metrics/BodyFontSize>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/nico/notebook/metrics/bodyfontsize\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/metrics/bodylineheight\">\u003C\u003Clingo Metrics/BodyLineHeight>>\u003C/$link> |\u003C$edit-text tiddler=\"$:/themes/nico/notebook/metrics/bodylineheight\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\">\u003C\u003Clingo Metrics/SidebarBreakpoint>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/SidebarBreakpoint/Hint>>// |^\u003C$edit-text tiddler=\"$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/nico/notebook/metrics/sidebar-width\">\u003C\u003Clingo Metrics/SidebarWidth>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/SidebarWidth/Hint>>// |^\u003C$edit-text tiddler=\"$:/themes/nico/notebook/metrics/sidebar-width\" default=\"\" tag=\"input\"/> |\n|\u003C$link to=\"$:/themes/nico/notebook/metrics/story-width\">\u003C\u003Clingo Metrics/StoryWidth>>\u003C/$link>\u003Cbr>//\u003C\u003Clingo Metrics/StoryWidth/Hint>>// |^\u003C$edit-text tiddler=\"$:/themes/nico/notebook/metrics/story-width\" default=\"\" tag=\"input\"/> |\n\n","title":"$:/themes/nico/notebook/themetweaks","modified":"20221117202041249","tags":"$:/tags/ControlPanel/Appearance","caption":"{{$:/language/ThemeTweaks/ThemeTweaks}}","modifier":"Telumire"},
{"created":"20201210171047824","text":"\u003Cspan class=\"desktop-only\">\n  \u003C$vars\n    palettes=\"[all[tiddlers+shadows]tag[$:/tags/notebook/Palette]]\"\n    popupTiddler=\u003C\u003Cqualify \"$:/state/notebook/palette-dropdown\">>\n  >\n    \u003C$button\n      popup=\u003C\u003CpopupTiddler>>\n      tooltip=\"Switch colours\"\n      aria-label=\"Switch colours\"\n      class=\u003C\u003Ctv-config-toolbar-class>>\n    >\n      \u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n\t{{$:/themes/nico/notebook/images/color-switch}}\n      \u003C/$list>\n\n      \u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n\t\u003Cspan class=\"tc-btn-text\">Switch colours\u003C/span>\n      \u003C/$list>\n\n      \u003C$reveal state=\u003C\u003CpopupTiddler>> type=\"popup\" position=\"belowleft\" class=\"tc-drop-down\">\n\t\u003C$list filter=\u003C\u003Cpalettes>>>\n\t  \u003C$button class=\"tc-btn-invisible\">\n\t    {{!!name}}\n\t    \u003C$action-setfield $tiddler=\"$:/palette\" text={{!!title}}/>\n\t  \u003C/$button>\n\t\u003C/$list>\n      \u003C/$reveal>\n\n    \u003C/$button>\n  \u003C/$vars>\n\u003C/span>\n","title":"$:/themes/nico/notebook/ui/Buttons/SwitchPalette","description":"Toggle between grey/beige colour palette","modified":"20220830142704902","tags":"","type":"text/vnd.tiddlywiki"},
{"created":"20210703203411752","text":"button.tc-fold-banner, button.tc-unfold-banner {\n    position: absolute;\n    padding: 0;\n    margin: 0;\n    background: none;\n    border: none;\n    width: 10px;\n    text-align: center;\n    margin-left: 0 px;\n    left: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.tc-unfold-banner:hover {\n    border: none;\n}","title":"$:/ThemeTweaks/style/fold_banner","type":"text/css","bag":"default","modified":"20221107150252673","revision":"0","tags":"$:/tags/Stylesheet $:/ThemeTweaks"},
{"created":"20221023194913535","creator":"Telumire","text":"\u003Csvg viewBox=\"0 -28.5 256 256\" width=\"22pt\" height=\"22pt\" >\n\u003Cpath d=\"m216.9 16.6c-16.6-7.8-34.3-13.4-52.9-16.6-2.2 4.1-4.9 9.6-6.7 14-19.7-2.9-39.2-2.9-58.6 0-1.8-4.4-4.5-9.9-6.8-14-18.5 3.2-36.3 8.9-52.9 16.6-33.4 50.5-42.4 99.8-37.9 148.4 22.2 16.5 43.6 26.6 64.8 33.1 5.2-7.1 9.8-14.8 13.8-22.8-7.6-2.9-14.9-6.5-21.8-10.6 1.8-1.4 3.6-2.8 5.3-4.3 42.2 19.7 87.9 19.7 129.6 0 1.7 1.5 3.5 2.9 5.3 4.3-6.9 4.1-14.2 7.7-21.9 10.6 4 8 8.7 15.7 13.9 22.9 21.1-6.6 42.6-16.7 64.8-33.2 5.3-56.3-9.1-105.1-38-148.4zm-131.4 118.5c-12.7 0-23-11.8-23-26.2 0-14.4 10.1-26.2 23-26.2 12.8 0 23.2 11.8 23 26.2 0 14.4-10.2 26.2-23 26.2zm85 0c-12.6 0-23-11.8-23-26.2 0-14.4 10.2-26.2 23-26.2 12.9 0 23.3 11.8 23 26.2 0 14.4-10.1 26.2-23 26.2z\" />\n\n\u003C/svg>","title":"$:/ThemeTweaks/svg/discord","type":"","modified":"20221117203115890","modifier":"Telumire","domain":"discord","tags":"$:/tags/Image"},
{"created":"20211006120303317","creator":"Telumire","text":"\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8 8\" width=\"22pt\" height=\"22pt\" class=\"tc-image-RSS tc-image-button\">\u003Cpath d=\"M1 2A5 5 0 016 7H7A6 6 0 001 1ZM1 4A3 3 0 014 7H5A4 4 0 001 3ZM3 6A1 1 0 012 7A1 1 0 011 6A1 1 0 012 5A1 1 0 013 6Z\"/>\u003C/svg>","title":"$:/ThemeTweaks/svg/feed","modified":"20221120162756476","tags":"$:/tags/Image","revision":"0","bag":"default","modifier":"Telumire","domain":".rss .atom"},
{"created":"20221023104948963","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 18 13.2\"> \u003Cpath d=\"M 9 0 L 0 5.2 V 10.6 L 4.6 13.2 L 9 10.7 L 13.4 13.2 L 18 10.6 V 5.2 Z M 9 0.6 L 13 2.9 L 9 5.2 L 5 2.9 Z M 13.2 3.1 L 17.5 5.5 L 13.5 7.8 L 9.3 5.4 Z M 4.8 3.1 L 8.7 5.4 L 4.6 7.7 L 0.7 5.4 Z M 9 5.5 L 13.4 8 L 13.4 12.6 L 9 10.1 Z M 0.5 5.7 L 4.6 8 V 12.6 L 0.5 10.2 Z\"/>\u003C/svg>","title":"$:/ThemeTweaks/svg/flathub","modified":"20221023152505297","modifier":"Telumire","tags":"$:/tags/Image","domain":"flathub"},
{"created":"20211115181713623","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 171 171\">\u003Cpath d=\"m171 85.5a85.5 85.5 0 01-85.5 85.5a85.5 85.5 0 01-85.5-85.5a85.5 85.5 0 0185.5-85.5a85.5 85.5 0 0185.5 85.5zm-35 11.5c14-8 1-30-14-20c-9-6-20-10-33-11l5-26 19 4c3 8 15 7 17-1c1-5-3-9-8-9c-4 0-7 2-8 5l-21-4q-2.7-.5-3 1l-6 30c-13 1-25 5-34 11c-17-11-27 14-14 20c0 25 25 37 50 37s50-12 50-37zm-70 7a9 9 0 110-18a9 9 0 110 18zm40 0a9 9 0 110-18a9 9 0 110 18zm1 14c2-2 0-5-3-3c-4 3-12 5-18 5s-13-1-18-5c-3-2-5 1-3 3c6 6 18 7 21 7s15-1 21-7z\"/>\u003C/svg>","tags":"[[ $:/ThemeTweaks/style/external_link]] $:/tags/Image $:/ThemeTweaks $:/ThemeTweaks/svg","title":"$:/ThemeTweaks/svg/reddit/full","modified":"20221023152558738","source":"https://www.redditinc.com/assets/press-resources/Reddit-Logo-Assets.zip","description":"Optimized with https://yqnn.github.io/svg-path-editor/ and inkscape","modifier":"Telumire","domain":"reddit"},
{"created":"20210922142730326","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\">\u003Cpath d=\"M120.8 29.2c0 .4 0 .8-.3 1.1-.3.4-.6.5-.9.5-2.5.3-4.5 1-6 2.4-1.7 1.4-3.3 4-5 7.8L82.8 99.3c-.2.5-.6.8-1.4.8-.6 0-1.1-.3-1.4-.8L65.5 68.9 48.9 99.2c-.4.5-.9.8-1.5.8-.7 0-1.2-.3-1.4-.8L20.6 41a20.1 20.1 0 0 0-5-7.5 13.7 13.7 0 0 0-7.3-2.7c-.3 0-.6-.1-.8-.4-.2-.3-.3-.6-.3-1 0-1 .2-1.4.8-1.4l7 .3a71 71 0 0 0 13.8 0l7.8-.3c.5 0 .8.5.8 1.4 0 1-.2 1.4-.5 1.4-2.3.2-4 .8-5.3 1.7-1.3 1-2 2.3-2 3.9 0 .8.3 1.8.8 3l21 47.3 11.9-22.4L52.2 41c-2-4-3.6-6.8-5-8a9.9 9.9 0 0 0-5.7-2.2c-.3 0-.5-.1-.7-.4-.2-.3-.3-.6-.3-1 0-1 .2-1.4.7-1.4 2.2 0 4.3.1 6.2.3a50.9 50.9 0 0 0 12.2 0l6.9-.3c.5 0 .8.5.8 1.4 0 1-.1 1.4-.5 1.4-4.5.3-6.8 1.6-6.8 3.9 0 1 .5 2.6 1.6 4.7l7.3 14.9 7.3-13.6c1-2 1.5-3.6 1.5-5 0-3-2.2-4.7-6.7-4.9-.5 0-.7-.4-.7-1.4 0-.3.2-.6.4-1 .2-.3.4-.4.6-.4l6 .3a62.3 62.3 0 0 0 10.1 0l6.4-.3c.4 0 .6.4.6 1.2 0 1-.3 1.6-1 1.6-2.7.3-4.8 1-6.4 2.2a27.8 27.8 0 0 0-6 8l-9.7 18 13.1 26.8 19.4-45.1c.7-1.7 1-3.2 1-4.6 0-3.3-2.2-5-6.7-5.3-.4 0-.6-.4-.6-1.4 0-1 .3-1.4.9-1.4l5.8.3a54 54 0 0 0 10.5 0l5.4-.3c.5 0 .8.4.8 1.2z\"/>\u003C/svg>","title":"$:/ThemeTweaks/svg/wikipedia","bag":"default","description":"Tool used for compression : https://jakearchibald.github.io/svgomg/","modified":"20221119140050527","revision":"0","source":"https://upload.wikimedia.org/wikipedia/commons/5/5a/Wikipedia%27s_W.svg https://www.wikipedia.org/","tags":"$:/ThemeTweaks $:/tags/Image [[ $:/ThemeTweaks/style/external_link]] $:/ThemeTweaks/svg","modifier":"Telumire","domain":"wikip wikim"},
{"created":"20221017182229270","creator":"Telumire","text":"/*\nBetter counter for list, titles, etc.\n*/\n\n.tc-tiddler-body {\n  counter-reset: list-count;\n}\n\n.c:before {\n  counter-increment: list-count;\n  content: counter(list-count) \". \";\n}\n\n.c.reset{\n  counter-set:list-count 0;\n}\n\nol {\n  list-style-position: inside;\n\tpadding-left: 20px;\n}\n\nol .c{\nlist-style-type: none;\n}","tags":"$:/tags/Stylesheet","title":"$:/TiddlyTweaks/CountList","modified":"20221117153419963","modifier":"Telumire"},
{"created":"20221107150036533","text":"\u003C\u003Clist-links \"[{!!title}tagging[]]\">>","title":"$:/TiddlyTweaks/Details","modified":"20221107150037809"},
{"created":"20220422115148020","text":"\\define details(content:\"Content\",field:\"details\",summary:\"More\",tooltip:\"Show more\")\n\u003C$let stateTitle={{{ $:/state[{!!title}][\u003Cqualify>]+[join[/]] }}}>\n\u003C$button actions='\u003C$action-listops $tiddler=\u003C\u003CstateTitle>> $field=\"$field$\" $subfilter=\"+[toggle[open]]\">' tag=\"details\">\n\u003Csummary title=\"$tooltip$\">$summary$\u003C/summary>\n\u003C$reveal stateTitle=\u003C\u003CstateTitle>> stateField=\"$field$\" text=\"open\" default=\"closed\" type=\"match\"  retain=\"yes\" animate=\"yes\" tag=\"div\">\n$content$\n\u003C/$reveal>\n\u003C/$button>\n\u003C/$let>\n\\end","tags":"$:/tags/Macro $:/TiddlyTweaks/Details","title":"$:/TiddlyTweaks/Details/Macro","modified":"20221107154149882"},
{"created":"20220422115411361","text":"details {\ndisplay:contents\n}\n\ndetails>summary:is(::marker,::-webkit-details-marker) {\ndisplay:none\n}\n\ndetails>summary {\ndisplay:inline-block;\nlist-style:none;\nborder:1px solid #db4;\ncursor:pointer;\nmargin:0 .25em;\npadding:0 .25em\n}\n\ndetails>summary:hover {\nbackground:#fe8;\ncolor:#014\n}\n\ndetails>summary:active{\nbackground:#db4;\ncolor:#fff\n}\n\ndetails>summary::before {\ncontent:\"[+]\";\ndisplay:inline-block;\nmargin-inline-end: .5ch;\n}\n\ndetails[open]>summary::before {\ncontent:\"[-]\";\n}\n\nul summary{\nwidth:100%\n}","tags":"$:/tags/Stylesheet $:/TiddlyTweaks/Details","title":"$:/TiddlyTweaks/Details/Style","modified":"20221107154102271"},
{"created":"20220124001124446","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" >\u003Ctext x=\"50%\" y=\"70%\" dominant-baseline=\"central\" text-anchor=\"middle\">\u003C$text text=\"`\"/>\u003C/text>\u003C/svg>","tags":"$:/tags/Image $:/TiddlyTweaks/Shortcuts","title":"$:/TiddlyTweaks/images/backtick","modified":"20221107150453450","modifier":"Telumire"},
{"created":"20220618021743298","creator":"Telumire","text":"\u003Csvg  width=\"22pt\" height=\"22pt\" class=\"tc-image-switch-palette-button tc-image-button\" viewBox=\"0 0 16 16\">\n\u003Cpath fill-rule=\"evenodd\" d=\"M8 15V1a7 7 0 110 14zm0 1A8 8 0 118 0a8 8 0 010 16z\"/>\n\u003C/svg>","title":"$:/TiddlyTweaks/images/ThemeSwitcher","modified":"20221120181325297","tags":"$:/TiddlyTweaks/ThemeSwitcher","type":"text/vnd.tiddlywiki","revision":"0","bag":"default","modifier":"Telumire"},
{"created":"20220124000558262","text":"\u003Csvg width=\"22pt\" height=\"22pt\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" >\u003Ctext x=\"50%\" y=\"50%\" dominant-baseline=\"central\" text-anchor=\"middle\">~\u003C/text>\u003C/svg>","tags":"$:/tags/Image $:/TiddlyTweaks/Shortcuts","title":"$:/TiddlyTweaks/images/tilde","modified":"20221107150453450"},
{"created":"20220124001023467","creator":"Telumire","text":"\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"insert-text\"\n text=\"`\"\n/>","tags":"$:/tags/EditorToolbar $:/TiddlyTweaks/Shortcuts","caption":"backtick (`)","title":"$:/TiddlyTweaks/Shortcut/Backtick","modified":"20221107150453450","condition":"[\u003CtargetTiddler>]","description":"Insert the backtick symbol","icon":"$:/TiddlyTweaks/images/backtick","shortcuts":"ctrl-shift-2","modifier":"Telumire"},
{"created":"20220110134552210","creator":"user","text":"\\define delimiter-type() [tag[$:/tags/Stylesheet]] [type[text/css]] [type[application/javascript]]\n\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"save-selection\"\n tiddler=\u003C\u003Cqualify \"$:/temp/selection\">>\n/>\n\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param={{{[\u003Cqualify \"$:/temp/selection\">has[text]then[wrap-selection]else[wrap-lines]]}}}\n prefix={{{ [\u003CtargetTiddler>filter\u003Cdelimiter-type>then[/*]else[\u003C!--]] }}}\n suffix={{{ [\u003CtargetTiddler>filter\u003Cdelimiter-type>then[*/]else[-->]] }}}\n/>","title":"$:/TiddlyTweaks/Shortcut/Comment","caption":"comment the code","condition":"[\u003CtargetTiddler>]","description":"Transform the selection into a block comment","icon":"$:/core/images/add-comment","modified":"20221107150453450","modifier":"Telumire","shortcuts":"ctrl-slash","tags":"$:/tags/EditorToolbar $:/TiddlyTweaks/Shortcuts"},
{"created":"20220830100230518","text":"\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"wrap-selection\"\n prefix=\"\u003Ckbd>\"\n suffix=\"\u003C/kbd>\"\n/>","creator":"user","title":"$:/TiddlyTweaks/Shortcut/Key","caption":"insert a key","condition":"[\u003CtargetTiddler>]","description":"Transform the selection into a key","icon":"$:/core/images/mono-line","modified":"20221113234915618","modifier":"Telumire","shortcuts":"ctrl-k","tags":"$:/tags/EditorToolbar $:/CustomShortcuts $:/TiddlyTweaks/Shortcuts"},
{"created":"20220215125705138","creator":"Télumire","text":"\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"wrap-selection\"\n prefix={{{ '[['[\u003CstoryTiddler>get[draft.title]]'/'+[join[]] }}}\n suffix=\"]]\"\n/>","title":"$:/TiddlyTweaks/Shortcut/SubTiddler","caption":"Create a link to a sub tiddler","condition":"[\u003CcurrentTiddler>]","description":"Transform the selection into a block comment","icon":"$:/core/images/linkify","modified":"20221107150453450","modifier":"Telumire","shortcuts":"shift-alt-k","tags":"$:/tags/EditorToolbar $:/TiddlyTweaks/Shortcuts"},
{"created":"20220124000131817","creator":"Telumire","text":"\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"insert-text\"\n text=\"~\"\n/>","tags":"$:/tags/EditorToolbar $:/TiddlyTweaks/Shortcuts","caption":"tilde (~)","title":"$:/TiddlyTweaks/Shortcut/Tilde","modified":"20221107150453450","condition":"[\u003CtargetTiddler>]","description":"Insert the tilde symbol","icon":"$:/TiddlyTweaks/images/tilde","shortcuts":"ctrl-shift-1","modifier":"Telumire"},
{"created":"20221107150400966","text":"\u003C\u003Clist-links \"[{!!title}tagging[]]\">>","title":"$:/TiddlyTweaks/Shortcuts","modified":"20221107150453448"},
{"created":"20221107145510339","creator":"Telumire","text":"\u003C\u003Clist-links \"[{!!title}tagging[]]\">>","title":"$:/TiddlyTweaks/ThemeSwitcher","modified":"20221117155323799","modifier":"Telumire"},
{"created":"20220529203036772","creator":"Telumire","text":"\\whitespace trim\n\\define trigger-popup()\n\u003C$action-popup $state=\u003C\u003Cqualify $:/state/>> $coords=\u003C\u003Ctv-popup-coords>>/>\n\\end\n\\define set-palette-action(scheme)\n\u003C$action-setfield $tiddler=\"$:/palette\" text={{!!$scheme$}}/>\n\\end\n\\define switch-scheme()\n\u003C$macrocall $name=\"set-palette-action\" scheme={{{ [{$:/palette}get[color-scheme]toggle[light],[dark]] }}}/>\n\\end\n\\define select-palettes(scheme) \n    \u003Cli title=\"$scheme$ theme\">\n        \u003Csvg viewBox=\"0 0 20 20\">\n            \u003Ccircle cx=\"10\" cy=\"10\" r=\"8\" stroke-width=\"2px\" stroke=\"currentColor\" fill={{{ [[$scheme$]match[dark]then[currentColor]else[none]] }}}/>\n        \u003C/svg>\n        \u003C$select field=\"$scheme$\" actions=\u003C\u003Cset-palette-action $scheme$>> >\n            \u003C$list filter=\"[[$:/tags/Palette]tagging[]]:filter[get[color-scheme]match[$scheme$]]\">\n                \u003Coption value={{!!title}}>{{{ [{!!title}trim[$:/palettes/]] }}}\u003C/option>\n            \u003C/$list>\n        \u003C/$select>\n    \u003C/li>\n\\end\n\u003C$tiddler tiddler=\"$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher\">\n    \u003C$eventcatcher selector=\"button\" $contextmenu=\u003C\u003Ctrigger-popup>> >\n        \u003C$button tooltip=\"Switch colours\" aria-label=\"Switch colours\" class={{{ colorSwitch [\u003Ctv-config-toolbar-class>] [\u003Cqualify $:/state/>!is[missing]then[tc-selected]]+[join[ ]]}}} actions=\u003C\u003Cswitch-scheme>>>\n            \u003C$list filter=\"[\u003Ctv-config-toolbar-icons>match[yes]]\">\n                {{$:/TiddlyTweaks/images/ThemeSwitcher}}\n            \u003C/$list>\n            \u003C$list filter=\"[\u003Ctv-config-toolbar-text>match[yes]]\">\n                \u003Cspan class=\"tc-btn-text\">Switch colours\u003C/span>\n            \u003C/$list>\n        \u003C/$button>\n    \u003C/$eventcatcher>\n    \u003C$reveal state=\u003C\u003Cqualify $:/state/>> type=\"popup\" position=\"bottom\" class=\"tc-drop-down tc-popup-keep\" tag=\"menu\">\n        \u003Cul>\n            \u003C\u003Cselect-palettes dark>>\n            \u003C\u003Cselect-palettes light>>\n        \u003C/ul>\n    \u003C/$reveal>\n\u003C/$tiddler>","title":"$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher","modified":"20230201021406298","tags":"$:/tags/PageControls $:/TiddlyTweaks/ThemeSwitcher","type":"text/vnd.tiddlywiki","caption":"ThemeSwitcher","dark":"$:/palettes/SpartanNight","description":"switch the color scheme","icon":"$:/TiddlyTweaks/images/switch-palette-button","light":"$:/palettes/Blanca","revision":"0","bag":"default","modifier":"Telumire"},
{"title":"$:/TiddlyTweaks/ui/Buttons/ThemeSwitcher/Style","created":"20220618125331127","modified":"20221117155342332","tags":"$:/tags/Stylesheet $:/TiddlyTweaks/ThemeSwitcher","type":"text/vnd.tiddlywiki","text":"menu.tc-drop-down.tc-popup-keep :is(ul,li){\n    all:unset;\n    display:grid;\n    color:\u003C\u003Ccolor foreground>>;\n}\n\nmenu.tc-drop-down.tc-popup-keep{\n    min-width:unset;\n    margin:0;\n    padding:0;\n}\n\nmenu.tc-drop-down.tc-popup-keep li{\n    position:relative;\n    padding:.5ch;\n    padding-left: 0;\n}\n\nmenu.tc-drop-down.tc-popup-keep li svg{\n    position: absolute;\n    pointer-events: none;\n    height: 100%;\n    left: 5pt;\n}\n\nmenu.tc-drop-down.tc-popup-keep li+li:after{\n    content:\"\";\n    position:absolute;\n    inset:0;\n    opacity:.3;\n    pointer-events:none;\n    border-top: thin ridge currentColor;\n}\n\nmenu.tc-drop-down.tc-popup-keep li select{\n    all:unset;\n    cursor:pointer;\n    padding-left: 20pt;\n}\n\nmenu.tc-drop-down.tc-popup-keep,\nmenu.tc-drop-down.tc-popup-keep li :is(select,option){\n    background-color:\u003C\u003Ccolor tiddler-background>>;\n    color:\u003C\u003Ccolor tiddler-foreground>>;\n}","revision":"0","bag":"default","modifier":"Telumire"},
{"text":"","title":"$:/UploadURL"},
{"text":"yes","title":"$:/UploadWithUrlOnly"},
{"created":"20221026204239992","creator":"Telumire","text":"\u003C$list filter=\"[{!!title}has[description]]\">\n    \u003C$reveal tag=\"span\" type=\"nomatch\" stateTitle=\u003C\u003Cfolded-state>> text=\"hide\" retain=\"yes\" animate=\"yes\">\n    \u003C\u003Cdetails\n    summary:\"Description\"\n    content:\"\"\"{{!!description}}\"\"\"\n    >>\n    \u003C/$reveal>\n\u003C/$list>","tags":"$:/tags/ViewTemplate Tools Description","title":"$:/ViewTemplate/Description","modified":"20221027195423394","modifier":"Telumire","list-after":"","install":"\u003C\u003Cexport filter:\"[[Description]tagging[]] [search:title[$:/TiddlyTweaks/Details]]\" filename:\"description-template\" hint:\"Click this button to download a json file containing all relevant tiddlers, or drag and drop to install directly into your tiddlywiki : \">>","caption":"Description","description":"Add a description text editor for tiddler with the field \"description\".\n\u003Cp>Require \u003C\u003Clist-links \"[[Description]tagging[]] [search:title[$:/TiddlyTweaks/Details]]\">>\u003C/p>"},
{"created":"20220915014059885","creator":"Telumire","text":"\u003C$list filter=\"[{!!title}has[sources]]\">\n    \u003C$reveal tag=\"div\" type=\"nomatch\" stateTitle=\u003C\u003Cfolded-state>> text=\"hide\" retain=\"yes\" animate=\"yes\" class=\"vt-sources\">\n    \u003C\u003Cdetails\n    summary:\"\"\"Source\u003C$list filter=\"[list[!!sources]nth[2]]\">s\u003C/$list>\"\"\"\n    content:\"\"\"\u003Cul>\n                \u003C$list filter=\"[{!!sources}enlist-input[]format:titlelist[]]+[unique[]]\" variable=\"source\">\n                \u003Cli>\n                    \u003Ccite>\n                        \u003C\u003Csource>>\n                    \u003C/cite>\n                \u003C/li>\n                \u003C/$list>\n            \u003C/ul>\"\"\">>\n    \u003C/$reveal>\n\u003C/$list>","tags":"$:/tags/ViewTemplate Tools Sources","title":"$:/ViewTemplate/Sources","modified":"20221102110644002","modifier":"Telumire","list-after":"","install":"\u003C\u003Cexport filter:\"[[Sources]tagging[]] [search:title[$:/TiddlyTweaks/Details]]\" filename:\"sources-template\" hint:\"Click this button to download a json file containing all relevant tiddlers, or drag and drop to install directly into your tiddlywiki : \">>","caption":"Sources","sources":"","description":"Add a sources text editor for tiddler with the field \"sources\".\n\u003Cp>Require \u003C\u003Clist-links \"[[Sources]tagging[]] [search:title[$:/TiddlyTweaks/Details]]\">>\u003C/p>"},
{"created":"20220915150523719","creator":"Telumire","text":".vt-sources{\nborder-top:solid 1px lightgrey;\npadding-top:2px;\n}","tags":"$:/tags/Stylesheet Sources","title":"$:/ViewTemplate/Sources/Style","modified":"20221104104722124","modifier":"Telumire"},
{"created":"20221202165024184","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727846#overview\n\nCreate a new offer : add  a button to navigate to the new offer page\n\n;offers.page.html\n\nion-header>ion-toolbar>ion-title / ion-buttons\n\nion-button routerLink=\"/places/tabs/offers/new\" > ion-icon name=\"add\" slot=\"icon-only\"\n\nname=\"add\" to get a plus icon\nicon-only = position as the only icon in the button\n\n;new-offer.page.html\n\nion-header > ion-toolbar > (ion-buttons slot=\"start\" > ion-back-button defaultHref=\"/places/tabs/offers\"), ion-title> \"New Offer\"\n\n;offer-bookings.page.html\n\nin this case routerLink must be bound dynamically because we need to use the ID of the place we want to add\n\nion-content > ion-button [routerLink]=\"..\"\n\nWe need to extract the id from the offer-bookings page in order to forward it to edit the offer page.\n\n\n\u003C\u003C\u003C\n{{117. A Bug with Ionic}}\n\n\u003C\u003C\u003C\n\nNext : [[118. Extracting the ID of Loaded Places]]\n","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]","title":"116. Navigating via Toolbar Buttons","modified":"20221215212822512","modifier":"Telumire"},
{"created":"20221202170917109","creator":"Telumire","modified":"20221215212822512","modifier":"Telumire","title":"117. A Bug with Ionic","text":"//Bug Ionic 4.6.1+// : issue when extracting loaded data from route params\n\nTo avoid : `npm install --save @ionic/angular@4.6.1`\n\nWith the latest Ionic version : error when trying to load the detail page = because loadedPlace is loaded after the template is rendered. To correct: add a `?` after efevery loadedRecipe statement in the template, \n\nExample => `loadedPlace?.id`","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202170840824","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727850#overview\n\nNext: [[120. Adding a SideDrawer]]\n\n[img[$:/screenshot/image.png]]","title":"118. Extracting the ID of Loaded Places","modified":"20221215212822512","modifier":"Telumire","list":"","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171018048","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727854#overview\n\n\nNext: [[121. Opening + Closing the SideDrawer]]","title":"120. Adding a SideDrawer","modified":"20221215212822512","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171049439","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727858#overview\n\n\nNext: [[122. Adding Links & Switching Pages]]","title":"121. Opening + Closing the SideDrawer","modified":"20221215212822512","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171119902","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727864#overview\n\n\nNext: [[123. Adding the Auth Service]]","title":"122. Adding Links & Switching Pages","modified":"20221215212822512","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171143057","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727868#overview\n\n\nNext: [[124. Adding an Auth Guard]]","title":"123. Adding the Auth Service","modified":"20221215212822512","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171201857","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727870#overview\n\n\nNext: [[125. Opening a Modal]]","title":"124. Adding an Auth Guard","modified":"20221215212822513","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171223939","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727874#overview\n\n\nNext: [[126. Closing the Modal & Passing Data]]","title":"125. Opening a Modal","modified":"20221215212822513","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171242941","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727878#overview\n\n\nNext: [[127. Wrap Up]]","title":"126. Closing the Modal & Passing Data","modified":"20221215212822513","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171304777","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727884#overview\n\n\nNext: [[128. Useful Resources & Links]]","title":"127. Wrap Up","modified":"20221215212822513","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171321235","creator":"Telumire","text":"https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps/learn/lecture/13727886#overview\n\n\nNext: [[Section 8: Ionic Components Overview]]","title":"128. Useful Resources & Links","modified":"20221215212822513","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221120182618453","creator":"Telumire","text":"See [[$:/libro/FileUpload/DropDown/Button]].\n\nThis is to avoid clutter in the toolbar.","tags":"$:/Feed","modified":"20221121022539899","modifier":"Telumire","title":"Add a dropdown button to group the various file upload tools"},
{"created":"20221123225604887","creator":"Telumire","text":"Create a field `lang` and set it to the language of the tiddler, for now `en` OR `fr`\nThen set a field `fr` OR `en` containing the name of the translated tiddler.\n\n[[$:/Libro/Translation]]","tags":"$:/Feed","modified":"20221123225636763","modifier":"Telumire","title":"Added a simple way to support en/fr translation on a tiddler basis"},
{"created":"20221121202658404","creator":"Telumire","tags":"$:/Feed","text":"Link to the plugin: https://github.com/breakzplatform/tw5-github-comments\n\nIt's great, very easy to setup.","modified":"20221121202658404","modifier":"Telumire","title":"Added GitHub comments plugin"},
{"created":"20221202145543416","creator":"Telumire","tags":"$:/Feed","text":"See [[$:/SplashScreen]]","modified":"20221202145543416","modifier":"Telumire","title":"Added loading screen"},
{"created":"20221227234648010","text":"","title":"Advanced components and directives: Conditional and contextual content projection: ng-template and ngTemplateOutlet","task":"todo","modified":"20221227234650541"},
{"created":"20221227234646942","text":"","title":"Advanced components and directives: Content","task":"todo","modified":"20221227234651610"},
{"created":"20221227234647437","text":"","title":"Advanced components and directives: Content queries","task":"todo","modified":"20221227234651084"},
{"created":"20221227234649081","text":"","title":"Advanced components and directives: Host binding","task":"todo","modified":"20221227234649439"},
{"created":"20221227234648573","text":"","title":"Advanced components and directives: Host listener","task":"todo","modified":"20221227234650092"},
{"created":"20221227234646322","text":"","title":"Advanced components and directives: View queries","task":"todo","modified":"20221227234652318"},
{"created":"20221227234642228","text":"","title":"Advanced observables: Custom Observable","task":"todo","modified":"20221227234643577"},
{"created":"20221227234642677","text":"","title":"Advanced observables: Managing state with stores (NgRx, NGXS, Akita ..)","task":"todo","modified":"20221227234643105"},
{"created":"20221227234641723","text":"","title":"Advanced observables: Operators","task":"todo","modified":"20221227234644027"},
{"created":"20221227234640645","text":"","title":"Advanced observables: Overview","task":"todo","modified":"20221227234644883"},
{"created":"20221227234641135","text":"","title":"Advanced observables: Subscribe, unsubscribe and async pipe","task":"todo","modified":"20221227234644489"},
{"created":"20230109040253696","text":"\u003C$tiddler tiddler=\"Become a Ninja with Angular\">\n\n! \u003C$link/>\n\n\u003C$transclude mode=\"block\"/>\n\n\n\u003C$list filter=\"[\u003CcurrentTiddler>links[]]\">\n\n\u003Ch3>{{!!title}}\u003C/h3>\n\n\u003C$transclude mode=\"block\"/>\n\u003C/$list>\n\u003C/$tiddler>","tags":"","title":"All the notes for the book \"Become a Ninja with Angular\"","modified":"20230116162717008"},
{"created":"20221122182306907","text":"Source: https://www.udemy.com/course/the-complete-guide-to-angular-2","creator":"Telumire","title":"Angular - The Complete Guide (2023 Edition)","modified":"20221227182834069","modifier":"Telumire","tags":"courses"},
{"created":"20221227234514791","text":"Components are like directive, but with two more attributes (optionnal) and an view (required).\n\n;View providers\n\n`viewProviders` is similar to `providers`, used to specify injectable, but the providers will only be available for the current component, not its children.\n\n;Template / Template URL\n\n`@Component` main feature is to have a template, whereas a directive dont. It can be declared inline (best for 1-2 lines template) with `template` __or__ with a URL in a separate file with `templateUrl`.\n\n;Styles / Styles URL\n\nUseful for really isolated components, can be declared inline with `styles` or in a separate file with `styleUrls`\n\n`styles` takes an array of CSS rules as a string, `styleUrls` takes an array of URLs.\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-styled-horse\",\n  template: '\u003Cdiv class=\"horse\">{{ horse.name }}\u003C/div>',\n  styles: [\".horse{ color: red; }\"],\n})\nexport class StyledHorseComponent {\n  @Input() horse: any;\n}\"\"\">>\n\n;Declarations\n\nEvery directive and components must be declared in the `declarations` of `@NgModule`, otherwise the component wont be picked up in the template.\n\nCommon mistakes: forgetting to declare the directive and using the wrong selector !\n\nSee also: \n\n\u003Cul>\n\u003C$list filter=\"[prefix[Advanced components and directives:]]\">\n\u003Cli>\u003C$link>\u003C$text text={{{ [\u003CcurrentTiddler>trim[Advanced components and directives: ]] }}}/>\u003C/$link>\u003C/li>\n\u003C/$list>\n\u003C/ul>\n\nnext: [[Angular: Styling components and encapsulation - Overview]]","title":"Angular: components and directives - components","task":"done","modified":"20230107000249201"},
{"created":"20221227234514018","text":"A directive is like a component, but without a template. Directive are annotated with a decorator: `@Directive` (instead of `@Component`)\n\nExample: in Angular, the `Component` class inherits from the `Directive` class.\n\nDirectives are like decorators for the HTML, they attach a behavior to elements in the DOM. Multiple directives can be on one element. Directive have a CSS selector to indicate to Angular where to activate it in the template.\n\n;Selectors\n\nThey can be:\n\n* element, as usual for components: `header`\n* class, less frequent: `.alert`\n* attribute, the most frequent for directives: `[color]`\n* attribute with a value: `[color=red]`\n* combination of the above: `header[color=red], .alert` match a `header` element with a `color` attribute of `red` value or any element with the `alert` class.\n\n>.warning CSS selector like descendants, siblings, ids, wildcards and pseudos other than :not are not supported.\n\nExample: a directive that match all `div` elements with a `loggable` class and a `logText` attribute that don’t have an\nattribute `notLoggable` with a `true` value\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"div.loggable[logText]:not([notLoggable=true])\",\n})\nexport class ComplexSelectorDirective {\n  constructor() {\n    console.log(\"Complex selector directive\");\n  }\n}\"\"\">>\n\n\nIt will be activated in a component like `TestComponent`:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-test\",\n  template: \"\u003Cdiv class=\"loggable\" logText=\"text\">Hello\u003C/div>\"\n})\nexport class TestComponent {}\n\"\"\">>\n\n;Inputs\n\nTo pass data from a top component to its children, we use property binding. \nThe properties that accept data binding are defined in the `inputs` attribute of the `@Directive` decorator, with an array of strings, in the form `property: binding`. \n\n`property` represent the directive instance property, `binding` is the DOM property that will contain the expression.\n\n;Example: directive binding the custom DOM property `logText` to the directive instance property `text`:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n  inputs: [\"text: logText\"],\n})\nexport class SimpleTextDirective {}\"\"\">>\n\nThis directive target elements with the `loggable` attribute. The custom DOM attribute `logText` can be used to bind to the text property of the `SimpleTextDirective` directive. If the `text` property does not exist in the directive, it is created. When the input changes, the property update automatically.\n\n```html\n\u003Cdiv loggable logText=\"Some text\">Hello\u003C/div>\n```\n\nAdding a setter to the directive to be notified when the `logText` property changes:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n  inputs: [\"text: logText\"],\n})\nexport class SimpleTextWithSetterDirective {\n  set text(value: string) {\n    console.log(value);\n  }\n}\"\"\">>\n\n\n```html\n\u003Cdiv loggable logText=\"{{ expression }}\">Hello\u003C/div>\n// the directive log  the value of 'expression' in the component (could also be a static string)\n```\n\nOr with the `[]` syntax (preferred):\n\n```html\n\u003Cdiv loggable [logText]=\"expression\">Hello\u003C/div>\n// the directive log  the value of 'expression' in the component\n```\n\nWe only have to define which properties are bound, then the component can be used in multiple ways.\n\nUsing pipes:\n\n```html\n\u003Cdiv loggable [logText]=\"expression | uppercase\">Hello\u003C/div>\n// the directive log  the value of 'expression' in the component, in uppercase\n```\n\nTo bind a DOM property to an attribute of the directive that has the same name, we can write `property` instead of `property: binding` (ES2015 shorthand):\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n  inputs: [\"logText\"],\n})\nexport class SameNameInputDirective {\n  set logText(value: string) {\n    console.log(value);\n  }\n}\n\"\"\">>\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv loggable logText=\"Hello\">Hello\u003C/div>\n// our directive will log 'Hello'\"\"\">>\n\n;Declaring an input with the `@Input` decorator (recommended)\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n})\nexport class InputDecoratorDirective {\n  @Input(\"logText\") text = \"\";\n}\"\"\">>\n\nif the property and binding have the same name:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n})\nexport class SameNameInputDecoratorDirective {\n  @Input() logText = \"\";\n}\n\"\"\">>\n\nTypeScript do not allow `@Input` field and a setter with the same name, to prevent confusion. One way to fix it if a setter is required, is to add the `@Input` directly on the setter:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n})\nexport class InputDecoratorOnSetterDirective {\n  @Input(\"logText\")\n  set text(value: string) {\n    console.log(value);\n  }\n}\"\"\">>\n\nif the setter and the binding have the same name:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[loggable]\",\n})\nexport class SameNameInputDecoratorOnSetterDirective {\n  @Input()\n  set logText(value: string) {\n    console.log(value);\n  }\n}\"\"\">>\n\nInputs are usefull to pass data from a top element to a bottom element. TypeScript might throw a warning if the field is not initialized (`strict` setting in the `tsconfig` file). To avoid that, set a default value for the inputs, or add a `!` (non-null assertion) after the field so TypeScript know that the field will be initialized.\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-horse\",\n  template: `\u003Cdiv>{{ horse.name }}\u003C/div>`,\n})\nexport class HorseComponent {\n  @Input() horse!: HorseModel;\n}\n@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cdiv>\n      \u003Ch2>Horses\u003C/h2>\n      // the horse is handed to HorseComponent via [horse]=\"currentHorse\"\n      \u003Cns-horse\n        *ngFor=\"let currentHorse of horses\"\n        [horse]=\"currentHorse\"\n      >\u003C/ns-horse>\n    \u003C/div>\n  `,\n})\nexport class HorsesComponent {\n  horses: Array\u003CHorseModel> = [\n    { id: 1, name: \"Flash\" },\n    { id: 2, name: \"Black\" },\n  ];\n}\"\"\">>\n\nFor passing data up from `HorseComponent` to `HorsesComponent`, we can't use properties but we can use events.\n\n;Outputs\n\nIn Angular, data flows in a component via properties, and out via events.\nCustom Events are emitted using an `EventEmitter`, and are declared in the decorator, with the `outputs` attribute. It accepts an array: the list of events that the directive/component emit. Like the inputs, it's better to use the `@Output()` decorator.\n\n3 steps to emit an event:\n\n* declare the output in the decorator\n* create an `EventEmitter` (recommended to be marked as `readonly`)\n* emit the event on a user action\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-horse\",\n  // the method `selectHorse()` will be called on click\n  template: ` \u003Cdiv (click)=\"selectHorse()\">{{ horse.name }}\u003C/div> `,\n})\nexport class SelectableHorseComponent {\n  @Input() horse!: HorseModel;\n  // we declare the custom event as an output,\n  // the EventEmitter is used to emit the event\n  @Output() readonly horseSelected = new EventEmitter\u003CHorseModel>();\n  /**\n   * Selects a horse when the component is clicked.\n   * Emits a custom event.\n   */\n  selectHorse(): void {\n    this.horseSelected.emit(this.horse);\n  }\n}\"\"\">>\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cns-horse [horse]=\"horse\" (horseSelected)=\"betOnHorse($event)\">\u003C/ns-horse>\"\"\" \"\" hide>>\n\nClicks on the horse name emits a `horseSelected` event, with the horse as a value (parameter of `emit()`). The parent component listen to this event and will call its `betOnHorse` method with the value of the event `$event`: `$event` is the syntax used to access the event emitted, here, the emitted horse.\n\nIn the parent component, the method `betOnHorse()` is called with the selected horse:\n\n\u003C\u003Ccopy-code ts \"\"\"betOnHorse(horse: HorseModel): void {\n// do something with the horse\n}\"\"\">>\n\nIt's possible to specify an event name different from the event emitter name:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-horse\",\n  template: ` \u003Cdiv (click)=\"selectHorse()\">{{ horse.name }}\u003C/div> `,\n})\nexport class OtherSelectableHorseComponent {\n  @Input() horse!: HorseModel;\n  // the emitter is called `emitter`\n  // and the event `horseSelected`\n  @Output(\"horseSelected\") readonly emitter = new EventEmitter\u003CHorseModel>();\n  selectHorse(): void {\n    this.emitter.emit(this.horse);\n  }\n}\"\"\">>\n\n;Lifecycle\n\nThe inputs of a component are not evaluated yet in its constructor, this will not work:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[undefinedInputs]\",\n})\nexport class UndefinedInputsDirective {\n  @Input() horse!: string;\n  constructor() {\n    console.log(`inputs are ${this.horse}`);\n    // will always log \"inputs are undefined\"\n  }\n}\n\"\"\">>\n\nTo access the value of an input (for example to load data from the server), we use a lifecycle phase. Each have their own specificity:\n\n* `ngOnChanges`: Called everytime the value of a bound property changes, get a `changes` map, containing current and previous values of the binding, wrapped in a `SimpleChange`.\n* `ngOnInit`: Called only once, after the first change, useful for initialization.\n* `ngOnDestroys`: Called when the component is removed, useful for cleanup. \n\nRarely used phases:\n\n* `ngDoCheck`: Allow to monitor changes on some bound property values instead of all, usefull for performances. \n* `ngAfterContentInit`: called when all the projected contents of the component have been checked for the first time\n* `ngAfterContentChecked`: called when all the projected contents of the component have been checked, even without changes\n* `ngAfterViewInit`: called when all the bindings of the template have been checked for the first time\n* `ngAfterViewChecked`: called when all the bindings of the template have been checked, even without changes. Useful if the component or directive is waiting for an element to be available to do something with it, like focusing it.\n\nSee also [[Advanced components and directives: View queries]]\n\n;`ngOnInit`\n\nWith TypeScript, the `ngOnInit()` callback method must be implemented in the `OnInit` lifecycle hook:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[initDirective]\",\n})\nexport class OnInitDirective implements OnInit {\n  @Input() horse!: string;\n  ngOnInit(): void {\n    console.log(`inputs are ${this.horse}`);\n    // inputs are not undefined !\n  }\n}\"\"\">>\n\n;`ngOnChanges`: do something every time a property changes\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[changeDirective]\",\n})\nexport class OnChangesDirective implements OnChanges {\n  @Input() horse!: string;\n  ngOnChanges(changes: SimpleChanges): void {\n    const horseValue = changes[\"horse\"];\n    console.log(`changed from ${horseValue.previousValue} to ${horseValue.currentValue}\n`);\n    console.log(`is it the first change? ${horseValue.isFirstChange()}`);\n  }\n}\"\"\">>\n\nThe `changes` parameter is a map, with the binding names as keys, and a `SimpleChange` object with two attributes (previous and current value) as value, and a method `isFirstChange()` that check if this is the first change.\n\nTo react only on the change of one of the bindings, we can use a setter:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[setterDirective]\",\n})\nexport class SetterDirective {\n  private horseModel!: string;\n  @Input()\n  set horse(newHorse: string) {\n    console.log(`changed from ${this.horseModel} to ${newHorse}`);\n    this.horseModel = newHorse;\n  }\n}\"\"\">>\n\n`ngOnChanges` is more useful when several bindings must be watched at the same time. It will only be invoked if at least one binding has changed and will contain only the changed properties.\n\n;`ngOnDestroy`: perfect to clean up the component\n\nThis can be used to cancel background tasks. Here, the `OnDestroyDirective` is logging \"hello\" every second when it is created. We need to stop the `setInterval` when the component is removed from the page, to avoid a memory leak:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[destroyDirective]\",\n})\nexport class OnDestroyDirective implements OnDestroy {\n  sayHello: number;\n  constructor() {\n    this.sayHello = window.setInterval(() => console.log(\"hello\"), 1000);\n  }\n  ngOnDestroy(): void {\n    window.clearInterval(this.sayHello);\n  }\n}\"\"\">>\n\n;Providers\n\nSee [[Angular: Dependency injection - Overview]]\n\nThe providers attribute allows to declare services that will be injectable in the current directive and its children:\n\n\u003C\u003Ccopy-code ts \"\"\"@Directive({\n  selector: \"[providersDirective]\",\n  providers: [HorsesService],\n})\nexport class ProvidersDirective {\n  constructor(horsesService: HorsesService) {\n    const horses = horsesService.list();\n    console.log(`horses are: ${horses}`);\n  }\n}\n\"\"\">>","title":"Angular: components and directives - directives","task":"done","modified":"20230106224748135"},
{"created":"20221227234452942","text":"How can we pass data, manage the lifecycle of a component, what are the best practices to build these things ? \n\nNext: [[Angular: components and directives - directives]]","title":"Angular: components and directives - Overview","task":"done","modified":"20230106001701028"},
{"created":"20221227234537909","text":";Easy to configure: swapping implementation\n\nIn the previous example, the backend doesnt exist.  To test the app, we want to use fake data. This can be done with DI. If we chose to declare the registration in the module:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { RaceService } from \"../services/race.service\";\nimport { ApiService } from \"../services/api.service\";\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  providers: [RaceService, ApiService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n\"\"\">>\n\n`AppComponent` --depends on--> `RaceService` --depends on--> `ApiService`\n\nThis is the short form of:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { RaceService } from \"../services/race.service\";\nimport { ApiService } from \"../services/api.service\";\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  bootstrap: [AppComponent],\n  providers: [\n    { provide: RaceService, useClass: RaceService },\n    { provide: ApiService, useClass: ApiService },\n  ],\n})\nexport class AppModule {}\n\"\"\">>\n\nThis tell the `Injector` to link a token (the type `RaceService`) and the class `RaceService`.\n\n`Injector` is a service keeping track of the injectable components by maintaining a registry, and inject then when needed. The registry is a map that associates keys (token that can be anything, like Type references for example) with classes.\n\nIn our example, the token and the class to inject are the same so we can shorten the code:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { RaceService } from \"../services/race.service\";\nimport { ApiService } from \"../services/api.service\";\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  providers: [RaceService, ApiService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n\"\"\">>\n\nThe token needs to uniquely identify the dependency. This injector is returned by the `bootstrapModule` promise, so we can play with it: \n\n\u003C\u003Ccopy-code ts \"\"\"// in our module\nproviders: [\n  ApiService,\n  { provide: RaceService, useClass: RaceService },\n  // let's add another provider to the same class\n  // with another token\n  // A token can be declared like this:\n  // const token = new InjectionToken\u003CRaceService>('RaceServiceToken');\n  { provide: token, useClass: RaceService },\n];\n// let's bootstrap the module\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .then(\n    // and play with the returned injector\n    (appRef) => playWithInjector(appRef.injector)\n  );\n\"\"\">>\n\nThe interesting part is the `playWithInjector` function:\n\n\u003C\u003Ccopy-code ts \"\"\"function playWithInjector(inj: Injector): void {\n  console.log(inj.get(RaceService));\n  // logs \"RaceService {apiService: ApiService}\"\n  console.log(inj.get(token));\n  // logs \"RaceService {apiService: ApiService}\" again\n  console.log(inj.get(RaceService) === inj.get(RaceService));\n  // logs \"true\", as the same instance is returned every time for a token\n  console.log(inj.get(RaceService) === inj.get(token));\n  // logs \"false\", as the providers are different,\n  // so there are two distinct instances\n}\n\"\"\">>\n\nThis show that we can ask the injector for a dependency via the `get` method and a token.\n`RaceService` is declared twice, with two different tokens, so we have two providers.\n\nThe injector will instantiate `RaceService` the first tine it is asked for a specific token, then it returns the same instance for this token every time. This is done for each provider, so here we have two instances of `RaceService`, one for each token.\n\n \nIn practice, we rarely use the token. in TypeScript we can rely on the types, so the token is a Type reference usually bound to the corresponding class. To use another token, we have to use the `@Inject()` decorator.\n\nIn summary:\n\n* a provider links a token to a service\n* the injector returns the same instance every time it is asked for the same token\n* a token can have a name different from the class name\n\nThe fat that the instance returned is created on the first call and then is always the same is a design pattern called //singleton//. This is useful to share data between components using a service and make sure that they share the same instance of the service.\n\nBack to `RaceService` : for testing, we can write a new class doing the same thing as RaceService but returning hardcoded data:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable()\nexport class FakeRaceService {\n  list(): Array\u003CRaceModel> {\n    return [{ name: \"London\" }];\n  }\n}\"\"\">>\n\n\nWe can use the provider declaration to replace RaceService with FakeRaceService:\n\n\u003C\u003Ccopy-code ts \"\"\"// in our module\nproviders: [\n// we provide a fake service\n{ provide: RaceService, useClass: FakeRaceService }\n]\n\"\"\">>\n\nWhen the app is restarted, the app will use the fake service instead of the first one.\nNow we have a relation like this:\n\nAppComponent --> FakeRaceService\n\nRaceService --> ApiService\n\nThis can be really usefull for testing the app manually or for writing automated tests.\n","title":"Angular: Dependency injection - Configuration","task":"done","modified":"20230107211957339"},
{"created":"20221227234540255","text":"It's possible to not use a type for DI, using the `@Inject()` decorator. It can inject services but also simple values:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Inject, Injectable } from \"@angular/core\";\nimport { BACKEND_URL } from \"./tokens\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RaceService {\n  constructor(@Inject(BACKEND_URL) private url: string) {}\n}\"\"\">>\n\n`@Inject()` need to be given a token, that can be defined like this:\n\n\u003C\u003Ccopy-code ts \"\"\"import { InjectionToken } from \"@angular/core\";\nexport const BACKEND_URL = new InjectionToken\u003Cstring>(\"API URL\");\"\"\">>\n\nThen the token can be used in the providers of the module to define its value:\n\n\u003C\u003Ccopy-code ts \"\"\"{ provide: BACKEND_URL, useValue: 'http://localhost:8080' }\"\"\">>\n\nOr it can be registered with `providedIn`:\n\n\u003C\u003Ccopy-code ts \"\"\"export const BACKEND_URL_PROVIDED = new InjectionToken\u003Cstring>(\"API URL\", {\n  providedIn: \"root\",\n  factory: () => \"http://localhost:8080\",\n});\"\"\">>\n\n\nThe environment variables of the Angular CLI can be used here. Angular use this token mechanism, allowing us to define the locale of the app for example, using the token `LOCALE_ID`:\n\n\u003C\u003Ccopy-code ts \"\"\"@NgModule({\n  imports: [BrowserModule],\n  declarations: [\n    CustomLocaleComponent,\n    // and other components\n  ],\n  providers: [{ provide: LOCALE_ID, useValue: \"fr-FR\" }],\n  // ...\n})\nexport class AppModule {}\n@Component({\n  selector: \"ns-locale\",\n  template: `\n    \u003Cp>The locale is {{ locale }}\u003C/p>\n    \u003C!-- will display 'fr-FR' -->\n    \u003Cp>{{ 1234.56 | number }}\u003C/p>\n    \u003C!-- will display '1 234,56' -->\n  `,\n})\nexport class CustomLocaleComponent {\n  constructor(@Inject(LOCALE_ID) public locale: string) {}\n}\"\"\">>\n\nSee [[Internationalization: Overview]]","title":"Angular: Dependency injection - DI without types","task":"done","modified":"20230107223258302"},
{"created":"20221227234539396","text":"In an Angular app, there is one injector per component, that inherits from the injector of its parent. Example:\n\n`AppModule` --> `AppComponent`(root) --> `RacesComponent` (child)\n\nWhen we bootstrap the app, it create the root injector for the module, then every component create its own injector, inheriting its parent node.\n\nWhen a service is registered using `providedIn: 'root'` (recommended), or using the providers of the module, it's added to the root injector. `root` is not the only value allowed in `providedIn`, if we have several modules, the service can be added only to one module, for example `providedIn: RacesModule`.\n\nroot Injector (ApiService, RaceService) \u003C-- Injector \u003C-- Injector\n\nOnce a dependency is declared in a component, Angular search the current injector, finds the dependency and returns it. If it doesnt find it, it will do the same in the parent injector, etc. If the dependency isn't found, it throw an exception:\n\n* dependencies declared in the root injector are available to every component.\n* dependencies can be declared at another level than the module.\n\nThe `@Component` decorator can take a configuration attribute `providers`. This take an array with a list of dependencies (same thing for the `providers` attribute of `@NgModule`).\n\nExample: `@RacesComponent` declaring declare it's own `RaceService` provider:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-races\",\n  providers: [{ provide: RaceService, useClass: FakeRaceService }],\n  template: `\u003Cstrong>Races list: {{ list() }}\u003C/strong>`,\n})\nexport class RacesComponent {\n  constructor(private raceService: RaceService) {}\n  list(): Array\u003CRaceModel> {\n    return this.raceService.list();\n  }\n}\n\"\"\">>\n\nThe provider with the token `RaceService` give an instance `FakeRaceService` (defined in the root injector). This is usefull to have a different instance of a service for a component, or to encapsulate components that declare everything they need.\n\n>.warning if a dependency is declared in the module of the app and in the `providers` attribute of the component, this will create and use two distinct instances of the dependency!\n\nHere we have:\n\nroot Injector (ApiService, RaceService) \u003C-- Injector \u003C-- Injector (RaceService --> FakeRaceService)\n\nThe injection is then resolved as:\n\n```\nAppModule --> RaceService\n'--> AppComponent --^\n       '-->RacesComponent --> FakeRaceService\n```\n\nIf only one component needs to access a service, it's best to only provide this service in the component injector using the `providers` attribute. If the dependency can be used by the whole app, it can be declared in the root module.","title":"Angular: Dependency injection - Hierarchical injector","task":"done","modified":"20230107222709948"},
{"created":"20221227234538675","text":"Using a fake service when developping the app, then switching to the real one in production can be done  manually, or with a `useFactory` provider type.\n\n\u003C\u003Ccopy-code ts \"\"\"// we just have to change this constant when going to prod\nconst IS_PROD = false;\n\n// in our module\nproviders: [\n  // we provide a factory\n  {\n    provide: RaceService,\n    useFactory: () =>\n      IS_PROD ? new RaceService(new ApiService()) : new FakeRaceService(),\n  },\n];\"\"\">>\n\nHere we use `useFactory` instead of `useClass`. A factory is a function that create an instance. This example tests a constant and returns the fake service or the real service.\n\nIf we switch to the real service, as we use `new` to create `RaceService`, it wont have its `ApiService` dependency instantiated. We have to pass an ApiService instance to the constructor call. `useFactory` can be used with the `deps` property to specify an array of dependencies:\n\n\u003C\u003Ccopy-code ts \"\"\"// we just have to change this constant when going to prod\nconst IS_PROD = true;\n// in our module\nproviders: [\n  ApiService,\n  // we provide a factory\n  {\n    provide: RaceService,\n    // the apiService instance will be injected in the factory\n    // so we can pass it to RaceService\n    useFactory: (apiService: ApiService) =>\n      IS_PROD ? new RaceService(apiService) : new FakeRaceService(),\n    deps: [ApiService],\n  },\n];\"\"\">>\n\n>.warning The order of the parameters must be the same as the order in the array if there are several dependencies!\n\nThis example demonstrate the use of `useFactory` and its dependencies, but we could and should write:\n\n\u003C\u003Ccopy-code ts \"\"\"// in our module\nproviders: [\n  ApiService,\n  { provide: RaceService, useClass: IS_PROD ? RaceService : FakeRaceService },\n];\n\"\"\">>\n\nInstead of declaring a constant for `IS_PROD`, we could use DI, using another provider type: `useValue`.\n\n\u003C\u003Ccopy-code ts \"\"\"// in our module\nproviders: [\n  ApiService,\n  // we provide a factory\n  { provide: \"IS_PROD\", useValue: true },\n  {\n    provide: RaceService,\n    useFactory: (IS_PROD: boolean, apiService: ApiService) =>\n      IS_PROD ? new RaceService(apiService) : new FakeRaceService(),\n    deps: [\"IS_PROD\", ApiService],\n  },\n];\"\"\">>\n\n","title":"Angular: Dependency injection - Other types of provider","task":"done","modified":"20230107213735914"},
{"created":"20221227234536315","text":"Features offered by other parts of an app, like a service,  are called \"dependency\". In Angular, instead of letting the component create its dependencies, they are provided by the framework ([[inversion of control|https://en.wikipedia.org/wiki/Inversion_of_control]]). This is easy to develop, to configure and to do tests.","title":"Angular: Dependency injection - Overview","task":"done","modified":"20230107211946916"},
{"created":"20221227234537066","text":";Easy to develop: specify what we want and where\n\nTo use dependency injection, we only need to register the dependency to make it available, and declare it where we need it. The framework will search the registry and get or create an instance of the dependency, then inject it.\n\nExample: \n\n`ApiService` service, a class with a `get` method returning an empty array. This service will be used to communicate with a backend API.\n\n\u003C\u003Ccopy-code ts \"\"\"export class ApiService {\n  get(path: string): Array\u003Cany> {\n    // call the backend API\n  }\n}\n\"\"\">>\n\nWe can use TypeScript type system to declare a dependency for our component or service. For example, for a `RaceService` that will use `ApiService`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { ApiService } from \"./api.service\";\nexport class RaceService {\n  constructor(private apiService: ApiService) {}\n}\n\"\"\">>\n\nAngular fetch and inject `ApiService` into the constructor. When `RaceService` is needed, the constructor will be called and we will have an `apiService` field referencing `ApiService`.\n\nWe can add a method `list()` to the service that will call our backend using `ApiService`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { ApiService } from \"./api.service\";\nexport class RaceService {\n  constructor(private apiService: ApiService) {}\n  list(): Array\u003CRaceModel> {\n    return this.apiService.get(\"/races\");\n  }\n}\"\"\">>\n\nTo inform Angular that this service has dependencies itself, we need to add the class decorator `@Injectable()`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Injectable } from \"@angular/core\";\nimport { RaceModel } from \"./race.model\";\nimport { ApiService } from \"./api.service\";\n@Injectable()\nexport class RaceService {\n  constructor(private apiService: ApiService) {}\n  list(): Array\u003CRaceModel> {\n    return this.apiService.get(\"/races\");\n  }\n}\"\"\">>\n\n\nApiService needs to be registered to be avaliable for injection. \n\nStarting with Angular 6.0, the recommended way is to add the `@Injectable` decorator on ApiService and use providedIn directly inside:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Injectable } from \"@angular/core\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ApiService {\n  get(path: string): Array\u003Cany> {\n    // todo: call the backend API\n  }\n}\"\"\">>\n\nPreviously, this was done using the providers attribute of the @NgModule decorator:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\nimport { ApiService } from \"../services/api.service\";\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent],\n  providers: [ApiService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\"\"\">>\n\nNow we have to register `RaceService` too to make it available for injection in other services / components:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Injectable } from \"@angular/core\";\nimport { ApiService } from \"./api.service\";\nimport { RaceModel } from \"./race.model\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RaceService {\n  constructor(private apiService: ApiService) {}\n  list(): Array\u003CRaceModel> {\n    return this.apiService.get(\"/races\");\n  }\n}\n\"\"\">>\n\nNow we can use the new service any time we want. Example with the `AppComponent` component:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\nimport { RaceService } from \"../services/race.service\";\nimport { RaceModel } from \"../services/race.model\";\n@Component({\n  selector: \"ns-root\",\n  template: `\n    \u003Ch1>PonyRacer\u003C/h1>\n    \u003Cp>{{ list() }}\u003C/p>\n  `,\n})\nexport class AppComponent {\n  // add a constructor with RaceService\n  constructor(private raceService: RaceService) {}\n  list(): Array\u003CRaceModel> {\n    return this.raceService.list();\n  }\n}\n\"\"\">>\n\nSince we return an empty array in the `get` method of `ApiService`, we will get nothing if we try to call the `list()` method.","title":"Angular: Dependency injection - Requirements","task":"done","modified":"20230107211953273"},
{"created":"20221227234437768","text":"It's //possible// to setup everything manually, starting from a TypeScript project and then install every dependency, setup tests, add a linter to check the code, CSS preprocessor, build tool..\n\nAngular has a command line utility that automate all of this: Angular CLI. It use Webpack as a build tool, tests, packaging,etc.\n\nInstalling the CLI\n\n\u003C\u003Ccopy-code \"\" \"\"\"npm install -g @angular/cli\"\"\">>\n\nTo install a specific version\n\n\u003C\u003Ccopy-code \"\" \"\"\"npm install -g @angular/cli@14.1.2\"\"\">>\n \nCreate a skeleton project in a new directory called horseracer\n\n\u003C\u003Ccopy-code \"\" \"\"\"ng new horseracer --prefix ns --defaults --strict\"\"\">>\n\nStart the app in a small HTTP server locally, with hot reload\n\n\u003C\u003Ccopy-code \"\" \"\"\"ng serve\"\"\">>\n\n","title":"Angular: Intro - Angular CLI","task":"done","modified":"20221231150642894"},
{"created":"20221227234439241","text":";IDE\n\nCode completion should work as the Angular dependencies have their own d.ts files in the node_modules directory, and TypeScript is able to detect them. It's also possible to navigate to the type definitions. TypeScript add support for type checking along typing, and source maps allows to see the TS code directly in the browser + debug the app by setting breakpoints in the TypeScript code.\n\n;Root directory\n\nContains configuration files, for example `package.json`: this is where the dependencies of the app are defined.\nIt should contain these dependencies:\n\n* @angular packages\n* rxjs, a library for reactive programming.\n* zone.js, helps to detect changes\n* dependencies for the dev of the app: CLI, TypeScript, test librairies, typings..\n\nTypeScrupt is configured with `tsconfig.json` and `tsconfig.app.json` in the src folder, which stores the compilation options.\n\nWe use TypeScript with decorators, and want to compile to ECMAScript 5 for browser compatibility.\n\nThe sourceMap option allows to generate source maps (files that contain a mapping between the generated ES5 and the original code), that are used by the browser for debuging the ES5 code executed by accessing the original TypeScript.\n\nThere is also a ESLint - a linter to check that the code use the best practices. Its options are defined in `.eslintrc.json`.\n\nThe Angular CLI configuration file is `angular.json`.\n\n`karma.conf.js` configure the testing tools.\n\n> Theses notes use Angular version 14.1.2 for the examples, it might be best to use the same version to avoid errors.","title":"Angular: Intro - Application structure","task":"done","modified":"20221231152517947"},
{"created":"20221227234441659","text":"The method `bootstrapModule` is used to start the app, and is exposed on an object returned by the method `platformBrowserDynamic`, imported from `@angular/platform-browser-dynamic`.\n\nIt's not in `@angular/core` because the app might ran elsewhere than in a browser (server side rendering), and in that case the bootstrap logic would be different.\n\nThe bootstrap logic is generated by default by the Angular CLI in `main.ts`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\nif (environment.production) {\n  enableProdMode();\n}\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n\"\"\">>\n\nThe command `ng serve` in the CLI calls the TypeScript compiler, it outputs JS files, the CLI bundles them and adds the required `script` elements to the default `index.html` (using [[Webpack|https://webpack.github.io/]]).\n\nNext: [[Angular: Templates - Overview]] and [[Angular: Dependency injection - Overview]]","title":"Angular: Intro - Bootstrapping the app","task":"done","modified":"20230104164621627"},
{"created":"20221227234440087","text":"A component is a made of a view (the template) and some logic (TS class). When creating a new project, the CLI create the component `src/app/app.component.ts`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\n@Component({\n    selector: 'ns-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    title = 'horseracer';\n}\"\"\">>\n\nThe decorator `@Component` indicate that the app is a component. This decorator needs to be imported at the top of the file to be used.\n\nThe module `@angular/core` contains the most used features, but there are others : `@angular/http`,  `@angular/router`, etc.\n\n `@Component` expect a configuration object, one is obligatory: `selector`. This indicate what html markup needs to be targeted. Here, Angular will initiate a new instance of the class `AppComponent` for each `\u003Cns-root>\u003C/ns-root>` in the HTML.\n\nNaming convention:\n\n* Component classes end with `Component` and are defined in file ending with `.component.ts`\n* Prefix in component selector to avoid name clashes with external components (here, ns for ninja squad, the company that made [[the book|Become a Ninja with Angular]] that I use to take these notes). The CLI can be configured to prepends a prefix to every generated component.\n\nA component must have a template, inline or externalized in another file (default): here it is `./app.component.html`\n\nThis file contains static html, except this part:\n\n\u003C\u003Ccopy-code html \"\"\"{{ title }} app is running!\"\"\">>\n\n","title":"Angular: Intro - First component","task":"done","modified":"20221231160607445"},
{"created":"20221227234440816","text":"Angular Modules are used to group components, among other things. Angular Modules are //application// modules, not ES2015 Modules. \n\nA Angular app have at least a //root module//. A module can be created for each feature.\n\nOther libraries amd Angular expose modules that can be used in our app.\n\n\nDefault module: `app.module.ts`. The class is decorated with `@NgModule`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\n@NgModule({\n})\n\nexport class AppModule { }\n\"\"\">>\n\n\u003C\u003C\u003C\nHere the target is the browser, so the root module imports `BrowserModule`.\n\nAn imported module can export components, directives and pipes and make them usable in our module.\n\nThe root module won't be imported into another module : there will be only `imports` and no `exports`.\n\n;ES2015+ imports / exports vs Angular imports / exports\n\nIn vanilla JS / TS, import allows to reuse code, similar to Angular but the Angular import statement add a functional meaning, handling the imported code as directive / pipes / component instead of plain javascript object - it has no special meaning for the TypeScript compiler.\n\u003C\u003C\u003C\n\n`@NgModule` takes a configuration object, like [[@Component|Angular: Intro - First component]]. Inside, we must declare the components belonging to the root module, with the `declarations` field.\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\n@NgModule({\n    declarations: [\n        AppComponent\n    ],\n    imports: [\n        BrowserModule\n    ],\n})\nexport class AppModule { }\"\"\">>\n\nThe root component will be started when we bootstrap the app, this is configured with the \u003Ccode>[[bootstrap|Angular: Intro - Bootstrapping the app]]\u003C/code> field :\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\n@NgModule({\n    declarations: [\n        AppComponent\n    ],\n    imports: [\n        BrowserModule\n    ],\n    providers: [],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\"\"\">>","title":"Angular: Intro - First module","task":"done","modified":"20230104164621213"},
{"created":"20221227234437171","text":"Node.js and NPM are required to use the Angular framework.\n\nhttps://nodejs.org/en/download/\n\nCheck the version of Node.js: \u003C\u003Ccopy-code \"\" \"\"\"node -v\"\"\">>\nCheck the version of Node.js: \u003C\u003Ccopy-code \"\" \"\"\"npm -v\"\"\">>","title":"Angular: Intro - Node.js and NPM","task":"done","modified":"20221231145351220"},
{"created":"20221227234436485","text":"Angular apps are made of components, and a component is made of a template (HTML elements), with style and logic associated. \n\nOther component-oriented framework:\n\n[[React|https://reactjs.org/]], [[Ember|https://emberjs.com/]], [[Svelte|https://svelte.dev/]], [[Vue.js|https://vuejs.org/]], [[SolidJS|https://www.solidjs.com/]].\n\nAngular focus heavily on integration of standard Web Components.\n\nComponents are arranged in a hierarchical way, like the DOM:\n\n*root component > child > children etc.\n\n;Example: An app Horseracer, displaying a menu with the logged in user and a child view, displaying the horses in the races\n\n\u003C$echarts $text=\"\"\"\nconst data = {\n  name: 'Horseracer',\n  children: [\n    {name:\"Race\",\n      children:[\n        {name:\"Horse\"},{name:\"Horse\"},{name:\"Horse\"}\n      ]\n    },\n    {name:\"Menu\",children:[\n        {name:\"User\"}\n      ]}\n    ]\n};\noption = {\n  series: [\n    {\n      type: 'tree',\n      id: 0,\n      name: 'tree1',\n      data: [data],\n      symbolSize: 7,\n      edgeShape: 'polyline',\n      initialTreeDepth: 2,\n      lineStyle: {\n        width: 2\n      },\n      label: {\n        backgroundColor: 'transparent',\n        position: 'left',\n        verticalAlign: 'bottom',\n        align: 'right'\n      },\n      leaves: {\n        label: {\n          position: 'right',\n          verticalAlign: 'middle',\n          align: 'left'\n        }\n      },\n      emphasis: {\n        focus: 'descendant'\n      }\n    }\n  ]\n};\n\"\"\"/>\n\nComponents can be written with ES2015+, and support decorators.\n\nExample for a Race component:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { RacesService } from './services';\n@Component({\n    selector: 'ns-race',\n    templateUrl: './race.component.html'\n})\nexport class RaceComponent {\n    race: any;\n    constructor(racesService: RacesService) {\n        racesService.get().then(race => (this.race = race));\n    }\n}\"\"\">>\n\ntemplate:\n\n\u003C\u003Ccopy-code html \"\"\"div>\n\u003Ch2>{{ race.name }}\u003C/h2>\n\u003Cdiv>{{ race.status }}\u003C/div>\n\u003Cdiv *ngFor=\"let horse of race.horses\">\n    \u003Cns-horse [horse]=\"horse\">\u003C/ns-horse>\n\u003C/div>\n\u003C/div>\"\"\">>\n\nThe expression in curly braces `{{ }}` will be evaluated and replaced by the corresponding value.\n\nA component is a piece of the app, which itself is a component. Components are grouped in one or several Angular Modules (not ES2015 Modules).\n\nAnother fondamental concept  is Dependency Injection (DI), very usefull to test the app.\n\nChanges are automatically detected by Angular and applied to the models and views, using `zones`.\n\nThe framework provides a lot of utilities for forms, http calls, interacting with other libraries, animations, etc.\n\nSee: [[Angular: Intro - Bootstrapping the app]]","title":"Angular: Intro - philosophy","task":"done","modified":"20230106024855072"},
{"created":"20221227234531903","text":"The `async` pipe display asynchronous data, using `PromisePipe` or `ObservablePipe` depending on the source of the async data ([[Promise|Promises]] or [[Observable|Advanced observables: Overview]]). It returns an empty string until the data is available (until the promise is resolved, in case of a promise). When the data is available, the value is returned and a change detection check is triggered.\n\nExample with a Promise:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-greeting\",\n  template: `\u003Cdiv>{{ asyncGreeting | async }}\u003C/div>`,\n})\nexport class GreetingComponent {\n  asyncGreeting = new Promise((resolve) => {\n    // after 1 second, the promise will resolve\n    window.setTimeout(() => resolve(\"hello\"), 1000);\n  });\n}\"\"\">>\n\nThe async pipe is applied to the variable `asyncGreeting`, which is a promise, resolved after 1 second.\nOnce resolved, the browser display the value:\n\n```html\n\u003Cdiv>hello\u003C/div>\n```\n\nWith an Observable, the pipe will unsubscribe itself when the component is destroyed (for example when another component is navigated to). To avoid multiple subscriptions to an Observable or calling a promise multiple times, the result of the call can be stored with `as` (since 4.0):\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-user\",\n  template: `\u003Cdiv *ngIf=\"asyncUser | async as user\">{{ user.name }}\u003C/div>`,\n})\nexport class UserComponent {\n  asyncUser = new Promise\u003CUserModel>((resolve) => {\n    // after 1 second, the promise will resolve\n    window.setTimeout(() => resolve({ name: \"Cédric\" }), 1000);\n  });\n}\"\"\">>\n\nSee also [[Performances: Overview]].\n\nNext: [[Angular: Pipes - injecting pipe]]","title":"Angular: Pipes - async","task":"done","modified":"20230107033240808"},
{"created":"20221227234533590","text":"To create a pipe, we create a new class that implement the `PipeTransform` interface. This interface require a `transform()` method, that will do most of the work.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Pipe, PipeTransform } from \"@angular/core\";\nexport class FromNowPipe implements PipeTransform {\n  transform(value: string, args: Array\u003Cunknown>): string {\n    // do something here\n  }\n}\n\"\"\">>\n\nWe will use the `parseISO` function from [[date-fns|https://date-fns.org/]] to parse the date, and the `formatDistanceToNow` function to display how much time has elapsed since the date.\n\ndate-fns can be installed with `NPM`:\n\n\u003C\u003Ccopy-code cmd \"\"\"npm install date-fns\"\"\">>\n\nThe types for date-fns are already included in the NPM dependency.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Pipe, PipeTransform } from \"@angular/core\";\nimport { formatDistanceToNowStrict, parseISO } from \"date-fns\";\nexport class FromNowPipe implements PipeTransform {\n  transform(value: string, args: Array\u003Cunknown>): string {\n    const date = parseISO(value);\n    return formatDistanceToNowStrict(date, { addSuffix: true });\n  }\n}\"\"\">>\n\nThen we register the pipe with the `@Pipe` decorator and give it a name:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Pipe, PipeTransform } from \"@angular/core\";\nimport { formatDistanceToNowStrict, parseISO } from \"date-fns\";\n@Pipe({ name: \"fromNow\" })\nexport class FromNowPipe implements PipeTransform {\n  transform(value: string, args: Array\u003Cunknown>): string {\n    const date = parseISO(value);\n    return formatDistanceToNowStrict(date, { addSuffix: true });\n  }\n}\n\"\"\">>\n\nFinally, to use the pipe in a template we need to add it to the `declarations` of `@NgModule`:\n\n\u003C\u003Ccopy-code ts \"\"\"@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent, RacesComponent, FromNowPipe],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\"\"\">>\n\nNext: [[Angular: Dependency injection - Overview]]","title":"Angular: Pipes - creating pipes","task":"done","modified":"20230107033241101"},
{"created":"20221227234530332","text":"{{warning:internationalization pipe}}\n\nThis pipe relies on the ISO 4217 specification to format money in a currency , at least one parameter must be given:\n\n* ISO string representing the currency: 'EUR', 'USD'...\n* optionally: `symbol` ('€', '$', CA$'), `code` (ISO code), `symbol-narrow` ($ instead of CA$). The default is 'symbol'.\n* optionally: a string to format the amount, using the same syntax as `number`.\n\n\n```html\n\u003Cp>{{ 10.6 | currency:'CAD' }}\u003C/p>\n\u003C!-- will display 'CA$10.60' -->\n\u003Cp>{{ 10.6 | currency:'CAD':'symbol-narrow' }}\u003C/p>\n\u003C!-- will display '$10.60' -->\n\u003Cp>{{ 10.6 | currency:'EUR':'code':'.3' }}\u003C/p>\n\u003C!-- will display 'EUR10.600' -->\n```\n\nIf the ISO string is not provided, `USD` is used, unless configured globally (since Angular 9).\n\nSee also [[Internationalization: Overview]]\n\nNext: [[Angular: Pipes - date]]","title":"Angular: Pipes - currency","task":"done","modified":"20230107033240505"},
{"created":"20221227234531149","text":"{{warning:internationalization pipe}}\n\nThis pipe formats a date value to a string of the desired format. The date can be a `Date` object or a number of milliseconds. The format can be a pattern like `dd/MM/yyyy`, `MM-yy`, or one of the predefined symbolic names like 'short', 'longDate', etc.:\n\n```html\n\u003Cp>{{ birthday | date:'dd/MM/yyyy' }}\u003C/p>\n\u003C!-- will display '16/07/1986' -->\n\u003Cp>{{ birthday | date:'longDate' }}\u003C/p>\n\u003C!-- will display 'July 16, 1986' -->\np>{{ birthday | date:'HH:mm' }}\u003C/p>\n\u003C!-- will display '15:30' -->\n\u003Cp>{{ birthday | date:'shortTime' }}\u003C/p>\n\u003C!-- will display '3:30 PM' -->\n```\n\nSee also [[Internationalization: Overview]]\n\nNext: [[Angular: Pipes - async]]","title":"Angular: Pipes - date","task":"done","modified":"20230107033240674"},
{"created":"20221227234532836","text":"A pipe can be used via dependency injection, but must be added to the providers of `@NgModule` (or `@Component`):\n\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component, Inject, LOCALE_ID } from \"@angular/core\";\n// you need to import the pipe you want to use\nimport { DecimalPipe } from \"@angular/common\";\n@Component({\n  selector: \"ns-pony\",\n  template: `\u003Cp>{{ formattedSpeed }}\u003C/p>`,\n})\nexport class PonyComponent {\n  pony = { name: \"Rainbow Dash\", speed: 15 };\n  formattedSpeed: string | null;\n  // inject the Pipe you want\n  constructor(decimalPipe: DecimalPipe, @Inject(LOCALE_ID) locale: string) {\n    // and then call the transform method on it\n    this.formattedSpeed = decimalPipe.transform(this.pony.speed, \".2\", locale);\n  }\n}\"\"\">>\n\nSince Angular 6, it is possible to use the formatting functions directly:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component, Inject, LOCALE_ID } from \"@angular/core\";\n// you need to import the function you want to use\nimport { formatNumber } from \"@angular/common\";\n@Component({\n  selector: \"ns-pony\",\n  template: `\u003Cp>{{ formattedSpeed }}\u003C/p>`,\n})\nexport class PonyComponent {\n  pony = { name: \"Rainbow Dash\", speed: 15 };\n  formattedSpeed: string;\n  constructor(@Inject(LOCALE_ID) locale: string) {\n    // use the format function\n    this.formattedSpeed = formatNumber(this.pony.speed, locale, \".2\");\n  }\n}\"\"\">>\n\nNext: [[Angular: Pipes - creating pipes]]","title":"Angular: Pipes - injecting pipe","task":"done","modified":"20230107033240955"},
{"created":"20221227234522342","text":"`JsonPipe` applies `JSON.stringify()` to the data.\n\nIt is useful for debugging, for example to see the content of an array:\n\n`\u003Cp>{{ myDataArray }}\u003C/p>`  will display  `[object Object]`\n\n`\u003Cp>{{ myDataArray | json }}\u003C/p>` will display the JSON representation of the object:\n\n```html\n\u003Cp>[ { \"name1\": \"value1\" }, { \"name2\": \"value2\" } ]\u003C/p>\n```\n\nIt's possible to chain pipes:\n\n\n```html\n\u003Cp>{{ myDataArray | slice:0:2 | json }}\u003C/p>\n```\n\nA pipe can be used in an interpolation or a property expression, but not in an event statement.\n\n```html\n\u003Cp [textContent]=\"myDataArray | json\">\u003C/p>\n```\n\nNext: [[Angular: Pipes - slice]]","title":"Angular: Pipes - json","task":"done","modified":"20230107033239346"},
{"created":"20221227234523769","text":"The pipe `keyvalue`, introduced in 6.1, iterate over a Map or an object and display the keys/values in a template, in order:\n\n* lexicographic if they are strings\n* then by value if they are numbers\n* then by their boolean values if they are both booleans (`false` before `true`)\n\nIf the keys have different types, they are casted to strings, then compared.\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cul>\n      \u003C!-- entry contains { key: number, value: HorseModel } -->\n      \u003Cli *ngFor=\"let entry of horses | keyvalue\">\n        {{ entry.key }} - {{ entry.value.name }}\n      \u003C/li>\n    \u003C/ul>\n  `,\n})\nexport class HorsesComponent {\n  horses = new Map\u003Cnumber, HorseModel>();\n  constructor() {\n    this.horses.set(103, { name: \"Black\" });\n    this.horses.set(56, { name: \"Pearl\" });\n  }\n}\"\"\">>\n\n`null` or `undefined` keys will be displayed at the end.\n\nIt's also possible to define a custom comparator function:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cul>\n      \u003C!-- entry contains { key: HorseModel, value: number } -->\n      \u003Cli *ngFor=\"let entry of horsesWithScore | keyvalue : horseComparator\">\n        {{ entry.key.name }} - {{ entry.value }}\n      \u003C/li>\n    \u003C/ul>\n  `,\n})\nexport class HorsesComponent {\n  horsesWithScore = new Map\u003CHorseModel, number>();\n  constructor() {\n    this.horsesWithScore.set({ name: \"Black\" }, 430);\n    this.horsesWithScore.set({ name: \"Pearl\" }, 680);\n    this.horsesWithScore.set({ name: \"Flash\" }, 125);\n  }\n  /*\n* Defines a custom comparator to order the elements by the name of the HorseModel\n(the key)\n*/\n  horseComparator(a: KeyValue\u003CHorseModel, number>,b: KeyValue\u003CHorseModel, number>): -1 | 0 | 1 {\n    if (a.key.name === b.key.name) {\n      return 0;\n    }\n    return a.key.name \u003C b.key.name ? -1 : 1;\n  }\n}\"\"\">>\n\nNext: [[Angular: Pipes - uppercase]]","title":"Angular: Pipes - keyvalue","task":"done","modified":"20230107033239637"},
{"created":"20221227234527144","text":"This pipe transforms a string into its lowercase version\n\n```html\n\u003Cp>{{ 'Tiddlywiki' | lowercase }}\u003C/p>\n\u003C!-- will display 'tiddlywiki' -->\n```\n\nNext: [[Angular: Pipes - titlecase]]","title":"Angular: Pipes - lowercase","task":"done","modified":"20230107033239931"},
{"created":"20221227234528943","text":"{{warning:internationalization pipe}}\n\nThis pipe format a number. It takes one parameter, a string, formatted as `{integerDigits}.{minFractionDigits}-\n{maxFractionDigits}`, every part is optional. Each part indicate:\n\n* how many numbers in the integer part\n* how many numbers at least in the decimal part\n* how many numbers at most in the decimal part\n\n;Examples\n\n\n```html\n\u003Cp>{{ 12345 }}\u003C/p>\n\u003C!-- will display '12345' -->\n\u003Cp>{{ 12345 | number }}\u003C/p>\n\u003C!-- will display '12,345' -->\n\u003Cp>{{ 12345 | number : \"6.\" }}\u003C/p>\n\u003C!-- will display '012,345' -->\n\u003Cp>{{ 12345 | number : \".2\" }}\u003C/p>\n\u003C!-- will display '12,345.00' -->\n\u003Cp>{{ 12345.13 | number : \".1-1\" }}\u003C/p>\n\u003C!-- will display '12,345.1' -->\n\u003Cp>{{ 12345.16 | number : \".1-1\" }}\u003C/p>\n\u003C!-- will display '12,345.2' -->\n```\n\nNext: [[Angular: Pipes - percent]]","title":"Angular: Pipes - number","task":"done","modified":"20230107033240213"},
{"created":"20221227234521677","text":"Pipes `|` are data transformers. They can be used either in the template or in the typescript.\n\nNext: [[Angular: Pipes - json]]","title":"Angular: Pipes - Overview","task":"done","modified":"20230107033239201"},
{"created":"20221227234529675","text":"{{warning:internationalization pipe}}\n\n\n```html\n\u003Cp>{{ 0.8 | percent }}\u003C/p>\n\u003C!-- will display '80%' -->\n\u003Cp>{{ 0.8 | percent:'.3' }}\u003C/p>\n\u003C!-- will display '80.000%' -->\n```\n\nNext: [[Angular: Pipes - currency]]","title":"Angular: Pipes - percent","task":"done","modified":"20230107033240358"},
{"created":"20221227234523081","text":"`slice` is used to display part of a list, it works like the `slice` js method and takes 2 arguments: start index and optionally, end index.\n\nArguments are passed with colon:\n\n`{{ value | slice:start:end }}`\n\nstart and end parameters are optional and specify the starting index and ending index of the sub-string, respectively. If the start defaults to 0 and end defaults to the length of the input value.\n\n`{{ 'My tiddlywiki' | slice:4 }}` output `tiddlywiki`\n\n`{{ 'My tiddlywiki' | slice:0:2 }}` output `My`\n\nThe index can be negative to start from the end.\n\n`{{ 'My tiddlywiki' | slice:2:-4 }}` output `tiddly`\n\n`slice` can be used in any expression:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\u003Cdiv *ngFor=\"let horse of horses | slice : 0 : 2\">\n    {{ horse.name }}\n  \u003C/div>`,\n})\nexport class HorsesComponent {\n  horses: Array\u003Cany> = [\n    { name: \"Black\" },\n    { name: \"Pearl\" },\n    { name: \"Flash\" },\n  ];\n}\"\"\">>\n\nOnly two `div`s will be created, for the first two horses because of the `slice` pipe.\n\nThe pipe argument can be dynamic:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\u003Cdiv *ngFor=\"let horse of horses | slice : 0 : size\">\n    {{ horse.name }}\n  \u003C/div>`,\n})\nexport class HorsesComponent {\n  size = 2;\n  horses: Array\u003Cany> = [\n    { name: \"Black\" },\n    { name: \"Pearl\" },\n    { name: \"Flash\" },\n  ];\n}\"\"\">>\n\nThis can be used to let a user chooses how many elements to display. It's also possible to store the result of the `slice` in a variable, with the `as` syntax introduced in 4.0:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\n  \u003Cdiv *ngFor=\"let horse of horses | slice : 0 : size as total; index as i\">\n    {{ i + 1 }}/{{ total.length }}: {{ horse.name }}\n  \u003C/div>\n  `\n})\nexport class HorsesComponent {\n  size = 2;\n  horses: Array\u003Cany> = [\n    { name: \"Black\" },\n    { name: \"Pearl\" },\n    { name: \"Flash\" },\n  ];\n}\n\"\"\">>\n\nNext: [[Angular: Pipes - keyvalue]]","title":"Angular: Pipes - slice","task":"done","modified":"20230107033239515"},
{"created":"20221227234527887","text":"This pipe introduced in Angular 4 capitalizes the first letter of all words:\n\n```html\n\u003Cp>{{ 'my tiddlywiki' | titlecase }}\u003C/p>\n\u003C!-- will display 'My Tiddlywiki' -->\n```\n\nNext: [[Angular: Pipes - number]]","title":"Angular: Pipes - titlecase","task":"done","modified":"20230107033240069"},
{"created":"20221227234526412","text":"Transforms a string into its uppercase version:\n\n```html\n\u003Cp>{{ 'Tiddlywiki' | uppercase }}\u003C/p>\n\u003C!-- will display 'TIDDLYWIKI' -->\n```\n\n[[Angular: Pipes - lowercase]]","title":"Angular: Pipes - uppercase","task":"done","modified":"20230107033239786"},
{"created":"20221227234544761","text":"Creating a service is simply creating a class:\n\n\u003C\u003Ccopy-code ts \"\"\"import { RaceModel } from \"./race.model\";\nexport class RacesService {\n  list(): Array\u003CRaceModel> {\n    return [{ name: \"London\" }];\n  }\n}\"\"\">>\n\nA service is a singleton, so the same and unique instance of that class will be injected everywhere, which is ideal to share state between unrelated components. If the service has dependencies, we need to add the `@Injectable()` decorator otherwise the framework wont do the DI.\n\nExample: \n\nA `RacesService` that fetches the races from a REST API instead of returning the same list every time. To perform an HTTP request, the framework provide the service `HttpClient`.\n\nThe service has a dependency on `HttpClient` to fetch the races, we need to add a constructor with the service `HttpClient` as argument, and add the `@Injectable()` decorator on the class.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RacesServiceWithHttp {\n  constructor(private http: HttpClient) {}\n  list(): Observable\u003CArray\u003CRaceModel>> {\n    return this.http.get\u003CArray\u003CRaceModel>>(\"/api/races\");\n  }\n}\"\"\">>\n\nThen it needs to be registered, by adding it to the `providers` attribute of a component, or the `providers` of the root module, or starting from Angular 6.0, by using `providedIn` or `@Injectable()`. ","title":"Angular: Services - Creating a service","task":"done","modified":"20230107235102319"},
{"created":"20221227234543786","text":"The `meta` service is used to update the \"meta\" values of the page:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\nimport { Meta } from \"@angular/platform-browser\";\n@Component({\n  selector: \"ns-root\",\n  template: `\u003Ch1>PonyRacer\u003C/h1>`,\n})\nexport class AppComponent {\n  constructor(meta: Meta) {\n    meta.addTag({ name: \"author\", content: \"Ninja Squad\" });\n  }\n}\n\"\"\">>","title":"Angular: Services - Meta service","task":"done","modified":"20230107234331130"},
{"created":"20221227234542309","text":"Services are classes injectable into an other. There are several services build-in Angular, provided by the common modules.","title":"Angular: Services - Overview","task":"done","modified":"20230107233917692"},
{"created":"20221227234542962","text":"The `Title` service can be injected to change the title of a page. It offers a getter and setter method:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\nimport { Title } from \"@angular/platform-browser\";\n@Component({\n  selector: \"ns-root\",\n  template: `\u003Ch1>PonyRacer\u003C/h1>`,\n})\nexport class AppComponent {\n  constructor(title: Title) {\n    title.setTitle(\"PonyRacer - Bet on ponies\");\n  }\n}\"\"\">>\n\nIt will automatically create the `title` element in the `head` if needed and set the value correctly.\n","title":"Angular: Services - Title service","task":"done","modified":"20230107234125808"},
{"created":"20221227234518335","text":"Default strategy, it emulates the behavior of the `ShadowDom` strategy to insure compatibility.\n\nTo achieve this, Angular take the CSS defined for the component, and inline it inside the `\u003Chead>` of the page (and not in each component like the `ShadowDom` strategy).\n\nBefore inlining it, the CSS selector are rewriten to append an attribute identifier, that is then added to all the elements of the component’s template:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Chtml>\n  \u003Chead>\n    \u003Cstyle>\n      .red[_ngcontent-dvb-3] {\n        color: red;\n      }\n    \u003C/style>\n  \u003C/head>\n  \u003Cbody>\n    ...\n    \u003Cns-horse _ngcontent-dvb-2=\"\" _nghost-dvb-3=\"\">\n      \u003Cdiv _ngcontent-dvb-3=\"\" class=\"red\">Dark\u003C/div>\n    \u003C/ns-horse>\n  \u003C/body>\n\u003C/html>\"\"\">>\n\nThis way the styles will be applied only to the element with the correct identifier.\n`ns-horse` get two attributes: `_ngcontent-dvb-2`, the identifier of it's parent and `_nghost-dvb-3`, the identifier of the host element itself.\n\nNext: [[Angular: Styling components and encapsulation - None strategy]]","title":"Angular: Styling components and encapsulation - Emulated strategy","task":"done","modified":"20230107010325514"},
{"created":"20221227234519449","text":"No encapsulation. The styles are inlined at the top of the page (same as [[Emulated strategy|Angular: Styling components and encapsulation - Emulated strategy]]), but are not rewritten. They behave like \"normal\" styles and cascade to the children.\n\nNext: [[Angular: Styling components and encapsulation - Styling the host]]","title":"Angular: Styling components and encapsulation - None strategy","task":"done","modified":"20230107010326244"},
{"created":"20221227234516627","text":"The styles defined in a component are scoped by Angular to this component : this is called style encapsulation.\n\nThe encapsulation method will depend on the value set on the `encapsulation` attribute of the component decorator: \n\n* `ViewEncapsulation.Emulated`: default\n* `ViewEncapsulation.Native`: relies on Shadow DOM v0 (deprecated)\n* `ViewEncapsulation.ShadowDom`: relies on Shadow DOM v1 (introduced in Angular 6.1, to support the new Shadow DOM specification)\n* `ViewEncapsulation.None`: no encapsulation\n\nExample:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component, ViewEncapsulation } from '@angular/core';\n@Component({\nselector: 'ns-horse',\ntemplate: `\u003Cdiv class=\"red\">{{ name }}\u003C/div>`,\nstyles: [\n`\n.red {\ncolor: red;\n}\n`\n],\n// that's the same as the default mode\nencapsulation: ViewEncapsulation.Emulated\n})\nexport class HorseComponent {\nname = 'Black';\n}\"\"\">>\n\nThis class is then used in the styles of the component:\n\n\u003C\u003Ccopy-code css \"\"\".red {\ncolor: red;\n}\"\"\">>\n\nNext: [[Angular: Styling components and encapsulation - Shadow DOM strategy]]","title":"Angular: Styling components and encapsulation - Overview","task":"done","modified":"20230107001601789"},
{"created":"20221227234517637","text":"The `ShadowDom` option tell Angular to use the Shadow DOM of the browser for doing the encapsulation. This is part of the new Web Component specification and allow to create encapsulated elements in a special DOM.\n\nUsing the browser inspector:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cns-horse>\n  #shadow-root (open)\n  \u003Cstyle>\n    .red {\n      color: red;\n    }\n  \u003C/style>\n  \u003Cdiv class=\"red\">Black\u003C/div>\n\u003C/ns-horse>\"\"\">>\n\n`#shadow-root (open)` indicate that the component has been included in a Shadow DOM element. This prevent styles interactions between components.\n\nThis feature is currently supported on every browser except [[IE, Opera Mini and KaiOS Browser|http://caniuse.com/#feat=shadowdomv1]].\n\nUse this strategy if targeting specific browsers only.\n\nThe strategy can be tweaked per component or globally in the root module.\n\nNext: [[Angular: Styling components and encapsulation - Emulated strategy]] ","title":"Angular: Styling components and encapsulation - Shadow DOM strategy","task":"done","modified":"20230107010324412"},
{"created":"20221227234520326","text":"`:host` is a CSS selector from the Web Component specification that can be used to style the host element:\n\n\u003C\u003Ccopy-code style \"\"\":host {\ndisplay: block;\n}\"\"\">>\n\nThis is used as-is with the `ShadowDom` strategy, and rewritten into `[_nghost-xxx]` with `Emulated`.","title":"Angular: Styling components and encapsulation - Styling the host","task":"done","modified":"20230107010326728"},
{"created":"20221227234447047","text":"User interactions fires events that we can listen to: `click`, `keyup`, `mousemove`,..\n\nEvent binding syntax: `(event)=\"method\"`\n\n`\u003Cbutton (click)=\"onButtonClick()\">Click me!\u003C/button>`\n\nA click on the button will trigger a call to the component method `onButtonClick()`.\n\nComponent:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-races\",\n  template: `\n    \u003Ch2>Races\u003C/h2>\n    \u003Cbutton (click)=\"refreshRaces()\">Refresh the races list\u003C/button>\n    \u003Cp>{{ races.length }} races\u003C/p>\n  `,\n})\nexport class RacesComponent {\n  races: any = [];\n  refreshRaces(): void {\n    this.races = [{ name: \"London\" }, { name: \"Lyon\" }];\n  }\n}\n\"\"\">>\n\nRendered:\n\n```html\n\u003Cns-root>\n  \u003Ch1>PonyRacer\u003C/h1>\n  \u003Cns-races>\n    \u003Ch2>Races\u003C/h2>\n    \u003Cbutton (click)=\"refreshRaces()\">Refresh the races list\u003C/button>\n    \u003Cp>0 races\u003C/p>\n  \u003C/ns-races>\n\u003C/ns-root>\n```\n\nClick: 0 races becomes 2\n\nThe statement can be a function call or any executable statement / sequence of executable statements, example:\n\n```html\n\u003Cbutton (click)=\"firstName = 'John'; lastName = 'Doe'\">\nClick to change name to John Doe\n\u003C/button>\n```\n\nUsing methods is recommended instead, to better encapsulate the logic, make maintenance and tests easier, and keep the view simple.\n\nEvent binding workds on standard DOM events but also with customn events. Example with a custom event, `newRaceAvailable`, emitted by `RacesComponent` that notify the app that a new race is available:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-root\",\n  template: `\n    \u003Ch1>HorseRacer\u003C/h1>\n    \u003Cns-races (newRaceAvailable)=\"onNewRace()\">\u003C/ns-races>\n  `,\n})\nexport class AppComponent {\n  onNewRace(): void {\n    // add a flashy message for the user.\n  }\n}\n\"\"\">>\n\nAngular will listen for the event on the element and its children, thus react to events that bubble.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv (click)=\"onButtonClick()\">\n  \u003Cbutton>Click me!\u003C/button>\n\u003C/div>\"\"\">>\n\nThe button recieve the click, but the event bubbles up and the method `onButtonClick()` is called.\nTo access the event in the method called, we can pass `$event` to the method:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv (click)=\"onButtonClick($event)\">\n  \u003Cbutton>Click me!\u003C/button>\n\u003C/div>\"\"\">>\n\nThen the event can be handled in the component class:\n\n\u003C\u003Ccopy-code ts \"\"\"onButtonClick(event) {\nconsole.log(event);\n}\"\"\">>\n\nThe event will continue to bubble up, eventually triggering other higher event listeners, to prevent that:\n\n\u003C\u003Ccopy-code ts \"\"\"onButtonClick(event) {\nevent.preventDefault();\nevent.stopPropagation();\n}\"\"\">>\n\nKeyboard events can be enabled like this:\n\n`\u003Ctextarea (keydown.space)=\"onSpacePress()\">Press space!\u003C/textarea>`\n\nSeveral keys can be combined: `keydown.alt.space`, etc\n\n\n;Property vs event binding\n\n* `\u003Ccomponent [property]=\"doSomething()\">\u003C/component>` : property binding, `doSomething()` is an expression and will be evaluated on each change detection cycle to see if the property needs to be updated\n* and `\u003Ccomponent (event)=\"doSomething()\">\u003C/component>` : event binding, `doSomething()` is a statement and will be evaluated only when the event is triggered. \n\nNext: [[Angular: Templates - Expressions vs statements]]","title":"Angular: Templates - Events","task":"done","modified":"20230128152005762"},
{"created":"20221227234447894","text":";Angular expression\n\nSingle expression executed many times when change is detected, that should not have any side effect. It can't be an assignement :\n\n\u003C\u003Ccopy-code html \"\"\"\u003C!-- the expression is an assignment = it will throw an error-->\n\u003Ccomponent [property]=\"user = 'John'\">\u003C/component>\"\"\">>\n\nCannot contains keywords (`if`, `var`, etc.)\n\n;Angular statement\n\nTriggered on the matching event, can be chained with `;`. Statements should have side effects, they can be a variable assignement and can contain keywords.","title":"Angular: Templates - Expressions vs statements","task":"done","modified":"20230105202056491"},
{"created":"20221227234444101","text":"\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-root\",\n  template: `\n    \u003Ch1>HorseRacer\u003C/h1>\n    \u003Ch2>{{ numberOfUsers }} users\u003C/h2>\n  `,\n})\nexport class AppComponent {\n  numberOfUsers = 146;\n}\"\"\">>\n\n* `AppComponent` is activated every time Angular find a `\u003Cns-root>` tag and an AppComponent instance is created. This instance is the evaluation context of the template's expressions.\n* The `AppComponent` class has a property `numberOfUsers`\n* The template use the `{{ expression }}` syntax to evaluate the expression => interpolation\n\nRendered:\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Cns-root>\n  \u003Ch1>HorseRacer\u003C/h1>\n  \u003Ch2>146 users\u003C/h2>\n\u003C/ns-root>\"\"\">>\n\n`{{ numberOfUsers }}` is replaced by its value.\n\nThe template is automatically updated when the value of `numberOfUsers` changes in our object => ''change detection''.\n\nNote: `undefined`/`null` variable output an empty string.\n\n;Accessing the property of an object in a template interpolation\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-root\",\n  template: `\n    \u003Ch1>HorseRacer\u003C/h1>\n    \u003Ch2>Welcome {{ user.name }}\u003C/h2>\n  `,\n})\nexport class AppComponent {\n  user: any = { name: \"John\" };\n}\"\"\">>\n\nIf the property does not exist / if there is a syntax error : \n\n`Cannot read property 'name' of undefined in [{{ users.name }} in AppComponent]`\n\n;Interpolation of object fetched from a server\n\nWhile fetching the value, the object is initialized to `undefined`. To avoid errors, we can use `?.`, the \"Safe Navigation Operator\":\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-root\",\n  // user is undefined\n  // ?. will avoid the error\n  template: `\n    \u003Ch1>HorseRacer\u003C/h1>\n    \u003Ch2>Welcome {{ user?.name }}\u003C/h2>\n  `,\n})\nexport class AppComponent {\n  user: any;\n}\n\"\"\">>","title":"Angular: Templates - Interpolation","task":"done","modified":"20230105013349497","tags":"dynamic"},
{"created":"20221227234448735","text":"Local variables are variables in a component instance that can be declared dynamically in the template with the `#` syntax:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cinput type=\"text\" #name>\n{{ name.value }}\"\"\">>\n\nThe above example define a local variable `name` referencing the DOM object `HTMLInputElement` with a `value` property that can be displayed anywhere in the template, in an interpolated expression.\n\n;Executing an action on another element with local variables\n\nUsing the `focus()` method, part of the DOM API, we can set the focus to an element when clicking a button:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cinput type=\"text\" #name>\n\u003Cbutton (click)=\"name.focus()\">Focus the input\u003C/button>\"\"\">>\n\nThis can be done on a custom component, even web component:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cgoogle-youtube #player>\u003C/google-youtube>\n\u003Cbutton (click)=\"player.play()\">Play!\u003C/button>\"\"\">>\n\n`google-youtube` is a [[Web Component|http://googlewebcomponents.github.io/google-youtube/components/google-youtube/]] written with [[Polymer|https://www.polymer-project.org/1.0/]]. It has a `play()` method that is called by Angular when the button is clicked.\n\nNext: [[Angular: Templates - Structural directives]]","title":"Angular: Templates - Local variables","task":"done","modified":"20230105225842823"},
{"created":"20221227234443188","text":"Template render HTML + dynamic parts, to create a component view. They can be inline or their own file.\n\nExample:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-root\",\n  template: \"\u003Ch1>PonyRacer\u003C/h1>\",\n})\nexport class AppComponent {\n  numberOfUsers = 146; // we want to display the number of users registered dynamically\n}\n\"\"\">>\n\nTo display the variable `numberOfUsers`, we use [[interpolation|Angular: Templates - Interpolation]] in the template.","title":"Angular: Templates - Overview","task":"done","modified":"20230104230619978"},
{"created":"20221227234444866","text":"[[Interpolation|Angular: Templates - Interpolation]] is a simplified way to do property binding.\n\nEvery DOM property can be written to with special attributes on HTML elements delimited by `[]`.\n\nWhen the browser parse a tag, a DOM node (HTMLInputElement) with matching properties is created. The DOM node has properties matching each standard HTML attribute + additional properties without corresponding attribute, for example `childElementCount`, `innerHTML`, `textContent`, etc.\n\n\n```html\n\u003Cp>{{ user.name }}\u003C/p>\n```\n\n\nIs equivalent to\n\n\n```html\n\u003Cp [textContent]=\"user.name\">\u003C/p>\n```\n\n\nThe `[]` allow to set the DOM `textContent` property to the value `user.name`, which is evaluated in the context of the current component instance (as it was for the interpolation). Properties are case-sensitive.\n\nThe advantage of DOM properties vs HTML attributes, is that they have up-to-date values. Properties can have boolean values, whereas booleans attributes are either present or not:\n\n```html\n\u003Coption selected>A\u003C/option>\n\u003Coption selected=\"false\">B\u003C/option> \u003C!-- still selected -->\n```\n\nWith Angular's properties access, we can write:\n\n```html\n\u003Coption [selected]=\"isOptionSelected\" value=\"A\">A\u003C/option>\n```\n\nAnd the option will be selected if `isOptionSelected` is `true`, and will not be selected if it is `false`. When `isOptionSelected` change, the selected property will be updated. Lots of things can be done with this:\n\n;Dynamic source URL for an image\n\n`\u003Cimg src=\"{{ horse.avatar.url }}\">`\n\nThe browser will try to fetch the image as soon as the `src` attribute is read, which make an HTTP request to `{{ horse.avatar.url }}`, which is not a valid URL.\n\nIn AngularJS the solution was for Angular to create a directive for each standard attribute, and use a custom attribute with a prefix (`ng-src`) that is then converted in the matching attribute (`src`) when the compilation is done. Two issues: No information on the data expected by the custom attribute without reading the doc, and data can't be passed on [[Web Component|Web Components: Overview]] if attributes were not provided.\n\nWith Angular, we don't use HTML properties but DOM properties, so we can write this:\n\n`\u003Cns-horse [name]=\"horse.name\">\u003C/ns-horse>`\n\nAnd Angular will keep properties and attributes in sync.\n\n;Hidding an element with the standard `hidden` property\n\n`\u003Cdiv [hidden]=\"isHidden\">Hidden or not\u003C/div>`\n\n;Access nested properties \n\n`\u003Cp [style.color]=\"foreground\">Content\u003C/p>`\n\nThere are several ways to pass values:\n\nInterpolation: `property=\"{{ expression }}\"`\n\n```html\n\u003Cns-horse name=\"{{ horse.name }}\">\u003C/ns-horse>\n```\n\nBetter (but the same): `[property]=\"expression\"`\n\n```html\n\u003Cns-horse [name]=\"horse.name\">\u003C/ns-horse>\n```\n\nConcataining strings:\n\n```html\n\u003Cns-horse name=\"Horse {{ horse.name }}\">\u003C/ns-horse>\n\u003Cns-horse [name]=\"'Horse ' + horse.name\">\u003C/ns-horse>\n```\n\nIf the value is static: `property=\"value\"`\n\n`\u003Cns-horse name=\"Black Pearl\">\u003C/ns-horse>`\n\nAll of the above are equivalent, and the syntax doesn't depend on the design of the component.\n\nThe expression can also contain function calls:\n\n```html\n\u003Cns-horse name=\"{{ horse.fullName() }}\">\u003C/ns-horse>\n\u003Cns-horse [name]=\"horse.fullName()\">\u003C/ns-horse>\n```\n\nNext: [[Angular: Templates - Events]]","title":"Angular: Templates - Property binding","task":"done","modified":"20230109040759094","tags":"dynamic"},
{"created":"20221227234450222","text":"These directives are not structural (they dont modify the DOM), but they are usefull to build a template.\n\n;NgStyle: set style with an object.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cp [style.color]=\"foreground\">Single style\u003C/p>\"\"\">>\n\nvs\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv [ngStyle]=\"{fontWeight: fontWeight, color: color}\">Several styles at once\u003C/div>\"\"\">>\n\nThe keys of the object are the styles to set. The keys can be camelCase (`fontWeight`) or dash-case (`font-weight`).\n\n;NgClass: set classes with an object.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv [class.awesome-div]=\"isAnAwesomeDiv()\">I've got style\u003C/div>\"\"\">>\n\nvs\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv [ngClass]=\"{'awesome-div': isAnAwesomeDiv(), 'colored-div': isAColoredDiv()}\">I've got style\u003C/div>\"\"\">>\n\nNext: [[Angular: Templates - Summary]]","title":"Angular: Templates - Standard directives","task":"done","modified":"20230105233016107"},
{"created":"20221227234449547","text":"Structural directives change the DOM structure. Example: iterating over a collection and adding an element per item. \n\nDirectives are close to components, but they dont have a template, they are used to add behavior to an element.\n\nThe build-in directives rely on the `ng-template` element, inspired by the `template` [[HTML tag|https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template]].\n\nTemplate displaying a div:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cng-template>\n\u003Cdiv>Races list\u003C/div>\n\u003C/ng-template>\"\"\">>\n\nIt wont be displayed but Angular can use its content with structural directives: displaying the content, repeating it, etc.\n\n`BrowserModule` provide a few directives:\n\n;NgIf: instantiate the template if a condition is matched.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cng-template [ngIf]=\"races.length > 0\">\n\u003Cdiv>\u003Ch2>Races\u003C/h2>\u003C/div>\n\u003C/ng-template>\"\"\">>\n\nshorter, recommended syntax:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv *ngIf=\"races.length > 0\">\u003Ch2>Races\u003C/h2>\u003C/div>\"\"\">>\n\n`*` show that it is a structural directive. The `div` will disappear when `races.length` is \u003C= 0.\n\nDirectives provided by the framework are pre-loaded so we don't need to import and declare `NgIf` in the `directives` attribute of the `@Component` decorator.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-races\",\n  template: `\u003Cdiv *ngIf=\"races.length > 0\">\u003Ch2>Races\u003C/h2>\u003C/div>`,\n})\nexport class RacesComponent {\n  races: Array\u003Cany> = [];\n}\"\"\">>\n\nThere is also an `else` syntax since Angular 4.0 : \n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-races\",\n  template: `\n    \u003Cdiv *ngIf=\"races.length > 0; else empty\">\u003Ch2>Races\u003C/h2>\u003C/div>\n    \u003Cng-template #empty>\u003Ch2>No races.\u003C/h2>\u003C/ng-template>\n  `,\n})\nexport class RacesComponent {\n  races: Array\u003Cany> = [];\n}\n\"\"\">>\n\n;NgFor: Instantiate one template per item in a collection.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-races\",\n  template: `\n    \u003Cdiv *ngIf=\"races.length > 0\">\n      \u003Ch2>Races\u003C/h2>\n      \u003Cul>\n        \u003Cli *ngFor=\"let race of races\">{{ race.name }}\u003C/li>\n      \u003C/ul>\n    \u003C/div>\n  `,\n})\nexport class RacesComponent {\n  races: Array\u003Cany> = [{ name: \"Black\" }, { name: \"Pearl\" }];\n}\"\"\">>\n\nrendered:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cul>\n\u003Cli>Black\u003C/li>\n\u003Cli>Pearl\u003C/li>\n\u003C/ul>\"\"\">>\n\n`NgFor` is using a particular syntax called microsyntax.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cul>\n  \u003Cli *ngFor=\"let race of races\">{{ race.name }}\u003C/li>\n\u003C/ul>\"\"\">>\n\nAnother local variable bound to the index of the current element can be declared:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cul>\n  \u003Cli *ngFor=\"let race of races; index as i\">{{ i }} - {{ race.name }}\u003C/li>\n\u003C/ul>\"\"\">>\n\nThe local variable `i` will receive the index of the current element, starting from 0. `index` is an exported variable. Some directives export variables that can be assigned to a local variable and used in the template.\n\nRendered:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cul>\n  \u003Cli>0 - London\u003C/li>\n  \u003Cli>1 - Lyon\u003C/li>\n\u003C/ul>\"\"\">>\n\nOther usefull exported variables (booleans):\n\n* `even`: true if index = even\n* `odd`: true if index = odd\n* `first`: true if the element is the first\n* `last`: true if the element is the last\n\n;NgSwitch: Conditional template switching\n\n`ngSwitch` takes a condition and `*ngSwitchCase` take the possible values. `*ngSwitchDefault` is displayed if none of the values match.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv [ngSwitch]=\"messageCount\">\n\u003Cp *ngSwitchCase=\"0\">You have no message\u003C/p>\n\u003Cp *ngSwitchCase=\"1\">You have a message\u003C/p>\n\u003Cp *ngSwitchDefault>You have some messages\u003C/p>\n\u003C/div>\"\"\">>","title":"Angular: Templates - Structural directives","task":"done","modified":"20230105233015244"},
{"created":"20221227234450964","text":"Angular templates can use specialized symbols to express the dynamic part of our HTML:\n\n*`{{}}`: interpolation\n*`[]`: property binding\n*`()`: event binding\n*`#`: variable declaration\n*`*`: structural directives\n\nThis syntax allow to interact with standard Web Components. There is no ambiguity between the various meanings, allowing dev tools to provides meaningful warnings.\n\n!!! Complete example\n\n`HorsesComponent` component that display a list of horses. \nEach horse is represented by a `HorseComponent` component. \nThe list is displayed only if it's not empty, and even lines will be in a different color. The list will be refresh on a button click.\n\n#.c Creating `HorsesComponent`\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: ``,\n})\nexport class HorsesComponent {}\n\"\"\">>\n\nThis can be added to the AppComponent example. We will need to import it, add it to the directives and insert the tag `\u003Cns-horses>\u003C/ns-horses>` in the template.\n\n#.c Adding a list of horses\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: ``,\n})\nexport class HorsesComponent {\n  horses: Array\u003Cany> = [{ name: 'Black'}, { name: 'Pearl'}];\n}\n\"\"\">>\n\n#.c Displaying the list with `ngFor`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cul>\n      \u003Cli *ngFor=\"let horse of horses\">{{ horse.name }}\u003C/li>\n    \u003C/ul>\n  `,\n})\nexport class HorsesComponent {\n  horses: Array\u003Cany> = [{ name: 'Black'}, { name: 'Pearl'}];\n}\"\"\">>\n\n#.c  Adding a refresh button:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cbutton (click)=\"refreshHorses()\">Refresh\u003C/button>\n    \u003Cul>\n      \u003Cli *ngFor=\"let horse of horses\">{{ horse.name }}\u003C/li>\n    \u003C/ul>\n  `,\n})\nexport class HorsesComponent {\n  horses: Array\u003Cany> = [{ name: \"Black\" }, { name: \"Pearl\" }];\n  refreshHorses(): void {\n    this.horses = [{ name: \"Flashy\" }, { name: \"Rarity\" }];\n  }\n}\"\"\">>\n\n#.c  Coloring even row with `[style.color]` and the exported variable `isEven`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-horses\",\n  template: `\n    \u003Cbutton (click)=\"refreshHorses()\">Refresh\u003C/button>\n    \u003Cul>\n      \u003Cli\n        *ngFor=\"let horse of horses; even as isEven\"\n        [style.color]=\"isEven ? 'green' : 'black'\"\n      >\n        {{ horse.name }}\n      \u003C/li>\n    \u003C/ul>\n  `,\n})\nexport class HorsesComponent {\n  horses: Array\u003Cany> = [{ name: \"Black\" }, { name: \"Pearl\" }];\n  refreshHorses(): void {\n    this.horses = [{ name: \"Flashy\" }, { name: \"Rarity\" }];\n  }\n}\"\"\">>\n","title":"Angular: Templates - Summary","task":"done","modified":"20230106000656746"},
{"created":"20230104225208688","text":"Component to display the horse races, `RacesComponent`:\n\n\u003C\u003Ccopy-code ts \"\"\"// in races.component.ts\nimport { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-races\",\n  template: `\u003Ch2>Races\u003C/h2>`,\n})\nexport class RacesComponent {}\"\"\">>\n\nWe pass the class directly so we have to import it. To do that, we need to export the class `RacesComponent` in it's source file `races.component.ts` (see [[Web Components: ES Modules]]).\n\n`AppComponent` display `RacesComponent` :\n\n\u003C\u003Ccopy-code ts \"\"\"// in app.component.ts\nimport { Component } from \"@angular/core\";\n@Component({\n  selector: \"ns-root\",\n  // added the RacesComponent component\n  template: ` \u003Ch1>HorseRacer\u003C/h1>\n    \u003Cns-races>\u003C/ns-races>`,\n})\nexport class AppComponent {}\"\"\">>\n\n`RacesComponent` is added in the template using a tag matching the selector defined for the component. In order for the second component to work, we need to declare it in the `declarations` property of the `@NgModule` decorator.\n\nEach component must be declared, but since `RacesComponent` is not the root component, it is not declared in `bootstrap`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { AppComponent } from \"./app.component\";\n// do not forget to import the component\nimport { RacesComponent } from \"./races.component\";\n@NgModule({\n  imports: [BrowserModule],\n  declarations: [AppComponent, RacesComponent],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n\"\"\">>\n\nnext: [[Angular: Templates - Property binding]]","title":"Angular: Templates - Using other components in a template","task":"done","modified":"20230105010727376","tags":""},
{"created":"20221223145529279","text":"https://angular.io/docs","tags":"doc","title":"angular.io","modified":"20221223145540947"},
{"created":"20230107195259628","text":";Settings\n\nWords/page: \u003C$edit-text type=\"number\" field=\"words-by-page\"/>\n\n---\n\n\u003C$let words-by-page={{!!words-by-page}}>\n\u003Cul>\n\u003C$list filter=\"[tag[books]]:filter[is[current]links[]count[]compare:number:gt[1]]\">\n\u003Cli>\n\u003C$link/>: \u003C$let words-count={{{ [{!!title}links[]get[text]split[ ]!is[blank]!match[]!match[ ]minlength[2]count[]] }}} pages-count={{{ [\u003Cwords-count>divide\u003Cwords-by-page>round[]] }}}>  \u003C\u003Cwords-count>> words, approx \u003C\u003Cpages-count>> pages.\u003C/$let>\n\u003C/li>\n\u003C/$list>\n\u003C/ul>\n\u003C/$let>","tags":"","title":"Approx pages of notes count","modified":"20230107200756475","words-by-page":"450"},
{"created":"20221226235611422","text":"Function syntax that use the fat arrow operator `=>`, usefull for callbacks and anonymous functions.\n\n\u003Ctable style=\"width:100%;table-layout:fixed;\">\n\u003Cthead>\n\u003Cth>Without arrow function\u003C/th>\n\u003Cth>Arrow function\u003C/th>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr style=\"vertical-align:top;\">\n\u003Ctd>\u003C\u003Ccopy-code js \"\"\"getUser(login)\n    .then(function (user) {\n        return getRights(user); // getRights is returning a promise\n    })\n    .then(function (rights) {\n        return updateMenu(rights);\n    })\"\"\">>\u003C/td>\n\u003Ctd>\u003C\u003Ccopy-code js \"\"\"    getUser(login)\n        .then(user => getRights(user))\n        .then(rights => updateMenu(rights))\n\nThe return need to be explicit if there is a block:\n\ngetUser(login)\n    .then(user => {\n        console.log(user);\n        return getRights(user);\n    })\n    .then(rights => updateMenu(rights))\"\"\">>\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\nArrow functions do not modify `this` - it stays lexically bounded. \n\n\nHere's an example iterating over an array with the map function to find a max value: \n\n;ES5\n\nThis doesn't work:\n\n\u003C\u003Ccopy-code js \"\"\"var maxFinder = {\n    max: 0,\n    find: function (numbers) {\n        // iterate\n        numbers.forEach(function (element) {\n            // if the element is greater, set it as the max\n            if (element > this.max) { //this is not bound to an object\n                this.max = element; //this.max is not the max of the maxFinder object\n            }\n        });\n    }\n};\nmaxFinder.find([2, 3, 4]);\n// log the result\nconsole.log(maxFinder.max);\"\"\">>\n\nThis can be fixed with an allias\n\n\u003C\u003Ccopy-code js  \"\"\"..\n    find: function (numbers) {\n        var self = this;\n        ..\n    }\n..\"\"\">>\n\n, by [[binding|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind]] `this`\n\n\u003C\u003Ccopy-code js \"\"\"..\n        numbers.forEach(\n            function (element) {\n                ..\n            }.bind(this)\n        );\n..\"\"\">>\n\n\n, by passing `this` as a second parameter of the `forEach` function :\n\n\u003C\u003Ccopy-code js \"\"\"..\n        numbers.forEach(function (element) {\n            if (element > this.max) {\n                this.max = element;\n            }\n        }, this);\n..\"\"\">>\n\nor with the arrow syntax:\n\n\u003C\u003Ccopy-code js \"\"\"..\n        numbers.forEach(element => {\n            if (element > this.max) {\n                this.max = element;\n            }\n        });\n..\"\"\">>","tags":"ES2015","title":"Arrow functions","modified":"20221229065324553","task":"done"},
{"created":"20221226235620984","text":"The `await` keyword pause a `async` function until the Promise resolve, then resume. JS tries to call the `then` method of that object. This doesn't block the thread, other JS events can be executed while the execution is paused.\n\n\u003C\u003Ccopy-code js \"\"\"async function getUserRightsAndUpdateMenu() {\n    // getUser is a promise\n    const user = await getUser(login);\n    // getRights is a promise\n    const rights = await getRights(user);\n    updateMenu(rights);\n}\nawait getUserRightsAndUpdateMenu();\"\"\">>\n\nwith `await`, we can use `try`/`catch` to handle error:\n\n\u003C\u003Ccopy-code js \"\"\"async function getUserRightsAndUpdateMenu() {\n    try {\n        // getUser is a promise\n        const user = await getUser(login);\n        // getRights is a promise\n        const rights = await getRights(user);\n        updateMenu(rights);\n    } catch (e) {\n        // will be called if getUser, getRights or updateMenu fails\n        console.log(e);\n    }\n}\nawait getUserRightsAndUpdateMenu();\"\"\">>","tags":"ES2015","title":"Async/await","modified":"20221229145353856","task":"done"},
{"created":"20221223145244872","text":"Source: https://books.ninja-squad.com/angular\n\n;ECMAScript 2015+\n\n* [[Transpiler]]\n* [[let]]\n* [[const]]\n* [[Shorthands for creating objects]]\n* [[Shorthands for assigning variables from objects or arrays (destructuring)]]\n* [[Default parameters and values on function call]]\n* [[Rest operator]]\n* [[Classes]]\n* [[Promises]]\n* [[Arrow functions]]\n* [[Async/await]]\n* [[Sets and Maps]] \n* [[Template literals]]\n* [[Modules]]\n\n;Typescript\n\n* [[Dynamic, static and optional types]]\n* [[TypeScript: Overview]]\n* [[TypeScript: Types]]\n* [[TypeScript: Enums]]\n* [[TypeScript: Return types]]\n* [[TypeScript: Interfaces]]\n* [[TypeScript: Optional arguments]]\n* [[TypeScript: Functions as property]]\n* [[TypeScript: Classes]]\n* [[TypeScript: Working with libraries]]\n* [[TypeScript: Decorators]]\n\n;Advanced TypeScript\n\n* [[TypeScript: readonly]]\n* [[TypeScript: keyof]]\n* [[TypeScript: Mapped type]]\n* [[TypeScript: Union types and type guards]]\n\n;Web Components\n\n* [[Web Components: Overview]]\n* [[Web Components: Custom elements]]\n* [[Web Components: Shadow DOM]]\n* [[Web Components: Template]]\n* [[Web Components: Frameworks]]\n\n;Angular: Intro\n\n* [[Angular: Intro - philosophy]]\n* [[Angular: Intro - Node.js and NPM]]\n* [[Angular: Intro - Angular CLI]]\n* [[Angular: Intro - Application structure]]\n* [[Angular: Intro - First component]]\n* [[Angular: Intro - First module]]\n* [[Angular: Intro - Bootstrapping the app]]\n\n;Angular: Templates\n\n* [[Angular: Templates - Overview]]\n* [[Angular: Templates - Interpolation]]\n* [[Angular: Templates - Using other components in a template]]\n* [[Angular: Templates - Property binding]]\n* [[Angular: Templates - Events]]\n* [[Angular: Templates - Expressions vs statements]]\n* [[Angular: Templates - Local variables]]\n* [[Angular: Templates - Structural directives]]\n* [[Angular: Templates - Standard directives]]\n* [[Angular: Templates - Summary]]\n\n;Angular: components and directives\n\n* [[Angular: components and directives - Overview]]\n* [[Angular: components and directives - directives]]\n* [[Angular: components and directives - components]]\n\n;Angular: Styling components and encapsulation\n\n* [[Angular: Styling components and encapsulation - Overview]]\n* [[Angular: Styling components and encapsulation - Shadow DOM strategy]]\n* [[Angular: Styling components and encapsulation - Emulated strategy]]\n* [[Angular: Styling components and encapsulation - None strategy]]\n* [[Angular: Styling components and encapsulation - Styling the host]]\n\n;Angular: Pipes\n\n* [[Angular: Pipes - Overview]]\n* [[Angular: Pipes - json]]\n* [[Angular: Pipes - slice]]\n* [[Angular: Pipes - keyvalue]]\n* [[Angular: Pipes - uppercase]]\n* [[Angular: Pipes - lowercase]]\n* [[Angular: Pipes - titlecase]]\n* [[Angular: Pipes - number]]\n* [[Angular: Pipes - percent]]\n* [[Angular: Pipes - currency]]\n* [[Angular: Pipes - date]]\n* [[Angular: Pipes - async]]\n* [[Angular: Pipes - injecting pipe]]\n* [[Angular: Pipes - creating pipes]]\n\n;Angular: Dependency injection\n\n* [[Angular: Dependency injection - Overview]]\n* [[Angular: Dependency injection - Requirements]]\n* [[Angular: Dependency injection - Configuration]]\n* [[Angular: Dependency injection - Other types of provider]]\n* [[Angular: Dependency injection - Hierarchical injector]]\n* [[Angular: Dependency injection - DI without types]]\n\n;Angular: Services\n\n* [[Angular: Services - Overview]]\n* [[Angular: Services - Title service]]\n* [[Angular: Services - Meta service]]\n* [[Angular: Services - Creating a service]]\n\n\n;Reactive (functional) Programming\n\n* [[Reactive Programming: Overview]]\n* [[Reactive Programming: Principles]]\n* [[Reactive Programming: RxJS]]\n* [[Reactive Programming: Angular]]\n\n;Testing in Angular\n\n* [[Testing in Angular: Overview]]\n* [[Testing in Angular: Unit test]]\n* [[Testing in Angular: Jasmine and Karma]]\n* [[Testing in Angular: Dependency injection]]\n* [[Testing in Angular: Fake dependencies]]\n* [[Testing in Angular: Testing components]]\n* [[Testing in Angular: Testing with fake templates, providers, etc]]\n* [[Testing in Angular: ngx-speculoos]]\n* [[Testing in Angular: e2e]]\n\n;Send and receive data through HTTP\n\n* [[Send and receive data through HTTP: Overview]]\n* [[Send and receive data through HTTP: Getting data]]\n* [[Send and receive data through HTTP: Transforming data]]\n* [[Send and receive data through HTTP: Advanced options]]\n* [[Send and receive data through HTTP: Jsonp]]\n* [[Send and receive data through HTTP: Interceptors]]\n* [[Send and receive data through HTTP: Context]]\n* [[Send and receive data through HTTP: Tests]]\n\n;Router\n\n* [[Router: Route]]\n* [[Router: Navigation]]\n* [[Router: Redirects]]\n* [[Router: Matching strategy]]\n* [[Router: Hierarchical and empty-path routes]]\n* [[Router: Guards]]\n* [[Router: Resolvers]]\n* [[Router: Router events]]\n* [[Router: Parameters and data]]\n* [[Router: Lazy loading]]\n\n;Forms\n\n* [[Forms: Overview]]\n* [[Forms: Template-driven]]\n* [[Forms: Two-way data-binding]]\n* [[Forms: Code-driven]]\n* [[Forms: Validation]]\n* [[Forms: Errors and submission]]\n* [[Forms: Style]]\n* [[Forms: Creating a custom validator]]\n* [[Forms: Grouping fields]]\n* [[Forms: Reacting to changes]]\n* [[Forms: Updating on blur or on submit only]]\n* [[Forms: FormArray and FormRecord]]\n* [[Forms: Strictly typed forms]]\n* [[Forms: Simple validation error messages with ngx-valdemort]]\n* [[Forms: Custom form inputs with ControlValueAccessor]]\n* [[Forms: Summary]]\n\n\n; Zones\n\n* [[Zones: AngularJS 1.x and the digest cycle]]\n* [[Zones: Angular and zones]]\n\n;Just in Time vs Ahead of Time\n\n* [[Just in Time vs Ahead of Time: Code generation]]\n* [[Just in Time vs Ahead of Time: Ahead of Time compilation]]\n\n;Advanced observables\n\n* [[Advanced observables: Overview]]\n* [[Advanced observables: Subscribe, unsubscribe and async pipe]]\n* [[Advanced observables: Operators]]\n* [[Advanced observables: Custom Observable]]\n* [[Advanced observables: Managing state with stores (NgRx, NGXS, Akita ..)]]\n\n;Advanced components and directives\n\n* [[Advanced components and directives: View queries]]\n* [[Advanced components and directives: Content]]\n* [[Advanced components and directives: Content queries]]\n* [[Advanced components and directives: Conditional and contextual content projection: ng-template and ngTemplateOutlet]]\n* [[Advanced components and directives: Host listener]]\n* [[Advanced components and directives: Host binding]]\n\n\n;Standalone components\n\n* [[Standalone components: Overview]]\n* [[Standalone components: creating a standalone component]]\n* [[Standalone components: using of standalone component]]\n* [[Standalone components: CLI support]]\n* [[Standalone components: Application bootstrap]]\n* [[Standalone components: Optional NgModules]]\n* [[Standalone components: Lazy loading routes]]\n* [[Standalone components: Initialization]]\n* [[Standalone components: Caveats]]\n* [[Standalone components: Summary]]\n\n;Internationalization\n\n* [[Internationalization: Overview]]\n* [[Internationalization: Locale]]\n* [[Internationalization: Currency]]\n* [[Internationalization: Translating]]\n* [[Internationalization: Process and tooling]]\n* [[Internationalization: Translating messages in the code]]\n* [[Internationalization: Pluralization]]\n* [[Internationalization: Best practices]]\n\n;Performances\n\n* [[Performances: Overview]]\n* [[Performances: First load]]\n* [[Performances: Reload]]\n* [[Performances: Profiling]]\n* [[Performances: Runtime performances]]\n* [[Performances: NgZone]]\n\n;Going to production\n\n* [[Going to production: Overview]]\n* [[Going to production: Environments and configurations]]\n* [[Going to production: strictTemplates]]\n* [[Going to production: enableProdMode]]\n* [[Going to production: Package your application]]\n* [[Going to production: Server configuration]]\n* [[Going to production: Conclusion]]","title":"Become a Ninja with Angular","modified":"20230411125140726","tags":"books","task":"todo","book-url":"./doc/Become_a_Ninja_with_Angular/English/Become_a_Ninja_with_Angular.pdf"},
{"created":"20221229133443936","text":"{{||$:/core/ui/Buttons/new-here}}\n\n\u003C\u003Clist-links [is[current]tagging[]!tag[free]]>>\n\n---\n\n\u003C\u003Clist-links [is[current]tagging[]tag[free]]>>","title":"books","modified":"20221229142856258"},
{"created":"20221216101100311","text":";Prompt\n\n\u003C\u003C\u003C\nI want to create a Angular progressive web app using Ionic. The goal of the app is to help users to cook food, understanding the cooking process and tools to eat healthy. The app should be able to connect to open food database in order to calculate calories. How do I get started ?\n\u003C\u003C\u003C\n\n;Answer\n\nTo get started with creating an Angular progressive web app using Ionic, you'll need to install the Ionic CLI (Command Line Interface) and create a new project using the Ionic CLI.\n\nHere are the steps to follow:\n\n#.c Install the Ionic CLI:\n\n\u003C\u003Ccopy-code cmd \"\"\"npm install -g @ionic/cli\"\"\">>\n\n#.c Create a new Ionic Angular project:\n\n\u003C\u003Ccopy-code cmd \"\"\"ionic start my-app tabs --type=angular\"\"\">>\n\nThis will create a new project called \"my-app\" using the tabs starter template and the Angular framework.\n\n#.c Navigate to the project directory:\n\n\u003C\u003Ccopy-code cmd \"\"\"cd my-app\"\"\">>\n\n#.c Run the app in the browser:\n\n\u003C\u003Ccopy-code cmd \"\"\"ionic serve\"\"\">>\n\nThis will compile and serve the app, and open it in your default web browser.\n\nTo connect to an open food database and calculate calories, you'll need to use an API (Application Programming Interface) provided by the database. There are several open food databases available, such as the USDA FoodData Central API and the Edamam API. You can use the HTTP module in Angular to make API calls and retrieve data from the database.\n\nI hope this helps get you started! Let me know if you have any questions.\n\n;Prompt\n\n> Could elastic search be used to search the database ? Is elastic search a good solution ?\n\n;Answer\n\nElasticsearch is a search engine based on the Lucene library that provides a distributed, multitenant-capable full-text search engine with an HTTP web interface and schema-free JSON documents. It is often used for search and analytics tasks on large datasets.\n\nIn general, Elasticsearch can be used to search a database if the database is indexed in Elasticsearch. This means that the data in the database has been transformed and imported into Elasticsearch in a way that makes it searchable.\n\nWhether or not Elasticsearch is a good solution for searching a database depends on the specific requirements of your application. Here are some considerations to take into account:\n\n* Size of the dataset: Elasticsearch is designed to scale horizontally across many machines and is well-suited for handling large datasets.\n* Type of data: Elasticsearch can handle a wide variety of data types, including text, numerical, boolean, date, and geospatial data.\n* Search requirements: Elasticsearch provides a rich set of search features, including full-text search, faceted search, geospatial search, and more. If your search requirements are complex, Elasticsearch may be a good fit.\n* Performance: Elasticsearch is designed to be fast and scalable, and can handle a high volume of search queries.\n\nSome of the potential drawbacks of using Elasticsearch include:\n\n* Complex setup: Elasticsearch can be complex to set up and maintain, especially at scale. It requires a good understanding of distributed systems and may require specialized expertise to configure and operate.\n* Resource intensive: Elasticsearch can be resource-intensive, particularly when indexing and searching large datasets. It requires dedicated hardware and may require frequent tuning to optimize performance.\n* Limited transactions: Elasticsearch does not support traditional database transactions, which can make it difficult to ensure data consistency in certain scenarios.\n* Limited SQL support: Elasticsearch does not support SQL-like queries and does not have a traditional SQL interface. This can make it challenging for users who are familiar with SQL to learn and use Elasticsearch.\n\nOverall, Elasticsearch is a powerful tool, but it may not be the best fit for every application. It is important to carefully evaluate your specific requirements and consider the potential drawbacks before deciding to use Elasticsearch.","tags":"","title":"ChatGPT","modified":"20221216101631419"},
{"created":"20221226174216051","text":"Before the class syntax was introduced, inheritance in JavaScript was implemented using prototypal inheritance, which is a way of creating objects that are derived from other objects. While prototypal inheritance is a powerful and flexible way of implementing inheritance, it can be somewhat difficult to understand and use, especially for beginners.\n\nThe class syntax, on the other hand, provides a more familiar and intuitive way of creating and using classes and inheritance, similar to how classes and inheritance work in other object-oriented programming languages. This makes it easier for developers, especially beginners, to understand and use inheritance in JavaScript.\n\nHere is an example of creating a class and using inheritance in JavaScript with the class syntax:\n\n\u003C\u003Ccopy-code js \"\"\"class Animal {\n  constructor(name) {\n    this.name = name;\n  }\n  speak() {\n    console.log(`${this.name} makes a sound.`);\n  }\n}\n\nclass Dog extends Animal {\n  speak() {\n    console.log(`${this.name} barks.`);\n  }\n}\n\nlet dog = new Dog('Fido');\ndog.speak(); // Output: \"Fido barks.\"\n\"\"\">>\n\nIn this example, the `Animal` class has a `constructor` method that is used to create and initialize an instance of the class, and a `speak` method that logs a generic message to the console. The `Dog` class extends the `Animal` class and overrides the `speak` method to log a specific message when a dog speaks.\n\n>Note: [[classes are both hoisted and not hoisted]]\n\n`constructor` is a special function that is called with the `new` operator.\n\nA class can also have methods, callable on an instance, and static attributes / methods, that can be called only on the class directly : \n\n\u003C\u003Ccopy-code js \"\"\"class MyClass {\n  static staticMethod() {\n    console.log('This is a static method');\n  }\n}\n\nMyClass.staticMethod() // Output: 'This is a static method'\n\nlet instance = new MyClass();\ninstance.staticMethod(); // This will throw an error\n\"\"\">>\n\nStatic methods are methods that are associated with a class, rather than with individual instances of the class. This means that they can be called directly on the class, without the need to create an instance of the class first.\n\nIt's important to note that static methods can only access other static members of the class, and not instance members.\n\n; getters and setters \n\n\nGetters and setters are special methods that allow you to get or set the value of an object's property. Getters are used to retrieve the value of a property, while setters are used to set the value of a property.\n\nHere is an example of a class with a getter and a setter:\n\n\u003C\u003Ccopy-code js \"\"\"\nclass MyClass {\n  constructor(value) {\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(newValue) {\n    this._value = newValue;\n  }\n}\n\"\"\">>\n\nIn this example, the `MyClass` class has a constructor that takes a `value` parameter and sets it as an instance property. The class also has a getter named `value` that returns the value of the `_value` property, and a setter named `value` that sets the value of the `_value` property.\n\nTo use the getter and setter, you can use the following syntax:\n\n\u003C\u003Ccopy-code js \"\"\"let instance = new MyClass(10);\nconsole.log(instance.value); // Output: 10\ninstance.value = 20;\nconsole.log(instance.value); // Output: 20\"\"\">>\n\nGetters and setters are a useful way to control access to object properties and to perform additional logic when getting or setting the value of a property.\n\n;Inheritance\n\nTo extend a class in JavaScript, you can use the extends keyword in a class declaration. This allows you to create a new class that is a subclass of the parent class, and that inherits methods and properties from the parent class.\n\n\u003C\u003Ccopy-code js \"\"\"class MyClass {\n  constructor(value) {\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(newValue) {\n    this._value = newValue;\n  }\n}\n\nclass SubClass extends MyClass {\n  constructor(value) {\n    super(value);\n  }\n}\n\"\"\">>\n\nIn this example, the SubClass class extends the MyClass class and inherits its methods and properties. The SubClass class has a constructor that calls the super function, which calls the constructor of the parent class.\n\nTo create an instance of the SubClass class, you can use the following syntax:\n\n\u003C\u003Ccopy-code js \"\"\"\nlet instance = new SubClass(10);\nconsole.log(instance.value); // Output: 10\ninstance.value = 20;\nconsole.log(instance.value); // Output: 20\"\"\">>\n\n\nIn this example, the instance variable is an instance of the SubClass class, but it has access to the value getter and setter inherited from the MyClass class.","tags":"ES2015","title":"Classes","modified":"20221227234128908","task":"done"},
{"created":"20221226182031702","text":"All declarations (`var`, `let`, `const`, `function`, `function*`, `class`) are \"hoisted\" in JavaScript. This means that if a name is declared in a scope, in that scope the identifier will always reference that particular variable:\n\n\u003C\u003Ccopy-code js \"\"\"\nx = \"global\";\n// function scope:\n(function() {\n    x; // not \"global\"\n\n    var/let/… x;\n}());\n// block scope (not for `var`s):\n{\n    x; // not \"global\"\n\n    let/const/… x;\n}\"\"\">>\n\nThis is true both for function and block scopes (`var` declarations are still working only on the function level, of course).\n\nThe difference between `var`/`function`/`function*` declarations and `let`/`const`/`class` declara­tions is the initialisation.\n\nThe former are initialised with `undefined` or the (generator) function right when the binding is created at the top of the scope. The lexically declared variables however stay uninitialised. This means that a `ReferenceError` exception is thrown when you try to access it. It will only get initialised when the `let`/`const`/`class` statement is evaluated, everything before (above) that is called the [[temporal dead zone|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#temporal_dead_zone_tdz]].\n\n\u003C\u003Ccopy-code js \"\"\"x = y = \"global\";\n(function() {\n    x; // undefined\n    y; // Reference error: y is not defined\n\n    var x = \"local\";\n    let y = \"local\";\n}());\"\"\">>\n\nNotice that a `let y;` statement initialises the variable with undefined like `let y = undefined;` would have.\n\nThe //temporal// dead zone is not a syntactic location, but rather the time between the variable (scope) creation and the initialisation. It's not an error to reference the variable in code above the declaration as long as that code is not executed (e.g. a function body or simply dead code), and it will throw an exception if you access the variable before the initialisation even if the accessing code is below the declaration (e.g. in a hoisted function declaration that is called too early).\n\n`let` and `const` work the same as far as hoisting is regarded. The only difference between them is that a constant must be and can only be assigned in the initialiser part of the declaration (`const one = 1;`, both `const one;` and later reassignments like `one = 2` are invalid).\n\nAnother way to illustrate that all declarations are hoisted  : \n\n\u003C\u003Ccopy-code js \"\"\"let foo = () => bar; \nlet bar = 'bar'; \nconsole.log(foo());//\"bar\" \"\"\">>\n\nThe declaration for the `foo` function is able to reference the `bar` variable, even though the declaration for `bar` appears after the declaration for `foo`.","title":"classes are both hoisted and not hoisted","modified":"20221226183904836","sources":"https://stackoverflow.com/a/31222689/10234474"},
{"created":"20221223175625297","text":"A variable declared with `const` must be initialized when declared and can't be assigner another value later. `const` variables are not hoisted and only declared at the block level. A constant object content can however be modified, example : \n\n\u003C\u003Ccopy-code js \"\"\"const myobject = {};\nmyobject.color = 'blue'; // ok\"\"\">>\n\nBut another object can't be assigned : \n\n\u003C\u003Ccopy-code js \"\"\"const myobject = {};\nmyobject = {color: 'blue'}; //error\"\"\">>\n\nAnd arrays neither : \n\n\u003C\u003Ccopy-code js \"\"\"const myobject = [];\nmyobject.push({color:'blue'}); // ok\nmyobject = []; //error\"\"\">>","tags":"ES2015","title":"const","modified":"20221227234123792","task":"done"},
{"created":"20221117162742891","creator":"Telumire","text":"https://talk.tiddlywiki.org/t/tutorial-a-basic-alternative-layout/5138\n\nGuidelines CSS :\n\n* https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Writing_style_guide/Code_style_guide/CSS\n* https://google.github.io/styleguide/htmlcssguide.html\n\nOrganize your CSS:\n\n* https://developer.mozilla.org/en-US/docs/Web/CSS/@layer\n* https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Organizing\n* https://github.com/j9t/css-optimization-basics ([[résumé en français|Les bases de l'optimisation CSS]])\n","tags":"","title":"Creating a custom layout","modified":"20221117163058054","modifier":"Telumire"},
{"created":"20221128152105645","creator":"Telumire","text":"{{!!link}}\n\n\u003C\u003C\u003C.tc-small-quote\n{{!!caption}}\n\u003C\u003C\u003C","tags":"[[My wikis]]","title":"Curated Videos","modified":"20221128160934693","modifier":"Telumire","link":"https://curated-videos.tiddlyhost.com","image":"https://images.unsplash.com/photo-1521302200778-33500795e128?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80","color":"","caption":"Curated Videos","background-color":"","icon":""},
{"created":"20221226140936230","text":"Extra parameters passed to a function can be used with the [[arguments object|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments]].\nMissing parameters are set to `undefined`. The `OR` operator can be used to provide a default value - it will output the right operand if the left is `undefined`, `0`, `false`, `\"\"`, etc. :\n\n\u003C\u003Ccopy-code js \"\"\"function getPage(size, format) {\nsize = size || 'A4';\nformat = format || 'portrait';\n// ...\nserver.get(size, format);\n}\"\"\">>\n\nWith ES2015 there is a new way to set default values, without the `OR` operator:\n\n\u003C\u003Ccopy-code js \"\"\"function getPage(size = 'A4', format = 'portrait') {\n// ...\nserver.get(size, format);\n}\"\"\">>\n\nNote that the default value will only be given for `undefined` values.\n\nThe default value can also be a function call :\n\n\n\u003C\u003Ccopy-code js \"\"\"function getPage(size = defaultSize(), format = 'portrait') {\n// if size is undefined, the defaultSize method is called\n// ...\nserver.get(size, format);\n}\"\"\">>\n\nIt can also be other variables, it can be an operation (e.g `page = size - 1`).\n\nThis can also be used for [[destructuring assignment|Shorthands for assigning variables from objects or arrays (destructuring)]]:\n\n\u003C\u003Ccopy-code js \"\"\"const { timeout = 1000 } = httpOptions;\n// set a variable timeout, value = httpOptions.timeout OR 1000 if httpOptions.timeout is undefined\"\"\">>","tags":"ES2015","title":"Default parameters and values on function call","modified":"20221227234127727","task":"done"},
{"created":"20221227234408214","text":"JavaScript is dynamically typed: the type of a variable is not fixed and can change at runtime.\n\n\u003C\u003Ccopy-code js \"\"\"let x = 10; // x is a number\nx = 'Hello'; // Now x is a string\nx = true; // Now x is a boolean\"\"\">>\n\n\nThis is usefull to pass any object to a function as long as the object has the properties required, but it's not always obvious what properties are required. This lack of information prevent the IDEs to correct errors, and it's harder to debug and maintain the code, despite tests and documentation.\n\nThis is why Angular use [[TypeScript|TypeScript: Overview]].","title":"Dynamic, static and optional types","task":"done","modified":"20221229082705195"},
{"created":"20221229133716191","text":"https://eloquentjavascript.net/","tags":"books free","title":"Eloquent JavaScript","modified":"20221229142845785"},
{"created":"20230426122442645","text":"* https://bitwiseshiftleft.github.io/sjcl/demo/\n* https://www.grc.com/haystack.htm","tags":"","title":"Encryption","modified":"20230426122511456"},
{"created":"20211127012832590","creator":"user","text":"\u003C\u003Ccopy-code css \"\"\".feeds ul,\n.posts ul ,\n.events ul,\n.authors ul {\n  list-style: none;\n  margin: 0;\n}\n\n.feeds li,\n.posts li,\n.events li,\n.authors li {\n  border-top: 1px solid #eee;\n  padding: .77em 0;\n}\n\n.feeds li:first-child,\n.posts li:first-child,\n.events li:first-child,\n.authors li:first-child {\n  border-top: 0;\n  padding-top: 0;\n}\n\n.feeds li:last-child,\n.posts li:last-child,\n.events li:last-child,\n.authors li:last-child {\n  padding-bottom: 0;\n}\n\n.authors > ul > li > a {\n  display: inline-block;\n  margin-bottom: 1em;\n}\"\"\">>","modified":"20211127013709654","modifier":"user","title":"ex:OptimisationCSS/AvecOptimisation","tags":"[[Les bases de l'optimisations CSS]]"},
{"created":"20211127012608398","creator":"user","text":"\u003C\u003Ccopy-code css \"\"\".feeds ul,\n.posts ul ,\n.events ul {\n  list-style: none;\n  margin: 0\n}\n\n.feeds li,\n.posts li,\n.events li {\n  border-top: 1px solid #eeeeee;\n  padding: 0.7667em 0;\n}\n\n.feeds li:first-child,\n.posts li:first-child,\n.events li:first-child {\n  border-top: 0;\n  padding-top: 0;\n}\n\n.feeds li:last-child,\n.posts li:last-child,\n.events li:last-child {\n  padding-bottom: 0;\n}\n\n.authors > ul > li > a {\n  margin-bottom: 1em;\n  display: inline-block;\n}\n\n.authors ul {\n  list-style: none;\n  margin:0;\n}\n\n.authors li {\n  padding: .7667em 0;\n  border-top: 1px solid #eee;\n}\n\n.authors li:first-child {\n   border-top: 0;\n   padding-top: 0;\n}\n\n.authors li:last-child {\n  padding-bottom: 0;\n}\"\"\">>","modified":"20221008145219899","modifier":"Telumire","title":"ex:OptimisationCSS/SansOptimisation","tags":"[[Les bases de l'optimisations CSS]]"},
{"created":"20230114223907944","text":"https://exploringjs.com/","tags":"books","title":"Exploring JS: JavaScript books for programmers","modified":"20230114224002774"},
{"created":"20221206112326766","text":"* \u003C$tiddler tiddler=\"$:/config/ExternalJS/Prefix/Core\">Path to the \u003Ca href={{{ [{!!text}]\"-\"[\u003Cversion>]\".js\"+[join[]] }}} download>external js\u003C/a> (\u003C\u003Cversion>>) : \u003C$edit-text tag=\"input\" class=\"tc-edit-texteditor\"/>\u003C/$tiddler>\n* \u003C$tiddler tiddler=\"$:/config/ExternalJS/Prefix/Plugins\">Path to the \u003Ca href={{{ [{!!text}]\"-\"[\u003Cversion>]\".js\"+[join[]] }}} download>plugins js\u003C/a>: \u003C$edit-text tag=\"input\" class=\"tc-edit-texteditor\"/>\u003C/$tiddler>\n","creator":"Telumire","title":"External plugins and core","modified":"20230104030839877","modifier":"Telumire"},
{"created":"20230107171923971","text":".breakzplatform-github-comments-toggle{\npointer-events:none;\n}\n\n.breakzplatform-github-comments-toggle button{\npointer-events:all;\n}","tags":"$:/tags/Stylesheet","title":"Fix github comment","modified":"20230107172125537"},
{"created":"20221227234619954","text":"In AngularJS 1.x you had to build your forms mostly in your templates. Angular introduces an\nimperative way, which allows you to construct the form programmatically rather than through a\ntemplate.\n\nNow we can handle forms directly in our code. It’s more verbose but more powerful.\nTo build a form in our component code, we’ll use the abstractions we talked about: `FormControl` and\n`FormGroup`.\n\nWith these basic elements we can build a form in our component. But instead of writing `new`\n`FormControl()` or `new FormGroup()`, we will use a helper class, `FormBuilder`, that we can inject:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tconstructor(fb: FormBuilder) {\n\t\t// we will have to build the form\n\t}\n\tregister(): void {\n\t\t// we will have to handle the submission\n\t}\n}\"\"\">>\n\nThe `FormBuilder` is a helper class, with a handful of methods to create controls and groups. Let’s\nstart simple, and create a small form with two controls, a username and a password.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormControl, FormBuilder, FormGroup } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tuserForm: FormGroup\u003C{\n\t\tusername: FormControl\u003Cstring | null>;\n\t\tpassword: FormControl\u003Cstring | null>;\n\t}>;\n\tconstructor(fb: FormBuilder) {\n\t\tthis.userForm = fb.group({\n\t\t\tusername: '',\n\t\t\tpassword: ''\n\t\t});\n\t}\n\tregister(): void {\n\t\t// we will have to handle the submission\n\t}\n}\"\"\">>\n\nWe created a `form` with two controls. You can see that each control is created with the value `''`.\nThat’s the same as using the helper method `control()` of the `FormBuilder` with this string as\nparameter, and the same as calling the `new FormControl('')` constructor: the string represents the\ninitial value you want to display in your form. Here it is empty, so the inputs will be empty. But you\ncan have a value here, of course, if you want to edit an existing entity for example. The helper\nmethod can also have other specific attributes, as we will see later.\n\nWe need to implement the `register` method. As we saw, the `FormGroup` object has a `value` attribute, so\nwe can simply log its content with:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormControl, FormBuilder, FormGroup } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tuserForm: FormGroup\u003C{\n\t\tusername: FormControl\u003Cstring | null>;\n\t\tpassword: FormControl\u003Cstring | null>;\n\t}>;\n\tconstructor(fb: FormBuilder) {\n\t\tthis.userForm = fb.group({\n\t\t\tusername: fb.control(''),\n\t\t\tpassword: fb.control('')\n\t\t});\n\t}\n\tregister(): void {\n\t\tconsole.log(this.userForm.value);\n\t}\n}\"\"\">>\n\nWe now need to do some work in the template. We are going to use other directives from those we\nsaw for the \"template-driven\" forms. These directives are in the `ReactiveFormsModule` that you have\nto import it into your root module. Their names begin with `form` instead of `ng` as was the case for the\n\"template-driven\" forms.\n\nThe form needs to be bound to our `userForm` object, thanks to the `formGroup` directive. Each `input`\nfield is bound to a control, thanks to the `formControlName` directive:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\" [formGroup]=\"userForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput formControlName=\"username\">\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" formControlName=\"password\">\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nWe want to bind our component’s attribute userForm object to `formGroup`, so we use the bracket\nnotation `[formGroup]=\"userForm\"`. Each `input` receives the `formControlName` directive with a string\nliteral representing the control it is bound to. If you specify a name that does not exist, you will\nhave an error. As we pass a value (and not an expression), we don’t put the [] around\n`formControlName`.\n\nAnd we’re done: clicking on the submit button will log an object containing the username and the\nchosen password!\n\nIf you need to, you can update the value of a `FormControl` from your component, using `setValue()`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tusernameCtrl: FormControl\u003Cstring | null>;\n\tpasswordCtrl: FormControl\u003Cstring | null>;\n\tuserForm: FormGroup\u003C{\n\t\tusername: FormControl\u003Cstring | null>;\n\t\tpassword: FormControl\u003Cstring | null>;\n\t}>;\n\tconstructor(fb: FormBuilder) {\n\t\tthis.usernameCtrl = fb.control('');\n\t\tthis.passwordCtrl = fb.control('');\n\t\tthis.userForm = fb.group({\n\t\t\tusername: this.usernameCtrl,\n\t\t\tpassword: this.passwordCtrl\n\t\t});\n\t}\n\treset(): void {\n\t\tthis.usernameCtrl.setValue('');\n\t\tthis.passwordCtrl.setValue('');\n\t}\n\tregister(): void {\n\t\tconsole.log(this.userForm.value);\n\t}\n}\"\"\">>\n\nAs it can be painful to define the types of the class fields, you can also use the FormBuilder directly to\ninitialize them, and let TypeScript infer the types:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tusernameCtrl = this.fb.control('');\n\tpasswordCtrl = this.fb.control('');\n\tuserForm = this.fb.group({\n\t\tusername: this.usernameCtrl,\n\t\tpassword: this.passwordCtrl\n\t});\n\tconstructor(private fb: FormBuilder) { }\n\treset(): void {\n\t\tthis.usernameCtrl.setValue('');\n\t\tthis.passwordCtrl.setValue('');\n\t}\n\tregister(): void {\n\t\tconsole.log(this.userForm.value);\n\t}\n}\"\"\">>","title":"Forms: Code-driven","task":"todo","modified":"20230207161922049","page":"191"},
{"created":"20221227234623001","text":"","title":"Forms: Creating a custom validator","task":"todo","modified":"20230207162954959","page":"201"},
{"created":"20221227234626736","text":"","title":"Forms: Custom form inputs with ControlValueAccessor","task":"todo","modified":"20221227234628268"},
{"created":"20221227234621227","text":"Of course, our user should not be able to submit the form while there are still errors left, and these\nerrors should be perfectly displayed.\n\nIf you try the examples, you will see that even if the fields are required, we can still submit our\nform. Maybe we can do something about that?\n\nWe know that we can easily disable a button using the `disabled` property, but we need to give it an\nexpression reflecting the state of the current form.\n\n;Errors and submission in a code-driven form\n\nWe added a field `userForm`, of type `FormGroup`, to our component. This field gives us a complete view\nof the form and field states and errors.\n\nFor example, we can disable the form submission if the form is not valid:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\" [formGroup]=\"userForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput formControlName=\"username\">\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" formControlName=\"password\">\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nAs you can see on the last line, we just need to link `disabled` to the `invalid` property of `userForm`.\n\nNow we can only submit when all controls are valid. To help our user understand why the form\ncan’t be submitted, we should display error messages.\n\nStill using the `userForm`, we can do:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\" [formGroup]=\"userForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput formControlName=\"username\">\n\u003Cdiv *ngIf=\"userForm.get('username').hasError('required')\">Username is\nrequired\u003C/div>\n\u003Cdiv *ngIf=\"userForm.get('username').hasError('minlength')\">Username should be 3\ncharacters min\u003C/div>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" formControlName=\"password\">\n\u003Cdiv *ngIf=\"userForm.get('password').hasError('required')\">Password is\nrequired\u003C/div>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nCool! The errors are now displayed if the fields are empty, and they disappear when there is a\nvalue. But they are displayed right away when the form is shown. Maybe we can hide them until\nthe user changes the value?\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\" [formGroup]=\"userForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput formControlName=\"username\">\n\u003Cdiv *ngIf=\"userForm.get('username').dirty &&\nuserForm.get('username').hasError('required')\">\nUsername is required\n\u003C/div>\n\u003Cdiv *ngIf=\"userForm.get('username').dirty &&\nuserForm.get('username').hasError('minlength')\">\nUsername should be 3 characters min\n\u003C/div>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" formControlName=\"password\">\n\u003Cdiv *ngIf=\"userForm.get('password').dirty &&\nuserForm.get('password').hasError('required')\">\nPassword is required\n\u003C/div>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nIt’s a bit verbose, so you can create a reference for each control in your component:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\nselector: 'ns-register',\ntemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\nusernameCtrl = this.fb.control('', Validators.required);\npasswordCtrl = this.fb.control('', Validators.required);\nuserForm = this.fb.group({\nusername: this.usernameCtrl,\npassword: this.passwordCtrl\n});\nconstructor(private fb: FormBuilder) {}\nregister(): void {\nconsole.log(this.userForm.value);\n}\n}\"\"\">>\n\nAnd then use the references in your template:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\" [formGroup]=\"userForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput formControlName=\"username\">\n\u003Cdiv *ngIf=\"usernameCtrl.dirty && usernameCtrl.hasError('required')\">Username is\nrequired\u003C/div>\n\u003Cdiv *ngIf=\"usernameCtrl.dirty && usernameCtrl.hasError('minlength')\">Username\nshould be 3 characters min\u003C/div>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" formControlName=\"password\">\n\u003Cdiv *ngIf=\"passwordCtrl.dirty && passwordCtrl.hasError('required')\">Password is\nrequired\u003C/div>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\n;Errors and submission in a template-driven form\n\nIn a template-driven form, we don’t have any field in our component referring to the FormGroup, but\nwe already declared a local variable in the template, referring to the NgForm object exported by the\nform directive. Once again, this variable allows you to know the state of the form and accessing its\ncontrols.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel required>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel required>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nNow we need to display the errors of each field.\nLike the form directive, each control exports its FormControl object, so we can create a local variable\nto access the errors:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel required #username=\"ngModel\n\">\n\u003Cdiv *ngIf=\"username.dirty && username.hasError('required')\">Username is\nrequired\u003C/div>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel required\n#password=\"ngModel\">\n\u003Cdiv *ngIf=\"password.dirty && password.hasError('required')\">Password is\nrequired\u003C/div>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>","title":"Forms: Errors and submission","task":"todo","modified":"20230207162734363","page":"196"},
{"created":"20221227234624690","text":"","title":"Forms: FormArray and FormRecord","task":"todo","modified":"20221227234629708"},
{"created":"20221227234622596","text":"","title":"Forms: Grouping fields","task":"todo","modified":"20221227234631236"},
{"created":"20221227234615400","text":"Forms have always been extra polished in Angular. That’s one of the features that was the most\ndemoed in 1.x, and, as pretty much every app has forms, it won the hearts of a lot of developers.\n\nForms are hard: you have to validate the inputs of your user, display errors, you can have fields\nrequired or not, or depending on another field, you want to react to some field changes, etc. We also\nneed to test these forms, and that was impossible to achieve with a unit-test in AngularJS 1.x. It was\nonly feasible with an end-to-end test, which can be slow.\n\nIn Angular, the same care has been applied to forms, and the framework gives us a nice way to\nwrite our forms. In fact, it gives us several ways!\n\nYou can either write your form using only directives in your template: that’s the \"template-driven\"\nway. From our experience, it shines when you have a simple form, with not much validation.\n\nThe other way is the \"code-driven\" way, where you will write a description of the form in your\ncomponent, then use directives to bind this form to the inputs/textareas/selects in your template.\nIt’s more verbose, but also more powerful, especially if you want to do add custom validation, or to\ngenerate dynamic forms.\n\nLet’s go through the same use case twice, using each way, and see the differences.\n\nWe are going to write a simple form, to be able to register new users in our awesome PonyRacer\napp. We need a base component for each use case, so let’s begin with this:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\n@Component({\n\tselector: 'ns-register',\n\ttemplate: `\n\u003Ch2>Sign up\u003C/h2>\n\u003Cform>\u003C/form>\n`\n})\n\nexport class RegisterFormComponent { }\"\"\">>\n\nNothing fancy: a component with a simple template containing a form. In the next few minutes, we\nwill build a form allowing you to register a user with a username and a password.\n\nFor both methods, Angular will create a representation of our form.\n\nIn the \"template-driven\" way, it’s pretty much automatic: we just need to add the proper directives\nin the template and the framework takes care of the form representation creation.\n\nIn the \"code-driven\" way, we create this form representation manually, and then bind the form\nrepresentation to the inputs using directives.\n\nBehind the scenes, a form field, like an `input` or a `select`, is represented by a `FormControl` in Angular. It is the smallest part of a form, and it encapsulates the state of the field and its value.\n\nA `FormControl` has several attributes:\n\n* `valid`: if the field is valid, regarding the requirements and validations applied on it.\n* `invalid`: if the field is invalid, regarding the requirements and validations applied on it.\n* `errors`: an object containing the field errors\n* `dirty`: false until the user has modified its value.\n* `pristine`: the opposite of dirty.\n* `touched`: false until the user has entered it.\n* `untouched`: the opposite of`touched`.\n* `value`: the value of the field.\n* `valueChanges`: an Observable emitting every time there is a change on the field\n\nIt also offers some methods like `hasError()` to check if the control has a specific error.\n\nSo you can do something like this:\n\n\u003C\u003Ccopy-code ts \"\"\"const password = new FormControl('');\nconsole.log(password.dirty); // false until the user enters a value\nconsole.log(password.value); // '' until the user enters a value\nconsole.log(password.hasError('required')); // false\npassword.disable(); // disables the control\npassword.reset(); // resets the value\"\"\">>\n\nNote that you can pass an argument to the constructor, and that this argument will be the value.\n\n\u003C\u003Ccopy-code ts \"\"\"const password = new FormControl('Cédric');\nconsole.log(password.value); // logs \"Cédric\"\"\"\">>\n\nThese controls can be grouped in a `FormGroup` to represent a part of the form and have dedicated validation rules. The form itself is a group.\n\nA `FormGroup` has the same properties as a `FormControl`, with a few differences:\n\n• `valid`: if all fields are valid, then the group is valid.\n• `invalid`: if one of the fields is invalid, then the group is invalid.\n• `errors`: an object containing the group errors or null if the group is valid. Each error is a key,\nwhose value is an array containing every control affected by this error.\n• `dirty`: false until one of the controls gets dirty.\n• `pristine`: the opposite of dirty.\n• `touched`: false until one of the controls gets touched.\n• `untouched`: the opposite of touched.\n• `value`: the value of the group. To be more accurate, it’s an object with key/values representing\nthe controls and their values.\n• `valueChanges`: an Observable emitting every time there is a change on the group\n\nIt offers the same methods as `FormControl` like `hasError()`. It also has a method `get()` to retrieve a\ncontrol in the group.\n\nYou can create one like this:\n\n\u003C\u003Ccopy-code ts \"\"\"const form = new FormGroup({\nusername: new FormControl('Cédric'),\npassword: new FormControl('')\n});\nconsole.log(form.dirty); // logs false until the user enters a value\nconsole.log(form.value); // logs Object {username: \"Cédric\", password: ''}\nconsole.log(form.get('username')); // logs the Control\"\"\">>\n\nLet’s begin with a \"template-driven\" form!","title":"Forms: Overview","task":"todo","modified":"20230207160121310","page":"184"},
{"created":"20221227234624093","text":"","title":"Forms: Reacting to changes","task":"todo","modified":"20221227234630656"},
{"created":"20221227234625858","text":"","title":"Forms: Simple validation error messages with ngx-valdemort","task":"todo","modified":"20221227234628795"},
{"created":"20221227234625264","text":"","title":"Forms: Strictly typed forms","task":"todo","modified":"20221227234629256"},
{"created":"20221227234621718","text":"Whatever way you choose to create your forms, Angular does another awesome job for us: it\nautomatically adds and removes CSS classes on each field (and on the form) to allow us to add some\nvisual style.\n\nFor example, a field will have the class ng-invalid if one of its validators fails, or ng-valid if all the\nvalidators succeed. That means you can easily add some style, like a nice red border around the\nfields failing the validation:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cstyle>\ninput.ng-invalid {\nborder: 3px red solid;\n}\n\u003C/style>\n\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel required>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel required>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nAnother useful CSS class is `ng-dirty` which will be present if the user has changed the value. Its\nopposite is `ng-pristine`, present if the user never changed the value. I usually display the red border\nonly when the user has changed the value at least once:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cstyle>\ninput.ng-invalid.ng-dirty {\nborder: 3px red solid;\n}\n\u003C/style>\n\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel required>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel required>\n\u003C/div>\n\u003Cbutton type=\"submit\" [disabled]=\"userForm.invalid\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nFinally, there is a last CSS class: `ng-touched`. It will be present if the user enters and leaves the field\nat least once (even if she/he did not change the value). Its opposite is `ng-untouched`.\n\nWhen you display a form for the first time, a field will usually have the CSS classes `ng-pristine` `ng-\nuntouched` `ng-invalid`. Then, when the user enters and leaves the field, it switches to `ng-pristine ng-\ntouched ng-invalid`. When the user changes the value, still for an invalid one, we’ll have `ng-dirty\nng-touched ng-invalid`. And finally, when the value is valid: `ng-dirty ng-touched ng-valid`.","title":"Forms: Style","task":"todo","modified":"20230207162939667","page":"200"},
{"created":"20221227234627175","text":"","title":"Forms: Summary","task":"todo","modified":"20221227234627568"},
{"created":"20221227234619323","text":"With this method, we are going to use a bunch of directives in our form, and let the framework\nbuild the necessary `FormControl` and `FormGroup` instances. For example, the `NgForm` directive\ntransforms the `form` element into its powerful Angular version - think of it as the difference\nbetween Bruce Wayne and Batman.\n\nAll the directives we need are included in the `FormsModule` module, so we need to import it into our\nroot module.\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n@NgModule({\n\timports: [BrowserModule, FormsModule],\n\tdeclarations: [AppComponent],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\"\"\">>\n\n`FormsModule` contains the directives for the \"template-driven\" way. We’ll see later that there exists\nanother module, `ReactiveFormsModule`, in the same package `@angular/forms`, which is needed for the\n\"code-driven\" way.\n\nLet’s add the submit button:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\n@Component({\n\tselector: 'ns-register',\n\ttemplate: `\n\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\">\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\n`\n})\nexport class RegisterFormComponent {\n\tregister(): void {\n\t\t// we will have to handle the submission\n\t}\n}\"\"\">>\n\nI added a button, and defined an event handler for `ngSubmit` on the `form` tag. The `ngSubmit` event is\nemitted by the `NgForm` directive when `submit` is triggered. It calls the `register()` method of our\ncontroller, which will be implemented later.\n\nLast thing: our template will quickly grow, so let’s extract it to a dedicated file, using `templateUrl`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tregister(): void {\n\t\t// we will have to handle the submission\n\t}\n}\"\"\">>\n\nIn the \"template-driven\" way, you write your forms pretty much like in AngularJS 1.x, with a lot of\nthings in your template and not many in your component.\n\nIn its simplest form, you just add `ngModel` directives to your form template and that’s all. The `NgModel`\ndirective creates the `FormControl` for you, and the form automatically creates the `FormGroup`. Note\nthat you have to give a name to the input, which will be used by the framework to create the\n`FormGroup`.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel>\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nNow of course we need to do something for the submission, and to get hold of the user name and\npassword. To achieve that, we can define a local variable and assign it to the `NgForm` object created\nby Angular for the form. Remember these from the [[Template|Angular: Templates - Local variables]] chapter? Here, we are going to define a variable, `userForm`, referencing the form. We can do that because the `form` directive exports the `NgForm` directive instance, which has the same methods as the `FormGroup` class. We’ll see the exporting part in more detail when we study how to build advanced directives.\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003C!-- we use a local variable #userForm -->\n\u003C!-- and give its value to the register method -->\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel>\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nOur `register` method is now called with the form value as the argument:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { UserModel } from './user.model';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tregister(user: UserModel): void {\n\t\tconsole.log(user);\n\t}\n}\"\"\">>\n\nThis is only one-way data-binding though. If you update the field, the model will be updated, but\nupdating the model will not update your field value. But `ngModel` is more powerful than you think!","title":"Forms: Template-driven","task":"todo","modified":"20230207160753380","page":"186"},
{"created":"20230207160917695","text":"If you have been using AngularJS 1.x, or even just read an article about it, you must have seen the\nfamous example with an `input` and an expression displaying the `input` value, updated every time\nthe user modified the `input`, and the field automatically updated when the model changed. The\nfamous \"Two-Way Data-Binding\", something like:\n\n\u003C\u003Ccopy-code ts \"\"\"\u003C!-- AngularJS 1.x code example -->\n\u003Cinput type=\"text\" ng-model=\"username\">\n\u003Cp>{{ username }}\u003C/p>\"\"\">>\n\nWe can do a similar thing with Angular.\nYou start by defining a model of what will be filled in the form. We’ll do this in a UserModel\ninterface:\n\n\u003C\u003Ccopy-code ts \"\"\"export interface UserModel {\nusername: string;\npassword: string;\n}\"\"\">>\n\nOur `RegisterFormComponent` should have a field `user` of type `User`:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tuser: UserModel = {\n\t\tusername: '',\n\t\tpassword: ''\n\t};\n\tregister(): void {\n\t\tconsole.log(this.user);\n\t}\n}\"\"\">>\n\nAs you can see this time, the `register()` method is now directly logging the `user` object.\n\nWe are ready to add the inputs of our form. We need to bind our `inputs` to the model we have\ndefined. For this, we’ll use the `ngModel` directive:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" [(ngModel)]=\"user.username\">\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\"\n[(ngModel)]=\"user.password\">\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nWow! `[(ngModel)]`? What is this syntax? It’s a syntactic sugar that has been introduced to express\nthe same thing as:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cinput name=\"username\" [ngModel]=\"user.username\" (ngModelChange)=\"user.username = $event\">\"\"\">>\n\nThe `NgModel` directive updates the input value every time the related model `user.username` changes,\nhence the `[ngModel]=\"user.username\"` part. And it emits an event from an output named\nngModelChange every time the input is updated by the user, where the event is the new value, hence\nthe `(ngModelChange)=\"user.username = $event\"` part, which will update the model `user.username` with\nthis new value.\n\nInstead of writing the long form, we can use the new syntax `[()]`. If, like me, you have trouble\nremembering if it is `[()]` or `([])`, there is a cool mnemonic tip: it’s a banana-box! Yes, look: the `[]` is a box, and, inside, there are two bananas facing each other `()`!\n\nNow, every time we type something in our `input`, the model is updated. And if the model is updated\nin our component, our field will automatically display the correct value:\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register()\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" [(ngModel)]=\"user.username\">\n\u003Csmall>{{ user.username }} is an awesome username!\u003C/small>\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\"\n[(ngModel)]=\"user.password\">\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nIf you try the example above, you will see that the two-way data-binding works. And so does our\nform: we can submit it, and the component will log our `user` object!","title":"Forms: Two-way data-binding","modified":"20230207161350518","page":"189"},
{"created":"20221227234623699","text":"","title":"Forms: Updating on blur or on submit only","task":"todo","modified":"20221227234630223"},
{"created":"20221227234620472","text":"Validation is usually a big part of form-building. Some fields are required, some depend on one\nanother, some should be in a specific format, some should not have a value greater or lower than X,\nfor example.\n\nLet’s start by adding basic validation rules: all our fields are required.\n\n;In a code-driven form\n\nTo specify that every field is required, we will use a `Validator`. A validator returns a map of errors\nor null if it detects no error.\nA few validators are provided by the framework:\n\n* `Validators.required` to ensure that a control is not empty\n* `Validators.minLength(n)` to ensure that the value entered has at least n characters\n* `Validators.maxLength(n)` to ensure that the value entered has at most n characters\n* `Validators.email()` (available since version 4.0) to ensure that the value entered is a valid email address (good luck finding the correct regular expression by yourself for this one...)\n* `Validators.min(n)` (available since version 4.2) to ensure that the value entered is at least n\n* `Validators.max(n)` (available since version 4.2) to ensure that the value entered is at most n\n* `Validators.pattern(p)` to ensure that the value matches the regular expression p\n\nYou can apply several validators at once, by using an array, on a `FormControl` or on a `FormGroup`. Here we want every field to be mandatory, so we can add the required validator to each control, and make sure that the username is 3 characters at least.\n\n\u003C\u003Ccopy-code ts \"\"\"import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\n@Component({\n\tselector: 'ns-register',\n\ttemplateUrl: './register-form.component.html'\n})\nexport class RegisterFormComponent {\n\tuserForm = this.fb.group({\n\t\tusername: this.fb.control('', [Validators.required, Validators.minLength(3)]),\n\t\tpassword: this.fb.control('', Validators.required)\n\t});\n\tconstructor(private fb: FormBuilder) { }\n\tregister(): void {\n\t\tconsole.log(this.userForm.value);\n\t}\n}\"\"\">>\n\n;In a template-driven form\n\nAdding a required field in a template-driven form is also really straightforward: you just have to\nadd the `required` attribute to the `input`s. `required` is a provided directive, and will automatically add\nthe validator to this field. Same thing with `minlength`, `maxlength`, and `email` (`min` and `max` are not yet available as directives).\n\nStarting from the two-way data-binding example:\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Ch2>Sign up\u003C/h2>\n\u003Cform (ngSubmit)=\"register(userForm.value)\" #userForm=\"ngForm\">\n\u003Cdiv>\n\u003Clabel>Username\u003C/label>\u003Cinput name=\"username\" ngModel required minlength=\"3\">\n\u003C/div>\n\u003Cdiv>\n\u003Clabel>Password\u003C/label>\u003Cinput type=\"password\" name=\"password\" ngModel required>\n\u003C/div>\n\u003Cbutton type=\"submit\">Register\u003C/button>\n\u003C/form>\"\"\">>\n\nNote that this can be done in a \"code-driven\" form too.","title":"Forms: Validation","task":"todo","modified":"20230207162308350","page":"195"},
{"created":"20221227234747312","text":"","title":"Going to production: Conclusion","modified":"20221228183450570","task":"todo"},
{"created":"20221227234727364","text":"","title":"Going to production: enableProdMode","task":"todo","modified":"20221227234727555"},
{"created":"20221227234724731","text":"","title":"Going to production: Environments and configurations","task":"todo","modified":"20221227234724956"},
{"created":"20221227234723999","text":"","title":"Going to production: Overview","task":"todo","modified":"20221227234724213"},
{"created":"20221227234728163","text":"","title":"Going to production: Package your application","task":"todo","modified":"20221227234728397"},
{"created":"20221227234728907","text":"","title":"Going to production: Server configuration","task":"todo","modified":"20221227234729130"},
{"created":"20221227234726397","text":"","title":"Going to production: strictTemplates","task":"todo","modified":"20221227234726610"},
{"created":"20230109011616138","text":"Food database:\n\n* https://fr.openfoodfacts.org/\n* https://fdc.nal.usda.gov/api-guide.html\n* https://www.foodrepo.org/\n* https://ciqual.anses.fr/ (FR)\n* https://ndb.nal.usda.gov/ndb/ (USA)\n\nTutoriels & Guides\n\n* [[Search a database with an API in Angular]] ","tags":"","title":"How to get food data with Angular","modified":"20230109012249302"},
{"created":"20221122183235215","creator":"Telumire","text":"\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 250 250\">\n  \u003Cpath fill=\"#c3002f\" d=\"m125 230 78.9-43.7 14.2-123.1L125 30 31.9 63.2l14.2 123.1z\"/>\n  \u003Cpath fill=\"#dd0031\" d=\"M125 30 31.9 63.2l14.2 123.1L125 230z\"/>\n  \u003Cpath fill=\"#fff\" d=\"M125 52.1 66.8 182.6h21.7l11.7-29.2h49.4l11.7 29.2H183zm17 83.3h-34l17-40.9z\"/>\n\u003C/svg>","tags":"$:/tags/Image","title":"Icon/Angular","modified":"20221122200324486","modifier":"Telumire","domain":"angular"},
{"created":"20221229130547448","text":"https://developer.mozilla.org/en-US/docs/Glossary/IIFE\n\n\u003C\u003Ccopy-code js \"\"\"(function () {\n  // …\n})();\n\n(() => {\n  // …\n})();\n\n(async () => {\n  // …\n})();\"\"\">>\n\n[[Self-Executing Anonymous Function|https://developer.mozilla.org/en-US/docs/Glossary/Self-Executing_Anonymous_Function]] (runs as soon as it is defined), two major parts :\n\n* [[Grouping Operator|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Grouping]] `()`: prevent accessing variables within + polluting global scope\n* Creates the immediately invoked function expression `()` trough which the JavaScript engine will directly interpret the function\n\n!!! Use cases\n\n;Single use function\n\nThis limit the number of global variables. Initiation code that is only run once can use the IIFE pattern (can't be reused), this is better in this case than using a function declaration or a function expression.\n\n\u003C\u003Ccopy-code js \"\"\"(() => {\n  // some initiation code\n  let firstVariable;\n  let secondVariable;\n})();\n\n// firstVariable and secondVariable will be discarded after the function is executed.\n\"\"\">>\n\n;Async function\n\n[[async|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/async_function]] IIFE can use [[await|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await]] and [[for-await|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of]] in older browsers and JS runtimes without [[top-level await|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await#top_level_await]]:\n\n\u003C\u003Ccopy-code js \"\"\"const getFileStream = async (url) => {\n  // implementation\n};\n\n(async () => {\n  const stream = await getFileStream(\"https://domain.name/path/file.ext\");\n  for await (const chunk of stream) {\n    console.log({ chunk });\n  }\n})();\n\"\"\">>\n\n;Module pattern\n\nUsefull to create private and public variables / methods. See the book [[Learning JavaScript Design Patterns]] for more sophisticated use of the module pattern and IIFE.\n\n\n\u003C\u003Ccopy-code js \"\"\"const makeWithdraw = (balance) =>\n  ((copyBalance) => {\n    let balance = copyBalance; // This variable is private\n    const doBadThings = () => {\n      console.log(\"I will do bad things with your money\");\n    };\n    doBadThings();\n    return {\n      withdraw(amount) {\n        if (balance >= amount) {\n          balance -= amount;\n          return balance;\n        }\n        return \"Insufficient money\";\n      },\n    };\n  })(balance);\n\nconst firstAccount = makeWithdraw(100); // \"I will do bad things with your money\"\nconsole.log(firstAccount.balance); // undefined\nconsole.log(firstAccount.withdraw(20)); // 80\nconsole.log(firstAccount.withdraw(30)); // 50\nconsole.log(firstAccount.doBadThings); // undefined; this method is private\nconst secondAccount = makeWithdraw(20); // \"I will do bad things with your money\"\nconsole.log(secondAccount.withdraw(30)); // \"Insufficient money\"\nconsole.log(secondAccount.withdraw(20)); // 0\n\"\"\">>\n\n;Loop with var \u003C ES6\n\nSuppose we want to create 2 buttons with the texts Button 0 and Button 1 and when we click them, we would like them to alert 0 and 1. The following doesn't work: \n\n\u003C\u003Ccopy-code js \"\"\"for (var i = 0; i \u003C 2; i++) {\n  const button = document.createElement(\"button\");\n  button.innerText = `Button ${i}`;\n  button.onclick = function () {\n    console.log(i);\n  };\n  document.body.appendChild(button);\n}\nconsole.log(i); // 2\n\"\"\">>\n\nboth Button 0 and Button 1 alert 2 because i is global, with the last value 2. To fix this problem before ES6, we could use the IIFE pattern:\n\n\u003C\u003Ccopy-code js \"\"\"for (var i = 0; i \u003C 2; i++) {\n  const button = document.createElement(\"button\");\n  button.innerText = `Button ${i}`;\n  button.onclick = (function (copyOfI) {\n    return () => {\n      console.log(copyOfI);\n    };\n  })(i);\n  document.body.appendChild(button);\n}\nconsole.log(i); // 2\n\"\"\">>\n\nButtons 0 and 1 alert 0 and 1. The variable i is globally defined. Using the statement let, we could simply do: \n\n\u003C\u003Ccopy-code js \"\"\"for (let i = 0; i \u003C 2; i++) {\n  const button = document.createElement(\"button\");\n  button.innerText = `Button ${i}`;\n  button.onclick = function () {\n    console.log(i);\n  };\n  document.body.appendChild(button);\n}\nconsole.log(i); // Uncaught ReferenceError: i is not defined.\n\"\"\">>\n\nWhen clicked, these buttons alert 0 and 1.","tags":"","title":"IIFE","modified":"20221229131835602"},
{"created":"20230330095443720","text":"https://stackoverflow.com/questions/36624273/investigating-long-typescript-compile-times\n\nhttps://www.typescriptlang.org/docs/handbook/generics.html\n\nMaybe JSDoc to skip the ts compilation entirely ? \n\nhttps://fettblog.eu/typescript-jsdoc-superpowers/\n\nhttps://dev.to/thepassle/using-typescript-without-compilation-3ko4\n\nhttps://github.com/angular/tsickle","tags":"","title":"Improving typescript compilation time","modified":"20230330095800070"},
{"created":"20221122175340119","text":"Hi! My goal is to create an app with Angular and Ionic. You will find my notes here.\n\n!!! Learning\n\n;Books {{books||$:/core/ui/Buttons/new-here}}\n\n\u003C\u003Clist-links \"[tag[books]]\">>\n\n;Courses {{courses||$:/core/ui/Buttons/new-here}}\n\n\u003C\u003Clist-links \"[tag[courses]]\">>\n\n;Documentation {{doc||$:/core/ui/Buttons/new-here}}\n\n\u003C\u003Clist-links \"[tag[doc]]\">> ","creator":"Telumire","title":"Index","modified":"20221228040430486","modifier":"Telumire"},
{"created":"20221130220814937","creator":"Telumire","text":"","title":"internal link","modified":"20221130220814937","modifier":"Telumire"},
{"created":"20221227234715572","text":"","title":"Internationalization: Best practices","task":"todo","modified":"20221227234715763"},
{"created":"20221227234709521","text":"","title":"Internationalization: Currency","task":"todo","modified":"20221227234710759"},
{"created":"20221227234708925","text":"","title":"Internationalization: Locale","task":"todo","modified":"20221227234709095"},
{"created":"20221227234708147","text":"","title":"Internationalization: Overview","task":"todo","modified":"20221227234708333"},
{"created":"20221227234714619","text":"","title":"Internationalization: Pluralization","task":"todo","modified":"20221227234715134"},
{"created":"20221227234712063","text":"","title":"Internationalization: Process and tooling","task":"todo","modified":"20221227234712264"},
{"created":"20221227234711286","text":"","title":"Internationalization: Translating","task":"todo","modified":"20221227234711500"},
{"created":"20221227234713650","text":"","title":"Internationalization: Translating messages in the code","task":"todo","modified":"20221227234713841"},
{"created":"20221122182324625","text":"Source: https://www.udemy.com/course/ionic-2-the-practical-guide-to-building-ios-android-apps\n\n\u003C\u003Clist-links \"[tag{!!title}]\">>","creator":"Telumire","title":"Ionic - Build iOS, Android & Web Apps with Ionic & Angular","modified":"20221227182842494","modifier":"Telumire","tags":"courses"},
{"created":"20221229133733449","text":"https://www.oreilly.com/library/view/javascript-patterns/9781449399115/\n\nfree: https://www.patterns.dev/posts/classic-design-patterns/","tags":"books free","title":"JavaScript Patterns","modified":"20221229144721680"},
{"created":"20221229133657533","text":"https://www.oreilly.com/library/view/javascript-the-definitive/9781491952016/","tags":"books","title":"JavaScript: The Definitive Guide","modified":"20221229140047615"},
{"created":"20221229133754849","text":"https://www.oreilly.com/library/view/javascript-the-good/9780596517748/","tags":"books","title":"JavaScript: The Good Parts","modified":"20221229140242909"},
{"created":"20221227234638819","text":"","title":"Just in Time vs Ahead of Time: Ahead of Time compilation","task":"todo","modified":"20221227234639110"},
{"created":"20221227234638053","text":"","title":"Just in Time vs Ahead of Time: Code generation","task":"todo","modified":"20221227234638311"},
{"created":"20230203230443561","text":"https://guide-angular.wishtack.io/","tags":"courses","title":"Le Guide Angular par Marmicode","modified":"20230203230459224"},
{"created":"20221122222023458","creator":"Telumire","text":"{{!!link}}\n\n\u003C\u003C\u003C.tc-small-quote\n{{!!caption}}\n\u003C\u003C\u003C","tags":"[[My wikis]]","title":"Learning Angular","modified":"20221128160934693","modifier":"Telumire","link":"https://learning-angular.tiddlyhost.com","image":"https://cdn.stocksnap.io/img-thumbs/960w/code-coding_TIV258VG3N.jpg","color":"","caption":"Learning Angular","background-color":"","icon":""},
{"created":"20221123044038186","creator":"Telumire","text":"{{!!link}}\n\n\u003C\u003C\u003C.tc-small-quote\n{{!!caption}}\n\u003C\u003C\u003C","tags":"[[My wikis]]","title":"Learning CSS","modified":"20221128160934694","modifier":"Telumire","link":"https://learning-css.tiddlyhost.com","image":"https://cdn.stocksnap.io/img-thumbs/960w/computer-code_AWXC4NOFZN.jpg","color":"","caption":"Learning CSS","background-color":"","icon":""},
{"created":"20221229133338407","text":"https://www.patterns.dev/posts/classic-design-patterns/","title":"Learning JavaScript Design Patterns","modified":"20221229133433017","tags":"books"},
{"created":"20221122222851803","creator":"Telumire","text":"{{!!link}}\n\n\u003C\u003C\u003C.tc-small-quote\n{{!!caption}}\n\u003C\u003C\u003C","tags":"[[My wikis]]","title":"Learning math","modified":"20221128160934694","modifier":"Telumire","link":"https://learning-math.tiddlyhost.com","image":"https://cdn.stocksnap.io/img-thumbs/960w/math-equation_GQ1ZPF01BL.jpg","color":"","caption":"Learning mathematics","background-color":"","icon":""},
{"created":"20211126173802935","creator":"user","text":"Résumé du livre \"CSS Optimization Basics\" par Jens Oliver Meiert. \nCe livre est open-source et peut être lu gratuitement sur github (en anglais) : https://github.com/j9t/css-optimization-basics\n\nvoir aussi https://web.dev/fast/#optimize-your-css\n\n---\n\n\nLe code présenté ici suit le guide de style HTML/CSS de google :\nhttps://google.github.io/styleguide/htmlcssguide.html\n\n!!! Compréhension\n\nPour être efficace, il faut s'assurer que le code reste compréhensible. Pour la cohérence, cela s'applique aussi au travail individuel : il faut au moins rester cohérent avec nous-mêmes.\n\nCela peut être atteint via documentation et commentaires, mais plus important encore : trier les déclarations de façon cohérente. \n\n;Cohérence\n\nPlusieur niveaux de cohérence: \n\n*Niveau 1 (individu) : écrire et formater les choses de façon prévisible pour nous-mêmes.\n* Niveau 2 (groupe) : doit être cohérent avec le style utilisé par d'autres.\n* Niveau 3 (institution) : suivre les standards d'une organisation.\n\nÊtre cohérent facilite grandement l'optimisation du code.\n\n|grid2col|k\n|Code sans cohérence.|Ordre des déclarations et sélecteurs corrigé.|h\n|{{ex:OptimisationCSS/SansOptimisation}}|{{ex:OptimisationCSS/AvecOptimisation}}\u003Cblockquote>Note : la pseudo-class `:is` serait égallement un très bon choix pour simplifier un tel code.\u003C/blockquote>|\n\n*Établir des [[lignes directrices|https://www.oreilly.com/library/view/the-little-book/9781492048459/]] pour le code\n* Utiliser ou créer des outils pour suivre et tester que les règles sont respectées\n\nLa plupart des règles peuvent et seront appliquées au moment du codage, d'autres lors de la publication si l'on doit appliquer des règles légèrement différentes.\n\n!!! Tris des déclarations (automatisable)\n\n[[Google|https://google.github.io/styleguide/htmlcssguide.html#Declaration_Order]] recommande le tris alphabétique, sauf pour les préfix vendeurs, qui sont à déclarer juste avant leur déclaration principale.\n\nCela permet de savoir ou chercher une propriété particulière rapidemment, tout en étant facile à mettre en oeuvre.\n\n!!! Tris des sélecteurs\n\nBeaucoup plus difficile à mettre en oeuvre. L'une des seules tentatives : https://meiert.com/en/blog/how-to-order-css-selectors/\n\nLe tris des sélecteurs est crucial pour pouvoir suivre le principe DRY (''D''on't ''R''epeat ''Y''ourself), qui aide la maintenance et réduit la complexité des tests.\n\nUne convention possible est de commencer par les éléments blocks de haut niveau, puis les éléments du niveau suivant, puis les classes et ID, [[etc|https://meiert.com/en/blog/how-to-order-css-selectors/]].\n\n!!! Simplicité\n\nSimplicité et minimalisme ne sont pas toujours corrélé, comme dans le cas des notations raccourcies (shorthands), mais elles le sont quand il s'agit de réduire le nombre de caractères.\n\nUn code simple est plus facile à comprendre et souvent plus rapide. Cela demande aussi un certain niveau de compétence.\n\n!!! Nom des classes et ID\n\nAvec OOCSS, BEM, Atomic CSS, Tailwind, les conventions de nommages d'ID et de classes ne sont plus une préoccupation importante.\n\nCependant, à l'échelle de plus petits projets, on ne bénéficie pas de schéma de nommage sacrifiant compréhension et maintenabilité pour de brève soupes de classe présentationnelle (Atomic CSS).\nLes ID tout comme les sélecteurs universel ont toujours leur place, ainsi que `!important`  et les shorthands.\n\nLes [[régles de nommages pour ID et class|https://meiert.com/en/blog/best-practice-ids-and-classes/]] sont simples et durables :\n\n* Garder l'utilisation des ID et classes à un //minimum//.\n* Si nécessaire, utiliser des ID et noms de classes //fonctionnels//, sinon utiliser des ID noms de classe //générique//.\n* Garder les noms le plus court possible mais aussi aussi long que nécessaire.\n\nCes trois règles constituent un bon point de départ.\n\n!!! Notations raccourcie\n\nElles permettent d'écrire moins de code, mais peuvent être difficile à comprendre. Cela conduit [[certains|https://csswizardry.com/2016/12/css-shorthand-syntax-considered-an-anti-pattern/]] à les qualifier d'\"anti-pattern\" tandis que d'[[autres|https://meiert.com/en/blog/css-shorthands/]] ne sont pas de cet avis.\n\nLes deux camps ont raison. Elles pertmettent de réduire le code dans tout les cas, mais pour les projets complexes leurs implications peuvent conduire à des complications détrimentales, du fait de leurs valeurs implicites.\n\nElles restent cependant très utiles pour des projets plus modestes.\n\n!!! Performance\n\nLes performances de rendus ne sont pas aussi importantes que les performances de chargement.\n\nPar exemple, ne pas [[ommettre des tags optionnels|https://meiert.com/en/blog/optional-html/]] pour éviter au navigateur de devoir les compléter est beaucoup moins important que d'optimiser des images. En pratique, ce genre de calculations est si rapide que l'impact est négligeable.\n\n\n!!! Performances des sélecteurs\n\nUn [[article|https://www.stevesouders.com/blog/2009/03/10/performance-impact-of-css-selectors/]] de Steve Souders montre que même des stylesheets avec 18000 règles sont rendues en environ 600ms. \n\n\u003C\u003C\u003C\nPour la plupart des sites webs, les gains possibles seront négligeables et n'en valent pas le coût. Certaines règles CSS et interactions avec javascript peuvent rendre une page sensiblement plus lente - c'est là que des efforts devraient être faits.\n\u003C\u003C\u003C\n\nLes sélecteurs comme le sécteur universel ne méritent pas d'être bannis d'usage.Cependant, la méthodologie n'était pas sans problèmes et selon Ben Frain :\n\n\u003C\u003C\u003C\nIl est pratiquement impossible de prédire l'impact final sur les performances simplement en examinant les sélecteurs.\n\u003C\u003C\u003Chttps://benfrain.com/css-performance-revisited-selectors-bloat-expensive-styles/\n\n# Optimiser les sélecteurs n'apporte pas de gains remarquables,\n# Cela ralentit l'écriture du code et peut le rendre plus difficile à lire.\n\n!!! CSS inline\n\nÉviter. Oui, cela peut améliorer les performances (réduit les requêtes HTTP, applique des sélecteurs plus rapidement), mais cela viole la séparation présentation/contenu et rend la maintenance trop difficile.\n\nL'exception étant pour des styles uniques pour des pages uniques. l'HTML doit être le plus dépouillé possible pour être le plus facile à maintenir.\n\nLes [[avancées récentes|https://meiert.com/en/blog/two-paradigms/]] en gestion de contenu et process de déploiement rendent cependant la maintenance HTML bien plus facile, c'est donc un problème moins préoccupant de nos jours.\n\n!!! Être prudent dans les déclarations\n\nPossiblement important.`box-shadow`, `filter`, `opacity`, et `transform`, selon leurs valeurs, peuvent être beaucoup plus lentes que d'autres. Il reste cependant difficile de prédire l'impact de ces règles, cela ne doit donc pas être une priorité.\n\n!!! Hygiène des règles\n\nSupprimer le CSS inutilisé a un gros impact sur les performances, mais n'est pas évident à mettre en oeuvre. Quelques actions pouvant aider :\n\n*Utiliser des sections et commenter le code\n* Utiliser des sélecteurs descriptifs et au moins \"direct\" (`footer` plutôt que `body>:last-child`)\n* Suivre et supprimer le code inutilisé\n* Revoir régulièrement les feuilles de style\n* Utiliser des outils :\n** L'onglet \"Coverage\" des [[Chrome Developer Tools |https://developer.chrome.com/docs/devtools/coverage/]]\n** [[Unused CSS|https://unused-css.com/]] crawler (le plus complet)\n** UnCSS [[online tool|https://uncss-online.com/]], [[script|https://github.com/giakki/uncss]], et [[package|https://www.npmjs.com/package/uncss]]\n** PurifyCSS script\n** PurgeCSS package\n** rm-unused-css package\n** ngx-unused-css package (pour Angular)\n\nPour l'optimisation des images, voir https://images.guide/\n\n!!! Qualité\n\n;Validation\n\nLes tests permettent de vérifier que le code fonctionne, et la validation assure qu'il n'y'a pas d'erreurs.\n\nLa validation joue un rôle critique pour s'assurer que le code est syntaxiquement correct. Les validateurs peuvent ne pas être au fait des dernières nouveautés mais cela ne doit pas nous empêcher de valider le code.\n\nhttps://jigsaw.w3.org/css-validator/, https://uitest.com/analysis/#conformance\n\n;Maintenance\n\nÉviter le travail inutile. Utiliser des conventions de nommage correct pour le nom des feuilles de styles est un bon départ.\n\n;`!important`\n\nUtile pour des tests rapide et pour débugger, pour des déclarations en début de code qui ne sont pas trop spécifiques et risquent d'être écrasées.\n\n;Séparation des préoccupations\n\nSéparer structure (HTML), présentation (CSS) et fonctionnalités (Javascript). Cela assure que l'on utilise les bons outils, et permet de savoir ou chercher lorsque des problèmes arrivent.\n\nDans les feuilles de styles, deux options :\n\n* Séparer les styles par fonctions et les décomposer en modules (BEM)\n* Ne rien faire de particulier, car si l'on trie les sélecteurs de façon cohérente, cela mène à un ordre modulaire. On peut DRY par module, mais aussi pour toute la feuille de style, ce que l'approche BEM rend difficile.\n\n!!! DRY\n\nLimiter la répétition de déclarations, limiter le nombre d'endroits ou un style est définit.\n\n* Écrire le CSS\n* Décider les limites DRY : par sections (code CSS fonctionnel indépendant), fichier, composant, `@media` ?\n* Utiliser les mêmes formats pour faciliter la recherche de doublons (ex : `background: none`, `background:none`, et `background-image: none`)\n* Chercher les doublons :\n** Nouvelles feuilles de styels : aprés le setup initial\n** Ajouts et bug fixes : après le travail\n** Astuce: Si la colorisation de version control ne suffit pas, indenter temporairement les déclarations changées pour vérifier les répétitions seuls.\n* Supprimer les doublons :\n** Déterminez quelle règle respective doit venir en premier dans la feuille de style (pour cela, il faut avoir une norme non écrite ou écrite sur la façon d'ordonner les sélecteurs).\n** Si cette première règle contient des déclarations supplémentaires, c'est-à-dire des déclarations que nous n'avons pas encore vérifiées ou qui ne sont pas des doublons, copiez la règle entière et collez-la après l'original. Conservez le doublon découvert dans la première règle et supprimez les autres déclarations, et vice versa dans la deuxième règle, de sorte que cette dernière ressemble à l'ancienne règle, mais sans la déclaration que nous avons trouvée utilisée plus d'une fois.\n** Copiez les sélecteurs des autres règles qui contiennent la déclaration dupliquée respective dans la règle qui vient en premier.\n** Veillez à supprimer les déclarations dupliquées dont les sélecteurs viennent d'être copiés dans la feuille de style, et à supprimer la règle entière si elle ne contient que la déclaration dupliquée qui a été déplacée.\n** (Répétez.)\n* Vérifier que l'ordre des sélecteurs est correct.\n* .. ainsi que le placement des règles.\n* Répéter, tester.\n\nhttps://cssstats.com/ permet de voir le ratio des déclarations uniques dans une feuille de style\n\n\nCes consignes permettent générallement de réduire le poids d'une feuille de style. Il est aussi possible de [[compresser|https://css-tricks.com/brotli-static-compression/]] les feuilles de style pour gagner encore en performances.\n\n!!! Optimisations de production\n\nTODO","tags":"","title":"Les bases de l'optimisation CSS","modified":"20221117163603925","modifier":"Telumire"},
{"created":"20221223174949500","text":"`var` declaration is tricky because of the //hoisting// mechanism in JS : if a variable is declared with var, anywhere in the code, it's as if it was declared at the top of the function even if it was declared later. A variable set with `let` is restricted to the block. This the recommended way to declare variables.","tags":"ES2015","title":"let","modified":"20221227234122961","task":"done"},
{"created":"20221119164410841","creator":"Telumire","text":"See [[$:/Feed/Settings]]\n\nThis is made possible thanks to the file upload plugin.","tags":"$:/Feed","title":"Libro now support RSS feed generation","modified":"20221206103509800","modifier":"Telumire"},
{"created":"20230130170053915","text":"\u003C\u003Clink-book page:\"__\">>","tags":"$:/tags/TextEditor/Snippet","caption":"link to the current book","title":"Link book macro snippet","modified":"20230130170206885"},
{"created":"20221214164915291","creator":"Telumire","text":"\u003C$list filter=\"[is[current]has[_canonical_uri]]:filter[get[_canonical_uri]search[https://Telumire.github.io/learning-angular/files/]]\">\n\n\u003Ca href={{{ https://github.com/Telumire/learning-angular/tree/main/files/[{!!title}search-replace[$],[%24]] +[join[]]}}}>see on github\u003C/a>\n\n\u003C/$list>","tags":"$:/tags/ViewTemplate","title":"Link to github file","modified":"20221214165751117","modifier":"Telumire"},
{"created":"20221212172510640","creator":"Telumire","text":"\u003Csvg width=\"22pt\" height=\"22pt\" viewBox=\"4 4 56 56\">\u003Cpath d=\"M 8.1 4 A 4.1 4.1 0 0 0 4 8.1 V 55.9 A 4.1 4.1 0 0 0 8.1 60 H 55.9 A 4.1 4.1 0 0 0 60 55.9 V 8.1 A 4.1 4.1 0 0 0 55.9 4 H 8.1 Z M 16 11.3 A 4.7 4.7 0 0 1 20.7 16 A 4.7 4.7 0 0 1 16 20.7 A 4.7 4.7 0 0 1 11.3 16 A 4.7 4.7 0 0 1 16 11.3 Z M 41.8 24.4 C 46.5 24.4 52 27.6 52 35.8 V 52 H 44 V 37.8 C 44 33.5 41.3 31.7 39 31.7 A 5.8 5.8 0 0 0 33 37.9 V 52 H 25 V 25 H 32.5 V 28.8 H 32.6 C 33.4 27.1 37.1 24.4 41.8 24.4 Z M 12 25 H 20 V 52 H 12 V 25 Z\"/>\u003C/svg>\n\n","tags":"$:/tags/Image","title":"LinkedIn icon","modified":"20221212174719949","modifier":"Telumire","domain":"linkedin.com"},
{"created":"20230130163945427","text":"\\define link-book(page) \u003Ca href={{{[is[current]backlinks[]tag[books]get[book-url]]  [\u003C__page__>addprefix[#page=]] +[join[]] }}}>open book\u003C/a>","tags":"$:/tags/Macro","title":"Macro link to book","modified":"20230130165706528"},
{"created":"20230107210923814","text":"\\define set-task() \u003C$action-listops $field=\"task\" $subfilter=\"+[cycle[todo doing done]]\"/>\n\\define task-btn()\n\u003C$button actions=\u003C\u003Cset-task>> class={{{ tc-btn-invisible task [{!!task}] +[join[ ]]}}}>\u003C$genesis $type=\"input\" $names=\"type[{!!task}match[doing]then[checked]] [{!!task}match[done]then[checked]]\" $values=\"checkbox [{!!task}match[done]then[checked]]\"/> \u003C$genesis $type={{{ [\u003CstoryTiddler>!match\u003CcurrentTiddler>then[$link]else[span]] }}}>{{!!title}}\u003C/$genesis>\u003C/$button>\n\\end","tags":"$:/tags/Macro task","title":"Macro task btn","modified":"20230107211919552","code-body":"yes"},
{"created":"20230107211308900","text":".task input{\nmargin-top: 2px;\n}\n\n.todo{ accent-color:grey; }\n.doing{ accent-color:orange; }\n.done{ accent-color:green; }","tags":"task $:/tags/Stylesheet","title":"Macro task btn Style","modified":"20230107211324535"},
{"created":"20221226235743438","text":"JS lack a standard way to organize functions in namespaces and dynamically load JS.\n\nNode.js use the CommonJS convention for its ecosystem of modules.\nRequireJS use the AMD (Asynchronous Module Definition) API.\n\nES2015 introduce a syntax supporting async loading (like AMD), static analysis by tools and cyclic dependencies. It handles export/import to and from modules.\n\nTo expose a function to bet on a specific horse in a race, and a function to start the race:\n\n\u003C\u003Ccopy-code js \"\"\"export function bet(race, horse) {\n// ...\n}\nexport function start(race) {\n// ...\n}\"\"\" \"races.service.js\">>\n\n`export` exports the two functions.\n\n\u003C\u003Ccopy-code js \"\"\"import { bet, start } from './races.service';\n\n// later\nbet(race, horse1);\nstart(race);\"\"\" \"from another file\">>\n\nThis is a //named export//: we import two functIons and have to specify the filename containg these functions (`races.service`). It's possible to automate the importing with the IDE.\n\nTo give an alias to a imported method:\n\n\u003C\u003Ccopy-code js \"\"\"import { start as startRace } from './races.service';\n\n// later\nstartRace(race);\"\"\">>\n\nTo use the exported symbols (functions, constants, classes, etc.) : wildcard `*`\n\n>.warning Only use `*` if //all or most// of the functions are needed !\n\nAn alias is required to use `*`:\n\n\u003C\u003Ccopy-code js \"\"\"import * as racesService from './races.service';\n\n// later\nracesService.bet(race, horse1);\nracesService.start(race);\"\"\">>\n\nIf the module exposes only one function / value / class, the default keyword can be used instead of a named export:\n\n\u003C\u003Ccopy-code js \"\"\"// horse.js\nexport default class Horse {}\n// races.service.js\nimport Horse from './horse';\"\"\">>\n\nWith default, we dont use curly braces. The alias can be anything but it's a good practice to give it the module name if possible. Default export can be mixed with nammed export, with only one default/module.\n\nModules/Imports are used a lot in Angular.\n\nComponents and service will be a class, isolated in their own file and exported, then imported in other component when needed.","tags":"ES2015","title":"Modules","modified":"20221229075213117","task":"done"},
{"created":"20221128160912718","creator":"Telumire","text":"\u003C$list filter=\"[tag[My wikis]]\">\n\u003Ca href={{!!link}} class=\"thumbnail no-icon\" >\n\u003C$macrocall $name=\"thumbnail\"\nicon={{!!icon}}\ncolor={{!!color}}\nbackground-color={{!!background-color}}\nimage={{!!image}}\ncaption={{!!caption}}\nwidth=\"168\"\nheight=\"95\"\n/>\n\u003C/a>\n\u003C/$list>\n\n\u003Cstyle>\na.thumbnail { display: inline-block; }\na.thumbnail .tc-tiddlylink{ pointer-events: none; }\n\u003C/style>","title":"My wikis","modified":"20221128160934694","modifier":"Telumire"},
{"created":"20230410133041103","text":"* [[Javascript and the next decade of data programming|https://benschmidt.org/post/2020-01-15/2020-01-15-webgpu/]]\n* [[Zoomable, animated scatterplots in the browser that scales over a billion points|https://github.com/nomic-ai/deepscatter]] ","tags":"","title":"Optimisations javascript","modified":"20230410133311841"},
{"created":"20221227234718295","text":"","title":"Performances: First load","task":"todo","modified":"20221227234718499"},
{"created":"20221227234721524","text":"","title":"Performances: NgZone","task":"todo","modified":"20221227234721684"},
{"created":"20221227234717373","text":"","title":"Performances: Overview","task":"todo","modified":"20221227234717575"},
{"created":"20221227234719919","text":"","title":"Performances: Profiling","task":"todo","modified":"20221227234720106"},
{"created":"20221227234719140","text":"","title":"Performances: Reload","task":"todo","modified":"20221227234719336"},
{"created":"20221227234720763","text":"","title":"Performances: Runtime performances","task":"todo","modified":"20221227234720950"},
{"created":"20221226235500820","text":";Promise vs callback \n\nA callback is a function that is passed as an argument to another function and is executed after some kind of event or operation has completed. In JavaScript, callbacks are commonly used to handle asynchronous operations, such as reading from a file or making an HTTP request.\n\nA Promise is an object that represents the result of an asynchronous operation. Promises provide a way to handle asynchronous results in a more synchronous fashion. Under the hood, Promises are using callbacks to perform their tasks.\n\nHere is an example :\n\n\u003Ctable style=\"width:100%;table-layout:fixed;\"> \n\u003Cthead>\n\u003Cth>Callback\u003C/th>\n\u003Cth>Promise\u003C/th>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr>\n\u003Ctd>\n\u003C\u003Ccopy-code js  \"\"\"getUser(login, function (user) {\n    getRights(user, function (rights) {\n        updateMenu(rights);\n    });\n});\"\"\">>\n\u003C/td>\n\u003Ctd>\n\u003C\u003Ccopy-code js \"\"\"getUser(login)\n    .then(function (user) {\n        return getRights(user);\n    })\n    .then(function (rights) {\n        updateMenu(rights);\n    })\"\"\">>\n\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\nPromise is easier to read and write because it uses a synchronous-looking syntax: fetch a user, then get their rights, then update the menu.\n\nA promise is a \"thenable\" object - it has a `then` method, that takes two arguments: resolve (sucess) and reject (failure) callback.\n\n;Creating a Promise\n\n\u003C\u003Ccopy-code js \"\"\"const getUser = function (login) {\n    return new Promise(function (resolve, reject) {\n        // async stuff, like fetching users from server, returning a response\n        if (response.status === 200) {\n            resolve(response.data);\n        } else {\n            reject('No user');\n        }\n    });\n};\n\n//register callbacks with the then method\n\n//here we ignore potential error\n\ngetUser(login)\n    .then(function (user) {\n        return getRights(user) // return a promise\n            .then(function (rights) {\n                return updateMenu(rights);\n            });\n    })\n\n//can also be written like this:\n\ngetUser(login)\n    .then(function (user) {\n        return getRights(user); // getRights is returning a promise\n    })\n    .then(function (rights) {\n        return updateMenu(rights);\n    })\n\n//error handling: one per promise\n\ngetUser(login)\n    .then(\n        function (user) {\n            return getRights(user);\n        },\n        function (error) {\n            console.log(error); // will be called if getUser fails\n            return Promise.reject(error);\n        }\n    )\n    .then(\n        function (rights) {\n            return updateMenu(rights);\n        },\n        function (error) {\n            console.log(error); // will be called if getRights fails\n            return Promise.reject(error);\n        }\n    )\n\n//error handling: one for the chain\n\ngetUser(login)\n    .then(function (user) {\n        return getRights(user);\n    })\n    .then(function (rights) {\n        return updateMenu(rights);\n    })\n    .catch(function (error) {\n        console.log(error); // will be called if getUser or getRights fails\n    })\"\"\">>\n\nThe [[Fetch API|https://fetch.spec.whatwg.org/]] use Promises.","tags":"ES2015","title":"Promises","modified":"20221229052005195","task":"done"},
{"created":"20221227234549162","text":"Angular uses RxJS and provides an adapter around the `Observable` object: `EventEmitter`, used to emit events on an `Output`.\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n  selector: \"ns-pony\",\n  // the method `selectPony()` will be called on click\n  template: ` \u003Cdiv (click)=\"selectPony()\">{{ pony.name }}\u003C/div> `,\n})\nexport class SelectablePonyComponent {\n  @Input() pony!: PonyModel;\n  // we declare the custom event as an output,\n  // the EventEmitter is used to emit the event\n  @Output() readonly ponySelected = new EventEmitter\u003CPonyModel>();\n  /**\n   * Selects a pony when the component is clicked.\n   * Emits a custom event.\n   */\n  selectPony(): void {\n    this.ponySelected.emit(this.pony);\n  }\n}\"\"\">>\n\nObservables are used to handle any kind of asynchronous task.","title":"Reactive Programming: Angular","task":"done","modified":"20230108012253870"},
{"created":"20221227234547000","text":"Reactive programming is a way to build an app using events and reacting to them. The events can be composed, filtered, grouped, etc. using functions like `map`, `filter`, etc. Incoming data will be in a stream, that can be listened to, modified (filtered, merged, ..) and become a new stream that also can be listened to.\n\nThis is usefull for decoupled programs, where we ignore the consequences of a method call and focus on simply raising an event and let the related part of the app react accordingly.\n\nAngular is built using reactive programming: Reacting on HTTP request, spawning custom event, dynamic forms, ..","title":"Reactive Programming: Overview","task":"done","modified":"20230107235544895"},
{"created":"20221227234547642","text":"In reactive programming, data is a stream, an ordered sequence of events representing three possibilities: values, error, completion events. They can be pushed from the data producer to the consumer. \n\nWe //subscribe// to these streams (called //observable//) by defining a listener called //observer//, able to handle the three types of events: this is the //observer// pattern.\n\nObserver are different from promises: they both handle asynchronous values, but a promise is single use, while an observer continue to listen until it recieves a \"completion\" event.\n\nObservables are not part of the ECMASCRIPT spec yet and currently are still at the draft state: https://tc39.es/proposal-observable/\n\nObservables are close to arrays: they both are a collection of values, but data comes all at once in an array vs over time in an observable.\n\nAngular uses the most popular JS reactive library, [[RxJS|https://github.com/Reactive-Extensions/RxJS]].","title":"Reactive Programming: Principles","task":"done","modified":"20230108001629664"},
{"created":"20221227234548317","text":"Observables, like arrays, provide function to tramsform data:\n\n* `take(n)` : select n first events\n* `map(fn)`: apply fn to each event and return the result\n* `filter(predicate)`: let through the events fulfilling the predicate.\n* `reduce(fn)`: apply fn to every event to reduce the stream to one value.\n* `merge(s1, s2)`: merge the streams.\n* `subscribe(fn)`: apply fn to each event it receives\\\n* ..\n\n;Examples\n\nMultiplying an array of numbers by 2, filtering those under 5 and print the result:\n\n\u003C\u003Ccopy-code ts \"\"\"[1, 2, 3, 4, 5]\n  .map((x) => x * 2)\n  .filter((x) => x > 5)\n  .forEach((x) => console.log(x)); // 6, 8, 10\"\"\">>\n\nWe can build an observable from an array with RxJS to do the same thing:\n\n\u003C\u003Ccopy-code ts \"\"\"import { filter, from, map } from \"rxjs\";\n\nfrom([1, 2, 3, 4, 5])\n  .pipe(\n    map((x) => x * 2),\n    filter((x) => x > 5)\n  )\n  .subscribe((x) => console.log(x)); // 6, 8, 10\"\"\">>\n\nWith observable, the collection can be asynchronous, a good example is browser events.\n\nExample with jQuery:\n\n\u003C\u003Ccopy-code jQuery \"\"\"import { fromEvent } from \"rxjs\";\nconst input = $(\"input\");\nfromEvent(input, \"keyup\").subscribe(() => console.log(\"keyup!\"));\ninput.trigger(\"keyup\"); // logs \"keyup!\"\ninput.trigger(\"keyup\"); // logs \"keyup!\"\n\"\"\">>\n\nObservables can be build from anything : AJAX requests, browser events, Web socjets responses, promise,.. and of course, function:\n\n\u003C\u003Ccopy-code ts \"\"\"const observable = new Observable((observer) => observer.next(\"hello\"));\nobservable.subscribe((value) => console.log(value));\n// logs \"hello\"\n\"\"\">>\n\n\n`new Observable()` takes a function that will emit events on the `observer` givebn as parameter, in this example only one event is emitted.\n\nThe `subscribe` method accepts an object as argument instead of a callback function, that can define a callback to handle events (`next`) and one to handle errors (`error`).\n\nHere the `map` method throws an exception that is logged by the error handler:\n\n\u003C\u003Ccopy-code ts \"\"\"range(1, 5)\n  .pipe(\n    map((x) => {\n      if (x % 2 === 1) {\n        throw new Error(\"something went wrong\");\n      } else {\n        return x;\n      }\n    }),\n    filter((x) => x > 5)\n  )\n  .subscribe({\n    next: (x) => console.log(x),\n    error: (error) => console.log(error),\n  });\n// something went wrong\n\"\"\">>\n\nWhen the observable is done, it emit a completion event that can be catched with a third handler. Here, the `range` method we are using to create the events will iterate from 1 to 5 then emit the signal completed:\n\n\u003C\u003Ccopy-code ts \"\"\"range(1, 5)\n  .pipe(\n    map((x) => x * 2),\n    filter((x) => x > 5)\n  )\n  .subscribe({\n    next: (x) => console.log(x),\n    error: (error) => console.log(error),\n    complete: () => console.log(\"done\"),\n  });\n// 6, 8, 10, done\"\"\">>\n\nAn observable can be used for many things:\n\n* transformation (delaying, debouncing...)\n* combination (merge, zip, combineLatest...)\n* filtering (distinct, filter, last...)\n* maths (min, max, average, reduce...)\n* conditions (amb, includes...)\n* .. \n\nhttp://rxmarbles.com/ provides a good visual representation of each function:\n\n\n\u003Ciframe src=\"https://rxmarbles.com\" style=\"width:100%;height:600px;border:none;\"/>","title":"Reactive Programming: RxJS","task":"done","modified":"20230108003518646"},
{"created":"20221203030520301","creator":"Telumire","text":"[[$:/Libro/ExternalLinksIcon/Style]]","tags":"$:/Feed","modified":"20221203030535384","modifier":"Telumire","title":"Removed styling for tags and enabled icons for internal links"},
{"created":"20221226154746289","text":"The `arguments` object is an array-like object that is available inside every function and contains the arguments passed to the function. It can be used to handle extra function arguments when the number of arguments is not known in advance or when the function is not defined with a fixed number of arguments. For example:\n\n\u003C\u003Ccopy-code js \"\"\"function sum() {\n  let total = 0;\n  for (let i = 0; i \u003C arguments.length; i++) {\n    total += arguments[i];\n  }\n  return total;\n}\n\nconsole.log(sum(1, 2, 3, 4, 5)); // 15\nconsole.log(sum(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)); // 55\"\"\">>\n\nIn this code, the `sum` function uses the `arguments` object to iterate over all the arguments passed to the function and add them up to get the total. The `arguments` object behaves like an array, so it has a `length` property and can be accessed using square bracket notation (e.g., `arguments[i]`).\n\nOne thing to note is that the `arguments` object is not an actual array, so it does not have all the methods of an array (such as `forEach`, `map`, etc.). To use these methods, you can convert the arguments object to an actual array using the `Array.from` method or the spread operator (e.g., `[...arguments]`).\n\nHere is an example of using the `forEach` method with the `arguments` object:\n\n\u003C\u003Ccopy-code js \"\"\"\nfunction logArguments() {\n  Array.from(arguments).forEach(arg => {\n    console.log(arg);\n  });\n}\n\nlogArguments('a', 'b', 'c');\n// Output:\n// a\n// b\n// c\"\"\">>\n\n\n; Spread vs rest operator\n\nThe rest operator and the spread operator are similar in that they both use the \"...\" syntax, but they serve different purposes.\n\nThe rest operator is used to gather all remaining arguments into an array when defining a function. It is usually used in combination with destructuring assignment (a way to extract values from arrays or objects) to assign the gathered arguments to individual variables.\n\nFor example:\n\n\u003C\u003Ccopy-code js \"\"\"\nfunction sum(...numbers) {\n  let total = 0;\n  for (let number of numbers) {\n    total += number;\n  }\n  return total;\n}\n\nconsole.log(sum(1, 2, 3, 4, 5)); // 15\n\"\"\">>\n\nIn this code, the rest operator is used to gather all the arguments passed to the sum function into an array called numbers. The for loop then iterates over the elements of the numbers array and adds them up to get the total.\n\nThe spread operator, on the other hand, is used to expand an iterable (such as an array or string) into individual elements or properties when calling a function or constructing an array or object.\n\nFor example:\n\n\u003C\u003Ccopy-code js \"\"\"\nlet numbers = [1, 2, 3];\nconsole.log(...numbers); // 1 2 3\n\nlet first = [4, 5, 6];\nlet second = [7, 8, 9];\nlet combined = [...first, ...second];\nconsole.log(combined); // [4, 5, 6, 7, 8, 9]\n\nlet obj = {a: 1, b: 2};\nlet objCopy = {...obj};\nconsole.log(objCopy); // {a: 1, b: 2}\n\"\"\">>\n\nIn these examples, the spread operator is used to expand the elements of the numbers array into individual elements when calling the console.log function, to combine two arrays into a single array, and to create a shallow copy of an object.","tags":"ES2015","title":"Rest operator","modified":"20221227234128211","task":"done"},
{"created":"20221227234609154","text":"Some routes of the application should not be accessible to all users, depending on their\npermissions. Of course, you should hide or disable links pointing to these routes if the user may not\naccess them. You should also make sure that the backend doesn’t allow accessing or modifying\nresources that the user isn’t authorized to access or modify. But that still won’t prevent users from\naccessing routes that they’re not allowed to access, who can simply enter their URL in the address\nbar.\nThat’s where guards come into play. There are 4 kinds of guards:\n\n* `CanActivate`: when set on a route, the guard can disable the activation of this route. Note that the\nguard can also return a URL to navigate elsewhere (to be more accurate, it can return an\nAngular type called `UrlTree` - keep reading for an example). This can be useful for showing an\nerror page, or to navigate to the login page when an unauthenticated user tries accessing a\nroute that requires authentication;\n*`CanActivateChild`: when set on a route, the guard can disable the activation of children of that\nroute. This can be useful to disable access to many child routes at once, based on their URL;\n*`CanLoad`: this guard is used on a route with a `loadChildren` attribute. This attribute allows lazy\nloading a whole feature bundle, containing child routes (we’ll talk about lazy loading a bit\nlater). It goes further than the `CanActivate` guard by preventing even loading the feature bundle;\n*`CanDeactivate`: this guard is different from the three other ones. It’s used to prevent navigation\nfrom outside of the currently activated route. This can be useful for asking for confirmation\nbefore leaving a route containing a large form, for example.\n*`CanMatch`: introduced in Angular v14.1, this guard indicates to the router if the route can be\nmatched or not. If the guards returns `false`, then the route is simply ignored, and the router\nlooks for another to match. A typical usage of `CanMatch` is to have several routes matching the\nsame path with different components, and use `CanMatch` to let the router know which one should\nbe displayed based on the user profile for example.\n\nHere’s how you would add a `CanActivate` guard on a route. The three other guards are added in a\nsimilar way:\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: 'races', component: RacesComponent, canActivate: [LoggedInGuard] }\"\"\">>\n\nIn the above example, `LoggedInGuard` is an Angular service. As any other service, it must be\nprovided, typically by adding it to the providers of the Angular module.\n\nThis service must implement the `CanActivate` interface. It consists of deciding whether the route can\nbe activated or not (by checking if the user is logged in or not), and in returning a `boolean`, a\n`Promise\u003Cboolean|UrlTree>`, an `Observable\u003Cboolean|UrlTree>` or a `UrlTree`.\n\nThe router will navigate to the route if the returned value is true, or if the returned promise is\nresolved as true, or if the returned observable emits `true`. If the returned value is a `UrlTree`, it\ncancels the current navigation and triggers a navigation to the returned `UrlTree`.\n\nHere’s what the `LoggedInGuard` might look like:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable({\n\tprovidedIn: 'root'\n})\nexport class LoggedInGuard implements CanActivate {\n\tconstructor(private router: Router, private userService: UserService) { }\n\tcanActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean |\n\t\tUrlTree {\n\t\t// returns `true` if the user is logged in or redirects to the login page\n\t\t// note that you can also use `router.createUrlTree()` to build a `UrlTree` with\n\t\tparameters\n\t\treturn this.userService.isLoggedIn() || this.router.parseUrl('/login');\n\t}\n}\"\"\">>\n\nInstead of defining a service and passing its class in the route configuration, a\nfunction with the same signature as the service method can also be passed. I\nwouldn’t advise it in general cases though, as it is less type-safe and doesn’t allow\ninjecting a service in the guard.\n\nHierarchical routes combined with empty-path routes can be very handy when you want to apply a\nguard on several routes at once. For example, if you want both the races and the ponies routes to be\naccessible only to logged in users, instead of\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: 'ponies/:ponyId', component: PonyComponent, canActivate: [LoggedInGuard] },\n{ path: 'races', component: RacesComponent, canActivate: [LoggedInGuard] }\"\"\">>\n\nyou can introduce an empty-path, componentless route as a parent. This route won’t consume any\nURL segment, and won’t activate any component, but its guards will be called when navigating to\nany of its children:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: '',\n\t\tcanActivate: [LoggedInGuard],\n\t\t\tchildren: [\n\t\t\t\t{ path: 'ponies/:ponyId', component: PonyComponent },\n\t\t\t\t{ path: 'races', component: RacesComponent }\n\t\t\t]\n}\"\"\">>","title":"Router: Guards","task":"doing","modified":"20230207153713545","page":"174"},
{"created":"20221227234608489","text":"Routes can have children. This can be useful for several reasons:\n\n* applying guards to several routes at once (see later);\n* applying resolvers to several routes at once (see later);\n* sharing a a common template between several routes.\n\nAs we have seen before, when the router activates a route, the component of the route is inserted in\nthe page at the location marked by the router-outlet directive.\nThis mechanism can in fact be used in nested components, too. Suppose you have a complex page\nto display the profile of a pony. This page would display its name and portrait at the top, and would\nhave several tabs at the bottom: one to display its birth certificate, one to display its track record, and one to display journalist reviews about this pony. You want to have a URL for each tab, in order\nto be able to directly link to them. But you don’t want to reload the pony and repeat its name and\nportrait on every on these three tab components.\n\nThe solution is to use a nested `router-outlet` in the template of the `PonyComponent`, and to define a\nparent pony route, this way:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: 'ponies/:ponyId',\n\t\tcomponent: PonyComponent,\n\t\t\tchildren: [\n\t\t\t\t{ path: 'birth-certificate', component: BirthCertificateComponent },\n\t\t\t\t{ path: 'track-record', component: TrackRecordComponent },\n\t\t\t\t{ path: 'reviews', component: ReviewsComponent }\n\t\t\t]\n}\"\"\">>\n\nWhen going to the URL `ponies/42/reviews`, for example, the router will insert the PonyComponent at\nthe location indicated by the main router-outlet, in the root component. The template of\nPonyComponent, besides the name and the portrait of the pony, contains a second router-outlet.\nThis is where the child `ReviewsComponent` will be inserted.\n\n[img[$:/diagram/screenshotreviewcomponent]]\n\nWhen going to the URL `ponies/42`, the pony component will be displayed, but none of the three\nchildren components will. You might want to display the birth certificate tab by default. That can be\nachieved using an empty-path route, redirecting to the `brith-certificate` route:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: 'ponies/:ponyId',\n\t\tcomponent: PonyComponent,\n\t\t\tchildren: [\n\t\t\t\t{ path: '', pathMatch: 'full', redirectTo: 'birth-certificate' },\n\t\t\t\t{ path: 'birth-certificate', component: BirthCertificateComponent },\n\t\t\t\t{ path: 'track-record', component: TrackRecordComponent },\n\t\t\t\t{ path: 'reviews', component: ReviewsComponent }\n\t\t\t]\n}\"\"\">>\n\nNote that, in the above example, the redirect is relative to the `ponies/:ponyId` route, because it\ndoesn’t start with a `/`.\n\nInstead of redirecting, you might want to display the birth certificate at the URL `ponies/42`. This can\nalso be achieved using a child empty-path route:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: 'ponies/:ponyId',\n\t\tcomponent: PonyComponent,\n\t\t\tchildren: [\n\t\t\t\t{ path: '', component: BirthCertificateComponent },\n\t\t\t\t{ path: 'track-record', component: TrackRecordComponent },\n\t\t\t\t{ path: 'reviews', component: ReviewsComponent }\n\t\t\t]\n}\"\"\">>","title":"Router: Hierarchical and empty-path routes","task":"doing","modified":"20230207153237563","page":"172"},
{"created":"20221227234612508","text":"This section will conclude this long chapter about the Angular router.\nWhen the application grows in size and features, loading the whole application at once can become\na problem: the application bundle is too large and takes too much time to load and parse.\n\nMoreover, some parts of the application are only used by some users of the application, or are used\nrarely, and loading them eagerly is a waste of time and bandwidth. This is where lazy-loading is\nuseful.\n\nLazy loading consists in splitting the application into multiple Angular modules, and into several\nJavaScript bundles. A lazy-loaded module defines its own routes, components and services, bundled\ninto a separate JavaScript file. The main module only defines a route allowing to access the lazy-\nloaded module. As the name implies, the Angular router waits for the user to navigate to this route\nbefore loading the JavaScript module, and adding the child routes, module, component and services\nto the application.\n\n[img[$:/diagram/screenshotmainbundle.png]]\n\nit’s actually possible to load the lazy-loading modules in the background, after the\nroot module has been loaded and the application has started, without waiting for\nthe user to navigate to the module, thanks to an alternative `preloadingStrategy`.\n\nTo illustrate how we can configure lazy loading, we will assume that you want to define an admin\nsection in your application, that should be lazy loaded. We will also assume that you’re using\nAngular CLI to build your application.\n\nThe first step is to define a child Angular module. The `admin.module.ts` file would look like this:\n\n\u003C\u003Ccopy-code ts \"\"\"@NgModule({\n\timports: [CommonModule],\n\tdeclarations: []\n})\nexport class AdminModule { }\"\"\">>\n\nThere is an important difference from the root module: this child module doesn’t import\nBrowserModule. Instead, it imports CommonModule.\n\nThe second step is to define an admin component, and at least one route for this component in a file\nnamed `admin.routes.ts`:\n\n\u003C\u003Ccopy-code ts \"\"\"export const ADMIN_ROUTES: Routes = [{ path: '', component: AdminComponent }];\"\"\">>\n\nThis routing configuration must be imported in the admin module, but once again, there is a subtle\nbut important difference in the way it’s done in the root module:\n\nInstead of using `RouterModule.forRoot()` we must use `RouterModule.forChild()`, because this is a\nchild module. Since the router is a stateful singleton service, we must not provide it a second time\nfrom this child module.\n\nThese differences between a child and a root module are not specific to lazy-\nloaded modules. We will explain the rationale for these differences and the\nsubtleties of root and child modules in a future chapter.\n\nThe `AdminComponent` is declared in this child admin module, and not in the root module. Declaring it\nin the root module would ruin the goal we have: only loading this component when needed, lazily.\nThe final step is to add a route in the main `app.routes.ts` file, and tell the router to lazy-load the\nadmin module when navigating to that route (or any child route it might have):\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: 'admin', loadChildren: () => import('./admin/admin.module').then(m => m\n.AdminModule) }\"\"\">>\n\nAs you can see, this is achieved by using the `loadChildren` property of the route definition and the\ndynamic import function from TypeScript.\n\nThe value of this property has been for a long time a string containing the relative\npath of the module to load lazily, followed by the name of the class decorated with\n`NgModule` (for example `./admin/admin.module#AdminModule`). Angular 8.0 introduced\nthe more standard, typed and less magical `() ⇒ import().then()` syntax, and it is\nnow the recommended way.\n\nWhen building this application, Angular CLI parses the route configurations and detects that the\nadmin child module is lazy-loaded. Without any more work on your part, it generates an additional\nJavaScript bundle for the admin module (named `0.chunk.js`), and generates the necessary\nJavaScript to load this bundle when the router requires `'./admin/admin.module'`.","title":"Router: Lazy loading","task":"doing","modified":"20230207155507153","page":"180"},
{"created":"20221227234607002","text":"In the above example illustrating a redirect, I applied a strategy for matching the route: `'full'`. The\ndefault strategy is `'prefix'`, which matches a route with a URL when the URL starts with the path of\nthe route. If we used this default strategy here, all URLs would redirect to /breaking, since all URLs\nstart with an empty string.\n\nThe matching strategy consists in finding the first route that matches the complete URL. So, for\nexample, if you define routes like\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: 'races/:id', component: RaceComponent },\n{ path: 'races/new', component: RaceCreationComponent }\"\"\">>\n\nand the URL is `races/new`, the component that the router will activate is in fact the `RaceComponent`.\nIndeed, `races/:id` matches with `races/new` and comes first in the list of routes. To solve this problem,\nchange the order of the routes:\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: 'races/new', component: RaceCreationComponent },\n{ path: 'races/:id', component: RaceComponent }\"\"\">>","title":"Router: Matching strategy","task":"doing","modified":"20230207152850451"},
{"created":"20221227234605598","text":"How can we navigate between the different components? Well, you can manually type the URL and\nreload the page, but that’s not very convenient. And we don’t want to use \"classic\" links, with `\u003Ca href=\"...\">\u003C/a>`. Indeed, clicking on that link makes the browser load the page at that URL, and restart the whole Angular application. But the goal of Angular is to avoid such page reloads: we\nwant to create a Single Page Application. Of course, there is a built-in solution.\n\nIn a template, you can insert a link with the directive `RouterLink` pointing to the path you want to go\nto. We can use this directive because our root module imports the `RouterModule`, making all the\nexported directives of `RouterModule` available to the root module. The `RouterLink` directive can\nreceive a constant representing the path you want to go to or an array of strings, representing the\npath and its params. For example in our `RacesComponent` template, if we want to navigate to the\n`HomeComponent`, we can imagine something like:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca href=\"\" routerLink=\"/\">Home\u003C/a>\n\u003C!-- same as -->\n\u003Ca href=\"\" [routerLink]=\"['/']\">Home\u003C/a>\"\"\">>\n\nAt runtime, the link `href` will be computed by the router and will point to `/`.\n\nThe leading slash in the path is necessary. If not included, `RouterLink` builds the\nURL relatively to the current path (which can be useful with nested components,\nas we’ll see later). Adding a slash indicates that the URL must be computed from\nthe application base URL.\n\nThe `RouterLink` directive can be used with the `RouterLinkActive` directive which can set a CSS class\nautomatically if the link points to the current route. This allows you, for example, to style a menu\nitem as selected when it points to the current page.\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca href=\"\" routerLink=\"/\" routerLinkActive=\"selected-menu\">Home\u003C/a>\"\"\">>\n\nWe can even put a reference on this directive, to know if the route is active, and use it in the\ntemplate:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca href=\"\" routerLink=\"/\" routerLinkActive #route=\"routerLinkActive\">Home {{\nroute.isActive ? '(here)' : '' }}\u003C/a>\"\"\">>\n\nIt’s also possible to navigate from the code, by using the `Router` service and its method `navigate()`. It’s often handy when you want to redirect your user after an action:\n\n\u003C\u003Ccopy-code ts \"\"\"export class RacesComponent {\n\tconstructor(private router: Router) { }\n\tsaveAndMoveBackToHome(): void {\n\t\t// ... save logic ...\n\t\tthis.router.navigate(['']);\n\t}\n}\"\"\">>\n\nThe method takes an array of parameters, with the path you want to navigate to as the first\nelement.\n\nIt is also possible to have parameters in the URL, and it’s really useful to define dynamic URLs. For\nexample, we want to display a detail page for a pony, with a meaningful URL for this page, like\n`ponies/id-of-the-pony-/name-of-the-pony`.\n\nTo do so, let’s define a route in the configuration with one (or several) dynamic parameters.\n\n\u003C\u003Ccopy-code ts \"\"\"export const routes: Routes = [\n\t{ path: '', component: HomeComponent },\n\t{ path: 'races', component: RacesComponent },\n\t{ path: 'races/:raceId/ponies/:ponyId', component: PonyComponent }\n];\"\"\">>\n\nWe can then define dynamic links with `routerLink`:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca href=\"\" [routerLink]=\"['/races', race.id, 'ponies', pony.id]\">See pony\u003C/a>\"\"\">>\n\nOf course, the target component needs to access those parameters to be able to load and display the\npony with the given identifier. To get the value of the parameters, the router provides a service,\nthat you can of course inject in the component, named `ActivatedRoute`. This object can be used\ninside `ngOnInit`, and has a very useful field: `snapshot`. This field has all the parameters of the URL in\n`paramMap`!\n\n\u003C\u003Ccopy-code ts \"\"\"export class PonyComponent implements OnInit {\n\tpony!: PonyModel;\n\tconstructor(private ponyService: PonyService, private route: ActivatedRoute) { }\n\tngOnInit(): void {\n\t\tconst id = this.route.snapshot.paramMap.get('ponyId')!;\n\t\tthis.ponyService.get(id).subscribe(pony => (this.pony = pony));\n\t}\n}\"\"\">>\n\nThis hook is also a good place to do the initialization work of the component as you can see.\n\nAs you may have spotted, we are using `snapshot`. Is there a non snapshot version? Yes there is. And\nit provides a way to subscribe to parameter changes, with, you guessed it, an observable. This\nobservable is called `paramMap`.\n\nThis is very important: the router will reuse your component if it can! Let’s say our app has a \"Next\" button to see the next pony. The URL will change from `/ponies/1` to `/ponies/2` for example when the user clicks. The router will then reuse our component instance: that means the `ngOnInit` will not be called again! If you want your component to update for this kind of navigation, you have no other way than using the `paramMap` observable!\n\n\u003C\u003Ccopy-code ts \"\"\"export class PonyReusableComponent implements OnInit {\n\tpony!: PonyModel;\n\tconstructor(private ponyService: PonyService, private route: ActivatedRoute) { }\n\tngOnInit(): void {\n\t\tthis.route.paramMap.subscribe((params: ParamMap) => {\n\t\t\tconst id = params.get('ponyId')!;\n\t\t\tthis.ponyService.get(id).subscribe(pony => (this.pony = pony));\n\t\t});\n\t}\n}\"\"\">>\n\nHere we subscribe to the observable offered by `ActivatedRoute`. Now, every time the URL changes\nfrom `/ponies/1` to `/ponies/2` for example, the `paramMap` observable will emit an event, and we’ll fetch\nthe correct pony to display on screen.\n\nNote that instead of subscribing to the result of the `PonyService` inside the subscribe of the params\nupdate, we can use the more elegant `switchMap` operator:\n\n\u003C\u003Ccopy-code ts \"\"\"export class PonySwitchMapComponent implements OnInit {\n\tpony!: PonyModel;\n\tconstructor(private ponyService: PonyService, private route: ActivatedRoute) { }\n\tngOnInit(): void {\n\t\tthis.route.paramMap\n\t\t\t.pipe(\n\t\t\t\tmap((params: ParamMap) => params.get('ponyId')!),\n\t\t\t\tswitchMap(id => this.ponyService.get(id))\n\t\t\t)\n\t\t\t.subscribe(pony => (this.pony = pony));\n\t}\n}\"\"\">>\n\nWhat you have just learnt should cover your basic routing needs. But the router goes well beyond\nthis and offers many additional features. Covering them all in detail is quite a big task, and you can\nfeel overwhelmed when trying to learn them all.\n\nThis section will try to present most of the additional features as concisely as possible, by\nexplaining what they’re useful for. But it will not try covering every detail. If you really need an\nextensive coverage of the router features, there’s a [[whole book|https://leanpub.com/router]] available for that, written by the main contributor to the Angular router, Victor Savkin.","title":"Router: Navigation","task":"doing","modified":"20230207152648262","page":"168"},
{"created":"20221227234611716","text":"We’ve seen before that routes can have parameters. For example, the route `races/:raceId` has one\nparameter named `raceId`, and the value of this parameter, when navigating to `/races/42` is the\nstring `'42'`. But this route can actually have additional parameters named matrix parameters.\n\n\nMatrix parameters are not an Angular-specific feature. Although rarely used and\nthus lesser-known than query parameters, they’re a standard part of URIs, which\nare supported by many server-side frameworks, too.\n\n\nIf you navigate to the URL\n\n\u003C\u003Ccopy-code ts \"\"\"/races/42;foo=bar;baz=wiz\"\"\">>\n\nthen the `params` and `paramMap` properties of the activated route will contain two additional parameters 'foo' and 'baz' having the values 'bar' and 'wiz'. Those matrix parameters are specific to the route. So, for example, if the URL is\n\n\u003C\u003Ccopy-code ts \"\"\"/races/42;foo=bar;baz=wiz/ponies\"\"\">>\n\nthen the component associated with the ponies segment won’t have `foo` nor `bar` in the parameters of\nits activated route. Only the component associated with the `races/42` segment will.\n\nTo navigate to such a URL, you would use the following code:\n\n\u003C\u003Ccopy-code ts \"\"\"router.navigate(['/races', 42, { foo: 'bar', baz: 'wiz' }, 'ponies']);\"\"\">>\n\nor an equivalent router link:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca [routerLink]=\"['/races', 42, { foo: 'bar', baz: 'wiz' }, 'ponies']\">Link\u003C/a>\"\"\">>\n\nQuery parameters, on the other hand, are shared by all the route segments. They look like this in\nthe URL:\n\n\u003C\u003Ccopy-code ts \"\"\"/races/42/ponies?foo=bar&baz=wiz\"\"\">>\n\nThese query parameters are accessible from any route, using the `queryParams` or `queryParamMap`\nproperty.\n\nTo navigate to such a URL, you would use the following code\n\n\u003C\u003Ccopy-code ts \"\"\"router.navigate(['/races', 42, 'ponies'], { queryParams: { foo: 'bar', baz: 'wiz' }\n});\"\"\">>\n\nor the equivalent router link:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ca [routerLink]=\"['/races', 42, 'ponies']\" [queryParams]=\"{ foo: 'bar', baz: 'wiz' }\">Link\u003C/a>\"\"\">>\n\nFinally, we’ve seen that resolvers allowed adding properties to the data property of the activated\nroute, before the route is activated. It’s also possible to add additional data to a route directly from\nits configuration. This can be useful when the same component can be used in two different\ncontexts for example:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: 'races',\n\t\tcomponent: RacesComponent,\n\t\t\tdata: {\n\t\tallowDeletion: false\n\t}\n}\"\"\">>","title":"Router: Parameters and data","task":"doing","modified":"20230207155004215","page":"179"},
{"created":"20221227234606317","text":"A common use-case is to have a URL simply redirect to another URL in the application. This can\nhappen because you want, for example, the root URL of your news app to redirect to the /breaking\nnews category, or an old URL to redirect to a new one after a refactoring. This is possible using\n\n\u003C\u003Ccopy-code ts \"\"\"{ path: '', pathMatch: 'full', redirectTo: '/breaking' },\"\"\">>","title":"Router: Redirects","task":"doing","modified":"20230207152720061"},
{"created":"20221227234609950","text":"In a good old multi-page application where the pages are generated server-side, when clicking on a\nlink, here’s what happens: a request is sent to the server, the browser typically shows a spinning\nicon on the tab, and when the response finally comes back from the server, the URL in the address\nbar changes and the content of the new page is displayed.\n\nIn an Angular single-page application, it doesn’t exactly work that way. The user clicks on a link to\ndisplay a pony race (for example). The router creates an instance of the RaceComponent, and the\ncomponent sends an AJAX request to load the race. The router immediately inserts the component\ntemplate at the router-outlet location and changes the URL in the address bar. At this time,\nimmediately after the click, the user sees the new page, but without any race. When the response to\nthe AJAX request comes back, the race is stored in the component and the DOM is updated.\n\nThis has advantages and drawbacks:\n\n* the navigation to the new page feels faster;\n* the user can be confused if loading the race is too long, because the page appears blank, which\nlooks like a bug;\n* the template must be coded carefully, in order to work fine during the small period of time\nwhen the race is null or undefined;\n* the template can however provide an immediate feedback by displaying a message or a\nspinning animation indicating that the race is being loaded;\n* if loading the race fails (because the connectivity is lost, for example), then the navigation has\nbeen made and the URL has changed, although the page can’t display any race, instead of\nstaying on the previous page.\n\nA resolver allows making the application behave almost like a traditional multi-page application.\nInstead of letting the race component load the race, you apply a resolver on the route, and the\nresolver loads the race on behalf of the component.\n\nLike a guard, a resolver can return data synchronously (by returning a race) or asynchronously (by\nreturning a promise or observable of a race). The router only navigates to the route once the\npromise has been resolved, or once the observable has completed with at least an emitted race.\nHere’s what a resolver for a race would look like:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable({\n\tprovidedIn: 'root'\n})\nexport class RaceResolver implements Resolve\u003CRaceModel> {\n\tconstructor(private raceService: RaceService) { }\n\tresolve(\n\t\troute: ActivatedRouteSnapshot,\n\t\tstate: RouterStateSnapshot\n\t): Observable\u003CRaceModel> | Promise\u003CRaceModel> | RaceModel {\n\t\tconst id = route.paramMap.get('raceId')!;\n\t\treturn this.raceService.get(id);\n\t}\n}\"\"\">>\n\nAs you can see, it’s a simple service, which uses the activated route snapshot passed by the router to\nget the value of the raceId parameter, and returns an Observable\u003CRaceModel>.\nHere’s how the resolver would be applied to the route:\n\n\u003C\u003Ccopy-code ts \"\"\"{\n\tpath: 'races/:raceId',\n\t\tcomponent: RaceComponent,\n\t\t\tresolve: {\n\t\trace: RaceResolver\n\t}\n}\"\"\">>\n\nAs you can see, the RaceResolver is associated with an object key that I chose to name race. This is\nthe key that the router will use to store the loaded race into the data of the activated route snapshot.\nSo the race component can simply obtain the race the following way:\n\n\u003C\u003Ccopy-code ts \"\"\"export class RaceComponent implements OnInit {\n\trace!: RaceModel;\n\tconstructor(private route: ActivatedRoute) { }\n\tngOnInit(): void {\n\t\tthis.race = this.route.snapshot.data['race'];\n\t}\n}\"\"\">>\n\nNote that, if you navigate from a route to the same route, but with different parameters (for\nexample, if you have a Next race link on the page), then the guards and the resolvers applied to the\nroute are called again. The component, in that case, will still be reused, and should still subscribe to\nan observable to get the race (or just store the observable in the component and use the async pipe\nin the template):\n\n\u003C\u003Ccopy-code ts \"\"\"export class RaceComponent implements OnInit {\n\trace!: RaceModel;\n\tconstructor(private route: ActivatedRoute) { }\n\tngOnInit(): void {\n\t\tthis.route.data.subscribe(data => (this.race = data['race']));\n\t}\n}\"\"\">>\n\nResolvers have many advantages over loading data from the activated component:\n\n* they make the navigation more traditional;\n* they can be shared and reused by several routes;\n* they make the code of the component and its template simpler: no need to load data, no need to\ncare about the temporary undefined or null model, no need to apply somewhat complex RxJS\noperators to get the data from the parameters;\n* if the navigation fails, the current page is preserved and the user can just click on the link again\nto retry it.\n\nThe only drawback I can find is that, when you know that loading the data is slow (because it\nrequires substantial computations or external service calls by the server), then the application can\nfeel a bit unresponsive: you click on a link, and nothing happens until the data has been loaded.\nThis is where loading the data from the activated component and displaying a loading message or\nanimation can be more user-friendly. Another workaround would be to rely on router events to\ndisplay this loading message.","title":"Router: Resolvers","task":"doing","modified":"20230207154042032","page":"176"},
{"created":"20221227234604879","text":"It is fairly common to want to map a URL to a state of the application. That makes sense: you want\nyour user to be able to bookmark a page and come back, and it provides a better experience\noverall.\n\nThe piece in charge of doing this job is called a router, and every framework has its own (or several\nones).\n\nThe router in Angular has a simple goal: the creation of meaningful URLs reflecting the state of our\napp, and each URL knowing what component should be initialized and inserted in the page. It will\nexecute all this without refreshing the page and without triggering a new request to our backend\nserver: this is the whole point of having a Single Page Application.\n\nYou probably know there was already a router in AngularJS 1.x, maintained by the core team, in a\nmodule called `ngRoute`. You may also know that it was a very simplistic one: OK for simple\napplications, but it was only allowing a single view per URL and no nesting was possible. It was a\nbit limited when working on bigger apps, where you often have views inside views. There was a\nvery popular community module, called `ui-router`, that a lot of people were using and which was\ndoing a really great job.\n\nThe team behind Angular decided to bridge the gap and wrote a new module called RouterModule.\nThis module will hopefully fulfill all our needs!\n\nSome new features are really interesting. So let’s go!\n\nLet’s start using the router. It is an optional module, that is thus not included in the core\nframework.\n\nAs we saw for the other modules, you have to include it in your root module if you want to use it.\nBut for that, we need a configuration to define the mapping between URLs and components. We can\ndo this with a dedicated file, generally named like `app.routes.ts`, and containing an array\nrepresenting the configuration:\n\n\u003C\u003Ccopy-code ts \"\"\"import { Routes } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\nimport { RacesComponent } from './races/races.component';\nexport const ROUTES: Routes = [\n\t{ path: '', component: HomeComponent },\n\t{ path: 'races', component: RacesComponent }\n];\"\"\">>\n\nThen we need to import the router module in our root module, initialized with the proper\nconfiguration:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule } from '@angular/router';\nimport { ROUTES } from './app.routes';\nimport { HomeComponent } from './home/home.component';\nimport { RacesComponent } from './races/races.component';\n@NgModule({\n\timports: [BrowserModule, RouterModule.forRoot(ROUTES)],\n\tdeclarations: [AppComponent, HomeComponent, RacesComponent],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\"\"\">>\n\nYou also need to declare all the components used by the router module in the `declarations` attribute of your root module.\n\nAs you can see, the `Routes` is an array of objects, each one being a... route. A route configuration is\nusually a pair of properties:\n\n* `path`: what URL will trigger the navigation\n* `component`: which component will be initialized and inserted\n\nYou may be wondering where the component will be inserted in the page, and that’s a good\nquestion. For a component to be included in our app, like the `RacesComponent` in the example above,\nwe must use a special tag in the template of the primary component: `\u003Crouter-outlet>`.\n\n[img[$:/diagram/schemaappcomponent.png]]\n\nThis is, of course, an Angular directive, whose only job is to act as a placeholder for the template of\nthe component of the current route. Our app template would look like:\n\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cheader>\n\t\u003Cnav>...\u003C/nav>\n\u003C/header>\n\u003Cmain>\n\t\u003Crouter-outlet>\u003C/router-outlet>\n\t\u003C!-- the component's template will be inserted here-->\n\u003C/main>\n\u003Cfooter>made with &lt;3 by Ninja Squad\u003C/footer>\"\"\">>\n\nWhen we navigate, everything will stay (the header, main and footer here) and the component\nmatching the current route will be inserted just after the `RouterOutlet` directive.","title":"Router: Route","task":"doing","modified":"20230207151740359","page":"166"},
{"created":"20221227234611008","text":"The router emits several events when navigating to a route. You can be notified of these events by\ninjecting the Router service and subscribing to its events observable. The emitted events have\nseveral types that you can filter using event instanceof NavigationStart (for example). Here are the\nvarious types of router events:\n\n* `NavigationStart`: emitted when a navigation is requested (when clicking on a link, for example).It can be used, for example, to start displaying a spinner;\n* `NavigationEnd`: emitted when a navigation ends successfully. It can be used to stop displaying the spinner. Another use-case is to send a hit to an analytics service (like Google Analytics for example), which allows analyzing the browsing habits and popular pages in your application;\n* `NavigationError`: emitted when a navigation fails due to an unexpected error (like a resolver returning an empty or error observable). It can be used to stop displaying a spinner, or to try sending an error log to the server;\n* `NavigationCancel`: emitted when a navigation is cancelled, because a guard prevented the navigation for example. If a spinner has been shown when the navigation started, it should be hidden when this event is emitted.\n\nThere are other kinds of events for the route configuration loading (`RouteConfigLoadStart`,\n`RouteConfigLoadEnd`, `RoutesRecognized`) and, since version 4.3, for the resolvers (`ResolveStart`,\n`ResolveEnd`) and guards (`GuardsCheckStart`, `GuardsCheckEnd`). Version 5.0 added more fine-grained\nnavigation events (`ChildActivationStart`, `ChildActivationEnd`). Version 6.1 added a Scroll event,\nalong with the `scrollPositionRestoration` configuration option that allows you to restore the scroll\nposition when navigating back to a component.","title":"Router: Router events","task":"doing","modified":"20230207154515251"},
{"created":"20230109012253743","text":"Notes taken from this article: https://medium.com/swlh/how-i-created-a-recipe-app-using-angular-firebase-and-rapidapi-6e87f28f338d\n\nSupposing we have access to RapidAPI to use the recipe food nutrition API: https://rapidapi.com/spoonacular/api/recipe-food-nutrition\n\nBackend for prototyping: JSON server https://github.com/typicode/json-server\n\n#.c Create a lazy loaded module \"recipe\" with the Angular CLI:\n\n\u003C\u003Ccopy-code cmd \"\"\"ng g m recipe — route recipe — module app.module\"\"\">>\n\nThis create a `recipe` folder containing `recipe.module.ts` and `app-routing.module.ts` get updated:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'recipe',\n    pathMatch: 'full',\n  },\n  {\n    path: 'recipe',\n    loadChildren: () =>\n      import('./recipe/recipe.module').then((m) => m.RecipeModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\"\"\">>\n\nThen create components and services in the recipe module for searching recipes and showing details of the selected recipe with the Angular CLI:\n\n\u003C\u003Ccopy-code cmd \"\"\"ng g c recipe/r-search\nng g c recipe/r-info\nng g s recipe/services/recipe\nng g s recipe/services/store\"\"\">>\n\nWe need a [[typeahead]] to allow the user to search for recipes, we can use MatAutocompleteModule from the material library:\n\n\u003C\u003Ccopy-code ts \"\"\"\u003Cmat-form-field style=\"width: 75%\">\n        \u003Cinput\n          type=\"text\"\n          placeholder=\"Search your favourite recipe\"\n          matInput\n          [formControl]=\"recipeAutoComplete\"\n          [matAutocomplete]=\"auto\"\n        />\n\n        \u003Cmat-autocomplete\n          autoActiveFirstOption\n          #auto=\"matAutocomplete\"\n          [displayWith]=\"recipeDisplayValue\"\n          (optionSelected)=\"onRecipeSelect($event)\"\n        >\n          \u003Cmat-option\n            *ngFor=\"let recipe of recipeAutoComplete$ | async\"\n            [value]=\"recipe\"\n          >\n            {{ recipe.title }}\n          \u003C/mat-option>\n        \u003C/mat-autocomplete>\n      \u003C/mat-form-field>\"\"\">>\n\ncode to handle recipe typeahead:\n\n\u003C\u003Ccopy-code ts \"\"\"  recipeAutoComplete: FormControl = new FormControl();\n  recipeAutoComplete$: Observable\u003CRecipeAutocomplete[]>;\n  \n  ngOnInit(): void {\n    this.onRecipeAutoCompleteValueChange();\n  }\n\n  onRecipeSelect(selectedEvent: MatAutocompleteSelectedEvent): void {\n    const selectedRecipe: RecipeAutocomplete = selectedEvent.option.value;\n    this.isInitial = false;\n    this.getRecipeInfo(selectedRecipe.id);\n  }\n\n  private getRecipeInfo(recipeId: number): void {\n    this.loaderService.showProgressBar();\n    this.recipeService\n      .getRecipeInfo(recipeId)\n      .pipe(finalize(() => this.loaderService.hideProgressBar()))\n      .subscribe((recipeInfo) => this.store.updateRecipeInfo(recipeInfo));\n  }\n\t\n  private onRecipeAutoCompleteValueChange(): void {\n    this.recipeAutoComplete$ = this.recipeAutoComplete.valueChanges.pipe(\n      debounceTime(1000),\n      distinctUntilChanged(),\n      tap(() => (this.loading = true)),\n      switchMap((val) =>\n        this.searchRecipes(val).pipe(finalize(() => (this.loading = false)))\n      )\n    );\n  }\n\n  private searchRecipes(query: string): Observable\u003CRecipeAutocomplete[]> {\n    return this.recipeService.getRecipeAutoComplete(query);\n  }\"\"\">>\n\n\nLet’s look at the r-info component where we are showing the recipe information:\n\n\u003C\u003Ccopy-code ts \"\"\"export class RInfoComponent implements OnInit {\n  recipe$: Observable\u003CRecipeInfo> = this.store.recipeInfoObs;\n\n  constructor(private store: StoreService) {}\n\n  ngOnInit(): void {}\n\n  showIngredients(ingredients: Ingredient[]): string {\n    return ingredients.reduce(\n      (prev, curr) => `${prev ? prev + ', ' : ''}${curr.name}`,\n      ''\n    );\n  }\n}\"\"\">>\n\ntemplate:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cdiv *ngIf=\"recipe$ | async as recipe\" @slideUp class=\"info-main\">\n  \u003Cdiv class=\"recipe-info-section\">\n    \u003Cdiv style=\"display: flex; align-items: center\">\n      \u003Ch1>{{ recipe.title }}\u003C/h1>\n      \u003Cdiv\n        *ngIf=\"recipe.vegetarian\"\n        style=\"margin-bottom: 16px; margin-left: 5px; color: darkgreen\"\n      >\n        (Veg {{ recipe.vegan ? \", Vegan\" : \"\"\n        }}{{ recipe.glutenFree ? \", Gluten free\" : \"\"\n        }}{{ recipe.dairyFree ? \", Dairy free\" : \"\" }})\n      \u003C/div>\n    \u003C/div>\n\n    \u003Cimg [src]=\"recipe.image\" alt=\"Dish image\" />\n    \u003Ch4>\n      {{ recipe.readyInMinutes }} minutes preparation time for\n      {{ recipe.servings }} Servings\n    \u003C/h4>\n    \u003Ch4 class=\"heading\">Summary\u003C/h4>\n    \u003Cp [innerHTML]=\"recipe.summary\">\u003C/p>\n    \u003Cdiv>\n      \u003Ch3 class=\"heading\">Instructions:\u003C/h3>\n      \u003Cdiv\n        *ngFor=\"let instruction of recipe.analyzedInstructions\"\n        style=\"margin-left: 5px\"\n      >\n        \u003Cdiv *ngFor=\"let step of instruction.steps\">\n          \u003Ch4 class=\"heading\">\n            Step {{ step.number }}\n            \u003Cspan style=\"font-weight: normal\"\n              >(Ingredients: {{ showIngredients(step.ingredients) }})\u003C/span\n            >\n          \u003C/h4>\n          \u003Cp>\n            {{ step.step }}\n          \u003C/p>\n        \u003C/div>\n      \u003C/div>\n    \u003C/div>\n    \u003Cdiv style=\"font-size: 16px\">Stay safe and healthy!\u003C/div>\n  \u003C/div>\n\u003C/div>\n\"\"\">>\n\ncontrol flow:\n\n#Get the user input by listening to valueChanges event of autocomplete, RxJS debounceTime operator to wait for a second until user type-out, switchMap operator to avoid multiple active HTTP calls.\n#Take the user input received and get autocomplete suggestions using Autocomplete recipe search\n#Once the user selects any recipe from the suggestions, take the recipe id and get the recipe information using Get Recipe Information\n#Once we receive the result, update our store service.\n#In the recipe info component, listen to store changes and show recipe details.\n\nhttps://github.com/dharmendra94/recipe-app\n\nhttps://app4recipe.web.app/","title":"Search a database with an API in Angular","modified":"20230109015631887"},
{"created":"20221202172317080","creator":"Telumire","text":"Next: [[Section 11: Managing State]]","title":"Section 10: Handling User Input","modified":"20221215212803879","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172345960","creator":"Telumire","text":"Next: [[Section 12: Sending Http Requests]]","title":"Section 11: Managing State","modified":"20221215212803879","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172422770","creator":"Telumire","text":"Next: [[Section 13: Adding Google Maps]]","title":"Section 12: Sending Http Requests","modified":"20221215212803879","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172452810","creator":"Telumire","text":"Next: [[Section 14: Using Native Device Features (Camera & Location)]]","title":"Section 13: Adding Google Maps","modified":"20221215212803879","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172606837","creator":"Telumire","text":"Next: [[Section 15: Adding Authentication]]","title":"Section 14: Using Native Device Features (Camera & Location)","modified":"20221215212803879","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172642599","creator":"Telumire","text":"Next: [[Section 16: Publishing the Apps]]","title":"Section 15: Adding Authentication","modified":"20221215212803880","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172703086","creator":"Telumire","text":"Next: [[Section 17: Roundup]]","title":"Section 16: Publishing the Apps","modified":"20221215212803880","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202172728731","creator":"Telumire","text":"","title":"Section 17: Roundup","modified":"20221215212803880","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171417477","creator":"Telumire","text":"* [[129. Module Introduction]]\n* [[130. Attributes & Slots]]\n* [[131. Ionic Grid Basics]]\n* [[132. Controlling Grid Column Sizes]]\n* [[133. Controlling Grid Alignment]]\n* [[134. Responsive Grid Sizing]]\n* [[135. Grid Summary]]\n* [[136. ion-list vs ion-grid]]\n* [[137. ion-label & ion-item]]\n* [[138. ion-text]]\n* [[139. Swipeable List Items]]\n* [[140. Swipeable Bookings]]\n* [[141. Understanding Virtual Scrolling]]\n* [[142. Implementing Virtual Scrolling]]\n* [[143. Virtual Scrolling Bugs]]\n* [[144. Adding Image Elements]]\n* [[145. Segmented Buttons]]\n* [[146. Adding a Spinner]]\n* [[147. Using the Loading Controller]]\n* [[148. Using the ActionSheet Controller]]\n* [[149. Wrap Up]]\n* [[150. Useful Resources & Links]]\n\nNext: [[Section 9 : Styling & Theming Ionic Apps]]","title":"Section 8: Ionic Components Overview","modified":"20221215212803880","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221202171733954","creator":"Telumire","text":"* [[151. Module Introduction]]\n* [[152. How Styling & Theming Works in Ionic Apps]]\n* [[153. Docs & Utility Attributes]]\n* [[154. Setting Global Theme Variables]]\n* [[155. Setting Global Styles]]\n* [[156. Setting All Colors at Once]]\n* [[157. Setting Platform-Specific Styles]]\n* [[158. Styling Core Components with Variables]]\n* [[159. Missing iOS Icons]]\n* [[160. Adding Custom CSS Rules]]\n* [[161. Component-specific CSS Variables]]\n* [[162. Wrap Up]]\n* [[163. Useful Resources & Links]]\n\nNext: [[Section 10: Handling User Input]]","title":"Section 9 : Styling & Theming Ionic Apps","modified":"20221215212803880","modifier":"Telumire","tags":"[[Ionic - Build iOS, Android & Web Apps with Ionic & Angular]]"},
{"created":"20221227234600715","text":"Of course, you can tune your requests more finely. Every method takes an options object as an\noptional parameter, where you can configure your request. A few options are really useful and you\ncan override everything in the request.\n\n`params` represents the URL search parameters (also known as the query string) to add to the URL.\n\n\u003C\u003Ccopy-code ts \"\"\"const params = {\n\tsort: 'ascending',\n\tpage: '1'\n};\nhttp\n\t.get\u003CArray\u003CRaceModel>>(`${baseUrl}/api/races`, { params })\n\t// will call the URL ${baseUrl}/api/races?sort=ascending&page=1\n\t.subscribe(response => {\n\t\t// will return the races sorted\n\t\tthis.races = response;\n\t});\"\"\">>\n\nThe `headers` option is often useful to add a few custom headers to your request. It happens to be\nnecessary for some authentication techniques like JSON Web Token for example:\n\n\u003C\u003Ccopy-code ts \"\"\"const headers = { Authorization: `Bearer ${token}` };\nhttp.get\u003CArray\u003CRaceModel>>(`${baseUrl}/api/races`, { headers }).subscribe(response => {\n\t// will return the races visible for the authenticated user\n\tthis.races = response;\n});\"\"\">>","title":"Send and receive data through HTTP: Advanced options","task":"doing","modified":"20230207150111301","page":"160"},
{"created":"20230207150603151","text":"Sometimes you want to give some context to an interceptor. Doing so used to be painful. The most\ncommon workaround was to use headers:\n\n\u003C\u003Ccopy-code ts \"\"\"const headers = { 'should-not-handle-error': 'true' };\nreturn http.get(`${baseUrl}/api/users`, { headers });\"\"\">>\n\nAnd then check and remove this header in the interceptor:\n\n\u003C\u003Ccopy-code ts \"\"\"intercept(req: HttpRequest\u003Cany>, next: HttpHandler): Observable \u003C HttpEvent \u003C any >> {\n\tif(req.headers.get('should-not-handle-error')) {\n\t// don't send the header to the server\n\treq.headers.delete('should-not-handle-error');\n\t// and do nothing\n\treturn next.handle(req);\n}\nreturn next.handle(req).pipe(\n\t// we catch the error\n\ttap({\n\t\terror: (errorResponse: HttpErrorResponse) => {\"\"\">>\n\nSince Angular v12, it is now easier thanks to `HttpContext`! The context uses a type safe token\n(`HttpContextToken`), so you can define something like this in your interceptor:\n\n\u003C\u003Ccopy-code ts \"\"\"export const SHOULD_NOT_HANDLE_ERROR = new HttpContextToken\u003Cboolean>(() => false);\"\"\">>\n\nAnd simplify the interceptor to:\n\n\u003C\u003Ccopy-code ts \"\"\"intercept(req: HttpRequest\u003Cany>, next: HttpHandler): Observable \u003C HttpEvent \u003C any >> {\n\t// if there is a context specifically asking for not handling the error, we don't\n\thandle it\nif(req.context.get(SHOULD_NOT_HANDLE_ERROR)) {\n\treturn next.handle(req);\n}\nreturn next.handle(req).pipe(\n\t// we catch the error\n\ttap({\n\t\terror: (errorResponse: HttpErrorResponse) => {\"\"\">>\n\nAll HTTP methods accept a `context` option, which is a Map that you can build in a type-safe way by using the token defined previously:\n\n\u003C\u003Ccopy-code ts \"\"\"const context = new HttpContext().set(SHOULD_NOT_HANDLE_ERROR, true);\nreturn http.get(`${baseUrl}/api/users`, { context });\"\"\">>","title":"Send and receive data through HTTP: Context","modified":"20230207150931562","task":"doing","page":"168"},
{"created":"20221227234559028","text":"The service `HttpClient` from `HttpClientModule` can be injected in any constructor after it's made available by importing it into the root module:\n\n\u003C\u003Ccopy-code ts \"\"\"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\n@NgModule({\n\timports: [BrowserModule, HttpClientModule],\n\tdeclarations: [AppComponent],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\"\"\">>\n\nTo inject the `HttpClient` service:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n\tselector: 'ns-races',\n\ttemplate: `\u003Ch1>Races\u003C/h1>`\n})\nexport class RacesComponent {\n\tconstructor(private http: HttpClient) { }\n}\"\"\">>\n\nBy default, `HttpClient` make AJAX requests with `XMLHttpRequest`. It offers several methods:\n\n* `get`\n* `post`\n* `put`\n* `delete`\n* `patch`\n* `head`\n* `jsonp`\n\nThese methods return an `Observable` object, giving the ability to cancel requests, retry, compose, etc.\n\n;Fetching the races available in HorseRacer\n\nAssuming a backend providing a RESTful API, to fetch the races, we send a GET request to a URL 'http://backend.url/api/races'.\n\nUsually, the base URL of the HTTP calls is stored in a variable or a service, that can be configured depending on the environment. If the REST API is served by the same server as the app, we can use a relative URL: '/api/races'.\n\nUsing the `HttpClient` service:\n\n\u003C\u003Ccopy-code ts \"\"\"http\n.get\u003CArray\u003CRaceModel>>(`${baseUrl}/api/races`)\"\"\">>\n\n\u003C\u003C\u003C\nAngular automatically deserialize the response body from a string to a JavaScript array or\nobject, but do not check to verify if the JSON in the response conforms to the generic type specified. We need to manually make sure that we are using the correct generic type, and the `RaceModel` interface matches with the JSON sent back by the server.\n\u003C\u003C\u003C\n\nThis returns an Observable that can be subscribed to to receive the response. It emit the response body:\n\n\u003C\u003Ccopy-code ts \"\"\"http.get\u003CArray\u003CRaceModel>>(`${baseUrl}/api/races`).subscribe((response: Array\n\u003CRaceModel>) => {\n\tconsole.log(response);\n\t// logs the array of races\n});\"\"\">>\n\nThe full HTTP response can be returned with a `HttpResponse` object , with fields like `status`, `headers`, etc. :\n\n\u003C\u003Ccopy-code ts \"\"\"http\n.get\u003CArray\u003CRaceModel>>(`${baseUrl}/api/races`, { observe: 'response' })\n.subscribe((response: HttpResponse\u003CArray\u003CRaceModel>>) => {\nconsole.log(response.status); // logs 200\nconsole.log(response.headers.keys()); // logs []\n});\"\"\">>\n\nThe observable will throw an error if the response status is different from 2xx or 3xx, and the error\nis then of type `HttpErrorResponse`.\n\n\nTo send data, we can call `post()` or `put()` with the URL and the object to post:\n\n\u003C\u003Ccopy-code ts \"\"\"http\n.post\u003CRaceModel>(`${baseUrl}/api/races`, newRace)\"\"\">>\n\nOnce again, Angular automatically serialize the race object being sent to JSON. \nThe generic type `RaceModel` is the type of the response body (as with the get() method). \n\nIn this example, the endpoint takes a `RaceModel` as input and returns the created `RaceModel`. Other methods are possible.","title":"Send and receive data through HTTP: Getting data","task":"done","modified":"20230207144848869","page":"158"},
{"created":"20221227234602402","text":"One of the reasons of the Http module rewrite was the introduction of interceptors. Interceptors\nare interesting when you want to... intercept requests or responses in your application.\nFor example, if you want to intercept every request to add a specific header to some of them, you\ncan now write an interceptor like this one:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable()\nexport class GithubAPIInterceptor implements HttpInterceptor {\n\tintercept(req: HttpRequest\u003Cany>, next: HttpHandler): Observable\u003CHttpEvent\u003Cany>> {\n\t\t// if it is a Github API request\n\t\tif (req.url.includes('api.github.com')) {\n\t\t\t// we need to add an OAUTH token as a header to access the Github API\n\t\t\tconst clone = req.clone({\n\t\t\t\tsetHeaders: { Authorization: `token ${OAUTH_TOKEN}` }\n\t\t\t});\n\t\t\treturn next.handle(clone);\n\t\t}\n\t\t// if it's not a Github API request, we just hand it to the next handler\n\t\treturn next.handle(req);\n\t}\n}\"\"\">>\n\nNote that you have to clone the request to update it (requests are immutable).\n\nThen add your interceptor to the `HTTP_INTERCEPTORS` array via dependency injection:\n\n\u003C\u003Ccopy-code ts \"\"\"providers: [\n\t{ provide: HTTP_INTERCEPTORS, useClass: GithubAPIInterceptor, multi: true }\n]\"\"\">>\n\nNow every request will go through the interceptor, and receive the custom header if needed (here\nthe requests to the Github API).\n\nYou can also intercept the response, which can be handy to handle errors in a generic way:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable()\nexport class ErrorHandlerInterceptor implements HttpInterceptor {\n\tconstructor(private router: Router, private errorHandler: ErrorHandler) { }\n\tintercept(req: HttpRequest\u003Cany>, next: HttpHandler): Observable\u003CHttpEvent\u003Cany>> {\n\t\treturn next.handle(req).pipe(\n\t\t\t// we catch the error\n\t\t\ttap({\n\t\t\t\terror: (errorResponse: HttpErrorResponse) => {\n\t\t\t\t\t// if the status is 401 Unauthorized\n\t\t\t\t\tif (errorResponse.status === HttpStatusCode.Unauthorized) {\n\t\t\t\t\t\t// we redirect to login\n\t\t\t\t\t\tthis.router.navigateByUrl('/login');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// else we notify the user\n\t\t\t\t\t\tthis.errorHandler.handle(errorResponse);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\"\"\">>","title":"Send and receive data through HTTP: Interceptors","task":"doing","modified":"20230207150413190"},
{"created":"20221227234601670","text":"To let you access their API without being blocked by the Same Origin Policy enforced by web\nbrowsers, some web services don’t use CORS, but use JSONP (JSON with Padding).\nThe server will not return the JSON data directly, but wrap them in the function passed as a\ncallback. The response comes back as a script, and scripts are not subject to the Same Origin Policy.\nOnce loaded, you can access the JSON value contained in the response.\nIn addition to the classic HTTP methods, the `HttpClient` offers a `jsonp` method. All you have to do is\nspecify the URL of the service you want to call, and add the name of the callback you want.\nIn the following example, we are fetching all the public repos from our Github organization using\nJSONP.\n\n\u003C\u003Ccopy-code ts \"\"\"http\n\t.jsonp\u003C{ data: Array\u003CGithupRepo> }>('https://api.github.com/orgs/Ninja-Squad/repos',\n\t\t'callback')\n\t.pipe(\n\t\t// extract data\n\t\tmap((res: { data: Array\u003CGithupRepo> }) => res.data)\n\t)\n\t.subscribe(response => {\n\t\t// will return the public repos of Ninja-Squad\n\t\tthis.repos = response;\n\t});\"\"\">>","title":"Send and receive data through HTTP: Jsonp","task":"doing","modified":"20230207150212295","page":"161"},
{"created":"20221227234558287","text":"> Note: this tiddler talk about the `HttpClientModule` introduced in Angular 4.3 in `@angular/common/http`\n\nSending data to and from the webapp with a webserver is done over HTTP (this can also be done with WebSockets, ..).\n\nThis can be done with the `HttpClientModule`, or any library that can be used to send HTTP requests, for example the [[fetch API|https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API]]. The classes for `HttpClientModule` are from the `@angular/common/http` package.\n\n`HttpClientModule` can be used to mock the backend server and return fake responses, which is useful for testing.\n\nIt uses the [[reactive programming paradigm|Reactive Programming: Overview]].","title":"Send and receive data through HTTP: Overview","task":"done","modified":"20230207142443080","page":"157"},
{"created":"20221227234603336","text":"We now have a service calling an HTTP endpoint to fetch the races. How do we test it?\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable({\n\tprovidedIn: 'root'\n})\nexport class RaceService {\n\tconstructor(private http: HttpClient) { }\n\tlist(): Observable\u003CArray\u003CRaceModel>> {\n\t\treturn this.http.get\u003CArray\u003CRaceModel>>('/api/races');\n\t}\n}\"\"\">>\n\nIn a unit test, you don’t want to really call the HTTP server: that’s not what we are testing. We want\nto \"fake\" the HTTP call to return fake data. To do this, we can replace the dependency to the\n`HttpClient` service with a fake implementation by importing the `HttpClientTestingModule`. We can\nthen use a class provided by the framework called `HttpTestingController` to fake the HTTP\nresponses.\n\nAnd you can also add a few assertions on the underlying HTTP request:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from '@angular/core/testing';\nimport { HttpClientTestingModule, HttpTestingController } from\n\t'@angular/common/http/testing';\ndescribe('RaceService', () => {\n\tlet raceService: RaceService;\n\tlet http: HttpTestingController;\n\tbeforeEach(() =>\n\t\tTestBed.configureTestingModule({\n\t\t\timports: [HttpClientTestingModule]\n\t\t})\n\t);\n\tbeforeEach(() => {\n\t\traceService = TestBed.inject(RaceService);\n\t\thttp = TestBed.inject(HttpTestingController);\n\t});\n\tafterEach(() => {\n\t\thttp.verify();\n\t});\n\tit('should return an Observable of 2 races', () => {\n\t\t// fake response\n\t\tconst hardcodedRaces = [{ name: 'London' }, { name: 'Lyon' }];\n\t\t// call the service\n\t\tlet actualRaces: Array\u003CRaceModel> = [];\n\t\traceService.list().subscribe(races => (actualRaces = races));\n\t\t// check that the underlying HTTP request was correct\n\t\thttp\n\t\t\t.expectOne('/api/races')\n\t\t\t// return the fake response when we receive a request\n\t\t\t.flush(hardcodedRaces);\n\t\t// check that the returned array is deserialized as expected\n\t\texpect(actualRaces.length).toBe(2);\n\t});\n});\"\"\">>\n\nAnd we’re done!","title":"Send and receive data through HTTP: Tests","task":"doing","modified":"20230207151136745","page":"164"},
{"created":"20221227234559860","text":"This kind of work will usually be done in a dedicated service. I tend to create a service, like\n`RaceService`, where all the job is done. Then, my component just needs to subscribe to my service\nmethod, without knowing what’s going on under the hood.\n\n\u003C\u003Ccopy-code ts \"\"\"raceService.list().subscribe(races => {\n\t// store the array of the races in the component\n\tthis.races = races;\n});\"\"\">>\n\nYou can also leverage the power of RxJS to retry a failed request a few times, for example.\n\n\u003C\u003Ccopy-code ts \"\"\"raceService\n\t.list()\n\t.pipe(\n\t\t// if the request fails, retry 3 times\n\t\tretry(3)\n\t)\n\t.subscribe(races => {\n\t\t// store the array of the races in the component\n\t\tthis.races = races;\n\t});\"\"\">>","title":"Send and receive data through HTTP: Transforming data","task":"doing","modified":"20230207145840277","page":"160"},
{"created":"20221226235649460","text":"\u003Ccode>[[Map|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map]]\u003C/code>\n\n\u003C\u003Ccopy-code js \"\"\"const cedric = { id: 1, name: 'Cedric' };\nconst users = new Map();\nusers.set(cedric.id, cedric); // adds a user\nconsole.log(users.has(cedric.id)); // true\nconsole.log(users.size); // 1\nusers.delete(cedric.id); // removes the user\"\"\">>\n\nThe `Map` class is a collection of key-value pairs that are ordered by insertion order. [[It is similar to an object but with additional features|https://stackoverflow.com/a/60108544/10234474]]: keeps the insertion order of the keys, provides  methods for manipulating the key-value pairs ( `set`, `get`, `has`, `delete`, and `clear`).\n\n\u003Ccode>[[Set|https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set]]\u003C/code>\n\n\u003C\u003Ccopy-code js \"\"\"const cedric = { id: 1, name: 'Cedric' };\nconst users = new Set();\nusers.add(cedric); // adds a user\nconsole.log(users.has(cedric)); // true\nconsole.log(users.size); // 1\nusers.delete(cedric); // removes the user\"\"\">>\n\nThis is similar to an array, but it does not allow duplicate values. It also provides methods for manipulating the values: `add`, `has`, `delete`, and `clear`.\n\n\n`for .. of`: looping construct to iterate over iterable objects (arrays, strings, maps, and sets) without index or counter variable.\n\n\u003C\u003Ccopy-code js \"\"\"for (let user of users) {\n    console.log(user.name);\n}\"\"\">>\n\nThis is the syntax used by Angular to iterate over a collection in a template.","tags":"ES2015","title":"Sets and Maps","modified":"20221229071557549","task":"done"},
{"created":"20221224001206332","text":"ES5: \n\n\u003C\u003Ccopy-code js \"\"\"\nvar httpOptions = { timeout: 2000, isCache: true };\n// later\nvar httpTimeout = httpOptions.timeout;\nvar httpCache = httpOptions.isCache;\"\"\">>\n\nES2015:\n\n\u003C\u003Ccopy-code js \"\"\"const httpOptions = { timeout: 2000, isCache: true };\n// later\nconst { timeout: httpTimeout, isCache: httpCache } = httpOptions;\"\"\">>\n\nThe key is the property to look for in the object and the value is the variable to assign. \n\nIf the variable to assign has the same name as the property : \n\n\u003C\u003Ccopy-code js \"\"\"const httpOptions = { timeout: 2000, isCache: true };\n// later\nconst { timeout, isCache } = httpOptions;\n// produce two variables : 'timeout' and 'isCache', with correct values\"\"\">>\n\nWith nested objects:\n\n\u003C\u003Ccopy-code js \"\"\"const httpOptions = { timeout: 2000, cache: { age: 2 } };\n// later\nconst {\ncache: { age }\n} = httpOptions;\n// produce a variable 'age' with value 2\"\"\">>\n\nWith arrays:\n\n\u003C\u003Ccopy-code js \"\"\"const timeouts = [1000, 2000, 3000];\n// later\nconst [shortTimeout, mediumTimeout] = timeouts;\n// produce two variables : 'shortTimeout' with value 1000 and 'mediumTimeout' with value 2000\"\"\">>\n\nEtc.\n\nThis can be useful for multiple return values, for example with a function `randomCharacterName` that returns a name and its surname in a group of characters: \n\n\u003C\u003Ccopy-code js \"\"\"function randomCharacterName() {\nconst human = { name: 'John Doe' };\nconst surname = 'missing';\n// ...\nreturn { human, surname };\n}\nconst { surname, human } = randomCharacterName();\"\"\">>\n\nThe new destructuring feature assigns the surname returned by the method to the surname variable,\nand the human to the human variable. To only get the surname:\n\n\u003C\u003Ccopy-code js \"\"\"function randomCharacterName() {\nconst human = { name: 'John Doe' };\nconst surname = 'missing';\n// ...\nreturn { human, surname };\n}\nconst { surname } = randomCharacterName();\"\"\">>","tags":"ES2015","title":"Shorthands for assigning variables from objects or arrays (destructuring)","modified":"20221227234125040","task":"done"},
{"created":"20221223180349332","text":"Creating an object property identical to the name of the variable used as the value : \n\n\u003C\u003Ccopy-code js \"\"\"function createObject = () {\nconst start = 'Hello';\nconst end = 'World';\nreturn { start: start, end: end };\n}\"\"\">>\n\nBecomes\n\n\u003C\u003Ccopy-code js \"\"\"function createObject = () {\nconst start = 'Hello';\nconst end = 'World';\nreturn { start, end };\n}\"\"\">>\n\nDefining a method in the object: \n\n\u003C\u003Ccopy-code js \"\"\"function createObject = () {\nreturn {\nhi: () => {\nconsole.log('Hello!');\n}\n};\n}\"\"\">>\n\nBecomes\n\n\u003C\u003Ccopy-code js \"\"\"function createObject = () {\nreturn {\nhi () {\nconsole.log('Hello!');\n}\n};\n}\"\"\">>\n\n","tags":"ES2015","title":"Shorthands for creating objects","modified":"20221227234124558","task":"done"},
{"created":"20221226235915639","text":"Source: https://exploringjs.com/es5/","tags":"books","title":"Speaking JavaScript: An In-Depth Guide for Programmers","modified":"20221227182811023"},
{"created":"20221227234702342","text":"","title":"Standalone components: Application bootstrap","task":"todo","modified":"20221227234702537"},
{"created":"20221227234704942","text":"","title":"Standalone components: Caveats","task":"todo","modified":"20221227234705134"},
{"created":"20221227234701443","text":"","title":"Standalone components: CLI support","task":"todo","modified":"20221227234701657"},
{"created":"20221227234700013","text":"","title":"Standalone components: creating a standalone component","task":"todo","modified":"20221227234700207"},
{"created":"20221227234704278","text":"","title":"Standalone components: Initialization","task":"todo","modified":"20221227234704468"},
{"created":"20221227234703658","text":"","title":"Standalone components: Lazy loading routes","task":"todo","modified":"20221227234703851"},
{"created":"20221227234703028","text":"","title":"Standalone components: Optional NgModules","task":"todo","modified":"20221227234703220"},
{"created":"20221227234658825","text":"","title":"Standalone components: Overview","task":"todo","modified":"20221227234659013"},
{"created":"20221227234705583","text":"","title":"Standalone components: Summary","task":"todo","modified":"20221227234706360"},
{"created":"20221227234700700","text":"","title":"Standalone components: using of standalone component","task":"todo","modified":"20221227234700890"},
{"created":"20221227230209439","text":"\u003C$action-sendmessage\n $message=\"tm-edit-text-operation\"\n $param=\"wrap-selection\"\n prefix=\"{{\"\n suffix=\"||task}}\"\n/>\n\u003C$tiddler tiddler={{{ [subfilter{!!title}] }}}>\n\u003C$list filter=\"[\u003CstoryTiddler>!is[draft]]\" variable=\"ignore\" emptyMessage=\"\"\"\u003C$checkbox disabled=\"yes\"/>\"\"\">\n\u003C$checkbox indeterminate=\"yes\" field=\"task\" checked=\"done\" unchecked=\"todo\"> \u003C$link/>\u003C/$checkbox>\n\u003C/$list>\n\u003C/$tiddler>","tags":"$:/tags/EditorToolbar","title":"task","modified":"20221228002652224","caption":"transform a link in task","condition":"[\u003CtargetTiddler>]","shortcuts":"alt+t"},
{"created":"20221228181251121","text":"\\define task-list(filter) \u003C$list filter=\u003C\u003C__filter__>>>\u003C\u003Ctask-btn>>\u003C/$list>\n\\define task-h(state) $state$ (\u003C$text text={{{ [subfilter{!!progress-filter}] }}}/>)\n\n@@.flex\n\u003C$link to={{!!course}}>📖\u003C/$link>\u003C$select field=\"course\" class=\"grow\">\n\u003C$list filter=\"[has[task]backlinks[]]:filter[links[]has[task]count[]compare:number:gt[10]]\">\n\u003Coption>{{!!title}}\u003C/option>\n\u003C/$list>\n\u003C/$select>\n\u003C$select field=\"progress-filter\">\n\u003Coption value=\"=[{!!course}links[]!is[current]task\u003C__state__>count[]] =[{!!course}links[]!is[current]has[task]count[]power[-1]] +[product[]multiply[100]round[]] % +[join[]]\">percent of completion\u003C/option>\n\u003Coption value=\"[{!!course}links[]!is[current]task\u003C__state__>count[]]\">number of tasks\u003C/option>\n\u003C/$select>\n@@\n\n\u003C$let course={{!!course}}>\n\n|tc-max-width|k\n| \u003C\u003Ctask-h todo>> | \u003C\u003Ctask-h doing>> | \u003C\u003Ctask-h done>> |h\n|\u003C\u003Ctask-list \"[\u003Ccourse>links[]!is[current]!task[doing]!task[done]]\">>|\u003C\u003Ctask-list \"[\u003Ccourse>links[]!is[current]task[doing]]\">>|\u003C\u003Ctask-list \"[\u003Ccourse>links[]!is[current]task[done]]\">>|\n\n\u003C/$let>\n\n\u003Cstyle>\n.flex{\ndisplay:flex;\n}\n.flex .grow{\nflex:1;\n}\n.tc-max-width tr{\ndisplay: grid;\ngrid-template-columns: 1fr 1fr 1fr;\n}\n.task{\ndisplay: inline-flex;\ntext-align: left;\nwidth: 100%;\nalign-items: start;\ngap: 1ch;\n}\n\u003C/style>","tags":"task","title":"Tasks: Learning","modified":"20230411124925384","progress-filter":"[{!!course}links[]!is[current]task\u003C__state__>count[]]","course":"Become a Ninja with Angular"},
{"created":"20221226235715604","text":"Template literals improve string concatenation:\n\n\u003C\u003Ccopy-code js \"\"\"const fullname = 'Miss ' + firstname + ' ' + lastname;\"\"\">>\n\nWith template literals: placeholder delimited by `${..}`\n\n\u003C\u003Ccopy-code js \"\"\"const fullname = `Miss ${firstname} ${lastname}`;\"\"\">>\n\nThe backticks support multiline:\n\n\u003C\u003Ccopy-code js \"\"\"const template = `\u003Cdiv>\n\u003Ch1>Hello\u003C/h1>\n\u003C/div>`;\"\"\">>\n\nFunctions can be applied to a template string (tagged):\n\n\u003C\u003Ccopy-code js \"\"\"const askQuestion = strings => strings + '?';\nconst template = askQuestion`Hello there`;\"\"\">>\n\n`askQuestion` adds a \"?\" at the end of the string.\nThe tag function receives several arguments:\n\n* Array of the static parts of the string\n* Output of the expressions\n\nExample:\n\n\u003C\u003Ccopy-code js \"\"\"const person1 = 'Cedric';\nconst person2 = 'Agnes';\nconst template = `Hello ${person1}! Where is ${person2}?`;\n\n//The tag function recieve the static + dynamic parts\n\nconst uppercaseNames = (strings, ...values) => {\n// `strings` is an array with the static parts ['Hello ', '! Where is ', '?']\n// `values` is an array with the evaluated expressions ['Cedric', 'Agnes']\nconst names = values.map(name => name.toUpperCase());\n// `names` now has ['CEDRIC', 'AGNES']\n// let's merge the `strings` and `names` arrays\nreturn strings.map((string, i) => `${string}${names[i] ? names[i] : ''}`).join('');\n};\nconst result = uppercaseNames`Hello ${person1}! Where is ${person2}?`;\n// returns 'Hello CEDRIC! Where is AGNES?'\n\n\"\"\">>","tags":"ES2015","title":"Template literals","modified":"20221229072536800","task":"done"},
{"created":"20230107033955914","text":"\u003C$list filter=\"[is[current]backlinks[]tag[books]]\" variable=\"book\">\n\u003C$let previous={{{ [\u003Cbook>links[]before{!!title}] }}} next={{{ [\u003Cbook>links[]after{!!title}] }}}>\n\u003C$list filter=\"[is[current]get[page]]\" variable=\"ignore\" emptyMessage=\"\"\"\n\u003C$link to=\u003C\u003Cbook>>>\u003C\u003Cbook>>📖\u003C/$link>\n\"\"\">\n\u003C$macrocall $name=\"link-book\" page={{!!page}}/>\n\u003C/$list>/ \u003C\u003Ctask-btn>>\n\u003Cnav class=\"navigate-book\">\u003C$link to=\u003C\u003Cprevious>> >\u003C\u003Cprevious>> 📄 👈\u003C/$link> \u003C$link to=\u003C\u003Cnext>>>👉 \u003C\u003Cnext>> 📄\u003C/$link>\u003C/nav>\n\u003C/$let>\n\u003C/$list>","tags":"$:/tags/ViewTemplate","title":"Template navigate book","modified":"20230203231400522","list-after":""},
{"created":"20230107035149111","text":"nav.navigate-book{\ndisplay:flex;\njustify-content:space-between;\nflex-wrap:wrap;\n}","tags":"$:/tags/Stylesheet","title":"Template navigate book/style","modified":"20230107212200040","list-after":""},
{"created":"20230108015256104","text":"\u003C\u003Ccopy-code ts \"\"\"@Injectable({\n  providedIn: \"root\",\n})\nexport class RaceService {\n  list(): Array\u003CRaceModel> {\n    const race1: RaceModel = { name: \"London\" };\n    const race2: RaceModel = { name: \"Lyon\" };\n    return [race1, race2];\n  }\n}\"\"\">>\n\nWe could write a test like this:\n\n\u003C\u003Ccopy-code ts \"\"\"describe(\"RaceService\", () => {\n  it(\"should return races when list() is called\", () => {\n    const raceService = new RaceService();\n    expect(raceService.list().length).toBe(2);\n  });\n});\"\"\">>\n\nOr rely on DI to get RaceService and inject it in our test, which is very useful if `RaceService` itself has depencencies: we can  rely on the injector to instantiate these dependencies instead of doing it manually.\n\nAngular has a utility method `inject` in `TestBed`, introduced in Angular 9.0, that can be used to use DI in a test. It can be used to get a specific dependency from the injector inside a test function.\n\nusing `TestBed.inject`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from \"@angular/core/testing\";\ndescribe(\"RaceService\", () => {\n  it(\"should return races when list() is called\", () => {\n    const raceService = TestBed.inject(RaceService);\n    expect(raceService.list().length).toBe(2);\n  });\n});\"\"\">>\n\nThe service is made available to the test by being declared with `providedIn: 'root'`. It will be instantiated and injected lazily when needed in the test.\n\nThe code can be cleaner by moving the `RaceService` initialization and `TestBed.inject` into a `beforeEach`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from \"@angular/core/testing\";\ndescribe(\"RaceService\", () => {\n  let service: RaceService;\n  beforeEach(() => (service = TestBed.inject(RaceService)));\n  it(\"should return races when list() is called\", () => {\n    expect(service.list().length).toBe(2);\n  });\n});\"\"\">>\n\nA real `RaceService` could be an asynchronous list of races that returns an observable, so we have to set `expect` in the `subscribe` callback:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed, waitForAsync } from \"@angular/core/testing\";\ndescribe(\"RaceService\", () => {\n  let service: RaceService;\n  beforeEach(() => (service = TestBed.inject(RaceService)));\n  it(\"should return an observable of 2 races\", waitForAsync(() => {\n    service.list().subscribe((races) => {\n      expect(races.length).toBe(2);\n    });\n  }));\n});\"\"\">>\n\n\nNormally, the test end before the subscribe is called, and the expectation never run. But here, the test is wrapped in the function `waitForAsync()`, which keeps track of the asynchronous calls made in the test and waits for them to resolve.\n\n\nAngular uses a concept called [[zones|https://github.com/angular/angular/tree/master/packages/zone.js]], execution contexts that keep track timeouts, event listeners, callbacks... inside. They also provide hooks that can be called when a zone is entered or left. The app runs in a zone, allowing the framework to knows when an async action is done and refresh the DOM.\n\nUsing `waitForAsync()` runs the test in a zone, so it wont complete until all the asynchronous actions are done, so our async expectation will be executed.\n\n`fakeAsync()` and `tick()` can also be used to handle async tests, see [[Advanced observables: Overview]]","title":"Testing in Angular: Dependency injection","modified":"20230108021129391","task":"done"},
{"created":"20221227234556024","text":"End-to-end tests (e2e) launch the app in a browser and emulate users interactions (clicks on buttons, filling forms, etc.). They tests the application as a whole but:\n\n* Each test take several seconds\n* Hard to test edge cases\n\nUnit tests and e2e tests can be combined to improve coverage.\n\nPopular e2e testing library: [[Cypress|https://www.cypress.io/]], [[Playwrigth|https://playwright.dev/]], [[Puppeteer|https://pptr.dev/]],etc. \n\nCypress can be setup in an Angular project [[with this schematic|https://github.com/cypress-io/cypress/tree/develop/npm/cypress-schematic]].\n\n\nOnce installed, e2e tests can be run in open mode with:\n\n\u003C\u003Ccopy-code cmd \"\"\"ng e2e\"\"\">>\n\n;Cypress\n\nTests can be launched in Electron, Chrome, Firefox and Edge, or in headless mode with:\n\n\u003C\u003Ccopy-code cmd \"\"\"ng run {project-name}:cypress-run\"\"\">>\n\nUsefull for running tests on a Continuous Integration platform.\n\nCypress offers interesting features:\n\n* set up\n* mock HTTP responses\n* test different viewports\n* DSL\n\nTime-travel debugging: Cypress takes snapshot at each step of the tests. \n\nA test suite can be written using Mocha, similars to unit tests with Jasmine + the Cypress API to interact with the app. \n\nCypress gives a `cy` object with utility methods: \n\n* `visit()` to go to a page\n* `get(selector)` to select elements matching a CSS selector\n* `contains(selector, text)` to get an element with a specific text. \n\nSeveral methods can be used on the object returned by these methods:\n\n* `should('contain', text)`, `should('be', 'not.displayed')`\n* `click()`, `type()` to act on the element.\n\nIt's possible to fake API calls to check if requests are sent at the right time, example: test for an application’s home page that displays a headline.\n\n\u003C\u003Ccopy-code ts \"\"\"describe('Horseracer home page', () => {\n    it('should display a headline', () => {\n        cy.visit('/');\n        cy.get('span').should('contain', ' horseracer app is running!');\n    });\n});\n\"\"\">>\n\nThese tests can be long to write, can do a lot of things: recording videos, taking screenshots and comparing them over time with something like [[Percy|https://percy.io/]], etc.\n\n\nVoir https://guide-angular.wishtack.io/angular/testing/end-to-end","title":"Testing in Angular: e2e","task":"done","modified":"20230203230654913"},
{"created":"20221227234553165","text":"The `TestBed` class help to declare fake dependencies. \n\nIts `configureTestingModule` method allows to declare what can be injected in the test, by creating a test module containing only what we need and isolate the test as much as possible.\n\nThis method is called in the `beforeEach` Jasmine method, and takes a module configuration, similar to can be passes to `@NgModule`. The `providers` attribute takes an array of dependencies that will become available to injection.\n\nDeclaring the dependencies with the test module is usefull to declare fake service as a dependency instead of a real one.\n\nExample: `RaceService` uses local storage to store the races, with a key 'races'. A service called `LocalStorageService` deals with the JSON serialization, etc. that `RaceService` uses. `list()` looks like:\n\n\u003C\u003Ccopy-code ts \"\"\"@Injectable({\n  providedIn: \"root\",\n})\nexport class RaceService {\n  constructor(private localStorage: LocalStorageService) {}\n  list(): Array\u003CRaceModel> {\n    return this.localStorage.get(\"races\");\n  }\n}\"\"\">>\n\nTo only test `RaceService`, we can use DI to give a fake `LocalStorageService`:\n\n\u003C\u003Ccopy-code ts \"\"\"export class FakeLocalStorage {\n  get(key: string): any {\n    return [{ name: \"Lyon\" }, { name: \"London\" }];\n  }\n}\"\"\">>\n\nto `RaceService` in our test, using `provide`:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from \"@angular/core/testing\";\ndescribe(\"RaceService\", () => {\n  beforeEach(() =>\n    TestBed.configureTestingModule({\n      providers: [{ provide: LocalStorageService, useClass: FakeLocalStorage }],\n    })\n  );\n  it(\"should return 2 races from localStorage\", () => {\n    const service = TestBed.inject(RaceService);\n    const races = service.list();\n    expect(races.length).toBe(2);\n  });\n});\"\"\">>\n\nCreating a fake service manually is tedious, Jasmine can help us spy on the service and replace its implementation with a fake one. It also allows to verify that `get()` has been called with the proper key `races` :\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from \"@angular/core/testing\";\ndescribe(\"RaceService\", () => {\n  const localStorage = jasmine.createSpyObj\u003CLocalStorageService>(\n    \"LocalStorageService\",\n    [\"get\"]\n  );\n  beforeEach(() =>\n    TestBed.configureTestingModule({\n      providers: [{ provide: LocalStorageService, useValue: localStorage }],\n    })\n  );\n  it(\"should return 2 races from localStorage\", () => {\n    localStorage.get.and.returnValue([{ name: \"Lyon\" }, { name: \"London\" }]);\n    const service = TestBed.inject(RaceService);\n    const races = service.list();\n    expect(races.length).toBe(2);\n    expect(localStorage.get).toHaveBeenCalledWith(\"races\");\n  });\n});\"\"\">>","title":"Testing in Angular: Fake dependencies","task":"done","modified":"20230108022414711","tags":""},
{"created":"20221227234552110","text":"Jasmine provide methods to declare tests:\n\n*`describe()`: group of tests (test suite)\n*`it()`: one test\n*`expect()`: assertion\n\nExample of test using Jasmine:\n\n\u003C\u003Ccopy-code ts \"\"\"class Pony {\n  constructor(public name: string, public speed: number) {}\n  isFasterThan(speed: number): boolean {\n    return this.speed > speed;\n  }\n}\ndescribe(\"My first test suite\", () => {\n  it(\"should construct a Pony\", () => {\n    const pony = new Pony(\"Rainbow Dash\", 10);\n    expect(pony.name).toBe(\"Rainbow Dash\");\n    expect(pony.speed).not.toBe(1);\n    expect(pony.isFasterThan(8)).toBe(true);\n  });\n});\n\"\"\">>\n\n`expect()` can be chained with methods like `toBe()`, `toBeLessThan()`, `toBeUndefined()`,etc. Each one can be negated with the `not` attribute of the object returned by `expect()`. The test file is a separate file, usually with `.spec.ts.` extension. It can be located in the same directory or in a dedicated directory for tests.\n\nUsing `fdescribe()` instead of `describe()` will make only this test suite run (f = focus). To run only one test: use `fit()` instead of it(). To exclude a test, use `xit()`, or `xdescribe()` for a suite. \n\n`beforeEach()` is used to set a context before each test: the ''fixture''. If we want several tests on the same object, using `beforeEach()` allow to initialize the object, instead of copy/pasting the same thing in every test.\n\nExample:\n\n\u003C\u003Ccopy-code ts \"\"\"describe(\"Pony\", () => {\n  let pony: Pony;\n  beforeEach(() => {\n    pony = new Pony(\"Rainbow Dash\", 10);\n  });\n  it(\"should have a name\", () => {\n    expect(pony.name).toBe(\"Rainbow Dash\");\n  });\n  it(\"should have a speed\", () => {\n    expect(pony.speed).not.toBe(1);\n    expect(pony.speed).toBeGreaterThan(9);\n  });\n});\"\"\">>\n\nThere is also an `afterEach` method.\n\nJasmine allows to create fake objects or monitor the method of a real object, then we can do assertions on these methods, for example:\n\n* `toHaveBeenCalled()`: checks if the method has been called, \n* `toHaveBeenCalledWith()`: checks the parameters of the call to the spied method.\n\nExample: `Race` class with `start()` that calls `run()` on every `horse` in a race, and filters the horses that did not started running (`run()` returns a boolean):\n\n\u003C\u003Ccopy-code ts \"\"\"class Race {\n  constructor(private ponies: Array\u003CPony>) {}\n  start(): Array\u003CPony> {\n    return (\n      this.ponies\n        // start every pony\n        // and only keeps the ones that started running\n        .filter((pony) => pony.run(10))\n    );\n  }\n}\"\"\" \"Race.ts\">>\n\nTo test `start()` and see if `run()` is called, we can spy on `run()`:\n\n\u003C\u003Ccopy-code ts \"\"\"describe(\"Race\", () => {\n  let rainbowDash: Pony;\n  let pinkiePie: Pony;\n  let race: Race;\n  beforeEach(() => {\n    rainbowDash = new Pony(\"Rainbow Dash\");\n    // first pony agrees to run\n    spyOn(rainbowDash, \"run\").and.returnValue(true);\n    pinkiePie = new Pony(\"Pinkie Pie\");\n    // second pony refuses to run\n    spyOn(pinkiePie, \"run\").and.returnValue(false);\n    // create a race with these two ponies\n    race = new Race([rainbowDash, pinkiePie]);\n  });\n});\"\"\" \"Race.spec.ts\">>\n\nThen test if the methods are called:\n\n\u003C\u003Ccopy-code ts \"\"\"it(\"should make the ponies run when it starts\", () => {\n  // start the race\n  const runningPonies: Array\u003CPony> = race.start();\n  // should have called `run()` on the ponies\n  expect(pinkiePie.run).toHaveBeenCalled();\n  // with a speed of 10\n  expect(rainbowDash.run).toHaveBeenCalledWith(10);\n  // as one pony refused to start, the result should be an array of one pony\n  expect(runningPonies).toEqual([rainbowDash]);\n});\"\"\" \"Race.spec.ts\">>\n\nUnits tests must be small and readable. Making them fail at first is good to make sure the right thing is being tested.\n\n[[Karma|http://karma-runner.github.io/]] is then used to run the tests in one or several browsers. It can also watch the files to re-run tests on every save.\n\nA possible strategy is to let the TS compiler watch the code and tests, produce the compiled files in a separate output directory and have Karma watch this directory","title":"Testing in Angular: Jasmine and Karma","task":"done","modified":"20230108015309696"},
{"created":"20221227234555426","text":"A lot of setup is required to work with the Angular testbed. There are a wide range of Angular-specific testing libraries who all have in common that they hide away the testbed boilerplate: \n\n* Angular Testing Library\n* ng-mocks\n* ng-unit\n* Plumbline\n* shallow-render\n* Spectacular\n* Spectator\n* ngx-speculoos: https://ngx-speculoos.ninja-squad.com/\n\nngx-speculoos is created by the ninja squad, the creators of [[Become a Ninja with Angular]].\n\nInstead of writing a test looking like this:\n\n\u003C\u003Ccopy-code ts \"\"\"let fixture: ComponentFixture\u003CUserComponent>;\nbeforeEach(() => {\n    TestBed.configureTestingModule({\n        imports: [TestModule]\n    });\n    fixture = TestBed.createComponent(UserComponent);\n    fixture.detectChanges();\n});\nit('should display French cities when selecting the country France', () => {\n    const countrySelect = fixture.nativeElement.querySelector('#country'); //\ncountrySelect is of type any\nexpect(countrySelect.selectedIndex).toBe(0);\n    countrySelect.selectedIndex = 2; // what is at index 2?\n    countrySelect.dispatchEvent(new Event('change')); // why do I need to do that?\n    fixture.detectChanges();\n    const city = fixture.nativeElement.querySelector('#city'); // city is of type any\n    expect(city).toBeTruthy();\n    expect(city.options.length).toBe(3);\n    expect(city.options[0].value).toBe('');\n    expect(city.options[0].label).toBe('');\n    expect(city.options[1].value).toBe('PARIS');\n    expect(city.options[1].label).toBe('Paris');\n    expect(city.options[2].value).toBe('LYON');\n    expect(city.options[2].label).toBe('Lyon');\n});\nit('should hide cities when selecting the empty country option', () => {\n    const countrySelect = fixture.nativeElement.querySelector('#country'); // I did that\n    previously.What about DRY ?\n        countrySelect.selectedIndex = 0;\n    countrySelect.dispatchEvent(new Event('change')); // why do I need to do that?\n    fixture.detectChanges(); // why do I need to do that?\n    expect(fixture.nativeElement.querySelector('#city')).toBeFalsy(); // I did that\n    previously.What about DRY ?\n});\"\"\">>\n\nA cleaner and simpler test with ngx-speculoos:\n\n\u003C\u003Ccopy-code ts \"\"\"class UserComponentTester extends ComponentTester\u003CUserComponent> {\n    constructor() {\n        super(UserComponent);\n    }\n    get country(): TestSelect {\n        return this.select('#country')!; // returns a TestSelect object, not any. Similar\nmethods exist for inputs, buttons, etc.\n}\n    get city(): TestSelect {\n        return this.select('#city')!; // returns a TestSelect object, not any\n    }\n}\nlet tester: UserComponentTester;\nbeforeEach(() => {\n    TestBed.configureTestingModule({\n        imports: [TestModule]\n    });\n    tester = new UserComponentTester();\n    tester.detectChanges();\n});\nit('should display French cities when selecting the country France', () => {\n    tester.country.selectLabel('France'); // no dispatchEvent, no detectChanges needed\n    expect(tester.city.optionValues).toEqual(['', 'PARIS', 'LYON']);\n    expect(tester.city.optionLabels).toEqual(['', 'Paris', 'Lyon']);\n});\nit('should hide cities when selecting empty country option', () => {\n    tester.country.selectIndex(0); // no repetition of the selector, no dispatchEvent,\nno detectChanges needed\n    expect(tester.city).toBeFalsy(); // no repetition of the selector\n});\"\"\">>\n\none step further with the custom matcher for Jasmine by the ninja squad:\n\n\u003C\u003Ccopy-code ts \"\"\"beforeEach(() => jasmine.addMatchers(speculoosMatchers));\nit('should contain a pre-populated form', () => {\n    expect(tester.informationMessage).toContainText('Please check that everything is\ncorrect');\nexpect(tester.country).toHaveSelectedValue('');\n    expect(tester.name).toHaveValue('Doe');\n    expect(tester.newsletter).toBeChecked();\n});\"\"\">>","title":"Testing in Angular: ngx-speculoos","task":"done","modified":"20230203223323497"},
{"created":"20221227234550554","text":"Angular can do unit testing (test the output of small unit of code: component, service, pipe..) and end-to-end testing (emulate user interaction).","title":"Testing in Angular: Overview","task":"done","modified":"20230108012810349"},
{"created":"20221227234553885","text":"Components are not injectable in other components so we have to create it to test it.\n\nExample:  `HorseComponent`, takes a horse as input and emits an event `horseClicked` when clicked.\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n    selector: \"ns-horse\",\n    template: `\n      \u003Cimg\n        [src]=\"'./images/horse-' + horse.color.toLowerCase() + '.png'\"\n        [alt]=\"horse.name\"\n        (click)=\"clickOnHorse()\"\n      />\n    `,\n})\nexport class HorseComponent {\n    @Input() horse!: HorseModel;\n    @Output() readonly horseClicked = new EventEmitter\u003CHorseModel>();\n    clickOnHorse(): void {\n        this.horseClicked.emit(this.horse);\n    }\n}\"\"\">>\n\nIt includes an inline template, an image with a dynamic source linked to the horse color, and a click handler.\n\nTo test, we first create an instance with the method `createComponent` from the class `TestBed`. It returns a `ComponentFixture`, a representation of our component.\n\nThe component must be added in the `declarations` attribute of test module to be created:\n\n\u003C\u003Ccopy-code ts \"\"\"import { TestBed } from '@angular/core/testing';\nimport { HorseComponent } from './horse.component';\ndescribe('HorseComponent', () => {\n    it('should have an image', () => {\n        TestBed.configureTestingModule({\n            declarations: [HorseComponent]\n        });\n        const fixture = TestBed.createComponent(HorseComponent);\n        // given a component instance with a horse input initialized\n        const horseComponent = fixture.componentInstance;\n        horseComponent.horse = { name: 'Rainbow Dash', color: 'BLUE' };\n        // when we trigger the change detection\n        fixture.detectChanges();\n        // then we should have an image with the correct source attribute\n        // depending of the horse color\n        const element = fixture.nativeElement;\n        const imageElement = element.querySelector('img');\n        expect(imageElement.getAttribute('src')).toBe('./images/horse-blue.png');\n        expect(imageElement.getAttribute('alt')).toBe('Rainbow Dash');\n    });\n});\"\"\">>\n\nThe unit test follow the \"Given/When/Then\" pattern:\n\n*\"Given\" set up the context: create the component instance and provide a horse. It emulates an input that would come from a parent component in the real app.\n* \"When\" manually trigger the change detection with `detectChanges()`.\n* \"Then\" contains the expectations. We can get the native element and query the DOM with `querySelector()`. Here we test if the image source is correct.\n\nTo test if the component emits an event:\n\n\u003C\u003Ccopy-code ts \"\"\"it('should emit an event on click', () => {\n    TestBed.configureTestingModule({\n        declarations: [HorseComponent]\n    });\n    const fixture = TestBed.createComponent(HorseComponent);\n    // given a horse\n    const horseComponent = fixture.componentInstance;\n    horseComponent.horse = { name: 'Rainbow Dash', color: 'BLUE' };\n    // we fake the event emitter with a spy\n    spyOn(horseComponent.horseClicked, 'emit');\n    // when we click on the horse\n    const element = fixture.nativeElement;\n    const image = element.querySelector('img');\n    image.dispatchEvent(new Event('click'));\n    // and we trigger the change detection\n    fixture.detectChanges();\n    // then the event emitter should have fired an event\n    expect(horseComponent.horseClicked.emit).toHaveBeenCalled();\n});\"\"\">>\n\nOther example:\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({\n    selector: 'ns-race',\n    template: `\n\u003Cdiv>\n\u003Ch1>{{ race.name }}\u003C/h1>\n\u003Cns-horse *ngFor=\"let currentHorse of race.ponies\" [horse]=\"currentHorse\">\u003C/ns-horse>\n\u003C/div>\n`\n})\nexport class RaceComponent {\n    @Input() race: any;\n}\"\"\">>\n\ntest:\n\n\u003C\u003Ccopy-code ts \"\"\"describe('RaceComponent', () => {\n    let fixture: ComponentFixture\u003CRaceComponent>;\n    beforeEach(() => {\n        TestBed.configureTestingModule({\n            declarations: [RaceComponent, HorseComponent]\n        });\n        fixture = TestBed.createComponent(RaceComponent);\n    });\n    it('should have a name and a list of ponies', () => {\n        // given a component instance with a race input initialized\n        const raceComponent = fixture.componentInstance;\n        raceComponent.race = {\n            name: 'London', ponies: [{\n                name: 'Rainbow Dash', color:\n                    'BLUE'\n            }]\n        };\n        // when we trigger the change detection\n        fixture.detectChanges();\n        // then we should have a title with the race name\n        const element = fixture.nativeElement;\n        expect(element.querySelector('h1').textContent).toBe('London');\n        // and a list of ponies\n        const ponies = fixture.debugElement.queryAll(By.directive(HorseComponent));\n        expect(ponies.length).toBe(1);\n        // we can check if the horse is correctly initialized\n        const rainbowDash = ponies[0].componentInstance.horse;\n        expect(rainbowDash.name).toBe('Rainbow Dash');\n    });\n});\"\"\">>\n\nThis query the directives of type `HorseComponent` and test if the first horse is correctly initialized.\n\nThe children component can be obtained with `children` or queried with `query()` and `queryAll()`. These methods take a predicate as argument that can be either `By.css` or `By.directive`. That’s what we do to get the ponies displayed, as they are instances of `HorseComponent`.\n\nThis is different from a DOM query using `querySelector()`: it will only find the elements handled by Angular, and will return a `ComponentFixture`, not a DOM element(so you’ll have access\nto the `componentInstance` of the result, for example). ","title":"Testing in Angular: Testing components","task":"done","modified":"20230131042248855","start-page":"148"},
{"created":"20221227234554729","text":"Sometimes we need to create one or several parents component (if there are several use cases) that will use the component that we want to test.\n\nIn a test, any component can be modified to be reused in other tests by overriding it's template, using the method `overrideComponent()` from `TestBed`. This needs to be called before `createComponent()` :\n\n\u003C\u003Ccopy-code ts \"\"\"describe('RaceComponent', () => {\n    let fixture: ComponentFixture\u003CRaceComponent>;\n    beforeEach(() => {\n        TestBed.configureTestingModule({\n            declarations: [RaceComponent, HorseComponent]\n        });\n        TestBed.overrideComponent(RaceComponent, {\n            set: {\n                template: '\u003Ch2>{{ race.name\n            }\n        } \u003C /h2>' } });\nfixture = TestBed.createComponent(RaceComponent);\n    });\n    it('should have a name', () => {\n        // given a component instance with a race input initialized\n        const raceComponent = fixture.componentInstance;\n        raceComponent.race = { name: 'London' };\n        // when we trigger the change detection\n        fixture.detectChanges();\n        // then we should have a name\n        const element = fixture.nativeElement;\n        expect(element.querySelector('h2').textContent).toBe('London');\n    });\n});\"\"\">>\n\nThe method takes two arguments:\n\n* component to override\n* metadata to modify (here we set the template)\n\nThat means you can modify \n\nThe template of the component tested can be modified, or one of its children (to simplify component with big template).\n\nOther metadata available:\n\n*providers to replace the dependencies\n*styles to replace the styles used in the template\n*any property that can be set in `@Component`..\n\nReplacing the template is the most common use-case, so this can be done with `overrideTemplate()` since Angular 4:\n\n\u003C\u003Ccopy-code ts \"\"\"describe('RaceComponent', () => {\n    let fixture: ComponentFixture\u003CRaceComponent>;\n    beforeEach(() => {\n        TestBed.configureTestingModule({\n            declarations: [RaceComponent, HorseComponent]\n        });\n        TestBed.overrideTemplate(RaceComponent, '\u003Ch2>{{ race.name }}\u003C/h2>');\n        fixture = TestBed.createComponent(RaceComponent);\n    });\n    it('should have a name', () => {\n        // given a component instance with a race input initialized\n        const raceComponent = fixture.componentInstance;\n        raceComponent.race = { name: 'London' };\n        // when we trigger the change detection\n        fixture.detectChanges();\n        // then we should have a name\n        const element = fixture.nativeElement;\n        expect(element.querySelector('h2').textContent).toBe('London');\n    });\n});\"\"\">>","title":"Testing in Angular: Testing with fake templates, providers, etc","task":"done","modified":"20230203223356191"},
{"created":"20221227234551177","text":"Unit tests are for testing small unit of code in isolation: To avoid the test to be biased by the dependencies, fake objects are used instead for testing purposes. They are very fast and efficient. One of the most popular library for unit testing is [[Jasmine|http://jasmine.github.io/]].","title":"Testing in Angular: Unit test","task":"done","modified":"20230108015147108"},
{"created":"20230131004227520","text":"inspirations: gronda","tags":"","title":"TFE","modified":"20230131004235946"},
{"created":"20221202172924191","text":"\u003C\u003Clist-links-draggable tiddler:\"todo\" field:\"list\" emptyMessage:\"All done!\" >>","creator":"Telumire","tags":"$:/tags/SideBar","title":"todo","modified":"20221227223417528","modifier":"Telumire","list":"[[118. Extracting the ID of Loaded Places]] [[120. Adding a SideDrawer]] [[121. Opening + Closing the SideDrawer]] [[122. Adding Links & Switching Pages]] [[123. Adding the Auth Service]] [[124. Adding an Auth Guard]] [[125. Opening a Modal]] [[126. Closing the Modal & Passing Data]] [[127. Wrap Up]] [[128. Useful Resources & Links]] [[Section 8: Ionic Components Overview]] [[Section 9 : Styling & Theming Ionic Apps]] [[Section 10: Handling User Input]] [[Section 11: Managing State]] [[Section 12: Sending Http Requests]] [[Section 13: Adding Google Maps]] [[Section 14: Using Native Device Features (Camera & Location)]] [[Section 15: Adding Authentication]] [[Section 16: Publishing the Apps]] [[Section 17: Roundup]]"},
{"created":"20221223174528208","text":"Convert mordern JS (ES2015+) into ES5 code that can run in every browser + source map files to debug the ES2015+ from the browser.\n\nBabeljs is the most popupar transpiler for js : https://babeljs.io/\n\nAngular use a typed superset of JavaScript, TypeScript. This language is then compiled to plain JS.","title":"Transpiler","modified":"20221228182200124","task":"done"},
{"created":"20230109013106479","text":"A \"typeahead\" is a user interface feature that allows a user to type in a partial query and see a list of suggested options that match what they have typed so far. This can be helpful for making it easier for users to find what they are looking for, especially if there are a large number of possible options.","title":"typeahead","modified":"20230109013107246"},
{"created":"20221227234416088","text":"An interface can be implemented with a class. \n\nExample: the Horse class should be able to run :\n\n\u003C\u003Ccopy-code ts \"\"\"class Horse implements CanRun {\n    run(meters: number): void {\n        logger.log(`horse runs ${meters}m`);\n    }\n}\"\"\">>\n\nThe compiler require to implement a `run` method in the class.\n\nImplementing badly the the interface with a wrong type will cause a compiler error:\n\n\u003C\u003Ccopy-code ts \"\"\"class IllegalHorse implements CanRun {\n    run(meters: string) {\n        console.log(`horse runs ${meters}m`);\n    }\n}\n    // error TS2420: Class 'IllegalHorse' incorrectly implements interface 'CanRun'.\n    // Types of property 'run' are incompatible.\"\"\">>\n\nImplement several interfaces:\n\n\u003C\u003Ccopy-code ts \"\"\"class HungryHorse implements CanRun, CanEat {\n    run(meters: number): void {\n        logger.log(`horse runs ${meters}m`);\n    }\n    eat(): void {\n        logger.log(`horse eats`);\n    }\n}\"\"\">>\n\nAn interface can extend other interfaces:\n\n\u003C\u003Ccopy-code ts \"\"\"Interface Animal extends CanRun, CanEat { }\nclass Horse implements Animal {\n    // ...\n}\"\"\">>\n\nTS support class properties:\n\n\u003C\u003Ccopy-code ts \"\"\"class SpeedyHorse {\n    speed = 10;\n    run(): void {\n        logger.log(`horse runs at ${this.speed}m/s`);\n    }\n}\"\"\">>\n\nTo hide a property/method: `private`\n\nAdding `private` or `public` to a constructor parameter is a shortcut to create and initialize a private or public member:\n\n\u003C\u003Ccopy-code ts \"\"\"class NamedPony {\n    constructor(public name: string, private speed: number) { }\n    run(): void {\n        logger.log(`horse runs at ${this.speed}m/s`);\n    }\n}\nconst horse = new NamedHorse('Black Pearl', 10);\n    // defines a public property name with 'Black Pearl'\n    // and a private one speed with 10\"\"\">>\n\nWhich is the same as\n\n\u003C\u003Ccopy-code ts \"\"\"class NamedHorseWithoutShortcut {\n    public name: string;\n    private speed: number;\n    constructor(name: string, speed: number) {\n        this.name = name;\n        this.speed = speed;\n    }\n    run(): void {\n        logger.log(`horse runs at ${this.speed}m/s`);\n    }\n}\"\"\">>","title":"TypeScript: Classes","task":"done","modified":"20221229183857611"},
{"created":"20221227234423140","text":"A Decorator is a declaration that can be attached to a class, method, accessor, property or parameter, using the form `@expression`.\n\n`expression` must evaluate to a function that will be called at runtime with information about the decorated declaration.\n\nThey can modify, parameters, result, call other methods and add metadata for a framework (which is what Angular decorators do).\n\nIn angular, the medata inform the framework if a class is a component, a dependency is optionnal, a property is custom, etc.\n\nDecorators are optionnals, metadata can be added manually - but it's not recommended.\n\nExample: Decorator that log something when a method is called.\n\n\u003C\u003Ccopy-code ts \"\"\"// Definition\n\nconst Log = () => {\n    return (target: any, name: string, descriptor: any) => {\n        logger.log(`call to ${name}`);\n        return descriptor;\n    };\n};\n\n/*Note:\n\nThe arguments depends on what the decorator will be applied\n\nThis method decorator takes 3 parameters:\n\n- target: method targeted\n- name: name of the target\n- descriptor: descriptor of the target (enumerable, writable, ...)\n\nHere we simply log the name, but the decorator could interfere with the parameters, result, calling other function, etc.\n\n*/\n\n// Use\n\nclass RaceService {\n    @Log()\n    getRaces() {\n        // call API\n    }\n    @Log()\n    getRace(raceId: number) {\n        // call API\n    }\n}\n\n//Then when getRace() or getRaces() are called, there is a log\n\nraceService.getRaces();\n// logs: call to getRaces\nraceService.getRace(1);\n// logs: call to getRace\n\n\"\"\">>\n\n;Angular decorator\n\n\u003C\u003Ccopy-code ts \"\"\"@Component({ selector: 'ns-home', template: 'home' })\nclass HomeComponent {\n    constructor(@Optional() hello: HelloService) {\n        logger.log(hello);\n    }\n}\"\"\">>\n\n`@Component` is a built-in Angular decorator that add metadata to a class and mark it as an Angular component.\n\nIt takes an object as an argument, in this case: `selector` and `template`. \n`selector` specifies the HTML element that the component will be rendered as, and `template` specifies the template used to render the component.\n\n`@Optional` is another built-in decorator that indicates that the decorated dependency is optional: if the dependency is not found, the injector will provide `null`.\n\nThe `hello` argument of the constructor is of type `HelloService`, this service is injected into the component. The `logger.log` method log the hello service to the console.\n\nDecorators and class define an Angular component, which can be used to display a template and interact with the component's logic in an Angular application.","title":"TypeScript: Decorators","task":"done","modified":"20221231020634865"},
{"created":"20221227234411915","text":"example: a race can be `ready`, `started` or `done`.\n\n\u003C\u003Ccopy-code ts \"\"\"enum RaceStatus {\nReady,\nStarted,\nDone\n}\n\nconst race = new Race();\nrace.status = RaceStatus.Ready;\n\"\"\">>\n\n`enum` is a numeric value starting at 0 or a string. To set `enum`:\n\n\u003C\u003Ccopy-code ts \"\"\"enum Medal {\nGold = 1,\nSilver,\nBronze\n}\"\"\">>\n\n\u003C\u003Ccopy-code ts \"\"\"enum Position {\nFirst = 'First',\nSecond = 'Second',\nOther = 'Other'\n}\"\"\">>\n\nunion types are simpler and cover the same use-cases:\n\n\u003C\u003Ccopy-code ts \"\"\"let color: 'blue' | 'red' | 'green';\n// we can only give one of these values to `color`\ncolor = 'blue';\"\"\">>\n\ncustom types:\n\n\u003C\u003Ccopy-code ts \"\"\"type Color = 'blue' | 'red' | 'green';\nconst ponyColor: Color = 'blue';\"\"\">>","title":"TypeScript: Enums","task":"done","modified":"20221229141027005"},
{"created":"20221227234415491","text":"[[Interface|TypeScript: Interfaces]] definition for a parameter that must have a specific function instead of a\nproperty:\n\n\u003C\u003Ccopy-code ts \"\"\"interface CanRun {\nrun(meters: number): void;\n}\n\nfunction startRunning(horse: CanRun): void {\nhorse.run(10);\n}\nconst horseOne = {\nrun: (meters: number) => logger.log(`horse runs ${meters}m`)\n};\nstartRunning(horseOne);\"\"\">>","title":"TypeScript: Functions as property","task":"done","modified":"20221229152024137"},
{"created":"20221227234413860","text":"\u003C\u003Ccopy-code js \"\"\"function addPointsToScore(player, points) {\nplayer.score += points;\n}\"\"\">>\n\nThis will be applied to any object with a `score` property. In typescript, we define an interface (\"shape\" of the object):\n\n\u003C\u003Ccopy-code ts \"\"\"function addPointsToScore(player: { score: number }, points: number): void {\n//the parameter must have a property 'score' of type 'number'\nplayer.score += points;\n}\"\"\">>\n\nNammed interfaces:\n\n\u003C\u003Ccopy-code ts \"\"\"interface HasScore {\nscore: number;\n}\n\nfunction addPointsToScore(player: HasScore, points: number): void {\nplayer.score += points;\n}\"\"\">>\n\nInterfaces are useful to represent entities. Good practice: append the suffix `Model`. Example to create a new entity:\n\n\u003C\u003Ccopy-code ts \"\"\"interface HorseModel {\nname: string;\nspeed: number;\n}\nconst horse: HorseModel = { name: 'Speedy Iron', speed: 56 };\n\"\"\">>","title":"TypeScript: Interfaces","task":"done","modified":"20221229150151728"},
{"created":"20221227234427124","text":"`keyof` can be used to get a type representing the union of the names of the properties of another type.\n\nExample:\n\n\u003C\u003Ccopy-code ts \"\"\"interface HorseModel {\n    name: string;\n    color: string;\n    speed: number;\n}\n\"\"\">>\n\nWe want a function that returns the value of a property. Naive approach:\n\n\u003C\u003Ccopy-code ts \"\"\"function getProperty(obj: any, key: string): any {\n    return obj[key];\n}\nconst Horse: HorseModel = {\n    name: 'Pearl',\n    color: 'black',\n    speed: 45\n};\nconst nameValue = getProperty(Horse, 'name');\n\"\"\">>\n\nIssues:\n\n* any value can be given to the `key` parameter, even ones that does not exist\n* we lose type information since the return type is `any`\n\n`keyof` allows to list all the keys of a type:\n\n\u003C\u003Ccopy-code ts \"\"\"type HorseModelKey = keyof HorseModel;\n// this is the same as `'name'|'speed'|'color'`\nlet property: HorseModelKey = 'name'; // works\nproperty = 'speed'; // works\n// key = 'other' would not compile\"\"\">>\n\nThis type can be used to make `getProperty` safer, by declaring:\n\n* the first parameter is of type `T`\n* the second parameter is of type `K`, a key of `T`\n\n\u003C\u003Ccopy-code ts \"\"\"function getProperty\u003CT, K extends keyof T>(obj: T, key: K): T[K] {\n    return obj[key];\n}\nconst Horse: HorseModel = {\n    name: 'Pearl',\n    color: 'black',\n    speed: 45\n};\n// TypeScript infers that `nameValue` is of type `string`!\nconst nameValue = getProperty(Horse, 'name');\"\"\">>\n\n*`key` can now only be an existing property of `HorseModel`\n* the return value will be inferred by TypeScript ","title":"TypeScript: keyof","task":"done","modified":"20221231024415070"},
{"created":"20221227234428329","text":"If we want to create a type with the properties of the interface `HorseModel`, but make every properties optional, this can be done manually:\n\n\u003C\u003Ccopy-code ts \"\"\"interface PartialHorseModel {\n    name?: string;\n    color?: string;\n    speed?: number;\n}\nconst Horse: PartialHorseModel = {\n    name: 'Black Pearl'\n};\"\"\">>\n\nOr with a mapped type:\n\n\u003C\u003Ccopy-code ts \"\"\"type Partial\u003CT> = {\n    [P in keyof T]?: T[P];\n};\n\nconst Horse: Partial\u003CHorseModel> = {\n    name: 'Black Pearl'\n};\"\"\">>\n\nThe `Partial` type applies the `?` modifier to every property of a type. Partial is now part of TypeScript, among other mapped types, so it not necessary to define it.","title":"TypeScript: Mapped type","task":"done","modified":"20221231025226668"},
{"created":"20221227234414816","text":"In JS, ommited parameters become `undefined`, in TS, this cause a compilation error.\n\nAdd `?` for optionnal parameters in a function / property in an [[interface|TypeScript: Interfaces]].\n\n\u003C\u003Ccopy-code ts \"\"\"function addPointsToScore(player: HasScore, points?: number): void {\npoints = points || 0;\nplayer.score += points;\n}\"\"\">>\n\nHere, the `points` parameter is optional.","title":"TypeScript: Optional arguments","task":"done","modified":"20221229151830535"},
{"created":"20221227234410169","text":"We want a RaceList component, it need to access the races list that the service RaceService can give:\n\n\u003C\u003Ccopy-code js \"\"\"class RaceList {\n    constructor() {\n        this.raceService = new RaceService();\n        this.raceService\n            .list() //list() returns a promise\n            .then(races => (this.races = races)); //store the races returned into a member of `RaceList`\n    }\n}\"\"\">>\n\nFlaws:\n\n*''Testability'': Hard to replace raceService by a mock service for testing, as `RaceList` creates an instance of `RaceService` within its constructor.\n* No error handling in place to handle potential failures of the list() method.\n* Lack of separation of concerns: The RaceList component is both retrieving the list of races and storing them in a member variable. It would be better to use a dedicated service for storing the list of races and updating it whenever the list changes.\n* Lack of optimization: retrieves the list of races every time it is constructed, which may be inefficient if the list of races does not change often. It might be more efficient to retrieve the list of races only once, and then update it as needed when the list changes.\n\n;Dependency Injection (DI)\n\nInstead of manually instancing `RaceService`, we ask for an instance to Angular, and the framework create and inject the dependency:\n\n \u003C\u003Ccopy-code js \"\"\"class RaceList {\n    constructor(raceService) {\n        this.raceService = raceService;\n        this.raceService.list().then(races => (this.races = races));\n    }\n}\"\"\">>\n\nNow it's possible to easily pass a fake service to the constructor to test this class:\n\n\n\u003C\u003Ccopy-code js \"\"\"// in a test\nconst fakeService = {\n    list: () => {\n        // returns a fake promise\n    }\n};\nconst raceList = new RaceList(fakeService);\n    // now we are sure that the race list\n    // is the one we want for the test\"\"\">>\n\nThe framework deduce what to inject in the constructor with metadata, and this is done with type annotations :\n\n\n\u003C\u003Ccopy-code ts \"\"\"class RaceList {\n    raceService: RaceService;\n    races: Array\u003Cstring> = [];\n    constructor(raceService: RaceService) {\n        // the interesting part is `: RaceService`\n        this.raceService = raceService;\n        this.raceService.list().then(races => (this.races = races));\n    }\n}\"\"\">>\n\n;Typescript\n\nSuperset of JavaScript, include the latest JS features + [[types|TypeScript: Types]] and [[decorators|TypeScript: Decorators]]. File extension = `.ts`, need to be compiled to js at build time with the TypeScript compiler.\n\n\u003C\u003Ccopy-code cmd \"\"\"npm install -g typescript\ntsc test.ts\"\"\">>","title":"TypeScript: Overview","task":"done","modified":"20221229111837651"},
{"created":"20221231025247798","text":"`Pick` is used to build a type with only some of the original properties:\n\n\u003C\u003Ccopy-code ts \"\"\"const horse: Pick\u003CHorseModel, 'name' | 'color'> = {\n    name: 'Black Pearl',\n    color: 'black'\n};\n    // `horse` can't have a `speed` property\"\"\">>","title":"TypeScript: Pick","task":"done","modified":"20221231025407307","tags":""},
{"created":"20221227234425289","text":"property of a class or interface marked with `readonly` will prevent the compiler from compiling any code trying to assign a new value to it:\n\n\u003C\u003Ccopy-code ts \"\"\"interface Config {\n    readonly timeout: number;\n}\nconst config: Config = { timeout: 2000 };\n    // `config.timeout` can't be reassigned\"\"\">>","title":"TypeScript: readonly","task":"done","modified":"20221231025104698"},
{"created":"20221231025109617","text":"`Readonly` makes all the properties of an object `readonly`:\n\n\u003C\u003Ccopy-code ts \"\"\"const horse: Readonly\u003CHorseModel> = {\n    name: 'Black Pearl',\n    color: 'blue',\n    speed: 45\n};\n    // all properties are `readonly`\"\"\">>","title":"TypeScript: Readonly","task":"done","modified":"20221231025214621","tags":""},
{"created":"20221231025416178","text":"`Pick` is used to build a type with the same properties as another type, but with a different type:\n\n\u003C\u003Ccopy-code ts \"\"\"interface FormValue {\n    value: string;\n    valid: boolean;\n}\nconst horse: Record\u003Ckeyof HorseModel, FormValue> = {\n    name: { value: 'Black Pearl', valid: true },\n    color: { value: 'black', valid: true },\n    speed: { value: '45', valid: true }\n};\"\"\">>\n\nMore types here: https://www.typescriptlang.org/docs/handbook/utility-types.html","title":"TypeScript: Record","task":"done","modified":"20221231025601031","tags":""},
{"created":"20221227234412600","text":"Set the return type of a function:\n\n\u003C\u003Ccopy-code ts \"\"\"function startRace(race: Race): Race {\nrace.status = RaceStatus.Started;\nreturn race;\n}\"\"\">>\n\nIf the function returns nothing, use `void`\n\n\u003C\u003Ccopy-code ts \"\"\"function startRace(race: Race): void {\nrace.status = RaceStatus.Started;\n}\"\"\">>","title":"TypeScript: Return types","task":"done","modified":"20221229145603534"},
{"created":"20221227234411127","text":";Syntax\n\n\u003C\u003Ccopy-code ts \"\"\"let variable: type;\"\"\">>\n\nExample:\n\n\u003C\u003Ccopy-code js \"\"\"const horseNumber: number = 0;\nconst horseName: string = 'Black Pearl';\"\"\">>\n\nIn this example, the types are optional because the TS compiler is able to infer the type from the values.\nThe type can also be custom:\n\n\u003C\u003Ccopy-code ts \"\"\"const horse: Horse = new Horse();\"\"\">>\n\n;generics (`\u003C>`)\n\nArray that only can contain horses:\n\n\u003C\u003Ccopy-code ts \"\"\"const horses: Array\u003CHorse> = [new Horse()];\"\"\">>\n\nType information help the compiler catch mistakes:\n\n\u003C\u003Ccopy-code ts \"\"\"horses.push('hello'); // error TS2345\n// Argument of type 'string' is not assignable to parameter of type 'Horse'.\"\"\">>\n\nFor variable with multiple types/unknown: `any`\n\n\u003C\u003Ccopy-code ts \"\"\"let changing: any = 2;\nchanging = true; // ok\"\"\">>\n\nor use a union type:\n\n\u003C\u003Ccopy-code js \"\"\"let changing: number | boolean = 2; //type can be number OR boolean\nchanging = true; // ok\"\"\">>","title":"TypeScript: Types","task":"done","modified":"20221229140524461"},
{"created":"20221227234429081","text":"Let's say that our application has authenticated users and anonymous\nusers, and sometimes a different action is made depending on that:\n\n\u003C\u003Ccopy-code ts \"\"\"interface User {\n    type: 'authenticated' | 'anonymous';\n    name: string;\n    // other fields\n}\ninterface AuthenticatedUser extends User {\n    type: 'authenticated';\n    loggedSince: number;\n}\ninterface AnonymousUser extends User {\n    type: 'anonymous';\n    visitingSince: number;\n}\nfunction onWebsiteSince(user: User): number {\n    if (user.type === 'authenticated') {\n        // this is a LoggedUser\n        return (user as AuthenticatedUser).loggedSince;\n    } else if (user.type === 'anonymous') {\n        // this is an AnonymousUser\n        return (user as AnonymousUser).visitingSince;\n    }\n    // TS doesn't know every possibility was covered\n    // so we have to return something here\n    return 0;\n}\"\"\">>\n\nIssue: `as ...` => explicit casts\n\nInstead: use type guard (narrow the type of an object within a certain block of code that help the TS compiler infere the type):\n\n\u003C\u003Ccopy-code ts \"\"\"//two type guards: isAuthenticated and isAnonymous\n\nfunction isAuthenticated(user: User): user is AuthenticatedUser {\n    return user.type === 'authenticated';\n}\nfunction isAnonymous(user: User): user is AnonymousUser {\n    return user.type === 'anonymous';\n}\nfunction onWebsiteSince(user: User): number {\n    if (isAuthenticated(user)) {\n        // this is inferred as a LoggedUser\n        return user.loggedSince;\n    } else if (isAnonymous(user)) {\n        // this is inferred as an AnonymousUser\n        return user.visitingSince;\n    }\n    // TS still doesn't know every possibility was covered\n    // so we have to return something here\n    return 0;\n}\"\"\">>\n\nTo return a default value, use a union type:\n\n\u003C\u003Ccopy-code ts \"\"\"interface BaseUser {\n    name: string;\n    // other fields\n}\ninterface AuthenticatedUser extends BaseUser {\n    type: 'authenticated';\n    loggedSince: number;\n}\ninterface AnonymousUser extends BaseUser {\n    type: 'anonymous';\n    visitingSince: number;\n}\ntype User = AuthenticatedUser | AnonymousUser;\nfunction onWebsiteSince(user: User): number {\n    if (user.type === 'authenticated') {\n        // this is inferred as a LoggedUser\n        return user.loggedSince;\n    } else {\n        // this is automatically narrowed as an AnonymousUser\n        return user.visitingSince;\n    }\n    // no need to return a default value as every possibility are covered\n}\n\"\"\">>\n\nIf the model grow in the future, more cases will need to be handled. We can use a `switch` statement, it will break if one of the cases is not handled, automatically adding compilation errors in every place where handling is needed:\n\n\u003C\u003Ccopy-code ts \"\"\"interface AdminUser extends BaseUser {\n    type: 'admin';\n    adminSince: number;\n}\ntype User = AuthenticatedUser | AnonymousUser | AdminUser;\nfunction onWebsiteSince(user: User): number {\n    switch (user.type) {\n        case 'authenticated':\n            return user.loggedSince;\n        case 'anonymous':\n            return user.visitingSince;\n        case 'admin':\n            // without this case, TS would not compile the code\n            // as all possible paths are not returning a value\n            return user.adminSince;\n    }\n}\"\"\">>","title":"TypeScript: Union types and type guards","task":"done","modified":"20221231030853681"},
{"created":"20221227234422500","text":"There are repos that provide interfaces for the types and functions exposed by popular JS libraries.\nThese files use the extension `.d.ts` and contain a list of the library's public function. \n\nSee https://github.com/DefinitelyTyped/DefinitelyTyped\n\nIt's also possible to download the proper file from the repo with NPM:\n\n\u003C\u003Ccopy-code cmd \"\"\"npm install --save-dev @types/angular\"\"\">>\n\nOr download manually.\n\nInclude the file at the top of the code:\n\n\u003C\u003Ccopy-code ts \"\"\"/// \u003Creference path=\"angular.d.ts\" />\nangular.module(10, []); // the module name should be a string\n// so when I compile, I get:\n// Argument of type 'number' is not assignable to parameter of type 'string'.\"\"\">>\n\n`/// \u003Creference path=\"angular.d.ts\" />` is a special comment that tell the compiler to look for the interface `angular.d.ts` \n\n","title":"TypeScript: Working with libraries","task":"done","modified":"20221229185046026","tags":"AngularJS"},
{"created":"20221226235927850","text":"Source: https://leanpub.com/understandinges6","tags":"books","title":"Understanding ECMAScript 6","modified":"20221227182819228"},
{"created":"20221121023053833","creator":"Telumire","tags":"$:/Feed","text":"The name is changed from Announcement to Feed to be more fitting, and the post to feed editor in the sidebar now support keyboard shortcuts thanks to the editor macro.","modified":"20221121023053833","modifier":"Telumire","title":"Updated $:/Feed"},
{"created":"20221120170043461","creator":"Telumire","text":"Tiddlers used as tags with a icon field now only display their custom icon and do not display the default tag icon.\n\nThis section was added: \n\n\n```css\n/*Remove the default icon if there is a custom icon for this tag*/\n\n.tc-tag-list-item:is(\u003C$list filter=\"[has[icon]]\">[data-tag-title=\"{{!!title}}\"],\u003C/$list>)>.tc-tag-label:{{!!side}}{\nall:unset;\n}\n```","tags":"$:/Feed","modified":"20221121022256799","modifier":"Telumire","title":"Updated $:/Libro/ExternalLinksIcon/Style"},
{"created":"20221203030756796","creator":"Telumire","tags":"$:/Feed","text":"* [[$:/Editor/Macro]]\n* [[$:/TiddlyTweaks/Shortcut/Comment]]","modified":"20221203030756796","modifier":"Telumire","title":"Updated editor macro and comment shortcut to be able to set the comment shortcut for css and js with the editor macro"},
{"created":"20230109041247527","text":"https://openfoodfacts.github.io/api-documentation/","tags":"","title":"Using OpenFoodFact in an Angular app","modified":"20230109041551819"},
{"created":"20230107024049180","text":">.warning This pipe can help with internationalization. Since Angular 5.0,  they dont use the Intl API anymore and use a custom internationalization logic. The examples use the default locale of Angular, en-US.","modified":"20230107024138724","title":"warning:internationalization pipe","tags":""},
{"created":"20221227234432333","text":"Declaring a custom element is done using `customElements.define`:\n\n\u003C\u003Ccopy-code ts \"\"\"class HorseComponent extends HTMLElement {\n    constructor() {\n        super();\n        console.log(\"I'm a horse!\");\n    }\n}\ncustomElements.define('ns-horse', HorseComponent);\"\"\">>\n\nTo use the component:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Cns-horse>\u003C/ns-horse>\"\"\">>\n\nThe dash is required for custom elements.\n\nA custom element can have properties, methods, lifecycle callbacks,\nthe ability  to execute code when the component is inserted, removed, or modified. It can also have it's own template.\n\n\u003C\u003Ccopy-code ts \"\"\"class HorseComponent extends HTMLElement {\n    constructor() {\n        super();\n        console.log(\"I'm a horse!\");\n    }\n    /**\n    * This is called when the component is inserted\n    */\n    connectedCallback() {\n        this.innerHTML = '\u003Ch1>A good horse\u003C/h1>';\n    }\n}\"\"\">>\n\nThe DOM will contain this:\n\n`\u003Cns-horse>\u003Ch1>A good horse\u003C/h1>\u003C/ns-horse>`\n\nThe CSS and JavaScript logic of your app can have undesired effects on the component, so usually the template is hidden and encapsulated in a [[Shadow DOM|Web Components: Shadow DOM]], and we will only see `\u003Cns-horse>\u003C/ns-horse>` in the DOM, despite the browser displaying the correct content.","title":"Web Components: Custom elements","task":"done","modified":"20221231130256820"},
{"created":"20221231130812590","text":"The [[ES Modules specification|https://html.spec.whatwg.org/multipage/webappapis.html#integration-with-the-javascript-module-system]] defines the inclusion and reuse of JS documents in a standards based, modular, performant way.\n\nSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules","tags":"","title":"Web Components: ES Modules","modified":"20221231131016571"},
{"created":"20221227234434515","text":"Custom elements, Shadow DOM, Template and ES Modules make a Web Component. Since there are relatively new, there are polyfill to make sure it will work accross browsers: https://github.com/webcomponents/polyfills\n\nTo use a pre-made component:\n\n\u003C\u003Ccopy-code html \"\"\"\u003C!-- Polyfill Web Components support for older browsers -->\n\u003Cscript src=\"webcomponents.js\">\u003C/script>\n\u003C!-- Import element -->\n\u003Cscript src=\"google-map.js\">\u003C/script>\n\n\u003C!-- Use element -->\n\u003Cbody>\n  \u003Cgoogle-map latitude=\"45.780\" longitude=\"4.842\">\u003C/google-map>\n\u003C/body>\"\"\">>\n\nThere a lot of components: https://www.webcomponents.org/\n\nAngular is designed to use Web Components with Angular components. It's even possible to export a custom Angular components as a Web Components, with [[Angular Elements|https://angular.io/guide/elements]].","title":"Web Components: Frameworks","task":"done","modified":"20221231131659122"},
{"created":"20221227234430813","text":"Web Components are APIs that allow developers to create reusable, modular components for web applications.\n\nIt consists of three main technologies:\n\n* [[Custom elements|Web Components: Custom elements]]: APIs to define custom elements\n* [[Shadow DOM|Web Components: Shadow DOM]]: APIs for attaching an encapsulated \"shadow\" DOM tree to an element — which is rendered separately from the main document DOM — and controlling associated functionality. In this way, you can keep an element's features private, so they can be scripted and styled without the fear of collision with other parts of the document.\n* [[HTML templates|Web Components: Template]]: The `\u003Ctemplate>` and `\u003Cslot>` elements enable you to write markup templates that are not displayed in the rendered page. These can then be reused multiple times as the basis of a custom element's structure.\n\n\n\nhttps://developer.mozilla.org/en-US/docs/Web/Web_Components","title":"Web Components: Overview","task":"done","modified":"20221231130255853"},
{"created":"20221227234433087","text":"The Shadow DOM is a way to encapsulate the DOM of a component, isolating it from the other stylesheets and javascript logic of the app.\n\n\u003C\u003Ccopy-code ts \"\"\"class HorseComponent extends HTMLElement {\n    constructor() {\n        super();\n        const shadow = this.attachShadow({ mode: 'open' });\n        const title = document.createElement('h1');\n        title.textContent = 'A good horse';\n        shadow.appendChild(title);\n    }\n}\"\"\">>\n\nDOM produced:\n\n\u003C\u003Ccopy-code DOM \"\"\"\u003Cns-horse>\n    #shadow-root (open)\n    \u003Ch1>A good horse\u003C/h1>\n\u003C/ns-horse>\"\"\">>\n\nThe h1 produced wont be affected by outside styles. Instead of using a string as a template for a web component, the best practice is to use [[the template element|Web Components: Template]].","title":"Web Components: Shadow DOM","task":"done","modified":"20221231130258011"},
{"created":"20221227234433705","text":"The content of `\u003Ctemplate>` is hidden, scripts don't run, images don't load, etc. and it can't be queried with usual methods like getElementById().\n\nA template must be cloned to be used:\n\n\u003C\u003Ccopy-code html \"\"\"\u003Ctemplate id=\"horse-template\">\n    \u003Cstyle>\n        h1 {\n            color: green;\n        }\n    \u003C/style>\n    \u003Ch1>A good horse\u003C/h1>\n\u003C/template>\"\"\">>\n\n\u003C\u003Ccopy-code ts \"\"\"class HorseComponent extends HTMLElement {\n    constructor() {\n        super();\n        const template = document.querySelector('#horse-template');\n        const clonedTemplate = document.importNode(template.content, true);\n        const shadow = this.attachShadow({ mode: 'open' });\n        shadow.appendChild(clonedTemplate);\n    }\n}\"\"\">>","title":"Web Components: Template","task":"done","modified":"20221231130258742"},
{"created":"20230131035805884","text":"https://curated-music.tiddlyhost.com/","tags":"","title":"Working with music","modified":"20230131035814552"},
{"created":"20221229133744853","text":"https://www.oreilly.com/library/view/maintainable-javascript/9781449328092/","tags":"books","title":"Writing Maintainable JavaScript","modified":"20221229140206930"},
{"created":"20221121130653242","creator":"Telumire","text":"\u003C?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\u003Crss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\">\n\u003Cchannel>\n  \u003Catom:link href=\"https://Telumire.github.io/Libro/files/xml.rss\" rel=\"self\" type=\"application/rss+xml\" />\n  \u003Ctitle>Libro\u003C/title>\n  \u003Clink>https://libro.tiddlyhost.com/\u003C/link>\n  \u003Cdescription>A custom tiddlywiki edition\u003C/description>\n  \u003Clanguage>en-GB\u003C/language>\n  \u003ClastBuildDate>Sat, 03 Dec 2022 03:05:35 GMT\u003C/lastBuildDate>\n\t\u003Citem>\n      \u003Ctitle>Removed styling for tags and enabled icons for internal links\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>\u003Ca class=\"tc-tiddlylink tc-tiddlylink-resolves\" href=\"https://libro.tiddlyhost.com/#%24%3A%2FLibro%2FExternalLinksIcon%2FStyle\">$:/Libro/ExternalLinksIcon/Style\u003C/a>\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Sat, 03 Dec 2022 03:05:35 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Removed%20styling%20for%20tags%20and%20enabled%20icons%20for%20internal%20links\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Removed%20styling%20for%20tags%20and%20enabled%20icons%20for%20internal%20links\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Added loading screen\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>See \u003Ca class=\"tc-tiddlylink tc-tiddlylink-resolves\" href=\"https://libro.tiddlyhost.com/#%24%3A%2FSplashScreen\">$:/SplashScreen\u003C/a>\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Fri, 02 Dec 2022 14:55:43 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Added%20loading%20screen\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Added%20loading%20screen\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Added a simple way to support en/fr translation on a tiddler basis\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>Create a field \u003Ccode>lang\u003C/code> and set it to the language of the tiddler, for now \u003Ccode>en\u003C/code> OR \u003Ccode>fr\u003C/code>\nThen set a field \u003Ccode>fr\u003C/code> OR \u003Ccode>en\u003C/code> containing the name of the translated tiddler.\u003C/p>\u003Cp>\u003Ca class=\"tc-tiddlylink tc-tiddlylink-resolves\" href=\"https://libro.tiddlyhost.com/#%24%3A%2FLibro%2FTranslation\">$:/Libro/Translation\u003C/a>\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Wed, 23 Nov 2022 22:56:36 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Added%20a%20simple%20way%20to%20support%20en%2Ffr%20translation%20on%20a%20tiddler%20basis\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Added%20a%20simple%20way%20to%20support%20en%2Ffr%20translation%20on%20a%20tiddler%20basis\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Added GitHub comments plugin\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>Link to the plugin: \u003Ca class=\"tc-tiddlylink-external\" href=\"https://github.com/breakzplatform/tw5-github-comments\" rel=\"noopener noreferrer\" target=\"_blank\">https://github.com/breakzplatform/tw5-github-comments\u003C/a>\u003C/p>\u003Cp>It's great, very easy to setup.\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Mon, 21 Nov 2022 20:26:58 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Added%20GitHub%20comments%20plugin\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Added%20GitHub%20comments%20plugin\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Updated $:/Feed\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>The name is changed from Announcement to Feed to be more fitting, and the post to feed editor in the sidebar now support keyboard shortcuts thanks to the editor macro.\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Mon, 21 Nov 2022 02:30:53 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Updated%20%24%3A%2FFeed\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Updated%20%24%3A%2FFeed\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Add a dropdown button to group the various file upload tools\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>See \u003Ca class=\"tc-tiddlylink tc-tiddlylink-resolves\" href=\"https://libro.tiddlyhost.com/#%24%3A%2Flibro%2FFileUpload%2FDropDown%2FButton\">$:/libro/FileUpload/DropDown/Button\u003C/a>.\u003C/p>\u003Cp>This is to avoid clutter in the toolbar.\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Mon, 21 Nov 2022 02:25:39 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Add%20a%20dropdown%20button%20to%20group%20the%20various%20file%20upload%20tools\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Add%20a%20dropdown%20button%20to%20group%20the%20various%20file%20upload%20tools\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Libro now support RSS feed generation\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>See \u003Ca class=\"tc-tiddlylink tc-tiddlylink-resolves\" href=\"https://libro.tiddlyhost.com/#%24%3A%2FLibro%2FSettings%2FFeed\">$:/Libro/Settings/Feed\u003C/a>\u003C/p>\u003Cp>This is made possible thanks to the file upload plugin.\u003C/p>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Mon, 21 Nov 2022 02:22:56 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Libro%20now%20support%20RSS%20feed%20generation\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Libro%20now%20support%20RSS%20feed%20generation\u003C/guid>\n   \u003C/item>\u003Citem>\n      \u003Ctitle>Updated $:/Libro/ExternalLinksIcon/Style\u003C/title>\n      \u003Cdescription>\u003C/description>\n      \u003Ccategory>$:/Feed\u003C/category>\n      \u003Ccontent:encoded>\u003C![CDATA[\u003Cp>Tiddlers used as tags with a icon field now only display their custom icon and do not display the default tag icon.\u003C/p>\u003Cp>This section was added: \u003C/p>\u003Cpre class=\"hljs\">\u003Ccode class=\"css hljs\">\u003Cspan class=\"hljs-comment\">/*Remove the default icon if there is a custom icon for this tag*/\u003C/span>\n\n\u003Cspan class=\"hljs-selector-class\">.tc-tag-list-item\u003C/span>\u003Cspan class=\"hljs-selector-pseudo\">:is\u003C/span>(&lt;$list \u003Cspan class=\"hljs-attribute\">filter\u003C/span>=&quot;\u003Cspan class=\"hljs-selector-attr\">[has[icon]\u003C/span>]&quot;&gt;\u003Cspan class=\"hljs-selector-attr\">[data-tag-title=\u003Cspan class=\"hljs-string\">&quot;{{!!title}}&quot;\u003C/span>]\u003C/span>,&lt;/$list&gt;)&gt;\u003Cspan class=\"hljs-selector-class\">.tc-tag-label\u003C/span>:{{!!side}}{\n\u003Cspan class=\"hljs-attribute\">all\u003C/span>:unset;\n}\u003C/code>\u003C/pre>]]>\u003C/content:encoded>\n\t  \u003CpubDate>Mon, 21 Nov 2022 02:22:56 GMT\u003C/pubDate>\n      \u003Clink>https://libro.tiddlyhost.com/#Updated%20%24%3A%2FLibro%2FExternalLinksIcon%2FStyle\u003C/link>\n      \u003Cguid isPermaLink='true'>https://libro.tiddlyhost.com/#Updated%20%24%3A%2FLibro%2FExternalLinksIcon%2FStyle\u003C/guid>\n   \u003C/item>\n\u003C/channel>\n\u003C/rss>","title":"xml.rss","modified":"20221215212816223","modifier":"Telumire","type":"text/plain","tags":""},
{"created":"20221227234636668","text":"","title":"Zones: Angular and zones","task":"todo","modified":"20221227234636905"},
{"created":"20221227234635815","text":"","title":"Zones: AngularJS 1.x and the digest cycle","task":"todo","modified":"20221227234636131"}
]</script><div id="storeArea" style="display:none;"></div>
<!--~~ Raw markup for the bottom of the body section ~~-->

<!--~~ Load external JS ~~-->
<script src="https://www.telumire.be/Libro/files/myplugins-5.2.4.js" onerror="alert('Error: Cannot load https://www.telumire.be/Libro/files/myplugins-5.2.4.js');"></script>
<script src="https://www.telumire.be/Libro/files/tiddlywikicore-5.2.4.js" onerror="alert('Error: Cannot load https://www.telumire.be/Libro/files/tiddlywikicore-5.2.4.js');"></script>
</body>
</html>